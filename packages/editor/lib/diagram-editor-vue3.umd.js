(function(cn,i){typeof exports=="object"&&typeof module<"u"?i(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],i):(cn=typeof globalThis<"u"?globalThis:cn||self,i(cn["meta2d-editor-lib"]={},cn.Vue))})(this,function(cn,i){"use strict";var cme=Object.defineProperty;var ume=(cn,i,eo)=>i in cn?cme(cn,i,{enumerable:!0,configurable:!0,writable:!0,value:eo}):cn[i]=eo;var te=(cn,i,eo)=>ume(cn,typeof i!="symbol"?i+"":i,eo);function eo(t){const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const n in t)if(n!=="default"){const a=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,a.get?a:{enumerable:!0,get:()=>t[n]})}}return e.default=t,Object.freeze(e)}const VN=eo(i);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Qd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=Array(e);n<e;n++)a[n]=t[n];return a}function Vd(t,e){if(t){if(typeof t=="string")return Qd(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qd(t,e):void 0}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function e5(t){if(Array.isArray(t))return Qd(t)}function cp(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function t5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function he(t){return e5(t)||cp(t)||Vd(t)||t5()}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Je(t){"@babel/helpers - typeof";return Je=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Je(t)}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function n5(t,e){if(Je(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e||"default");if(Je(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function up(t){var e=n5(t,"string");return Je(e)=="symbol"?e:e+""}function G(t,e,n){return(e=up(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var nn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Il(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function a5(t){var e=Je(t);return t!=null&&(e=="object"||e=="function")}var Le=a5;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var r5=Je(nn)=="object"&&nn&&nn.Object===Object&&nn,dp=r5,i5=dp,o5=(typeof self>"u"?"undefined":Je(self))=="object"&&self&&self.Object===Object&&self,l5=i5||o5||Function("return this")(),da=l5,s5=da,c5=s5.Symbol,to=c5,fp=to,vp=Object.prototype,u5=vp.hasOwnProperty,d5=vp.toString,Nl=fp?fp.toStringTag:void 0;function f5(t){var e=u5.call(t,Nl),n=t[Nl];try{t[Nl]=void 0;var a=!0}catch{}var r=d5.call(t);return a&&(e?t[Nl]=n:delete t[Nl]),r}var v5=f5,h5=Object.prototype,g5=h5.toString;function p5(t){return g5.call(t)}var m5=p5,hp=to,y5=v5,b5=m5,w5="[object Null]",C5="[object Undefined]",gp=hp?hp.toStringTag:void 0;function x5(t){return t==null?t===void 0?C5:w5:gp&&gp in Object(t)?y5(t):b5(t)}var Ia=x5;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var S5=Ia,O5=Le,k5="[object AsyncFunction]",P5="[object Function]",_5="[object GeneratorFunction]",I5="[object Proxy]";function N5(t){if(!O5(t))return!1;var e=S5(t);return e==P5||e==_5||e==k5||e==I5}var pe=N5;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var T5=da,E5=T5["__core-js_shared__"],A5=E5,ef=A5,pp=function(){var t=/[^.]+$/.exec(ef&&ef.keys&&ef.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function R5(t){return!!pp&&pp in t}var D5=R5,j5=Function.prototype,M5=j5.toString;function F5(t){if(t!=null){try{return M5.call(t)}catch{}try{return t+""}catch{}}return""}var mp=F5,L5=pe,$5=D5,B5=Le,z5=mp,H5=/[\\^$.*+?()[\]{}|]/g,W5=/^\[object .+?Constructor\]$/,U5=Function.prototype,K5=Object.prototype,Y5=U5.toString,q5=K5.hasOwnProperty,G5=RegExp("^"+Y5.call(q5).replace(H5,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function X5(t){if(!B5(t)||$5(t))return!1;var e=L5(t)?G5:W5;return e.test(z5(t))}var J5=X5;function Z5(t,e){return t==null?void 0:t[e]}var Q5=Z5,V5=J5,eT=Q5;function tT(t,e){var n=eT(t,e);return V5(n)?n:void 0}var ei=tT,nT=ei,aT=da,rT=nT(aT,"Map"),tf=rT;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var iT=ei,oT=function(){try{var t=iT(Object,"defineProperty");return t({},"",{}),t}catch{}}(),yp=oT;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function lT(t,e){return t===e||t!==t&&e!==e}var Tl=lT;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var bp=yp;function sT(t,e,n){e=="__proto__"&&bp?bp(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var tc=sT,cT=tc,uT=Tl,dT=Object.prototype,fT=dT.hasOwnProperty;function vT(t,e,n){var a=t[e];(!(fT.call(t,e)&&uT(a,n))||n===void 0&&!(e in t))&&cT(t,e,n)}var nf=vT;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function hT(){this.__data__=[],this.size=0}var gT=hT,pT=Tl;function mT(t,e){for(var n=t.length;n--;)if(pT(t[n][0],e))return n;return-1}var nc=mT,yT=nc,bT=Array.prototype,wT=bT.splice;function CT(t){var e=this.__data__,n=yT(e,t);if(n<0)return!1;var a=e.length-1;return n==a?e.pop():wT.call(e,n,1),--this.size,!0}var xT=CT,ST=nc;function OT(t){var e=this.__data__,n=ST(e,t);return n<0?void 0:e[n][1]}var kT=OT,PT=nc;function _T(t){return PT(this.__data__,t)>-1}var IT=_T,NT=nc;function TT(t,e){var n=this.__data__,a=NT(n,t);return a<0?(++this.size,n.push([t,e])):n[a][1]=e,this}var ET=TT,AT=gT,RT=xT,DT=kT,jT=IT,MT=ET;function no(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var a=t[e];this.set(a[0],a[1])}}no.prototype.clear=AT,no.prototype.delete=RT,no.prototype.get=DT,no.prototype.has=jT,no.prototype.set=MT;var ac=no,FT=ei,LT=FT(Object,"create"),rc=LT,wp=rc;function $T(){this.__data__=wp?wp(null):{},this.size=0}var BT=$T;function zT(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var HT=zT,WT=rc,UT="__lodash_hash_undefined__",KT=Object.prototype,YT=KT.hasOwnProperty;function qT(t){var e=this.__data__;if(WT){var n=e[t];return n===UT?void 0:n}return YT.call(e,t)?e[t]:void 0}var GT=qT,XT=rc,JT=Object.prototype,ZT=JT.hasOwnProperty;function QT(t){var e=this.__data__;return XT?e[t]!==void 0:ZT.call(e,t)}var VT=QT,eE=rc,tE="__lodash_hash_undefined__";function nE(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=eE&&e===void 0?tE:e,this}var aE=nE,rE=BT,iE=HT,oE=GT,lE=VT,sE=aE;function ao(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var a=t[e];this.set(a[0],a[1])}}ao.prototype.clear=rE,ao.prototype.delete=iE,ao.prototype.get=oE,ao.prototype.has=lE,ao.prototype.set=sE;var cE=ao,Cp=cE,uE=ac,dE=tf;function fE(){this.size=0,this.__data__={hash:new Cp,map:new(dE||uE),string:new Cp}}var vE=fE;function hE(t){var e=Je(t);return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var gE=hE,pE=gE;function mE(t,e){var n=t.__data__;return pE(e)?n[typeof e=="string"?"string":"hash"]:n.map}var ic=mE,yE=ic;function bE(t){var e=yE(this,t).delete(t);return this.size-=e?1:0,e}var wE=bE,CE=ic;function xE(t){return CE(this,t).get(t)}var SE=xE,OE=ic;function kE(t){return OE(this,t).has(t)}var PE=kE,_E=ic;function IE(t,e){var n=_E(this,t),a=n.size;return n.set(t,e),this.size+=n.size==a?0:1,this}var NE=IE,TE=vE,EE=wE,AE=SE,RE=PE,DE=NE;function ro(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var a=t[e];this.set(a[0],a[1])}}ro.prototype.clear=TE,ro.prototype.delete=EE,ro.prototype.get=AE,ro.prototype.has=RE,ro.prototype.set=DE;var af=ro;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var jE=9007199254740991;function ME(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=jE}var rf=ME,FE=pe,LE=rf;function $E(t){return t!=null&&LE(t.length)&&!FE(t)}var io=$E;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function BE(t){return t!=null&&Je(t)=="object"}var Ln=BE;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function zE(t){return function(e){return t(e)}}var oo=zE;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Nr={exports:{}};function HE(){return!1}var WE=HE;(function(t,e){var n=da,a=WE,r=e&&!e.nodeType&&e,o=r&&!0&&t&&!t.nodeType&&t,l=o&&o.exports===r,s=l?n.Buffer:void 0,c=s?s.isBuffer:void 0,d=c||a;t.exports=d})(Nr,Nr.exports),Nr.exports;var UE=Ia,KE=rf,YE=Ln,qE="[object Arguments]",GE="[object Array]",XE="[object Boolean]",JE="[object Date]",ZE="[object Error]",QE="[object Function]",VE="[object Map]",eA="[object Number]",tA="[object Object]",nA="[object RegExp]",aA="[object Set]",rA="[object String]",iA="[object WeakMap]",oA="[object ArrayBuffer]",lA="[object DataView]",sA="[object Float32Array]",cA="[object Float64Array]",uA="[object Int8Array]",dA="[object Int16Array]",fA="[object Int32Array]",vA="[object Uint8Array]",hA="[object Uint8ClampedArray]",gA="[object Uint16Array]",pA="[object Uint32Array]",Tt={};Tt[sA]=Tt[cA]=Tt[uA]=Tt[dA]=Tt[fA]=Tt[vA]=Tt[hA]=Tt[gA]=Tt[pA]=!0,Tt[qE]=Tt[GE]=Tt[oA]=Tt[XE]=Tt[lA]=Tt[JE]=Tt[ZE]=Tt[QE]=Tt[VE]=Tt[eA]=Tt[tA]=Tt[nA]=Tt[aA]=Tt[rA]=Tt[iA]=!1;function mA(t){return YE(t)&&KE(t.length)&&!!Tt[UE(t)]}var yA=mA,ti={exports:{}};(function(t,e){var n=dp,a=e&&!e.nodeType&&e,r=a&&!0&&t&&!t.nodeType&&t,o=r&&r.exports===a,l=o&&n.process,s=function(){try{var c=r&&r.require&&r.require("util").types;return c||l&&l.binding&&l.binding("util")}catch{}}();t.exports=s})(ti,ti.exports),ti.exports;var bA=yA,wA=oo,xp=ti.exports,Sp=xp&&xp.isTypedArray,CA=Sp?wA(Sp):bA,oc=CA,xA=Object.prototype;function SA(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||xA;return t===n}var lc=SA;function OA(t,e){return function(n){return t(e(n))}}var Op=OA;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var kA=Ia,PA=Ln,_A="[object Arguments]";function IA(t){return PA(t)&&kA(t)==_A}var NA=IA,kp=NA,TA=Ln,Pp=Object.prototype,EA=Pp.hasOwnProperty,AA=Pp.propertyIsEnumerable,RA=kp(function(){return arguments}())?kp:function(t){return TA(t)&&EA.call(t,"callee")&&!AA.call(t,"callee")},El=RA;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var DA=Array.isArray,Ie=DA;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var jA=9007199254740991,MA=/^(?:0|[1-9]\d*)$/;function FA(t,e){var n=Je(t);return e=e??jA,!!e&&(n=="number"||n!="symbol"&&MA.test(t))&&t>-1&&t%1==0&&t<e}var Al=FA;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function LA(t,e){for(var n=-1,a=Array(t);++n<t;)a[n]=e(n);return a}var $A=LA,BA=$A,zA=El,HA=Ie,WA=Nr.exports,UA=Al,KA=oc,YA=Object.prototype,qA=YA.hasOwnProperty;function GA(t,e){var n=HA(t),a=!n&&zA(t),r=!n&&!a&&WA(t),o=!n&&!a&&!r&&KA(t),l=n||a||r||o,s=l?BA(t.length,String):[],c=s.length;for(var d in t)(e||qA.call(t,d))&&!(l&&(d=="length"||r&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||UA(d,c)))&&s.push(d);return s}var _p=GA,XA=ac;function JA(){this.__data__=new XA,this.size=0}var ZA=JA;function QA(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var VA=QA;function e6(t){return this.__data__.get(t)}var t6=e6;function n6(t){return this.__data__.has(t)}var a6=n6,r6=ac,i6=tf,o6=af,l6=200;function s6(t,e){var n=this.__data__;if(n instanceof r6){var a=n.__data__;if(!i6||a.length<l6-1)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new o6(a)}return n.set(t,e),this.size=n.size,this}var c6=s6,u6=ac,d6=ZA,f6=VA,v6=t6,h6=a6,g6=c6;function lo(t){var e=this.__data__=new u6(t);this.size=e.size}lo.prototype.clear=d6,lo.prototype.delete=f6,lo.prototype.get=v6,lo.prototype.has=h6,lo.prototype.set=g6;var sc=lo,p6=da,m6=p6.Uint8Array,Ip=m6,Rl={exports:{}};(function(t,e){var n=da,a=e&&!e.nodeType&&e,r=a&&!0&&t&&!t.nodeType&&t,o=r&&r.exports===a,l=o?n.Buffer:void 0,s=l?l.allocUnsafe:void 0;function c(d,u){if(u)return d.slice();var f=d.length,v=s?s(f):new d.constructor(f);return d.copy(v),v}t.exports=c})(Rl,Rl.exports),Rl.exports;var Np=Ip;function y6(t){var e=new t.constructor(t.byteLength);return new Np(e).set(new Np(t)),e}var of=y6,b6=of;function w6(t,e){var n=e?b6(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var Tp=w6;function C6(t,e){var n=-1,a=t.length;for(e||(e=Array(a));++n<a;)e[n]=t[n];return e}var Ep=C6,x6=Le,Ap=Object.create,S6=function(){function t(){}return function(e){if(!x6(e))return{};if(Ap)return Ap(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),O6=S6,k6=Op,P6=k6(Object.getPrototypeOf,Object),lf=P6,_6=O6,I6=lf,N6=lc;function T6(t){return typeof t.constructor=="function"&&!N6(t)?_6(I6(t)):{}}var Rp=T6,E6=nf,A6=tc;function R6(t,e,n,a){var r=!n;n||(n={});for(var o=-1,l=e.length;++o<l;){var s=e[o],c=a?a(n[s],t[s],s,n,t):void 0;c===void 0&&(c=t[s]),r?A6(n,s,c):E6(n,s,c)}return n}var so=R6;function D6(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var j6=D6,M6=Le,F6=lc,L6=j6,$6=Object.prototype,B6=$6.hasOwnProperty;function z6(t){if(!M6(t))return L6(t);var e=F6(t),n=[];for(var a in t)a=="constructor"&&(e||!B6.call(t,a))||n.push(a);return n}var H6=z6,W6=_p,U6=H6,K6=io;function Y6(t){return K6(t)?W6(t,!0):U6(t)}var Dl=Y6;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function q6(t){return t}var co=q6;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function G6(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var X6=G6,J6=X6,Dp=Math.max;function Z6(t,e,n){return e=Dp(e===void 0?t.length-1:e,0),function(){for(var a=arguments,r=-1,o=Dp(a.length-e,0),l=Array(o);++r<o;)l[r]=a[e+r];r=-1;for(var s=Array(e+1);++r<e;)s[r]=a[r];return s[e]=n(l),J6(t,this,s)}}var jp=Z6;function Q6(t){return function(){return t}}var V6=Q6,e3=V6,Mp=yp,t3=co,n3=Mp?function(t,e){return Mp(t,"toString",{configurable:!0,enumerable:!1,value:e3(e),writable:!0})}:t3,a3=n3,r3=800,i3=16,o3=Date.now;function l3(t){var e=0,n=0;return function(){var a=o3(),r=i3-(a-n);if(n=a,r>0){if(++e>=r3)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var s3=l3,c3=a3,u3=s3,d3=u3(c3),Fp=d3;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var f3=io,v3=Ln;function h3(t){return v3(t)&&f3(t)}var cc=h3,g3=co,p3=jp,m3=Fp;function y3(t,e){return m3(p3(t,e,g3),t+"")}var uc=y3;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var b3=Ia,w3=lf,C3=Ln,x3="[object Object]",S3=Function.prototype,O3=Object.prototype,Lp=S3.toString,k3=O3.hasOwnProperty,P3=Lp.call(Object);function _3(t){if(!C3(t)||b3(t)!=x3)return!1;var e=w3(t);if(e===null)return!0;var n=k3.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Lp.call(n)==P3}var dc=_3;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var I3=Tl,N3=io,T3=Al,E3=Le;function A3(t,e,n){if(!E3(n))return!1;var a=Je(e);return(a=="number"?N3(n)&&T3(e,n.length):a=="string"&&e in n)?I3(n[e],t):!1}var sf=A3;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var R3={classPrefix:"t",animation:{include:["ripple","expand","fade"],exclude:[]},calendar:{firstDayOfWeek:1,fillWithZero:!0,controllerConfig:void 0},icon:{},input:{autocomplete:""},dialog:{closeOnEscKeydown:!0,closeOnOverlayClick:!0,confirmBtnTheme:{default:"primary",info:"primary",warning:"primary",danger:"primary",success:"primary"}},message:{},popconfirm:{confirmBtnTheme:{default:"primary",warning:"primary",danger:"primary"}},table:{expandIcon:void 0,sortIcon:void 0,filterIcon:void 0,treeExpandAndFoldIcon:void 0,hideSortTips:!1,size:"medium"},select:{clearIcon:void 0,filterable:!1},drawer:{closeOnEscKeydown:!0,closeOnOverlayClick:!0,size:"small"},tree:{folderIcon:void 0},datePicker:{firstDayOfWeek:1},steps:{checkIcon:void 0,errorIcon:void 0},tag:{closeIcon:void 0},form:{requiredMark:void 0},empty:{titleText:{maintenance:void 0,success:void 0,fail:void 0,empty:void 0,networkError:void 0},image:{maintenance:void 0,success:void 0,fail:void 0,empty:void 0,networkError:void 0}}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var cf={exports:{}};(function(t,e){(function(n,a){t.exports=a()})(nn,function(){var n=1e3,a=6e4,r=36e5,o="millisecond",l="second",s="minute",c="hour",d="day",u="week",f="month",v="quarter",h="year",g="date",p="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(E){var R=["th","st","nd","rd"],N=E%100;return"["+E+(R[(N-20)%10]||R[N]||R[0])+"]"}},w=function(E,R,N){var F=String(E);return!F||F.length>=R?E:""+Array(R+1-F.length).join(N)+E},C={s:w,z:function(E){var R=-E.utcOffset(),N=Math.abs(R),F=Math.floor(N/60),M=N%60;return(R<=0?"+":"-")+w(F,2,"0")+":"+w(M,2,"0")},m:function A(E,R){if(E.date()<R.date())return-A(R,E);var N=12*(R.year()-E.year())+(R.month()-E.month()),F=E.clone().add(N,f),M=R-F<0,$=E.clone().add(N+(M?-1:1),f);return+(-(N+(R-F)/(M?F-$:$-F))||0)},a:function(E){return E<0?Math.ceil(E)||0:Math.floor(E)},p:function(E){return{M:f,y:h,w:u,d,D:g,h:c,m:s,s:l,ms:o,Q:v}[E]||String(E||"").toLowerCase().replace(/s$/,"")},u:function(E){return E===void 0}},x="en",k={};k[x]=b;var P="$isDayjsObject",I=function(E){return E instanceof S||!(!E||!E[P])},D=function A(E,R,N){var F;if(!E)return x;if(typeof E=="string"){var M=E.toLowerCase();k[M]&&(F=M),R&&(k[M]=R,F=M);var $=E.split("-");if(!F&&$.length>1)return A($[0])}else{var W=E.name;k[W]=E,F=W}return!N&&F&&(x=F),F||!N&&x},L=function(E,R){if(I(E))return E.clone();var N=Je(R)=="object"?R:{};return N.date=E,N.args=arguments,new S(N)},O=C;O.l=D,O.i=I,O.w=function(A,E){return L(A,{locale:E.$L,utc:E.$u,x:E.$x,$offset:E.$offset})};var S=function(){function A(R){this.$L=D(R.locale,null,!0),this.parse(R),this.$x=this.$x||R.x||{},this[P]=!0}var E=A.prototype;return E.parse=function(R){this.$d=function(N){var F=N.date,M=N.utc;if(F===null)return new Date(NaN);if(O.u(F))return new Date;if(F instanceof Date)return new Date(F);if(typeof F=="string"&&!/Z$/i.test(F)){var $=F.match(m);if($){var W=$[2]-1||0,H=($[7]||"0").substring(0,3);return M?new Date(Date.UTC($[1],W,$[3]||1,$[4]||0,$[5]||0,$[6]||0,H)):new Date($[1],W,$[3]||1,$[4]||0,$[5]||0,$[6]||0,H)}}return new Date(F)}(R),this.init()},E.init=function(){var R=this.$d;this.$y=R.getFullYear(),this.$M=R.getMonth(),this.$D=R.getDate(),this.$W=R.getDay(),this.$H=R.getHours(),this.$m=R.getMinutes(),this.$s=R.getSeconds(),this.$ms=R.getMilliseconds()},E.$utils=function(){return O},E.isValid=function(){return this.$d.toString()!==p},E.isSame=function(R,N){var F=L(R);return this.startOf(N)<=F&&F<=this.endOf(N)},E.isAfter=function(R,N){return L(R)<this.startOf(N)},E.isBefore=function(R,N){return this.endOf(N)<L(R)},E.$g=function(R,N,F){return O.u(R)?this[N]:this.set(F,R)},E.unix=function(){return Math.floor(this.valueOf()/1e3)},E.valueOf=function(){return this.$d.getTime()},E.startOf=function(R,N){var F=this,M=!!O.u(N)||N,$=O.p(R),W=function(j,U){var J=O.w(F.$u?Date.UTC(F.$y,U,j):new Date(F.$y,U,j),F);return M?J:J.endOf(d)},H=function(j,U){return O.w(F.toDate()[j].apply(F.toDate("s"),(M?[0,0,0,0]:[23,59,59,999]).slice(U)),F)},K=this.$W,z=this.$M,B=this.$D,q="set"+(this.$u?"UTC":"");switch($){case h:return M?W(1,0):W(31,11);case f:return M?W(1,z):W(0,z+1);case u:var Y=this.$locale().weekStart||0,X=(K<Y?K+7:K)-Y;return W(M?B-X:B+(6-X),z);case d:case g:return H(q+"Hours",0);case c:return H(q+"Minutes",1);case s:return H(q+"Seconds",2);case l:return H(q+"Milliseconds",3);default:return this.clone()}},E.endOf=function(R){return this.startOf(R,!1)},E.$set=function(R,N){var F,M=O.p(R),$="set"+(this.$u?"UTC":""),W=(F={},F[d]=$+"Date",F[g]=$+"Date",F[f]=$+"Month",F[h]=$+"FullYear",F[c]=$+"Hours",F[s]=$+"Minutes",F[l]=$+"Seconds",F[o]=$+"Milliseconds",F)[M],H=M===d?this.$D+(N-this.$W):N;if(M===f||M===h){var K=this.clone().set(g,1);K.$d[W](H),K.init(),this.$d=K.set(g,Math.min(this.$D,K.daysInMonth())).$d}else W&&this.$d[W](H);return this.init(),this},E.set=function(R,N){return this.clone().$set(R,N)},E.get=function(R){return this[O.p(R)]()},E.add=function(R,N){var F,M=this;R=Number(R);var $=O.p(N),W=function(B){var q=L(M);return O.w(q.date(q.date()+Math.round(B*R)),M)};if($===f)return this.set(f,this.$M+R);if($===h)return this.set(h,this.$y+R);if($===d)return W(1);if($===u)return W(7);var H=(F={},F[s]=a,F[c]=r,F[l]=n,F)[$]||1,K=this.$d.getTime()+R*H;return O.w(K,this)},E.subtract=function(R,N){return this.add(-1*R,N)},E.format=function(R){var N=this,F=this.$locale();if(!this.isValid())return F.invalidDate||p;var M=R||"YYYY-MM-DDTHH:mm:ssZ",$=O.z(this),W=this.$H,H=this.$m,K=this.$M,z=F.weekdays,B=F.months,q=F.meridiem,Y=function(U,J,Z,Q){return U&&(U[J]||U(N,M))||Z[J].slice(0,Q)},X=function(U){return O.s(W%12||12,U,"0")},T=q||function(j,U,J){var Z=j<12?"AM":"PM";return J?Z.toLowerCase():Z};return M.replace(y,function(j,U){return U||function(J){switch(J){case"YY":return String(N.$y).slice(-2);case"YYYY":return O.s(N.$y,4,"0");case"M":return K+1;case"MM":return O.s(K+1,2,"0");case"MMM":return Y(F.monthsShort,K,B,3);case"MMMM":return Y(B,K);case"D":return N.$D;case"DD":return O.s(N.$D,2,"0");case"d":return String(N.$W);case"dd":return Y(F.weekdaysMin,N.$W,z,2);case"ddd":return Y(F.weekdaysShort,N.$W,z,3);case"dddd":return z[N.$W];case"H":return String(W);case"HH":return O.s(W,2,"0");case"h":return X(1);case"hh":return X(2);case"a":return T(W,H,!0);case"A":return T(W,H,!1);case"m":return String(H);case"mm":return O.s(H,2,"0");case"s":return String(N.$s);case"ss":return O.s(N.$s,2,"0");case"SSS":return O.s(N.$ms,3,"0");case"Z":return $}return null}(j)||$.replace(":","")})},E.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},E.diff=function(R,N,F){var M,$=this,W=O.p(N),H=L(R),K=(H.utcOffset()-this.utcOffset())*a,z=this-H,B=function(){return O.m($,H)};switch(W){case h:M=B()/12;break;case f:M=B();break;case v:M=B()/3;break;case u:M=(z-K)/6048e5;break;case d:M=(z-K)/864e5;break;case c:M=z/r;break;case s:M=z/a;break;case l:M=z/n;break;default:M=z}return F?M:O.a(M)},E.daysInMonth=function(){return this.endOf(f).$D},E.$locale=function(){return k[this.$L]},E.locale=function(R,N){if(!R)return this.$L;var F=this.clone(),M=D(R,N,!0);return M&&(F.$L=M),F},E.clone=function(){return O.w(this.$d,this)},E.toDate=function(){return new Date(this.valueOf())},E.toJSON=function(){return this.isValid()?this.toISOString():null},E.toISOString=function(){return this.$d.toISOString()},E.toString=function(){return this.$d.toUTCString()},A}(),_=S.prototype;return L.prototype=_,[["$ms",o],["$s",l],["$m",s],["$H",c],["$W",d],["$M",f],["$y",h],["$D",g]].forEach(function(A){_[A[1]]=function(E){return this.$g(E,A[0],A[1])}}),L.extend=function(A,E){return A.$i||(A(E,S,L),A.$i=!0),L},L.locale=D,L.isDayjs=I,L.unix=function(A){return L(1e3*A)},L.en=k[x],L.Ls=k,L.p={},L})})(cf);var ve=cf.exports;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var D3={pagination:{itemsPerPage:"{size} 条/页",jumpTo:"跳至",page:"页",total:"共 {total} 条数据"},cascader:{empty:"暂无数据",loadingText:"加载中",placeholder:"请选择"},calendar:{yearSelection:"{year} 年",monthSelection:"{month} 月",yearRadio:"年",monthRadio:"月",hideWeekend:"隐藏周末",showWeekend:"显示周末",today:"今天",thisMonth:"本月",week:"一,二,三,四,五,六,日",cellMonth:"1 月,2 月,3 月,4 月,5 月,6 月,7 月,8 月,9 月,10 月,11 月,12 月"},transfer:{title:"{checked} / {total} 项",empty:"暂无数据",placeholder:"请输入关键词搜索"},timePicker:{dayjsLocale:"zh-cn",now:"此刻",confirm:"确定",anteMeridiem:"上午",postMeridiem:"下午",placeholder:"选择时间"},dialog:{confirm:"确认",cancel:"取消"},drawer:{confirm:"确认",cancel:"取消"},popconfirm:{confirm:{content:"确定"},cancel:{content:"取消"}},table:{empty:"暂无数据",loadingText:"正在加载中，请稍后",loadingMoreText:"点击加载更多",filterInputPlaceholder:"请输入内容（无默认值）",sortAscendingOperationText:"点击升序",sortCancelOperationText:"点击取消排序",sortDescendingOperationText:"点击降序",clearFilterResultButtonText:"清空筛选",columnConfigButtonText:"列配置",columnConfigTitleText:"表格列配置",columnConfigDescriptionText:"请选择需要在表格中显示的数据列",confirmText:"确认",cancelText:"取消",resetText:"重置",selectAllText:"全选",searchResultText:"搜索“{result}”，找到 {count} 条结果"},select:{empty:"暂无数据",loadingText:"加载中",placeholder:"请选择"},tree:{empty:"暂无数据"},treeSelect:{empty:"暂无数据",loadingText:"加载中",placeholder:"请选择"},datePicker:{dayjsLocale:"zh-cn",placeholder:{date:"请选择日期",month:"请选择月份",year:"请选择年份",quarter:"请选择季度",week:"请选择周"},weekdays:["一","二","三","四","五","六","日"],months:["1 月","2 月","3 月","4 月","5 月","6 月","7 月","8 月","9 月","10 月","11 月","12 月"],quarters:["一季度","二季度","三季度","四季度"],rangeSeparator:" - ",direction:"ltr",format:"YYYY-MM-DD",dayAriaLabel:"日",weekAbbreviation:"周",yearAriaLabel:"年",monthAriaLabel:"月",confirm:"确定",selectTime:"选择时间",selectDate:"选择日期",nextYear:"下一年",preYear:"上一年",nextMonth:"下个月",preMonth:"上个月",preDecade:"上个十年",nextDecade:"下个十年",now:"当前"},upload:{sizeLimitMessage:"文件大小不能超过 {sizeLimit}",cancelUploadText:"取消上传",triggerUploadText:{fileInput:"选择文件",image:"点击上传图片",normal:"点击上传",reupload:"重新选择",continueUpload:"继续选择",delete:"删除",uploading:"上传中"},dragger:{dragDropText:"释放鼠标",draggingText:"拖拽到此区域",clickAndDragText:"点击上方“选择文件”或将文件拖拽到此区域"},file:{fileNameText:"文件名",fileSizeText:"文件大小",fileStatusText:"状态",fileOperationText:"操作",fileOperationDateText:"上传日期"},progress:{uploadingText:"上传中",waitingText:"待上传",failText:"上传失败",successText:"上传成功"}},form:{errorMessage:{date:"请输入正确的${name}",url:"请输入正确的${name}",required:"${name}必填",whitespace:"${name}不能为空",max:"${name}字符长度不能超过 ${validate} 个字符，一个中文等于两个字符",min:"${name}字符长度不能少于 ${validate} 个字符，一个中文等于两个字符",len:"${name}字符长度必须是 ${validate}",enum:"${name}只能是${validate}等",idcard:"请输入正确的${name}",telnumber:"请输入正确的${name}",pattern:"请输入正确的${name}",validator:"${name}不符合要求",boolean:"${name}数据类型必须是布尔类型",number:"${name}必须是数字"},colonText:"："},input:{placeholder:"请输入"},list:{loadingText:"正在加载中，请稍等",loadingMoreText:"点击加载更多"},alert:{expandText:"展开更多",collapseText:"收起"},anchor:{copySuccessText:"链接复制成功",copyText:"复制链接"},colorPicker:{swatchColorTitle:"系统预设颜色",recentColorTitle:"最近使用颜色",clearConfirmText:"确定清空最近使用的颜色吗？"},guide:{finishButtonProps:{content:"完成",theme:"primary"},nextButtonProps:{content:"下一步",theme:"primary"},skipButtonProps:{content:"跳过",theme:"default"},prevButtonProps:{content:"上一步",theme:"default"}},image:{errorText:"图片无法显示",loadingText:"图片加载中"},imageViewer:{errorText:"图片加载失败，可尝试重新加载",mirrorTipText:"镜像",rotateTipText:"旋转",originalSizeTipText:"原始大小"},typography:{expandText:"展开",collapseText:"收起",copiedText:"复制成功"},rate:{rateText:["极差","失望","一般","满意","惊喜"]},empty:{titleText:{maintenance:"建设中",success:"成功",fail:"失败",empty:"暂无数据",networkError:"网络错误"}},descriptions:{colonText:"："}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function j3(t){return function(e,n,a){for(var r=-1,o=Object(e),l=a(e),s=l.length;s--;){var c=l[t?s:++r];if(n(o[c],c,o)===!1)break}return e}}var M3=j3,F3=M3,L3=F3(),$p=L3,$3=tc,B3=Tl;function z3(t,e,n){(n!==void 0&&!B3(t[e],n)||n===void 0&&!(e in t))&&$3(t,e,n)}var Bp=z3;function H3(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var zp=H3,W3=so,U3=Dl;function K3(t){return W3(t,U3(t))}var Y3=K3,Hp=Bp,q3=Rl.exports,G3=Tp,X3=Ep,J3=Rp,Wp=El,Up=Ie,Z3=cc,Q3=Nr.exports,V3=pe,e9=Le,t9=dc,n9=oc,Kp=zp,a9=Y3;function r9(t,e,n,a,r,o,l){var s=Kp(t,n),c=Kp(e,n),d=l.get(c);if(d){Hp(t,n,d);return}var u=o?o(s,c,n+"",t,e,l):void 0,f=u===void 0;if(f){var v=Up(c),h=!v&&Q3(c),g=!v&&!h&&n9(c);u=c,v||h||g?Up(s)?u=s:Z3(s)?u=X3(s):h?(f=!1,u=q3(c,!0)):g?(f=!1,u=G3(c,!0)):u=[]:t9(c)||Wp(c)?(u=s,Wp(s)?u=a9(s):(!e9(s)||V3(s))&&(u=J3(c))):f=!1}f&&(l.set(c,u),r(u,c,a,o,l),l.delete(c)),Hp(t,n,u)}var i9=r9,o9=sc,l9=Bp,s9=$p,c9=i9,u9=Le,d9=Dl,f9=zp;function Yp(t,e,n,a,r){t!==e&&s9(e,function(o,l){if(r||(r=new o9),u9(o))c9(t,e,l,n,Yp,a,r);else{var s=a?a(f9(t,l),o,l+"",t,e,r):void 0;s===void 0&&(s=o),l9(t,l,s)}},d9)}var qp=Yp,v9=uc,h9=sf;function g9(t){return v9(function(e,n){var a=-1,r=n.length,o=r>1?n[r-1]:void 0,l=r>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(r--,o):void 0,l&&h9(n[0],n[1],l)&&(o=r<3?void 0:o,r=1),e=Object(e);++a<r;){var s=n[a];s&&t(e,s,a,o)}return e})}var Gp=g9,p9=qp,m9=Gp,y9=m9(function(t,e,n){p9(t,e,n)}),fc=y9,b9=qp,w9=Gp,C9=w9(function(t,e,n,a){b9(t,e,n,a)}),x9=C9,vc=function(t){return t.ripple="ripple",t.expand="expand",t.fade="fade",t}(vc||{}),Xp=fc(R3,D3),Jp=Symbol("configProvide"),S9=function(e,n){return x9(e,n,function(a,r){if(Ie(a))return r})};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var O9=ei,k9=da,P9=O9(k9,"Set"),Zp=P9;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var _9=Op,I9=_9(Object.keys,Object),N9=I9,T9=lc,E9=N9,A9=Object.prototype,R9=A9.hasOwnProperty;function D9(t){if(!T9(t))return E9(t);var e=[];for(var n in Object(t))R9.call(t,n)&&n!="constructor"&&e.push(n);return e}var Qp=D9,j9=ei,M9=da,F9=j9(M9,"DataView"),L9=F9,$9=ei,B9=da,z9=$9(B9,"Promise"),H9=z9,W9=ei,U9=da,K9=W9(U9,"WeakMap"),Y9=K9,uf=L9,df=tf,ff=H9,vf=Zp,hf=Y9,Vp=Ia,uo=mp,em="[object Map]",q9="[object Object]",tm="[object Promise]",nm="[object Set]",am="[object WeakMap]",rm="[object DataView]",G9=uo(uf),X9=uo(df),J9=uo(ff),Z9=uo(vf),Q9=uo(hf),ni=Vp;(uf&&ni(new uf(new ArrayBuffer(1)))!=rm||df&&ni(new df)!=em||ff&&ni(ff.resolve())!=tm||vf&&ni(new vf)!=nm||hf&&ni(new hf)!=am)&&(ni=function(e){var n=Vp(e),a=n==q9?e.constructor:void 0,r=a?uo(a):"";if(r)switch(r){case G9:return rm;case X9:return em;case J9:return tm;case Z9:return nm;case Q9:return am}return n});var jl=ni;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function V9(t,e){for(var n=-1,a=e.length,r=t.length;++n<a;)t[r+n]=e[n];return t}var gf=V9;function e8(t,e){for(var n=-1,a=t==null?0:t.length,r=0,o=[];++n<a;){var l=t[n];e(l,n,t)&&(o[r++]=l)}return o}var pf=e8;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var t8=_p,n8=Qp,a8=io;function r8(t){return a8(t)?t8(t):n8(t)}var Ml=r8,i8=gf,o8=Ie;function l8(t,e,n){var a=e(t);return o8(t)?a:i8(a,n(t))}var im=l8;function s8(){return[]}var om=s8,c8=pf,u8=om,d8=Object.prototype,f8=d8.propertyIsEnumerable,lm=Object.getOwnPropertySymbols,v8=lm?function(t){return t==null?[]:(t=Object(t),c8(lm(t),function(e){return f8.call(t,e)}))}:u8,mf=v8,h8=im,g8=mf,p8=Ml;function m8(t){return h8(t,p8,g8)}var sm=m8;function y8(t,e){for(var n=-1,a=t==null?0:t.length;++n<a&&e(t[n],n,t)!==!1;);return t}var b8=y8,w8=so,C8=Ml;function x8(t,e){return t&&w8(e,C8(e),t)}var S8=x8,O8=so,k8=Dl;function P8(t,e){return t&&O8(e,k8(e),t)}var _8=P8,I8=so,N8=mf;function T8(t,e){return I8(t,N8(t),e)}var E8=T8,A8=gf,R8=lf,D8=mf,j8=om,M8=Object.getOwnPropertySymbols,F8=M8?function(t){for(var e=[];t;)A8(e,D8(t)),t=R8(t);return e}:j8,cm=F8,L8=so,$8=cm;function B8(t,e){return L8(t,$8(t),e)}var z8=B8,H8=im,W8=cm,U8=Dl;function K8(t){return H8(t,U8,W8)}var yf=K8,Y8=Object.prototype,q8=Y8.hasOwnProperty;function G8(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&q8.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var X8=G8,J8=of;function Z8(t,e){var n=e?J8(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var Q8=Z8,V8=/\w*$/;function eR(t){var e=new t.constructor(t.source,V8.exec(t));return e.lastIndex=t.lastIndex,e}var tR=eR,um=to,dm=um?um.prototype:void 0,fm=dm?dm.valueOf:void 0;function nR(t){return fm?Object(fm.call(t)):{}}var aR=nR,rR=of,iR=Q8,oR=tR,lR=aR,sR=Tp,cR="[object Boolean]",uR="[object Date]",dR="[object Map]",fR="[object Number]",vR="[object RegExp]",hR="[object Set]",gR="[object String]",pR="[object Symbol]",mR="[object ArrayBuffer]",yR="[object DataView]",bR="[object Float32Array]",wR="[object Float64Array]",CR="[object Int8Array]",xR="[object Int16Array]",SR="[object Int32Array]",OR="[object Uint8Array]",kR="[object Uint8ClampedArray]",PR="[object Uint16Array]",_R="[object Uint32Array]";function IR(t,e,n){var a=t.constructor;switch(e){case mR:return rR(t);case cR:case uR:return new a(+t);case yR:return iR(t,n);case bR:case wR:case CR:case xR:case SR:case OR:case kR:case PR:case _R:return sR(t,n);case dR:return new a;case fR:case gR:return new a(t);case vR:return oR(t);case hR:return new a;case pR:return lR(t)}}var NR=IR,TR=jl,ER=Ln,AR="[object Map]";function RR(t){return ER(t)&&TR(t)==AR}var DR=RR,jR=DR,MR=oo,vm=ti.exports,hm=vm&&vm.isMap,FR=hm?MR(hm):jR,LR=FR,$R=jl,BR=Ln,zR="[object Set]";function HR(t){return BR(t)&&$R(t)==zR}var WR=HR,UR=WR,KR=oo,gm=ti.exports,pm=gm&&gm.isSet,YR=pm?KR(pm):UR,qR=YR,GR=sc,XR=b8,JR=nf,ZR=S8,QR=_8,VR=Rl.exports,eD=Ep,tD=E8,nD=z8,aD=sm,rD=yf,iD=jl,oD=X8,lD=NR,sD=Rp,cD=Ie,uD=Nr.exports,dD=LR,fD=Le,vD=qR,hD=Ml,gD=Dl,pD=1,mD=2,yD=4,mm="[object Arguments]",bD="[object Array]",wD="[object Boolean]",CD="[object Date]",xD="[object Error]",ym="[object Function]",SD="[object GeneratorFunction]",OD="[object Map]",kD="[object Number]",bm="[object Object]",PD="[object RegExp]",_D="[object Set]",ID="[object String]",ND="[object Symbol]",TD="[object WeakMap]",ED="[object ArrayBuffer]",AD="[object DataView]",RD="[object Float32Array]",DD="[object Float64Array]",jD="[object Int8Array]",MD="[object Int16Array]",FD="[object Int32Array]",LD="[object Uint8Array]",$D="[object Uint8ClampedArray]",BD="[object Uint16Array]",zD="[object Uint32Array]",_t={};_t[mm]=_t[bD]=_t[ED]=_t[AD]=_t[wD]=_t[CD]=_t[RD]=_t[DD]=_t[jD]=_t[MD]=_t[FD]=_t[OD]=_t[kD]=_t[bm]=_t[PD]=_t[_D]=_t[ID]=_t[ND]=_t[LD]=_t[$D]=_t[BD]=_t[zD]=!0,_t[xD]=_t[ym]=_t[TD]=!1;function hc(t,e,n,a,r,o){var l,s=e&pD,c=e&mD,d=e&yD;if(n&&(l=r?n(t,a,r,o):n(t)),l!==void 0)return l;if(!fD(t))return t;var u=cD(t);if(u){if(l=oD(t),!s)return eD(t,l)}else{var f=iD(t),v=f==ym||f==SD;if(uD(t))return VR(t,s);if(f==bm||f==mm||v&&!r){if(l=c||v?{}:sD(t),!s)return c?nD(t,QR(l,t)):tD(t,ZR(l,t))}else{if(!_t[f])return r?t:{};l=lD(t,f,s)}}o||(o=new GR);var h=o.get(t);if(h)return h;o.set(t,l),vD(t)?t.forEach(function(m){l.add(hc(m,e,n,m,t,o))}):dD(t)&&t.forEach(function(m,y){l.set(y,hc(m,e,n,y,t,o))});var g=d?c?rD:aD:c?gD:hD,p=u?void 0:g(t);return XR(p||t,function(m,y){p&&(y=m,m=t[y]),JR(l,y,hc(m,e,n,y,t,o))}),l}var wm=hc;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var HD="__lodash_hash_undefined__";function WD(t){return this.__data__.set(t,HD),this}var UD=WD;function KD(t){return this.__data__.has(t)}var YD=KD,qD=af,GD=UD,XD=YD;function gc(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new qD;++e<n;)this.add(t[e])}gc.prototype.add=gc.prototype.push=GD,gc.prototype.has=XD;var pc=gc;function JD(t,e){return t.has(e)}var mc=JD;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function ZD(t){var e=-1,n=Array(t.size);return t.forEach(function(a){n[++e]=a}),n}var bf=ZD;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function QD(t,e){for(var n=-1,a=t==null?0:t.length;++n<a;)if(e(t[n],n,t))return!0;return!1}var VD=QD,e4=pc,t4=VD,n4=mc,a4=1,r4=2;function i4(t,e,n,a,r,o){var l=n&a4,s=t.length,c=e.length;if(s!=c&&!(l&&c>s))return!1;var d=o.get(t),u=o.get(e);if(d&&u)return d==e&&u==t;var f=-1,v=!0,h=n&r4?new e4:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var g=t[f],p=e[f];if(a)var m=l?a(p,g,f,e,t,o):a(g,p,f,t,e,o);if(m!==void 0){if(m)continue;v=!1;break}if(h){if(!t4(e,function(y,b){if(!n4(h,b)&&(g===y||r(g,y,n,a,o)))return h.push(b)})){v=!1;break}}else if(!(g===p||r(g,p,n,a,o))){v=!1;break}}return o.delete(t),o.delete(e),v}var Cm=i4;function o4(t){var e=-1,n=Array(t.size);return t.forEach(function(a,r){n[++e]=[r,a]}),n}var l4=o4,xm=to,Sm=Ip,s4=Tl,c4=Cm,u4=l4,d4=bf,f4=1,v4=2,h4="[object Boolean]",g4="[object Date]",p4="[object Error]",m4="[object Map]",y4="[object Number]",b4="[object RegExp]",w4="[object Set]",C4="[object String]",x4="[object Symbol]",S4="[object ArrayBuffer]",O4="[object DataView]",Om=xm?xm.prototype:void 0,wf=Om?Om.valueOf:void 0;function k4(t,e,n,a,r,o,l){switch(n){case O4:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case S4:return!(t.byteLength!=e.byteLength||!o(new Sm(t),new Sm(e)));case h4:case g4:case y4:return s4(+t,+e);case p4:return t.name==e.name&&t.message==e.message;case b4:case C4:return t==e+"";case m4:var s=u4;case w4:var c=a&f4;if(s||(s=d4),t.size!=e.size&&!c)return!1;var d=l.get(t);if(d)return d==e;a|=v4,l.set(t,e);var u=c4(s(t),s(e),a,r,o,l);return l.delete(t),u;case x4:if(wf)return wf.call(t)==wf.call(e)}return!1}var P4=k4,km=sm,_4=1,I4=Object.prototype,N4=I4.hasOwnProperty;function T4(t,e,n,a,r,o){var l=n&_4,s=km(t),c=s.length,d=km(e),u=d.length;if(c!=u&&!l)return!1;for(var f=c;f--;){var v=s[f];if(!(l?v in e:N4.call(e,v)))return!1}var h=o.get(t),g=o.get(e);if(h&&g)return h==e&&g==t;var p=!0;o.set(t,e),o.set(e,t);for(var m=l;++f<c;){v=s[f];var y=t[v],b=e[v];if(a)var w=l?a(b,y,v,e,t,o):a(y,b,v,t,e,o);if(!(w===void 0?y===b||r(y,b,n,a,o):w)){p=!1;break}m||(m=v=="constructor")}if(p&&!m){var C=t.constructor,x=e.constructor;C!=x&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof x=="function"&&x instanceof x)&&(p=!1)}return o.delete(t),o.delete(e),p}var E4=T4,Cf=sc,A4=Cm,R4=P4,D4=E4,Pm=jl,_m=Ie,Im=Nr.exports,j4=oc,M4=1,Nm="[object Arguments]",Tm="[object Array]",yc="[object Object]",F4=Object.prototype,Em=F4.hasOwnProperty;function L4(t,e,n,a,r,o){var l=_m(t),s=_m(e),c=l?Tm:Pm(t),d=s?Tm:Pm(e);c=c==Nm?yc:c,d=d==Nm?yc:d;var u=c==yc,f=d==yc,v=c==d;if(v&&Im(t)){if(!Im(e))return!1;l=!0,u=!1}if(v&&!u)return o||(o=new Cf),l||j4(t)?A4(t,e,n,a,r,o):R4(t,e,c,n,a,r,o);if(!(n&M4)){var h=u&&Em.call(t,"__wrapped__"),g=f&&Em.call(e,"__wrapped__");if(h||g){var p=h?t.value():t,m=g?e.value():e;return o||(o=new Cf),r(p,m,n,a,o)}}return v?(o||(o=new Cf),D4(t,e,n,a,r,o)):!1}var $4=L4,B4=$4,Am=Ln;function Rm(t,e,n,a,r){return t===e?!0:t==null||e==null||!Am(t)&&!Am(e)?t!==t&&e!==e:B4(t,e,n,a,Rm,r)}var xf=Rm,z4=xf;function H4(t,e){return z4(t,e)}var Dm=H4;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var W4=Ia,U4=Ln,K4="[object Symbol]";function Y4(t){return Je(t)=="symbol"||U4(t)&&W4(t)==K4}var Fl=Y4;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function q4(t,e){for(var n=-1,a=t==null?0:t.length,r=Array(a);++n<a;)r[n]=e(t[n],n,t);return r}var fo=q4,jm=to,G4=fo,X4=Ie,J4=Fl,Z4=1/0,Mm=jm?jm.prototype:void 0,Fm=Mm?Mm.toString:void 0;function Lm(t){if(typeof t=="string")return t;if(X4(t))return G4(t,Lm)+"";if(J4(t))return Fm?Fm.call(t):"";var e=t+"";return e=="0"&&1/t==-Z4?"-0":e}var $m=Lm,Q4=$m;function V4(t){return t==null?"":Q4(t)}var Tr=V4;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var ej=Ie,tj=Fl,nj=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,aj=/^\w*$/;function rj(t,e){if(ej(t))return!1;var n=Je(t);return n=="number"||n=="symbol"||n=="boolean"||t==null||tj(t)?!0:aj.test(t)||!nj.test(t)||e!=null&&t in Object(e)}var Sf=rj,Bm=af,ij="Expected a function";function Of(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(ij);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],l=n.cache;if(l.has(o))return l.get(o);var s=t.apply(this,r);return n.cache=l.set(o,s)||l,s};return n.cache=new(Of.Cache||Bm),n}Of.Cache=Bm;var oj=Of,lj=oj,sj=500;function cj(t){var e=lj(t,function(a){return n.size===sj&&n.clear(),a}),n=e.cache;return e}var uj=cj,dj=uj,fj=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vj=/\\(\\)?/g,hj=dj(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(fj,function(n,a,r,o){e.push(r?o.replace(vj,"$1"):a||n)}),e}),gj=hj,pj=Ie,mj=Sf,yj=gj,bj=Tr;function wj(t,e){return pj(t)?t:mj(t,e)?[t]:yj(bj(t))}var vo=wj,Cj=Fl,xj=1/0;function Sj(t){if(typeof t=="string"||Cj(t))return t;var e=t+"";return e=="0"&&1/t==-xj?"-0":e}var ho=Sj,Oj=vo,kj=ho;function Pj(t,e){e=Oj(e,t);for(var n=0,a=e.length;t!=null&&n<a;)t=t[kj(e[n++])];return n&&n==a?t:void 0}var bc=Pj;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var _j=bc;function Ij(t,e,n){var a=t==null?void 0:_j(t,e);return a===void 0?n:a}var we=Ij;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Nj(t,e){return t!=null&&e in Object(t)}var Tj=Nj,Ej=vo,Aj=El,Rj=Ie,Dj=Al,jj=rf,Mj=ho;function Fj(t,e,n){e=Ej(e,t);for(var a=-1,r=e.length,o=!1;++a<r;){var l=Mj(e[a]);if(!(o=t!=null&&n(t,l)))break;t=t[l]}return o||++a!=r?o:(r=t==null?0:t.length,!!r&&jj(r)&&Dj(l,r)&&(Rj(t)||Aj(t)))}var Lj=Fj,$j=Tj,Bj=Lj;function zj(t,e){return t!=null&&Bj(t,e,$j)}var zm=zj;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Hj(t){return function(e){return e==null?void 0:e[t]}}var Hm=Hj;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Wm(t){if(Array.isArray(t))return t}function Wj(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a,r,o,l,s=[],c=!0,d=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=o.call(n)).done)&&(s.push(a.value),s.length!==e);c=!0);}catch(u){d=!0,r=u}finally{try{if(!c&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(d)throw r}}return s}}function Um(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ce(t,e){return Wm(t)||Wj(t,e)||Vd(t,e)||Um()}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function ai(t,e){var n=Object.keys(e);n.forEach(function(a){t.style[a]=e[a]})}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Uj(t,e){if(t==null)return{};var n={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(e.includes(a))continue;n[a]=t[a]}return n}function Er(t,e){if(t==null)return{};var n,a,r=Uj(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Kj=Ia,Yj=Ie,qj=Ln,Gj="[object String]";function Xj(t){return typeof t=="string"||!Yj(t)&&qj(t)&&Kj(t)==Gj}var Ae=Xj;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Jj(t){return t===null}var kf=Jj;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Zj(t){return t===void 0}var Kt=Zj;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Qj=Ia,Vj=Ln,eM="[object Number]";function tM(t){return typeof t=="number"||Vj(t)&&Qj(t)==eM}var nt=tM;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Qa(){if(typeof navigator>"u"||!navigator)return Number.MAX_SAFE_INTEGER;var t=navigator,e=t.userAgent,n=e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1,a=e.indexOf("Trident")>-1&&e.indexOf("rv:11.0")>-1;if(n){var r=new RegExp("MSIE (\\d+\\.\\d+);"),o=e.match(r);if(!o)return-1;var l=parseFloat(o[1]);return l<7?6:l}return a?11:Number.MAX_SAFE_INTEGER}function nM(){var t,e,n;if(typeof navigator>"u"||!navigator)return!1;var a=navigator.userAgent,r=a.match(/AppleWebKit.+Chrome\/(.+) Safari\/.+/i);if(Number(r==null||(t=r[1])===null||t===void 0?void 0:t.split(".")[0])<100)return!0;var o=a.match(/AppleWebKit.+Version\/(.+) Safari\/.+/i);if(Number(o==null||(e=o[1])===null||e===void 0?void 0:e.split(".")[0])<12)return!0;var l=Qa();if(l<=11)return!0;var s=a.match(/Firefox\/(.+)/i);return Number(s==null||(n=s[1])===null||n===void 0?void 0:n.split(".")[0])<100}function ri(t,e){var n=nt(e);if(!t||t.length===0)return n?{length:0,characters:t}:0;for(var a=0,r=0;r<t.length;r++){var o=0;if(t.charCodeAt(r)>127?o=2:o=1,n&&a+o>e)return{length:a,characters:t.slice(0,r)};a+=o}return n?{length:a,characters:t}:a}function aM(t){return he(t??"").length}function rM(t,e,n){return he(n??"").slice().length===e?n||"":he(t??"").slice(0,e).join("")}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Km(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function wc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Km(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Km(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function iM(t){var e,n,a,r={};if(!(!t||typeof window>"u")){var o=(e=window)===null||e===void 0||(n=e.getComputedStyle)===null||n===void 0?void 0:n.call(e,t),l=o.color,s=o.fontSize,c=(a=window)===null||a===void 0||(a=a.navigator)===null||a===void 0?void 0:a.userAgent,d=/Safari/.test(c)&&!/Chrome/.test(c),u=/(?=.*iPhone)[?=.*MicroMessenger]/.test(c)&&!/Chrome/.test(c);if((d||u)&&(r={transformOrigin:"0px 0px",transform:"scale(".concat(parseInt(s,10)/12,")")}),l&&Qa()>11){var f=l.match(/[\d.]+/g),v=f?"rgba(".concat(f[0],", ").concat(f[1],", ").concat(f[2],", 0)"):"";ai(t,wc(wc({},r),{},{background:"conic-gradient(from 90deg at 50% 50%,".concat(v," 0deg, ").concat(l," 360deg)")}))}else ai(t,wc(wc({},r),{},{background:""}))}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var oM=wm,lM=1,sM=4;function cM(t){return oM(t,lM|sM)}var On=cM;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Pf=i.ref();function Re(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,e=arguments.length>1?arguments[1]:void 0,n=i.getCurrentInstance()?i.inject(Jp,null):Pf,a=i.computed(function(){return(n==null?void 0:n.value)||Xp}),r=i.computed(function(){return Object.assign({},a.value[t],e)}),o=i.computed(function(){return a.value.classPrefix}),l=function(c){for(var d=arguments.length,u=new Array(d>1?d-1:0),f=1;f<d;f++)u[f-1]=arguments[f];var v=u[0];if(Ae(c)){if(!v)return c;var h=/\{\s*([\w-]+)\s*\}/g,g=c.replace(h,function(p,m){return v?String(v[m]):""});return g}return pe(c)?u.length?c.apply(void 0,u):c(i.h):""};return{t:l,global:r,globalConfig:r,classPrefix:o}}var uM=function(e){var n=On(Xp),a=i.computed(function(){return Object.assign({},S9(n,e.globalConfig))});return i.provide(Jp,a),Pf.value||(Pf.value=a.value),a};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function ae(t){var e=Re("classPrefix"),n=e.classPrefix;return i.computed(function(){return t?"".concat(n.value,"-").concat(t):n.value})}function lt(){var t=Re("classPrefix"),e=t.classPrefix;return{SIZE:i.computed(function(){return{small:"".concat(e.value,"-size-s"),medium:"".concat(e.value,"-size-m"),large:"".concat(e.value,"-size-l"),default:"",xs:"".concat(e.value,"-size-xs"),xl:"".concat(e.value,"-size-xl"),block:"".concat(e.value,"-size-full-width")}}),STATUS:i.computed(function(){return{loading:"".concat(e.value,"-is-loading"),loadMore:"".concat(e.value,"-is-load-more"),disabled:"".concat(e.value,"-is-disabled"),focused:"".concat(e.value,"-is-focused"),success:"".concat(e.value,"-is-success"),error:"".concat(e.value,"-is-error"),warning:"".concat(e.value,"-is-warning"),selected:"".concat(e.value,"-is-selected"),active:"".concat(e.value,"-is-active"),checked:"".concat(e.value,"-is-checked"),current:"".concat(e.value,"-is-current"),hidden:"".concat(e.value,"-is-hidden"),visible:"".concat(e.value,"-is-visible"),expanded:"".concat(e.value,"-is-expanded"),indeterminate:"".concat(e.value,"-is-indeterminate")}})}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var dM=i.defineComponent({name:"TLoadingGradient",setup:function(){var e=ae();return i.onMounted(function(){var n=i.getCurrentInstance().refs.circle;i.nextTick(function(){iM(n)})}),{classPrefix:e}},render:function(){var e=this.classPrefix,n="".concat(e,"-loading__gradient"),a=[n,"".concat(e,"-icon-loading")];return i.createVNode("svg",{class:a,viewBox:"0 0 12 12",version:"1.1",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg"},[i.createVNode("foreignObject",{x:"0",y:"0",width:"12",height:"12"},[i.createVNode("div",{class:"".concat(n,"-conic"),ref:"circle"},null)])])}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var fM=function(e,n,a,r){var o=(a-n)/2,l=e/(r/2);return l<1?o*l*l*l+n:(l-=2,o*(l*l*l+2)+n)};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Cc={exports:{}},Ll={exports:{}};(function(){var t,e,n,a,r,o;typeof performance<"u"&&performance!==null&&performance.now?Ll.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Ll.exports=function(){return(t()-r)/1e6},e=process.hrtime,t=function(){var s;return s=e(),s[0]*1e9+s[1]},a=t(),o=process.uptime()*1e9,r=a-o):Date.now?(Ll.exports=function(){return Date.now()-n},n=Date.now()):(Ll.exports=function(){return new Date().getTime()-n},n=new Date().getTime())}).call(nn);for(var vM=Ll.exports,Va=typeof window>"u"?nn:window,xc=["moz","webkit"],go="AnimationFrame",po=Va["request"+go],$l=Va["cancel"+go]||Va["cancelRequest"+go],Bl=0;!po&&Bl<xc.length;Bl++)po=Va[xc[Bl]+"Request"+go],$l=Va[xc[Bl]+"Cancel"+go]||Va[xc[Bl]+"CancelRequest"+go];if(!po||!$l){var _f=0,Ym=0,ii=[],hM=1e3/60;po=function(e){if(ii.length===0){var n=vM(),a=Math.max(0,hM-(n-_f));_f=a+n,setTimeout(function(){var r=ii.slice(0);ii.length=0;for(var o=function(){if(!r[l].cancelled)try{r[l].callback(_f)}catch(c){setTimeout(function(){throw c},0)}},l=0;l<r.length;l++)o()},Math.round(a))}return ii.push({handle:++Ym,callback:e,cancelled:!1}),Ym},$l=function(e){for(var n=0;n<ii.length;n++)ii[n].handle===e&&(ii[n].cancelled=!0)}}Cc.exports=function(t){return po.call(Va,t)},Cc.exports.cancel=function(){$l.apply(Va,arguments)},Cc.exports.polyfill=function(t){t||(t=Va),t.requestAnimationFrame=po,t.cancelAnimationFrame=$l};var If=Cc.exports,Na=typeof window>"u",gM=function(e){return(e||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")},pt=function(){return!Na&&document.addEventListener?function(t,e,n,a){t&&e&&n&&t.addEventListener(e,n,a)}:function(t,e,n){t&&e&&n&&t.attachEvent("on".concat(e),n)}}(),rt=function(){return!Na&&document.removeEventListener?function(t,e,n,a){t&&e&&t.removeEventListener(e,n,a)}:function(t,e,n){t&&e&&t.detachEvent("on".concat(e),n)}}();function pM(t,e,n,a){var r=pe(n)?n:n.handleEvent,o=function(s){r(s),rt(t,e,o,a)};pt(t,e,o,a)}function Nf(t,e){if(!t||!e)return!1;if(e.indexOf(" ")!==-1)throw new Error("className should not contain space.");return t.classList?t.classList.contains(e):" ".concat(t.className," ").indexOf(" ".concat(e," "))>-1}function zl(t,e){if(t){for(var n=t.className,a=(e||"").split(" "),r=0,o=a.length;r<o;r++){var l=a[r];l&&(t.classList?t.classList.add(l):Nf(t,l)||(n+=" ".concat(l)))}t.classList||(t.className=n)}}function Sc(t,e){if(!(!t||!e)){for(var n=e.split(" "),a=" ".concat(t.className," "),r=0,o=n.length;r<o;r++){var l=n[r];l&&(t.classList?t.classList.remove(l):Nf(t,l)&&(a=a.replace(" ".concat(l," ")," ")))}t.classList||(t.className=gM(a))}}var mo=function(e,n){var a=pe(e)?e(n):e;return a?Ae(a)?document.querySelector(a):a instanceof HTMLElement?a:document.body:document.body},qm=function(){if(process.env.NODE_ENV==="test-snap")return"body"},Gm=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"body";return Ae(e)?document.querySelector(e):pe(e)?e():e};function Xm(t){return t&&t===t.window}function Jm(t,e){if(Na||!t)return 0;var n="scrollTop",a=0;return Xm(t)?a=t.pageYOffset:t instanceof Document?a=t.documentElement[n]:t&&(a=t[n]),a}function Tf(t,e){var n=e.container,a=n===void 0?window:n,r=e.duration,o=r===void 0?450:r,l=e.easing,s=l===void 0?fM:l,c=Jm(a),d=Date.now();return new Promise(function(u){var f=function(){var h=Date.now(),g=h-d,p=s(Math.min(g,o),c,t,o);Xm(a)?a.scrollTo(window.pageXOffset,p):a instanceof Document||a.constructor.name==="HTMLDocument"?a.documentElement.scrollTop=p:a.scrollTop=p,g<o?If(f):If(u)};If(f)})}var Oc=function(e){var n=e.clientWidth,a=n===void 0?0:n,r=e.scrollWidth,o=r===void 0?0:r;return o>a},mM=function(e){if(!(e instanceof HTMLFormElement))throw new Error("target must be HTMLFormElement");var n=document.createElement("input");n.type="submit",n.hidden=!0,e.appendChild(n),n.click(),e.removeChild(n)};function Zm(t,e){var n=t.getBoundingClientRect();if(e){var a=e.getBoundingClientRect();return n.top>=a.top&&n.left>=a.left&&n.bottom<=a.bottom&&n.right<=a.right}return n.top>=0&&n.left>=0&&n.bottom+80<=window.innerHeight&&n.right<=window.innerWidth}function Qm(t,e){var n="";return document.defaultView&&document.defaultView.getComputedStyle&&(n=document.defaultView.getComputedStyle(t,null).getPropertyValue(e)),n&&n.toLowerCase?n.toLowerCase():n}function Ef(t){var e=t.parentNode;return!e||e.nodeName==="HTML"?!1:Qm(t,"position")==="fixed"?!0:Ef(e)}function Vm(){var t=document,e=t.body,n=document.documentElement,a=window.pageYOffset||n.scrollTop||e.scrollTop,r=window.pageXOffset||n.scrollLeft||e.scrollLeft;return{scrollTop:a,scrollLeft:r}}function yM(){if(window.innerWidth!==void 0)return{width:window.innerWidth,height:window.innerHeight};var t=document.documentElement;return{width:t.clientWidth,height:t.clientHeight}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var bM=Qp,wM=jl,CM=El,xM=Ie,SM=io,OM=Nr.exports,kM=lc,PM=oc,_M="[object Map]",IM="[object Set]",NM=Object.prototype,TM=NM.hasOwnProperty;function EM(t){if(t==null)return!0;if(SM(t)&&(xM(t)||typeof t=="string"||typeof t.splice=="function"||OM(t)||PM(t)||CM(t)))return!t.length;var e=wM(t);if(e==_M||e==IM)return!t.size;if(kM(t))return!bM(t).length;for(var n in t)if(TM.call(t,n))return!1;return!0}var kn=EM;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function AM(t,e,n){var a=-1,r=t.length;e<0&&(e=-e>r?0:r+e),n=n>r?r:n,n<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(r);++a<r;)o[a]=t[a+e];return o}var Af=AM;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var RM=Af;function DM(t,e,n){var a=t.length;return n=n===void 0?a:n,!e&&n>=a?t:RM(t,e,n)}var e0=DM,jM="\\ud800-\\udfff",MM="\\u0300-\\u036f",FM="\\ufe20-\\ufe2f",LM="\\u20d0-\\u20ff",$M=MM+FM+LM,BM="\\ufe0e\\ufe0f",zM="\\u200d",HM=RegExp("["+zM+jM+$M+BM+"]");function WM(t){return HM.test(t)}var kc=WM;function UM(t){return t.split("")}var KM=UM,t0="\\ud800-\\udfff",YM="\\u0300-\\u036f",qM="\\ufe20-\\ufe2f",GM="\\u20d0-\\u20ff",XM=YM+qM+GM,JM="\\ufe0e\\ufe0f",ZM="["+t0+"]",Rf="["+XM+"]",Df="\\ud83c[\\udffb-\\udfff]",QM="(?:"+Rf+"|"+Df+")",n0="[^"+t0+"]",a0="(?:\\ud83c[\\udde6-\\uddff]){2}",r0="[\\ud800-\\udbff][\\udc00-\\udfff]",VM="\\u200d",i0=QM+"?",o0="["+JM+"]?",e7="(?:"+VM+"(?:"+[n0,a0,r0].join("|")+")"+o0+i0+")*",t7=o0+i0+e7,n7="(?:"+[n0+Rf+"?",Rf,a0,r0,ZM].join("|")+")",a7=RegExp(Df+"(?="+Df+")|"+n7+t7,"g");function r7(t){return t.match(a7)||[]}var i7=r7,o7=KM,l7=kc,s7=i7;function c7(t){return l7(t)?s7(t):o7(t)}var l0=c7;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function u7(t,e,n,a){var r=-1,o=t==null?0:t.length;for(a&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}var d7=u7;function f7(t){return function(e){return t==null?void 0:t[e]}}var v7=f7,h7=v7,g7={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},p7=h7(g7),m7=p7,y7=m7,b7=Tr,w7=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,C7="\\u0300-\\u036f",x7="\\ufe20-\\ufe2f",S7="\\u20d0-\\u20ff",O7=C7+x7+S7,k7="["+O7+"]",P7=RegExp(k7,"g");function _7(t){return t=b7(t),t&&t.replace(w7,y7).replace(P7,"")}var I7=_7,N7=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function T7(t){return t.match(N7)||[]}var E7=T7,A7=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function R7(t){return A7.test(t)}var D7=R7,s0="\\ud800-\\udfff",j7="\\u0300-\\u036f",M7="\\ufe20-\\ufe2f",F7="\\u20d0-\\u20ff",L7=j7+M7+F7,c0="\\u2700-\\u27bf",u0="a-z\\xdf-\\xf6\\xf8-\\xff",$7="\\xac\\xb1\\xd7\\xf7",B7="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",z7="\\u2000-\\u206f",H7=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",d0="A-Z\\xc0-\\xd6\\xd8-\\xde",W7="\\ufe0e\\ufe0f",f0=$7+B7+z7+H7,v0="['’]",h0="["+f0+"]",U7="["+L7+"]",g0="\\d+",K7="["+c0+"]",p0="["+u0+"]",m0="[^"+s0+f0+g0+c0+u0+d0+"]",Y7="\\ud83c[\\udffb-\\udfff]",q7="(?:"+U7+"|"+Y7+")",G7="[^"+s0+"]",y0="(?:\\ud83c[\\udde6-\\uddff]){2}",b0="[\\ud800-\\udbff][\\udc00-\\udfff]",yo="["+d0+"]",X7="\\u200d",w0="(?:"+p0+"|"+m0+")",J7="(?:"+yo+"|"+m0+")",C0="(?:"+v0+"(?:d|ll|m|re|s|t|ve))?",x0="(?:"+v0+"(?:D|LL|M|RE|S|T|VE))?",S0=q7+"?",O0="["+W7+"]?",Z7="(?:"+X7+"(?:"+[G7,y0,b0].join("|")+")"+O0+S0+")*",Q7="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",V7="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",eF=O0+S0+Z7,tF="(?:"+[K7,y0,b0].join("|")+")"+eF,nF=RegExp([yo+"?"+p0+"+"+C0+"(?="+[h0,yo,"$"].join("|")+")",J7+"+"+x0+"(?="+[h0,yo+w0,"$"].join("|")+")",yo+"?"+w0+"+"+C0,yo+"+"+x0,V7,Q7,g0,tF].join("|"),"g");function aF(t){return t.match(nF)||[]}var rF=aF,iF=E7,oF=D7,lF=Tr,sF=rF;function cF(t,e,n){return t=lF(t),e=n?void 0:e,e===void 0?oF(t)?sF(t):iF(t):t.match(e)||[]}var uF=cF,dF=d7,fF=I7,vF=uF,hF="['’]",gF=RegExp(hF,"g");function pF(t){return function(e){return dF(vF(fF(e).replace(gF,"")),t,"")}}var jf=pF;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var mF=e0,yF=kc,bF=l0,wF=Tr;function CF(t){return function(e){e=wF(e);var n=yF(e)?bF(e):void 0,a=n?n[0]:e.charAt(0),r=n?mF(n,1).join(""):e.slice(1);return a[t]()+r}}var xF=CF,SF=xF,OF=SF("toUpperCase"),Pc=OF,kF=Tr,PF=Pc;function _F(t){return PF(kF(t).toLowerCase())}var IF=_F,NF=IF,TF=jf,EF=TF(function(t,e,n){return e=e.toLowerCase(),t+(n?NF(e):e)}),Ta=EF;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var AF=jf,RF=AF(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),bo=RF;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function oi(t){var e;return Le(t)&&"defaultNode"in t?e=t.defaultNode:(i.isVNode(t)||Ae(t))&&(e=t),e}function k0(t){var e=[],n=function(r){if(Ie(r))return r.forEach(function(o){if(o.children&&Ie(o.children)){if(o.type!==i.Fragment)return;n(o.children)}else e.push(o)}),e};return n(t)}function _c(t){return Le(t)&&"params"in t?t.params:{}}function DF(t){return Le(t)&&"slotFirst"in t?t.slotFirst:{}}function P0(t,e,n){var a,r,o,l,s=(a=(r=t.$slots)[Ta(n)])===null||a===void 0?void 0:a.call(r,e);return s||(s=(o=(l=t.$slots)[bo(n)])===null||o===void 0?void 0:o.call(l,e),s)?s:null}var Yt=function(e,n,a){var r=_c(a),o=oi(a),l;if(n in e&&(l=e[n]),!(l===!1||l===null)){if(l===!0&&o)return P0(e,r,n)||o;if(pe(l))return l(i.h,r);var s=[void 0,r,""].includes(l);return s&&(e.$slots[Ta(n)]||e.$slots[bo(n)])?P0(e,r,n):l}},jF=function(e,n,a){var r=oi(a);return Yt(e,n,a)||r},fa=function(e,n,a,r){var o=_c(r),l=oi(r),s=o?{params:o}:void 0,c=Yt(e,n,s),d=Yt(e,a,s),u=kn(c)?d:c;return kn(u)?l:u};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var MF={attach:{type:[String,Function],default:""},content:{type:[String,Function]},default:{type:[String,Function]},delay:{type:Number,default:0},fullscreen:Boolean,indicator:{type:[Boolean,Function],default:!0},inheritColor:Boolean,loading:{type:Boolean,default:!0},preventScrollThrough:{type:Boolean,default:!0},showOverlay:{type:Boolean,default:!0},size:{type:String,default:"medium"},text:{type:[String,Function]},zIndex:{type:Number}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Ic=function(e,n){var a=pe(e)?i.computed(e):i.ref(e),r=pe(n)?i.computed(n):i.ref(n),o=i.ref(),l=function(){o.value=qm()||mo(a.value,r.value)};return i.onMounted(function(){return l()}),i.watch([a,r],function(){return l()}),o};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var FF=function(){return{name:ae("loading"),centerClass:ae("loading--center"),fullscreenClass:ae("loading__fullscreen"),lockClass:ae("loading--lock"),overlayClass:ae("loading__overlay"),relativeClass:ae("loading__parent"),fullClass:ae("loading--full"),inheritColorClass:ae("loading--inherit-color")}},Mf=i.defineComponent({name:"TLoading",inheritAttrs:!1,props:MF,setup:function(e,n){var a=n.slots,r=i.ref(!1),o=FF(),l=o.name,s=o.centerClass,c=o.fullscreenClass,d=o.lockClass,u=o.overlayClass,f=o.relativeClass,v=o.fullClass,h=o.inheritColorClass,g=ae(),p=lt(),m=p.SIZE,y=function(){r.value=!1;var R=setTimeout(function(){r.value=!0,clearTimeout(R)},e.delay)},b=Ic(function(){return e.attach}),w=i.computed(function(){return!!(!e.delay||e.delay&&r.value)}),C=i.computed(function(){var E={};return e.zIndex!==void 0&&(E.zIndex=e.zIndex),["small","medium","large"].includes(e.size)||(E["font-size"]=e.size),E}),x=i.computed(function(){return!!(e.default||a.default||e.content||a.content)}),k=i.computed(function(){return e.preventScrollThrough&&e.fullscreen}),P=i.computed(function(){return!!(e.text||a.text)}),I=i.computed(function(){return x.value&&e.loading&&w.value}),D=i.computed(function(){return e.fullscreen&&e.loading&&w.value}),L=i.computed(function(){return e.attach&&e.loading&&w.value}),O=i.computed(function(){return e.attach&&e.loading&&w.value}),S=i.computed(function(){var E=[s.value,m.value[e.size],G({},h.value,e.inheritColor)],R=[l.value,c.value,s.value,u.value];return{baseClasses:E,attachClasses:E.concat([l.value,v.value,G({},u.value,e.showOverlay)]),withContentClasses:E.concat([l.value,v.value,G({},u.value,e.showOverlay)]),fullScreenClasses:R,normalClasses:E.concat([l.value])}}),_=i.toRefs(e),A=_.loading;return i.watch([A],function(E){var R=Ce(E,1),N=R[0];N?(y(),k.value&&zl(document.body,d.value)):k.value&&Sc(document.body,d.value)}),i.onMounted(function(){e.delay&&y()}),{classPrefix:g,relativeClass:f,delayShowLoading:r,styles:C,showText:P,hasContent:x,classes:S,lockFullscreen:k,showWrapLoading:I,showNormalLoading:L,showFullScreenLoading:D,showAttachedLoading:O,teleportElement:b}},render:function(){var e=this,n=this.classes,a=n.fullScreenClasses,r=n.baseClasses,o=n.withContentClasses,l=n.attachClasses,s=n.normalClasses,c=i.createVNode(dM,{size:this.size},null),d=this.loading&&Yt(this,"indicator",c),u=this.showText&&i.createVNode("div",{class:"".concat(this.classPrefix,"-loading__text")},[Yt(this,"text")]);return this.fullscreen?!this.showFullScreenLoading||!this.loading?null:i.createVNode(i.Teleport,{disabled:!this.attach||!this.teleportElement,to:this.teleportElement},{default:function(){return[i.createVNode("div",i.mergeProps({class:a,style:e.styles},e.$attrs),[i.createVNode("div",{class:r},[d,u])])]}}):this.hasContent?i.createVNode("div",i.mergeProps({class:this.relativeClass},this.$attrs),[fa(this,"default","content"),this.showWrapLoading&&i.createVNode("div",{class:o,style:this.styles},[d,u])]):this.attach?!this.showAttachedLoading||!this.loading?null:i.createVNode(i.Teleport,{disabled:!this.attach||!this.teleportElement,to:this.teleportElement},{default:function(){return[i.createVNode("div",i.mergeProps({class:l,style:e.styles},e.$attrs),[d,u])]}}):this.loading?i.createVNode("div",i.mergeProps({class:s,style:this.styles},this.$attrs),[d,u]):null}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function _0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function LF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_0(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_0(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var wo=null;function $F(t){var e=fc({fullscreen:!1,attach:"body",loading:!0,preventScrollThrough:!0},t);return e}function I0(t){var e=$F(t);if(e.fullscreen&&wo)return wo;var n=i.defineComponent({setup:function(){var f=i.reactive(e);return{loadingOptions:f}},render:function(){return i.h(Mf,LF({},this.loadingOptions))}}),a=mo(e.fullscreen?"body":e.attach),r=i.createApp(n),o=r.mount(document.createElement("div")),l=ae("loading__parent--relative").value,s=ae("loading--lock"),c=e.preventScrollThrough&&e.fullscreen;c&&zl(document.body,s.value),a?zl(a,l):console.error("attach is not exist");var d={hide:function(){o.loading=!1,Sc(a,l),Sc(document.body,s.value),r.unmount()}};return d}function N0(t){if(t===!0)return wo=I0({fullscreen:!0,loading:!0,attach:"body",preventScrollThrough:!0}),wo;if(t===!1){var e;(e=wo)===null||e===void 0||e.hide(),wo=null;return}return I0(t)}var Ff=N0;Ff.install=function(t){t.config.globalProperties.$loading=N0};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var BF=$p,zF=Ml;function HF(t,e){return t&&BF(t,e,zF)}var T0=HF,WF=sc,UF=xf,KF=1,YF=2;function qF(t,e,n,a){var r=n.length,o=r,l=!a;if(t==null)return!o;for(t=Object(t);r--;){var s=n[r];if(l&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<o;){s=n[r];var c=s[0],d=t[c],u=s[1];if(l&&s[2]){if(d===void 0&&!(c in t))return!1}else{var f=new WF;if(a)var v=a(d,u,c,t,e,f);if(!(v===void 0?UF(u,d,KF|YF,a,f):v))return!1}}return!0}var GF=qF,XF=Le;function JF(t){return t===t&&!XF(t)}var E0=JF,ZF=E0,QF=Ml;function VF(t){for(var e=QF(t),n=e.length;n--;){var a=e[n],r=t[a];e[n]=[a,r,ZF(r)]}return e}var eL=VF;function tL(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var A0=tL,nL=GF,aL=eL,rL=A0;function iL(t){var e=aL(t);return e.length==1&&e[0][2]?rL(e[0][0],e[0][1]):function(n){return n===t||nL(n,t,e)}}var oL=iL,lL=xf,sL=we,cL=zm,uL=Sf,dL=E0,fL=A0,vL=ho,hL=1,gL=2;function pL(t,e){return uL(t)&&dL(e)?fL(vL(t),e):function(n){var a=sL(n,t);return a===void 0&&a===e?cL(n,t):lL(e,a,hL|gL)}}var mL=pL,yL=bc;function bL(t){return function(e){return yL(e,t)}}var wL=bL,CL=Hm,xL=wL,SL=Sf,OL=ho;function kL(t){return SL(t)?CL(OL(t)):xL(t)}var PL=kL,_L=oL,IL=mL,NL=co,TL=Ie,EL=PL;function AL(t){return typeof t=="function"?t:t==null?NL:Je(t)=="object"?TL(t)?IL(t[0],t[1]):_L(t):EL(t)}var Nc=AL,RL=tc,DL=T0,jL=Nc;function ML(t,e){var n={};return e=jL(e),DL(t,function(a,r,o){RL(n,e(a,r,o),a)}),n}var FL=ML,Lf=Symbol("TdLoading"),R0=function(e,n){var a=n.modifiers,r=a.fullscreen,o=a.inheritColor,l={attach:function(){return e},fullscreen:r??!1,inheritColor:o??!1,loading:n.value};Le(n.value)&&FL(n.value,function(s,c){l[c]=s}),e[Lf]={options:l,instance:Ff(l)}},D0={mounted:function(e,n){n.value&&R0(e,n)},updated:function(e,n){var a=e[Lf],r=n.value,o=n.oldValue;if(!Dm(r,o)){var l,s=(l=r==null?void 0:r.loading)!==null&&l!==void 0?l:r;s?R0(e,n):a==null||a.instance.hide()}},unmounted:function(e){var n;(n=e[Lf])===null||n===void 0||n.instance.hide()}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function be(t,e,n){var a=t;return a.install=function(r,o){r.component(e||o||a.name,t),n&&r.directive(n.name,n.comp)},a}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var an=be(Mf,Mf.name,{name:"loading",comp:D0});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var LL={block:Boolean,content:{type:[String,Function]},default:{type:[String,Function]},disabled:{type:Boolean,default:void 0},form:{type:String,default:void 0},ghost:Boolean,href:{type:String,default:""},icon:{type:Function},loading:Boolean,loadingProps:{type:Object},shape:{type:String,default:"rectangle",validator:function(e){return e?["rectangle","square","round","circle"].includes(e):!0}},size:{type:String,default:"medium",validator:function(e){return e?["extra-small","small","medium","large"].includes(e):!0}},suffix:{type:Function},tag:{type:String,validator:function(e){return e?["button","a","div"].includes(e):!0}},theme:{type:String,validator:function(e){return e?["default","primary","danger","warning","success"].includes(e):!0}},type:{type:String,default:"button",validator:function(e){return e?["submit","reset","button"].includes(e):!0}},variant:{type:String,default:"base",validator:function(e){return e?["base","outline","dashed","text"].includes(e):!0}},onClick:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var $L=vc.expand,BL=vc.ripple,zL=vc.fade;function HL(){var t=Re("animation"),e=t.globalConfig,n=function(r){var o,l,s=e.value;return s&&!((o=s.exclude)!==null&&o!==void 0&&o.includes(r))&&((l=s.include)===null||l===void 0?void 0:l.includes(r))};return{keepExpand:n($L),keepRipple:n(BL),keepFade:n(zL)}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function j0(t,e){var n=Object.keys(e);n.forEach(function(a){t.style[a]=e[a]})}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var $f=200,WL="rgba(0, 0, 0, 0)",UL="rgba(0, 0, 0, 0.35)",KL=function(e,n){var a;if(n)return n;if(e!=null&&(a=e.dataset)!==null&&a!==void 0&&a.ripple){var r=e.dataset.ripple;return r}var o=getComputedStyle(e).getPropertyValue("--ripple-color");return o||UL};function Ar(t,e){var n=i.ref(null),a=ae(),r=HL(),o=r.keepRipple,l=function(c){var d=t.value,u=KL(d,e==null?void 0:e.value);if(!(c.button!==0||!t||!o)&&!(d.classList.contains("".concat(a.value,"-is-active"))||d.classList.contains("".concat(a.value,"-is-disabled"))||d.classList.contains("".concat(a.value,"-is-checked"))||d.classList.contains("".concat(a.value,"-is-loading")))){var f=getComputedStyle(d),v=parseInt(f.borderWidth,10),h=v>0?v:0,g=d.offsetWidth,p=d.offsetHeight;n.value.parentNode===null&&(j0(n.value,{position:"absolute",left:"".concat(0-h,"px"),top:"".concat(0-h,"px"),width:"".concat(g,"px"),height:"".concat(p,"px"),borderRadius:f.borderRadius,pointerEvents:"none",overflow:"hidden"}),d.appendChild(n.value));var m=document.createElement("div");j0(m,{marginTop:"0",marginLeft:"0",right:"".concat(g,"px"),width:"".concat(g+20,"px"),height:"100%",transition:"transform ".concat($f,"ms cubic-bezier(.38, 0, .24, 1), background ").concat($f*2,"ms linear"),transform:"skewX(-8deg)",pointerEvents:"none",position:"absolute",zIndex:0,backgroundColor:u,opacity:"0.9"});for(var y=new WeakMap,b=d.children.length,w=0;w<b;++w){var C=d.children[w];C.style.zIndex===""&&C!==n.value&&(C.style.zIndex="1",y.set(C,!0))}var x=d.style.position?d.style.position:getComputedStyle(d).position;(x===""||x==="static")&&(d.style.position="relative"),n.value.insertBefore(m,n.value.firstChild),setTimeout(function(){m.style.transform="translateX(".concat(g,"px)")},0);var k=function(){m.style.backgroundColor=WL,t.value&&(t.value.removeEventListener("pointerup",k,!1),t.value.removeEventListener("pointerleave",k,!1),setTimeout(function(){m.remove(),n.value.children.length===0&&n.value.remove()},$f*2+100))};t.value.addEventListener("pointerup",k,!1),t.value.addEventListener("pointerleave",k,!1)}};i.onMounted(function(){var s=t==null?void 0:t.value;s&&(n.value=document.createElement("div"),s.addEventListener("pointerdown",l,!1))}),i.onUnmounted(function(){var s;t==null||(s=t.value)===null||s===void 0||s.removeEventListener("pointerdown",l,!1)})}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function M0(t,e,n){var a,r,o,l,s=(a=(r=t.slots)[Ta(e)])===null||a===void 0?void 0:a.call(r,n);return s&&s.filter(function(c){return c.type.toString()!=="Symbol(v-cmt)"}).length||(s=(o=(l=t.slots)[bo(e)])===null||o===void 0?void 0:o.call(l,n),s&&s.filter(function(c){return c.type.toString()!=="Symbol(v-cmt)"}).length)?s:null}function F0(t){if([void 0,null,""].includes(t))return!0;var e=t instanceof Array?t:[t],n=e.filter(function(a){var r;return(a==null||(r=a.type)===null||r===void 0?void 0:r.toString())!=="Symbol(Comment)"});return!n.length}var Pe=function(){var e=i.getCurrentInstance();return function(n,a){var r=_c(a),o=oi(a),l=DF(a),s;if(Object.keys(e.props).includes(n)&&(s=e.props[n]),!(s===!1||s===null)){if(s===!0)return M0(e,n,r)||o;if(pe(s))return s(i.h,r);var c=[void 0,r,""].includes(s);return(c||l)&&(e.slots[Ta(n)]||e.slots[bo(n)])?M0(e,n,r):s}}},va=function(){var e=Pe();return function(n,a){var r=oi(a);return e(n,a)||r}},ft=function(){var e=Pe();return function(n,a,r){var o=_c(r),l=oi(r),s=o?{params:o}:void 0,c=e(n,s),d=e(a,s),u=F0(c)?d:c;return F0(u)?l:u}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var YL=Ia,qL=Ln,GL="[object Boolean]";function XL(t){return t===!0||t===!1||qL(t)&&YL(t)==GL}var Ht=XL;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function St(t){var e=i.getCurrentInstance(),n=i.computed(function(){return e.props.disabled}),a=i.inject("formDisabled",Object.create(null));return i.computed(function(){var r,o,l;return Ht(t==null||(r=t.beforeDisabled)===null||r===void 0?void 0:r.value)?t.beforeDisabled.value:Ht(n.value)?n.value:Ht(t==null||(o=t.afterDisabled)===null||o===void 0?void 0:o.value)?t.afterDisabled.value:Ht((l=a.disabled)===null||l===void 0?void 0:l.value)?a.disabled.value:!1})}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function L0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Tc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L0(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L0(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var Ec=i.defineComponent({name:"TButton",props:LL,setup:function(e,n){var a=n.attrs,r=n.slots,o=Pe(),l=ft(),s=ae("button"),c=lt(),d=c.STATUS,u=c.SIZE,f=i.ref();Ar(f);var v=St(),h=i.computed(function(){var p=e.theme,m=e.variant;return p||(m==="base"?"primary":"default")}),g=i.computed(function(){return["".concat(s.value),"".concat(s.value,"--variant-").concat(e.variant),"".concat(s.value,"--theme-").concat(h.value),G(G(G(G(G(G({},u.value[e.size],e.size!=="medium"),d.value.disabled,v.value),d.value.loading,e.loading),"".concat(s.value,"--shape-").concat(e.shape),e.shape!=="rectangle"),"".concat(s.value,"--ghost"),e.ghost),u.value.block,e.block)]});return function(){var p=l("default","content"),m=e.loading?i.createVNode(an,Tc({inheritColor:!0},e.loadingProps),null):o("icon"),y=m&&!p,b=e.suffix||r.suffix?i.createVNode("span",{className:"".concat(s.value,"__suffix")},[o("suffix")]):null;p=p?i.createVNode("span",{class:"".concat(s.value,"__text")},[p]):"",m&&(p=[m,p]),b&&(p=[p].concat(b));var w=function(){return!e.tag&&e.href?"a":e.tag||"button"},C={class:[].concat(he(g.value),[G({},"".concat(s.value,"--icon-only"),y)]),type:e.type,disabled:v.value||e.loading,href:e.href,tabindex:v.value?void 0:"0"};return i.h(w(),Tc(Tc(Tc({ref:f},a),C),{},{onClick:e.onClick}),[p])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var vt=be(Ec);function $e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function B0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$0(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$0(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function JL(t){var e=["fillOpacity","fillRule","clipRule"];return e.includes(t)?t.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase():t}function Be(t,e){var n=Object.keys(t.attrs).reduce((a,r)=>(a[JL(r)]=t.attrs[r],a),{});return i.h(t.tag,B0(B0({},n),e),(t.children||[]).map(a=>Be(a,{})))}var ZL="t",QL="zh-CN",z0={classPrefix:ZL,locale:QL};function VL(){var{classPrefix:t}=z0;return{SIZE:{default:"",xs:"".concat(t,"-size-xs"),small:"".concat(t,"-size-s"),medium:"".concat(t,"-size-m"),large:"".concat(t,"-size-l"),xl:"".concat(t,"-size-xl"),block:"".concat(t,"-size-full-width")},STATUS:{loading:"".concat(t,"-is-loading"),disabled:"".concat(t,"-is-disabled"),focused:"".concat(t,"-is-focused"),success:"".concat(t,"-is-success"),error:"".concat(t,"-is-error"),warning:"".concat(t,"-is-warning"),selected:"".concat(t,"-is-selected"),active:"".concat(t,"-is-active"),checked:"".concat(t,"-is-checked"),current:"".concat(t,"-is-current"),hidden:"".concat(t,"-is-hidden"),visible:"".concat(t,"-is-visible"),expanded:"".concat(t,"-is-expanded"),indeterminate:"".concat(t,"-is-indeterminate")}}}function ze(t){var e=VL().SIZE,n=i.computed(()=>t.value in e?e[t.value]:""),a=i.computed(()=>t.value===void 0||t.value in e?{}:{fontSize:t.value});return{style:a,className:n}}function H0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function W0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H0(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H0(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var e$={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M2 2h20v20H2V2zm2 2v16h16V4H4zm9 2.5V11h4.5v2H13v4.5h-2V13H6.5v-2H11V6.5h2z"}}]},t$=i.defineComponent({name:"AddRectangleIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-add-rectangle",r.value]),s=i.computed(()=>W0(W0({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(e$,c.value)}});function U0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function K0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U0(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U0(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var n$={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M13 4v7h7v2h-7v7h-2v-7H4v-2h7V4h2z"}}]},Ac=i.defineComponent({name:"AddIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-add",r.value]),s=i.computed(()=>K0(K0({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(n$,c.value)}});function Y0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function q0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y0(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y0(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var a$={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M15 12h4.5L12 22 4.5 12H9V2h6v10z"}}]},r$=i.defineComponent({name:"ArrowTriangleDownFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-arrow-triangle-down-filled",r.value]),s=i.computed(()=>q0(q0({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(a$,c.value)}});function G0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function X0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G0(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G0(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var i$={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M15 12h4.5L12 2 4.5 12H9v10h6V12z"}}]},o$=i.defineComponent({name:"ArrowTriangleUpFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-arrow-triangle-up-filled",r.value]),s=i.computed(()=>X0(X0({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(i$,c.value)}});function J0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Z0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J0(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J0(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var l$={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M4 4h16v2H4V4zm8 3.59l6.91 6.91-1.41 1.41-4.5-4.5V21h-2v-9.59l-4.5 4.5-1.41-1.41L12 7.59z"}}]},s$=i.defineComponent({name:"BacktopIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-backtop",r.value]),s=i.computed(()=>Z0(Z0({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(l$,c.value)}});function Q0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function V0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q0(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q0(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var c$={tag:"svg",attrs:{fill:"none",viewBox:"0 0 26 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M4 1.59l6.17 6.17 7.07 7.07L23.41 21 22 22.41l-2.97-2.96A12.5 12.5 0 011.08 12.3L1 12l.1-.3c.77-2.4 2.24-4.5 4.18-6.02L2.59 3 4 1.59zM6.7 7.1A10.53 10.53 0 003.1 12a10.5 10.5 0 0014.45 5.97l-1.8-1.8a5 5 0 01-6.93-6.93L6.7 7.11zm3.6 3.6a3 3 0 004 4l-4-4zM13 5c-.58 0-1.14.05-1.7.14l-.98.16L10 3.32l.99-.16A12.5 12.5 0 0124.9 11.7l.1.31-.1.3c-.41 1.3-1.03 2.5-1.82 3.58l-.59.8-1.61-1.18.59-.8c.6-.82 1.08-1.73 1.42-2.7A10.5 10.5 0 0013 5zm.51 1.93l.96.29a5 5 0 013.31 3.31l.3.96-1.92.58-.3-.95a3 3 0 00-1.98-1.99l-.95-.3.58-1.9z"}}]},u$=i.defineComponent({name:"BrowseOffIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-browse-off",r.value]),s=i.computed(()=>V0(V0({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(c$,c.value)}});function ey(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function ty(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ey(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ey(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var d$={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"g",attrs:{clipPath:"url(#clip0_8726_7319)"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M2.1 12a10.5 10.5 0 0019.8 0 10.5 10.5 0 00-19.8 0zm-2.01-.3a12.5 12.5 0 0123.82 0l.1.3-.1.3a12.5 12.5 0 01-23.82 0l-.1-.3.1-.3zM12 9a3 3 0 100 6 3 3 0 000-6zm-5 3a5 5 0 1110 0 5 5 0 01-10 0z"}}]}]},Bf=i.defineComponent({name:"BrowseIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-browse",r.value]),s=i.computed(()=>ty(ty({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(d$,c.value)}});function ny(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function ay(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ny(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ny(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var f$={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M6 4V1.5h2V4h8V1.5h2V4h4v18H2V4h4zM4 6v3h16V6H4zm16 5H4v9h16v-9z"}}]},ry=i.defineComponent({name:"CalendarIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-calendar",r.value]),s=i.computed(()=>ay(ay({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(f$,c.value)}});function iy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function oy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iy(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iy(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var v$={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M16.5 12l-7-7v14l7-7z"}}]},h$=i.defineComponent({name:"CaretRightSmallIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-caret-right-small",r.value]),s=i.computed(()=>oy(oy({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(v$,c.value)}});function ly(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function sy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ly(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ly(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var g$={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 23a11 11 0 100-22 11 11 0 000 22zM7.5 10.59l3 3 6-6L17.91 9l-7.41 7.41L6.09 12l1.41-1.41z"}}]},er=i.defineComponent({name:"CheckCircleFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-check-circle-filled",r.value]),s=i.computed(()=>sy(sy({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(g$,c.value)}});function cy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function uy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cy(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cy(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var p$={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M20.99 7.38l-10.61 10.6L4 11.63l1.42-1.41 4.95 4.95 9.2-9.2 1.4 1.42z"}}]},zf=i.defineComponent({name:"CheckIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-check",r.value]),s=i.computed(()=>uy(uy({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(p$,c.value)}});function dy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function fy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dy(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dy(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var m$={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M17.5 8.09l-5.5 5.5-5.5-5.5L5.09 9.5 12 16.41l6.91-6.91-1.41-1.41z"}}]},Rc=i.defineComponent({name:"ChevronDownIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-chevron-down",r.value]),s=i.computed(()=>fy(fy({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(m$,c.value)}});function vy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function hy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vy(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vy(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var y$={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M18.41 7.5l-4.5 4.5 4.5 4.5L17 17.91 11.09 12 17 6.09l1.41 1.41zm-6.5 0L7.41 12l4.5 4.5-1.41 1.41L4.59 12l5.91-5.91 1.41 1.41z"}}]},b$=i.defineComponent({name:"ChevronLeftDoubleIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-chevron-left-double",r.value]),s=i.computed(()=>hy(hy({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(y$,c.value)}});function gy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function py(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gy(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gy(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var w$={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M15.91 17.5l-5.5-5.5 5.5-5.5-1.41-1.41L7.59 12l6.91 6.91 1.41-1.41z"}}]},Co=i.defineComponent({name:"ChevronLeftIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-chevron-left",r.value]),s=i.computed(()=>py(py({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(w$,c.value)}});function my(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function yy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?my(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):my(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var C$={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 3a9 9 0 100 18 9 9 0 000-18zM1 12a11 11 0 1122 0 11 11 0 01-22 0zm9.5-5.41L15.91 12l-5.41 5.41L9.09 16l4-4-4-4 1.41-1.41z"}}]},x$=i.defineComponent({name:"ChevronRightCircleIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-chevron-right-circle",r.value]),s=i.computed(()=>yy(yy({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(C$,c.value)}});function by(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function wy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?by(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):by(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var S$={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M5.59 16.5l4.5-4.5-4.5-4.5L7 6.09 12.91 12 7 17.91 5.59 16.5zm6.5 0l4.5-4.5-4.5-4.5 1.41-1.41L19.41 12l-5.91 5.91-1.41-1.41z"}}]},O$=i.defineComponent({name:"ChevronRightDoubleIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-chevron-right-double",r.value]),s=i.computed(()=>wy(wy({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(S$,c.value)}});function Cy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function xy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cy(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cy(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var k$={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M8.09 17.5l5.5-5.5-5.5-5.5L9.5 5.09 16.41 12 9.5 18.91 8.09 17.5z"}}]},Rr=i.defineComponent({name:"ChevronRightIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-chevron-right",r.value]),s=i.computed(()=>xy(xy({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(k$,c.value)}});function Sy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Oy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sy(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sy(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var P$={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M17.5 15.91l-5.5-5.5-5.5 5.5-1.41-1.41L12 7.59l6.91 6.91-1.41 1.41z"}}]},ky=i.defineComponent({name:"ChevronUpIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-chevron-up",r.value]),s=i.computed(()=>Oy(Oy({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(P$,c.value)}});function Py(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function _y(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Py(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Py(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var _$={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 23a11 11 0 100-22 11 11 0 000 22zM8.82 7.4L12 10.6l3.18-3.19 1.42 1.42L13.4 12l3.19 3.18-1.42 1.42L12 13.4 8.82 16.6 7.4 15.18 10.6 12 7.4 8.82 8.82 7.4z"}}]},xo=i.defineComponent({name:"CloseCircleFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-close-circle-filled",r.value]),s=i.computed(()=>_y(_y({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(_$,c.value)}});function Iy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Ny(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Iy(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Iy(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var I$={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M7.05 5.64L12 10.59l4.95-4.95 1.41 1.41L13.41 12l4.95 4.95-1.41 1.41L12 13.41l-4.95 4.95-1.41-1.41L10.59 12 5.64 7.05l1.41-1.41z"}}]},ha=i.defineComponent({name:"CloseIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-close",r.value]),s=i.computed(()=>Ny(Ny({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(I$,c.value)}});function Ty(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Ey(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ty(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ty(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var N$={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M2 2h13v5.5h-2V4H4v9h3.5v2H2V2zm7 7h13v13H9V9zm2 2v9h9v-9h-9z"}}]},T$=i.defineComponent({name:"CopyIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-copy",r.value]),s=i.computed(()=>Ey(Ey({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(N$,c.value)}});function Ay(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Ry(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ay(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ay(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var E$={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M7.5 1h9v3H22v2h-2.03l-.5 17H4.53l-.5-17H2V4h5.5V1zm2 3h5V3h-5v1zM6.03 6l.44 15h11.06l.44-15H6.03zM13 8v11h-2V8h2z"}}]},Hf=i.defineComponent({name:"DeleteIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-delete",r.value]),s=i.computed(()=>Ry(Ry({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(E$,c.value)}});function Dy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function jy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dy(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dy(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var A$={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M13 3v9.59l3.5-3.5 1.41 1.41L12 16.41 6.09 10.5 7.5 9.09l3.5 3.5V3h2zM4.5 14v5h15v-5h2v7h-19v-7h2z"}}]},R$=i.defineComponent({name:"DownloadIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-download",r.value]),s=i.computed(()=>jy(jy({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(A$,c.value)}});function My(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Fy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?My(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):My(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var D$={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M16.83 1.42l5.75 5.75L7.75 22H2v-5.75L16.83 1.42zm0 8.68l2.92-2.93-2.92-2.93-2.93 2.93 2.93 2.93zm-4.34-1.51L4 17.07V20h2.93l8.48-8.49L12.5 8.6z"}}]},j$=i.defineComponent({name:"Edit1Icon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-edit-1",r.value]),s=i.computed(()=>Fy(Fy({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(D$,c.value)}});function Ly(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function $y(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ly(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ly(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var M$={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M3 10.5h3v3H3v-3zm7.5 0h3v3h-3v-3zm7.5 0h3v3h-3v-3z"}}]},F$=i.defineComponent({name:"EllipsisIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-ellipsis",r.value]),s=i.computed(()=>$y($y({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(M$,c.value)}});function By(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function zy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?By(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):By(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var L$={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 1a11 11 0 110 22 11 11 0 010-22zm-1 13h2V6.5h-2V14zm2 1.5h-2v2h2v-2z"}}]},Ea=i.defineComponent({name:"ErrorCircleFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-error-circle-filled",r.value]),s=i.computed(()=>zy(zy({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(L$,c.value)}});function Hy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Wy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hy(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hy(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var $$={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M13 2v14.5h-2V2h2zm-2 17h2v2h-2v-2z"}}]},B$=i.defineComponent({name:"ErrorIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-error",r.value]),s=i.computed(()=>Wy(Wy({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be($$,c.value)}});function Uy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Ky(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uy(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uy(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var z$={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M6 1h9.41L21 6.59V19H6V1zm2 2v14h11V9h-6V3H8zm7 .41V7h3.59L15 3.41zM4 5v16h11v2H2V5h2z"}}]},H$=i.defineComponent({name:"FileCopyIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-file-copy",r.value]),s=i.computed(()=>Ky(Ky({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(z$,c.value)}});function Yy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function qy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yy(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yy(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var W$={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M3 1h12.41L21 6.59V23H3V1zm2 2v18h14V9h-6V3H5zm10 .41V7h3.59L15 3.41zM15 10v1.65a2 2 0 01-.61 1.44l-.95.91.95.91c.39.38.61.9.61 1.44V18h-2v-1.65l-1-.96-1 .96V18H9v-1.65a2 2 0 01.61-1.44l.95-.91-.95-.91A2 2 0 019 11.65V10h2v1.65l1 .96 1-.96V10h2z"}}]},U$=i.defineComponent({name:"FileExcelIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-file-excel",r.value]),s=i.computed(()=>qy(qy({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(W$,c.value)}});function Gy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Xy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gy(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gy(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var K$={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M3 1h12.41L21 6.59V11h-2V9h-6V3H5v18h16v2H3V1zm12 2.41V7h3.59L15 3.41zM6 12h3.71c.71 0 1.29.58 1.29 1.29v2.42c0 .71-.58 1.29-1.29 1.29H8v3H6v-8zm2 3h1v-1H8v1zm3.5-3h3.71c.71 0 1.29.58 1.29 1.29v5.42c0 .71-.58 1.29-1.29 1.29H11.5v-8zm2 2v4h1v-4h-1zm3.5-.71c0-.71.58-1.29 1.29-1.29h3.38v2H19v1h2.67v2H19v3h-2v-6.71z"}}]},Y$=i.defineComponent({name:"FilePdfIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-file-pdf",r.value]),s=i.computed(()=>Xy(Xy({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(K$,c.value)}});function Jy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Zy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jy(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jy(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var q$={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M3 1h12.41L21 6.59V23H3V1zm2 2v18h14V9h-6V3H5zm10 .41V7h3.59L15 3.41zM9 10h4a2 2 0 012 2v1.6a2 2 0 01-2 2h-2V18H9v-8zm2 3.6h2V12h-2v1.6z"}}]},G$=i.defineComponent({name:"FilePowerpointIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-file-powerpoint",r.value]),s=i.computed(()=>Zy(Zy({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(q$,c.value)}});function Qy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Vy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qy(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qy(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var X$={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M3 1h12.41L21 6.59V23H3V1zm2 2v18h14V9h-6V3H5zm10 .41V7h3.59L15 3.41zM10 11v5h1v-5h2v5h1v-5h2v5a2 2 0 01-2 2h-4a2 2 0 01-2-2v-5h2z"}}]},J$=i.defineComponent({name:"FileWordIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-file-word",r.value]),s=i.computed(()=>Vy(Vy({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(X$,c.value)}});function eb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function tb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eb(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eb(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var Z$={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M3 1h12.41L21 6.59V23H3V1zm2 2v18h14V9h-6V3H5zm10 .41V7h3.59L15 3.41z"}}]},Q$=i.defineComponent({name:"FileIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-file",r.value]),s=i.computed(()=>tb(tb({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(Z$,c.value)}});function nb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function ab(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nb(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nb(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var V$={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M2.57 3h18.86l-6.93 9.82V21h-5v-8.18L2.57 3zm3.86 2l5.07 7.18V19h1v-6.82L17.57 5H6.43z"}}]},eB=i.defineComponent({name:"FilterIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-filter",r.value]),s=i.computed(()=>ab(ab({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(V$,c.value)}});function rb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function ib(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rb(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rb(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var tB={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 23a11 11 0 100-22 11 11 0 000 22zm-.17-11.11c.43-.53.97-.97 1.4-1.32A2 2 0 0012 7a2 2 0 00-1.89 1.33l-.33.95L7.9 8.6l.34-.94a4 4 0 116.24 4.47 7 7 0 00-1.1 1.01c-.27.34-.37.61-.37.85v1.25h-2V14c0-.87.39-1.57.83-2.11zM11 18.25v-2h2v2h-2z"}}]},ob=i.defineComponent({name:"HelpCircleFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-help-circle-filled",r.value]),s=i.computed(()=>ib(ib({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(tB,c.value)}});function lb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function sb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lb(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lb(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var nB={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M2 2h20v10h-2V4H4v9.59l5-5L14.41 14 13 15.41l-4-4-5 5V20h8v2H2V2zm13.55 5a1 1 0 100 2 1 1 0 000-2zm-3 1a3 3 0 116 0 3 3 0 01-6 0zm3.62 6.76L19 17.59l2.83-2.83 1.41 1.41L20.41 19l2.83 2.83-1.41 1.41L19 20.41l-2.83 2.83-1.41-1.41L17.59 19l-2.83-2.83 1.41-1.41z"}}]},cb=i.defineComponent({name:"ImageErrorIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-image-error",r.value]),s=i.computed(()=>sb(sb({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(nB,c.value)}});function ub(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function db(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ub(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ub(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var aB={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M2 2h20v20H2V2zm2 18h13.59L9 11.41l-5 5V20zm16-.41V4H4v9.59l5-5 11 11zM15.55 7a1 1 0 100 2 1 1 0 000-2zm-3 1a3 3 0 116 0 3 3 0 01-6 0z"}}]},fb=i.defineComponent({name:"ImageIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-image",r.value]),s=i.computed(()=>db(db({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(aB,c.value)}});function vb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function hb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vb(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vb(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var rB={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 23a11 11 0 100-22 11 11 0 000 22zM11 8.5v-2h2v2h-2zm2 1.5v7.5h-2V10h2z"}}]},Hl=i.defineComponent({name:"InfoCircleFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-info-circle-filled",r.value]),s=i.computed(()=>hb(hb({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(rB,c.value)}});function gb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function pb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gb(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gb(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var iB={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M2 2h20v20H2V2zm2 2v16h16V4H4zm2.5 7h11v2h-11v-2z"}}]},oB=i.defineComponent({name:"MinusRectangleIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-minus-rectangle",r.value]),s=i.computed(()=>pb(pb({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(iB,c.value)}});function mb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function yb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mb(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mb(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var lB={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M13 2v20h-2V2h2zM9 4.64V18.5H1.3L9 4.64zm6 0l7.7 13.86H15V4.64zM4.7 16.5H7v-4.14L4.7 16.5zM17 12.36v4.14h2.3L17 12.36z"}}]},sB=i.defineComponent({name:"MirrorIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-mirror",r.value]),s=i.computed(()=>yb(yb({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(lB,c.value)}});function bb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function wb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bb(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bb(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var cB={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M8.5 5v14h-2V5h2zm9.16 1.75L12.41 12l5.25 5.25-1.41 1.41L9.59 12l6.66-6.66 1.41 1.41z"}}]},uB=i.defineComponent({name:"PageFirstIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-page-first",r.value]),s=i.computed(()=>wb(wb({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(cB,c.value)}});function Cb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function xb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cb(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cb(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var dB={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M17.5 5v14h-2V5h2zm-9.75.34L14.41 12l-6.66 6.66-1.41-1.41L11.59 12 6.34 6.75l1.41-1.41z"}}]},fB=i.defineComponent({name:"PageLastIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-page-last",r.value]),s=i.computed(()=>xb(xb({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(dB,c.value)}});function Sb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Ob(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sb(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sb(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var vB={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M4 11h16v2H4v-2z"}}]},hB=i.defineComponent({name:"RemoveIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-remove",r.value]),s=i.computed(()=>Ob(Ob({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(vB,c.value)}});function kb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Pb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kb(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kb(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var gB={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M4 2v9a9 9 0 019 9h9v2H2V2h2zm0 18h7a7 7 0 00-7-7v7z"}}]},pB=i.defineComponent({name:"RotationIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-rotation",r.value]),s=i.computed(()=>Pb(Pb({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(gB,c.value)}});function _b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Ib(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_b(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_b(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var mB={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 6a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1116 0 8 8 0 01-16 0z"}}]},yB=i.defineComponent({name:"RoundIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-round",r.value]),s=i.computed(()=>Ib(Ib({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(mB,c.value)}});function Nb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Tb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nb(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nb(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var bB={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M15.1 5.9a6.5 6.5 0 10-9.2 9.2 6.5 6.5 0 009.2-9.2zM4.49 4.5a8.5 8.5 0 0112.69 11.27l5.34 5.35-1.41 1.41-5.35-5.34A8.5 8.5 0 014.5 4.49z"}}]},wB=i.defineComponent({name:"SearchIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-search",r.value]),s=i.computed(()=>Tb(Tb({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(bB,c.value)}});function Eb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Ab(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Eb(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Eb(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var CB={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 .85l9.66 5.57v11.16L12 23.15l-9.66-5.57V6.42L12 .85zm0 2.3L4.34 7.58v8.84L12 20.85l7.66-4.43V7.58L12 3.15zM12 9a3 3 0 100 6 3 3 0 000-6zm-5 3a5 5 0 1110 0 5 5 0 01-10 0z"}}]},xB=i.defineComponent({name:"SettingIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-setting",r.value]),s=i.computed(()=>Ab(Ab({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(CB,c.value)}});function Rb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Db(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rb(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rb(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var SB={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 .63l2.9 8.35 8.84.18-7.04 5.34 2.56 8.46L12 17.91l-7.26 5.05L7.3 14.5.26 9.16l8.84-.18L12 .63z"}}]},OB=i.defineComponent({name:"StarFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-star-filled",r.value]),s=i.computed(()=>Db(Db({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(SB,c.value)}});function jb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Mb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jb(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jb(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var kB={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 23a11 11 0 110-22 11 11 0 010 22zm1-17.5h-2v6.91l4 4L16.41 15 13 11.59V5.5z"}}]},Fb=i.defineComponent({name:"TimeFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-time-filled",r.value]),s=i.computed(()=>Mb(Mb({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(kB,c.value)}});function Lb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function $b(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lb(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lb(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var PB={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 21a9 9 0 100-18 9 9 0 000 18zm11-9a11 11 0 11-22 0 11 11 0 0122 0zm-8 4.41l-4-4V5.5h2v6.09L16.41 15 15 16.41z"}}]},Bb=i.defineComponent({name:"TimeIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-time",r.value]),s=i.computed(()=>$b($b({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(PB,c.value)}});function zb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Hb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zb(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zb(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var _B={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 2.59l5.91 5.91-1.41 1.41-3.5-3.5V16h-2V6.41l-3.5 3.5L6.09 8.5 12 2.59zM4.5 14v5h15v-5h2v7h-19v-7h2z"}}]},IB=i.defineComponent({name:"UploadIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-upload",r.value]),s=i.computed(()=>Hb(Hb({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(_B,c.value)}});function Wb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Ub(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wb(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wb(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var NB={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M2 2h20v20H2V2zm2 2v16h16V4H4zm4 2.37L17.75 12 8 17.63V6.37zm2 3.46v4.34L13.75 12 10 9.83z"}}]},TB=i.defineComponent({name:"VideoIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-video",r.value]),s=i.computed(()=>Ub(Ub({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(NB,c.value)}});function Kb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Yb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kb(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kb(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var EB={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M15.1 5.9a6.5 6.5 0 10-9.2 9.2 6.5 6.5 0 009.2-9.2zM4.49 4.5a8.5 8.5 0 0112.69 11.27l5.34 5.35-1.41 1.41-5.35-5.34A8.5 8.5 0 014.5 4.49zM11.5 6.5v3h3v2h-3v3h-2v-3h-3v-2h3v-3h2z"}}]},AB=i.defineComponent({name:"ZoomInIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-zoom-in",r.value]),s=i.computed(()=>Yb(Yb({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(EB,c.value)}});function qb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Gb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qb(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qb(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var RB={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M15.1 5.9a6.5 6.5 0 10-9.2 9.2 6.5 6.5 0 009.2-9.2zM4.49 4.5a8.5 8.5 0 0112.69 11.27l5.34 5.35-1.41 1.41-5.35-5.34A8.5 8.5 0 014.5 4.49zM6.5 11.5v-2h8v2h-8z"}}]},DB=i.defineComponent({name:"ZoomOutIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),{className:r,style:o}=ze(a),l=i.computed(()=>["t-icon","t-icon-zoom-out",r.value]),s=i.computed(()=>Gb(Gb({},o.value),n.style)),c=i.computed(()=>({class:l.value,style:s.value,onClick:d=>{var u;return(u=t.onClick)===null||u===void 0?void 0:u.call(t,{e:d})}}));return()=>Be(RB,c.value)}}),jB=typeof window>"u";function MB(t,e){if(!jB&&!(!document||!t||typeof t!="string")&&!(document.querySelectorAll(".".concat(e,'[src="').concat(t,'"]')).length>0)){var n=document.createElement("script");n.setAttribute("class",e),n.setAttribute("src",t),document.body.appendChild(n)}}var FB={name:{type:String,default:""},size:{type:String,default:void 0},url:{type:[String,Array],default:void 0},loadDefaultIcons:{type:Boolean,default:!0},onClick:Function};function Xb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Jb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xb(Object(n),!0).forEach(function(a){$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xb(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var{classPrefix:Wf}=z0,LB="https://tdesign.gtimg.com/icon/0.2.1/fonts/index.js",$B=i.defineComponent({name:"Icon",props:FB,setup(t,e){var{attrs:n}=e,a=i.computed(()=>t.size),r=i.computed(()=>t.name||""),{className:o,style:l}=ze(a),s=i.computed(()=>{var f=[];return f=t.url instanceof Array?t.url.concat():[t.url],t.loadDefaultIcons&&f.push(LB),f}),c=i.computed(()=>["".concat(Wf,"-icon"),"".concat(Wf,"-icon-").concat(r.value),o.value]),d=i.computed(()=>Jb(Jb({},l.value),n.style));i.onMounted(()=>{Array.from(new Set(s.value)).forEach(f=>{MB(f,"".concat(Wf,"-svg-js-stylesheet--unique-class"))})});var u=i.computed(()=>({class:c.value,style:d.value,onClick:f=>{var v;return(v=t.onClick)===null||v===void 0?void 0:v.call(t,{e:f})}}));return()=>i.h("svg",u.value,i.h("use",{href:t.url?"#".concat(r.value):"#t-icon-".concat(r.value)}))}}),BB=$B;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Uf=be(BB,"TIcon");/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var zB={content:{type:[String,Function]},default:{type:[String,Function]},disabled:{type:Boolean,default:void 0},download:{type:[String,Boolean]},hover:{type:String,default:"underline",validator:function(e){return e?["color","underline"].includes(e):!0}},href:{type:String,default:""},prefixIcon:{type:Function},size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},suffixIcon:{type:Function},target:{type:String,default:""},theme:{type:String,default:"default",validator:function(e){return e?["default","primary","danger","warning","success"].includes(e):!0}},underline:Boolean,onClick:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Zb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function HB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zb(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zb(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var WB=i.defineComponent({name:"TLink",props:HB({},zB),emits:["click"],setup:function(e,n){var a=n.emit,r=ft(),o=Pe(),l=ae("link"),s=lt(),c=s.STATUS,d=s.SIZE,u=Re("classPrefix"),f=u.classPrefix,v=St(),h=i.computed(function(){return["".concat(l.value),"".concat(l.value,"--theme-").concat(e.theme),G(G(G(G({},d.value[e.size],e.size!=="medium"),c.value.disabled,v.value),"".concat(f.value,"-is-underline"),e.underline),"".concat(l.value,"--hover-").concat(e.hover),!v.value)]}),g=function(m){v.value||a("click",m)};return function(){var p=r("default","content"),m=o("prefixIcon"),y=o("suffixIcon");return i.createVNode("a",{class:he(h.value),href:v.value||!e.href?void 0:e.href,target:e.target?e.target:void 0,download:e.download?e.download:void 0,onClick:g},[m?i.createVNode("span",{class:"".concat(l.value,"__prefix-icon")},[m]):null,p,y?i.createVNode("span",{class:"".concat(l.value,"__suffix-icon")},[y]):null])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Dc=be(WB);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var UB={align:{type:String,default:"top",validator:function(e){return e?["start","end","center","stretch","baseline","top","middle","bottom"].includes(e):!0}},gutter:{type:[Number,Object,Array],default:0},justify:{type:String,default:"start",validator:function(e){return e?["start","end","center","space-around","space-between"].includes(e):!0}},tag:{type:String,default:"div"}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Qb=function(e){var n="xs";return e<768?n="xs":e>=768&&e<992?n="sm":e>=992&&e<1200?n="md":e>=1200&&e<1400?n="lg":e>=1400&&e<1880?n="xl":n="xxl",n};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Vb(t,e){i.onMounted(function(){window.addEventListener(t,e)}),i.onBeforeUnmount(function(){window.removeEventListener(t,e)})}function KB(t,e){Vb("resize",t);var n=null;i.onMounted(function(){!window.ResizeObserver||!e||(n=new window.ResizeObserver(t),n.observe(e))}),i.onBeforeUnmount(function(){var a;(a=n)===null||a===void 0||a.disconnect()})}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function e1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Kf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e1(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e1(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function t1(){var t=i.ref(Qb(Na?0:window.innerWidth)),e=function(){t.value=Qb(Na?0:window.innerWidth)};return Vb("resize",e),t}function YB(t,e){var n=e.justify,a=e.align;return[t,G(G({},"".concat(t,"--").concat(n),n),"".concat(t,"--align-").concat(a),a)]}function qB(t,e){var n={},a=function(s){return Object.assign(n,{marginLeft:"".concat(s/-2,"px"),marginRight:"".concat(s/-2,"px")})},r=function(s){return Object.assign(n,{rowGap:"".concat(s,"px")})},o={isNumber:function(s){nt(s)&&a(s)},isArray:function(s){Ie(s)&&s.length&&(o.isNumber(s[0]),nt(s[1])&&r(s[1]),Le(s[0])&&!Kt(s[0][e])&&a(s[0][e]),Le(s[1])&&!Kt(s[1][e])&&r(s[1][e]))},isObject:function(s){Le(s)&&s[e]&&(Ie(s)&&s.length?(a(s[e][0]),r(s[e][1])):a(s[e]))}};return Object.keys(o).forEach(function(l){o[l](t)}),n}function GB(t){return nt(t)?"".concat(t," ").concat(t," 0"):/^\d+(\.\d+)?(px|r?em|%)$/.test(t)?"0 0 ".concat(t):t}function XB(t,e){var n={},a=function(l){return Object.assign(n,{paddingLeft:"".concat(l/2,"px"),paddingRight:"".concat(l/2,"px")})},r={isNumber:function(l){nt(l)&&a(l)},isArray:function(l){Ie(l)&&l.length&&(nt(l[0])&&a(l[0]),Le(l[0])&&l[0][e]&&a(l[0][e]))},isObject:function(l){Le(l)&&l[e]&&a(l[e])}};return Object.keys(r).forEach(function(o){r[o](t)}),n}function JB(t,e){var n=e.span,a=e.order,r=e.offset,o=e.push,l=e.pull,s=["xs","sm","md","lg","xl","xxl"],c=s.reduce(function(d,u){var f=e[u],v={};return nt(f)?v.span=f:Le(f)&&(v=f||{}),Kf(Kf({},d),{},G(G(G(G(G({},"".concat(t,"-").concat(u,"-").concat(v.span),!Kt(v.span)),"".concat(t,"-").concat(u,"-order-").concat(v.order),parseInt(v.order,10)>=0),"".concat(t,"-").concat(u,"-offset-").concat(v.offset),parseInt(v.offset,10)>=0),"".concat(t,"-").concat(u,"-push-").concat(v.push),parseInt(v.push,10)>=0),"".concat(t,"-").concat(u,"-pull-").concat(v.pull),parseInt(v.pull,10)>=0))},{});return Kf(G(G(G(G(G(G({},"".concat(t),!0),"".concat(t,"-").concat(n),!Kt(n)),"".concat(t,"-order-").concat(a),a),"".concat(t,"-offset-").concat(r),r),"".concat(t,"-push-").concat(o),o),"".concat(t,"-pull-").concat(l),l),c)}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function n1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function ZB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n1(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n1(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function QB(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!i.isVNode(t)}var VB=i.defineComponent({name:"TRow",props:ZB({},UB),setup:function(e){var n=i.toRefs(e),a=n.gutter,r=Pe();i.provide("rowContext",i.reactive({gutter:a}));var o=t1(),l=ae("row"),s=i.computed(function(){return YB(l.value,e)}),c=i.computed(function(){return qB(e.gutter,o.value)});return function(){var d,u=e.tag;return i.createVNode(u,{class:s.value,style:c.value},QB(d=r("default"))?d:{default:function(){return[d]}})}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var ez={flex:{type:[String,Number]},lg:{type:[Number,Object]},md:{type:[Number,Object]},offset:{type:Number,default:0},order:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},sm:{type:[Number,Object]},span:{type:Number},tag:{type:String,default:"div"},xl:{type:[Number,Object]},xs:{type:[Number,Object]},xxl:{type:[Number,Object]}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function a1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function tz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a1(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a1(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function nz(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!i.isVNode(t)}var az=i.defineComponent({name:"TCol",inject:["rowContext"],props:tz({},ez),setup:function(e){var n=ae("col"),a=Pe(),r=i.inject("rowContext",Object.create(null)),o=t1(),l=i.computed(function(){return JB(n.value,e)}),s=i.computed(function(){var c={},d=e.flex;if(d&&(c.flex=GB(d)),r){var u=r.gutter;Object.assign(c,XB(u,o.value))}return c});return function(){var c,d=e.tag;return i.createVNode(d,{class:l.value,style:s.value},nz(c=a("default"))?c:{default:function(){return[c]}})}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var rz=be(VB),iz=be(az);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var oz=i.defineComponent({name:"TLayout",setup:function(){var e=i.ref(!1),n=Pe(),a=ae("layout"),r=i.computed(function(){return[a.value,G({},"".concat(a.value,"--with-sider"),e.value)]});return i.provide("layout",{hasSide:e}),function(){return i.createVNode("section",{class:r.value},[n("default")])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var lz={height:{type:String,default:""}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var sz=i.defineComponent({name:"THeader",props:lz,setup:function(e){var n=ae("layout__header"),a=Pe();return function(){return i.createVNode("header",{class:n.value,style:e.height?{height:e.height}:{}},[a("default")])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var cz={height:{type:String,default:""}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var uz=i.defineComponent({name:"TFooter",props:cz,setup:function(e){var n=ae("layout__footer"),a=Pe();return function(){return i.createVNode("footer",{class:n.value,style:e.height?{height:e.height}:{}},[a("default")])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var dz={width:{type:String,default:""}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var fz=i.defineComponent({name:"TAside",props:dz,setup:function(e){var n=i.inject("layout",Object.create(null)),a=n.hasSide,r=ae("layout__sider"),o=Pe();if(a)return i.onMounted(function(){a.value=!0}),i.onUnmounted(function(){a.value=!1}),function(){var l=e.width?{width:e.width}:{};return i.createVNode("aside",{class:r.value,style:l},[o("default")])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var vz=i.defineComponent({name:"TContent",setup:function(){var e=ae("layout__content"),n=Pe();return function(){return i.createVNode("main",{class:e.value},[n("default")])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var hz=be(fz),gz=be(oz),pz=be(sz),mz=be(uz),yz=be(vz);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var bz={align:{type:String,default:"center",validator:function(e){return e?["left","right","center"].includes(e):!0}},content:{type:[String,Function]},dashed:Boolean,default:{type:[String,Function]},layout:{type:String,default:"horizontal",validator:function(e){return e?["horizontal","vertical"].includes(e):!0}},theme:{type:String,validator:function(e){return e?["horizontal","vertical"].includes(e):!0}}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function r1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function wz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r1(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r1(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var Cz=i.defineComponent({name:"TDivider",props:wz({},bz),setup:function(e){var n=ae("divider"),a=ft();return function(){var r=e.layout,o=e.dashed,l=e.align,s=a("default","content"),c=["".concat(n.value),["".concat(n.value,"--").concat(r)],G(G(G({},"".concat(n.value,"--dashed"),!!o),"".concat(n.value,"--with-text"),!!s),"".concat(n.value,"--with-text-").concat(l),!!s)];return i.createVNode("div",{class:c},[s&&i.createVNode("span",{class:"".concat(n.value,"__inner-text")},[s])])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Yf=be(Cz);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var xz={align:{type:String,validator:function(e){return e?["start","end","center","baseline"].includes(e):!0}},breakLine:Boolean,direction:{type:String,default:"horizontal",validator:function(e){return e?["vertical","horizontal"].includes(e):!0}},separator:{type:[String,Function]},size:{type:[String,Number,Array],default:"medium"}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function tr(){var t=i.getCurrentInstance();return function(e,n){var a,r;n||(n=t.slots);var o=((a=n)===null||a===void 0||(r=a.default)===null||r===void 0?void 0:r.call(a))||[];return k0(o).filter(function(l){var s;return(s=l.type.name)===null||s===void 0?void 0:s.endsWith(e)})}}function i1(){var t=i.getCurrentInstance();return function(){var e,n=t.slots,a=(n==null||(e=n.default)===null||e===void 0?void 0:e.call(n))||[];return a.filter(function(r){return Je(r.type)==="symbol"&&!r.children?!1:r.type!==i.Comment}).map(function(r){return r.children&&Ie(r.children)&&r.type===i.Fragment?r.children:r}).flat()}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function o1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function l1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o1(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o1(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var s1={small:"8px",medium:"16px",large:"24px"},Sz=nM(),Oz=i.defineComponent({name:"TSpace",props:l1(l1({},xz),{},{forceFlexGapPolyfill:Boolean}),setup:function(e){var n=ae("space"),a=Pe(),r=i1(),o=i.computed(function(){return e.forceFlexGapPolyfill||Sz}),l=i.computed(function(){var c="";Ie(e.size)?c=e.size.map(function(g){return nt(g)?"".concat(g,"px"):Ae(g)&&s1[g]||g}).join(" "):Ae(e.size)?c=s1[e.size]||e.size:nt(e.size)&&(c="".concat(e.size,"px"));var d={};if(o.value){var u=c.split(" "),f=Ce(u,2),v=f[0],h=f[1];d["--td-space-column-gap"]=v,d["--td-space-row-gap"]=h||v}else d.gap=c;return d});function s(){var c=r(),d=a("separator");return c.filter(function(u){return i.isVNode(u)?u.type!==i.Comment:!0}).map(function(u,f){var v=f+1!==c.length&&d;return i.createVNode(i.Fragment,null,[i.createVNode("div",{class:"".concat(n.value,"-item")},[u]),v&&i.createVNode("div",{class:"".concat(n.value,"-item-separator")},[d])])})}return function(){var c=["".concat(n.value),G(G(G(G({},"".concat(n.value,"-align-").concat(e.align),e.align),"".concat(n.value,"-").concat(e.direction),e.direction),"".concat(n.value,"--break-line"),e.breakLine),"".concat(n.value,"--polyfill"),o.value)];return i.createVNode("div",{class:c,style:l.value},[s()])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var qf=be(Oz);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function kz(t){return t==null}var li=kz;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Pz={bordered:Boolean,colon:Boolean,column:{type:Number,default:2},contentStyle:{type:Object},itemLayout:{type:String,default:"horizontal",validator:function(e){return e?["horizontal","vertical"].includes(e):!0}},items:{type:Array},labelStyle:{type:Object},layout:{type:String,default:"horizontal",validator:function(e){return e?["horizontal","vertical"].includes(e):!0}},size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},tableLayout:{type:String,default:"fixed",validator:function(e){return e?["fixed","auto"].includes(e):!0}},title:{type:[String,Function]}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var c1=Symbol("TDescriptions");/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Wl=function(t){return t.props="props",t.slots="slots",t}(Wl||{});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function u1(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Ae(t)?t:pe(t)?t(i.h,e):pe(t==null?void 0:t.render)?t.render(i.h,e):t}function d1(t,e,n){var a,r=(a=t.props)===null||a===void 0?void 0:a[e];if(r)return r;var o=t.children,l=(o==null?void 0:o[e])||(o==null?void 0:o[n]);return l?l==null?void 0:l():null}function jc(t,e){return t===Wl.props}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var _z=i.defineComponent({name:"TDescriptionsRow",props:{row:Array,itemType:String},setup:function(e){var n=i.inject(c1),a=ae("descriptions"),r=Re("descriptions"),o=r.globalConfig,l=i.computed(function(){return n.layout==="horizontal"}),s=i.computed(function(){return n.itemLayout==="horizontal"}),c=function(p){var m=["".concat(a.value,"__label")],y=null,b=null;jc(e.itemType)?(y=p.label,b=p.span):(y=d1(p,"label"),b=p.props.span);var w=l.value?s.value?1:b:1;return i.createVNode("td",i.mergeProps({colspan:w,class:m},{style:n.labelStyle}),[y,n.colon&&o.value.colonText])},d=function(p){var m=["".concat(a.value,"__content")],y=null,b=null;jc(e.itemType)?(y=p.content,b=p.span):(y=d1(p,"content","default"),b=p.props.span);var w=l.value?b>1&&s.value?b*2-1:b:1;return i.createVNode("td",i.mergeProps({colspan:w,class:m},{style:n.contentStyle}),[y])},u=function(){return i.createVNode("tr",null,[e.row.map(function(p){return i.createVNode(i.Fragment,null,[c(p),d(p)])})])},f=function(){return i.createVNode(i.Fragment,null,[i.createVNode("tr",null,[e.row.map(function(p){return c(p)})]),i.createVNode("tr",null,[e.row.map(function(p){return d(p)})])])},v=function(){return i.createVNode(i.Fragment,null,[e.row.map(function(p){return i.createVNode("tr",null,[c(p),d(p)])})])},h=function(){return i.createVNode(i.Fragment,null,[e.row.map(function(p){return i.createVNode(i.Fragment,null,[i.createVNode("tr",null,[c(p)]),i.createVNode("tr",null,[d(p)])])})])};return function(){return i.createVNode(i.Fragment,null,[l.value?s.value?u():f():s.value?v():h()])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Iz=i.defineComponent({name:"TDescriptions",props:Pz,setup:function(e){var n=ae("descriptions"),a=lt(),r=a.SIZE,o=tr(),l=Pe(),s=i.ref(Wl.props),c=function(){var v=e.column,h=e.layout,g=[];if(Ie(e.items))g=e.items.map(function(w){return{label:u1(w.label),content:u1(w.content),span:w.span||1}}),s.value=Wl.props;else{var p=o("TDescriptionsItem");p.length!==0&&(g=p,s.value=Wl.slots)}if(h==="vertical")return[g];var m=[],y=v,b=[];return g.forEach(function(w,C){var x=1;if(jc(s.value))x=li(w.span)?x:w.span,x=x>v?v:x;else{var k;w.props=w.props||{},x=li((k=w.props)===null||k===void 0?void 0:k.span)?x:w.props.span,x=x>v?v:x,w.props.span=x}y>=x?(m.push(w),y-=x):(b.push(m),m=[w],y=v-x),C===g.length-1&&(jc(s.value)?w.span+=y:w.props.span+=y,b.push(m))}),b};i.provide(c1,e);var d=function(){var v=["".concat(n.value,"__body"),r.value[e.size],G({},"".concat(n.value,"__body--fixed"),e.tableLayout==="fixed"),G({},"".concat(n.value,"__body--border"),e.bordered)];return i.createVNode("table",{class:v},[i.createVNode("tbody",null,[c().map(function(h){return i.createVNode(_z,{"item-type":s.value,row:h},null)})])])},u=function(){var v=l("title");return v?i.createVNode("div",{class:"".concat(n.value,"__header")},[v]):""};return function(){return i.createVNode("div",{class:n.value},[u(),d()])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Nz={content:{type:[String,Function]},default:{type:[String,Function]},label:{type:[String,Function]},span:{type:Number,default:1}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Tz=i.defineComponent({name:"TDescriptionsItem",props:Nz});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Ez=be(Iz),Az=be(Tz);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function f1(t,e,n,a,r,o,l){try{var s=t[o](l),c=s.value}catch(d){return void n(d)}s.done?e(c):Promise.resolve(c).then(a,r)}function Et(t){return function(){var e=this,n=arguments;return new Promise(function(a,r){var o=t.apply(e,n);function l(c){f1(o,a,r,l,s,"next",c)}function s(c){f1(o,a,r,l,s,"throw",c)}l(void 0)})}}var Gf={exports:{}},v1={exports:{}};(function(t){function e(n){"@babel/helpers - typeof";return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(v1),function(t){var e=v1.exports.default;function n(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t.exports=n=function(){return r},t.exports.__esModule=!0,t.exports.default=t.exports;var a,r={},o=Object.prototype,l=o.hasOwnProperty,s=Object.defineProperty||function(M,$,W){M[$]=W.value},c=typeof Symbol=="function"?Symbol:{},d=c.iterator||"@@iterator",u=c.asyncIterator||"@@asyncIterator",f=c.toStringTag||"@@toStringTag";function v(M,$,W){return Object.defineProperty(M,$,{value:W,enumerable:!0,configurable:!0,writable:!0}),M[$]}try{v({},"")}catch{v=function(W,H,K){return W[H]=K}}function h(M,$,W,H){var K=$&&$.prototype instanceof C?$:C,z=Object.create(K.prototype),B=new N(H||[]);return s(z,"_invoke",{value:_(M,W,B)}),z}function g(M,$,W){try{return{type:"normal",arg:M.call($,W)}}catch(H){return{type:"throw",arg:H}}}r.wrap=h;var p="suspendedStart",m="suspendedYield",y="executing",b="completed",w={};function C(){}function x(){}function k(){}var P={};v(P,d,function(){return this});var I=Object.getPrototypeOf,D=I&&I(I(F([])));D&&D!==o&&l.call(D,d)&&(P=D);var L=k.prototype=C.prototype=Object.create(P);function O(M){["next","throw","return"].forEach(function($){v(M,$,function(W){return this._invoke($,W)})})}function S(M,$){function W(K,z,B,q){var Y=g(M[K],M,z);if(Y.type!=="throw"){var X=Y.arg,T=X.value;return T&&e(T)=="object"&&l.call(T,"__await")?$.resolve(T.__await).then(function(j){W("next",j,B,q)},function(j){W("throw",j,B,q)}):$.resolve(T).then(function(j){X.value=j,B(X)},function(j){return W("throw",j,B,q)})}q(Y.arg)}var H;s(this,"_invoke",{value:function(z,B){function q(){return new $(function(Y,X){W(z,B,Y,X)})}return H=H?H.then(q,q):q()}})}function _(M,$,W){var H=p;return function(K,z){if(H===y)throw Error("Generator is already running");if(H===b){if(K==="throw")throw z;return{value:a,done:!0}}for(W.method=K,W.arg=z;;){var B=W.delegate;if(B){var q=A(B,W);if(q){if(q===w)continue;return q}}if(W.method==="next")W.sent=W._sent=W.arg;else if(W.method==="throw"){if(H===p)throw H=b,W.arg;W.dispatchException(W.arg)}else W.method==="return"&&W.abrupt("return",W.arg);H=y;var Y=g(M,$,W);if(Y.type==="normal"){if(H=W.done?b:m,Y.arg===w)continue;return{value:Y.arg,done:W.done}}Y.type==="throw"&&(H=b,W.method="throw",W.arg=Y.arg)}}}function A(M,$){var W=$.method,H=M.iterator[W];if(H===a)return $.delegate=null,W==="throw"&&M.iterator.return&&($.method="return",$.arg=a,A(M,$),$.method==="throw")||W!=="return"&&($.method="throw",$.arg=new TypeError("The iterator does not provide a '"+W+"' method")),w;var K=g(H,M.iterator,$.arg);if(K.type==="throw")return $.method="throw",$.arg=K.arg,$.delegate=null,w;var z=K.arg;return z?z.done?($[M.resultName]=z.value,$.next=M.nextLoc,$.method!=="return"&&($.method="next",$.arg=a),$.delegate=null,w):z:($.method="throw",$.arg=new TypeError("iterator result is not an object"),$.delegate=null,w)}function E(M){var $={tryLoc:M[0]};1 in M&&($.catchLoc=M[1]),2 in M&&($.finallyLoc=M[2],$.afterLoc=M[3]),this.tryEntries.push($)}function R(M){var $=M.completion||{};$.type="normal",delete $.arg,M.completion=$}function N(M){this.tryEntries=[{tryLoc:"root"}],M.forEach(E,this),this.reset(!0)}function F(M){if(M||M===""){var $=M[d];if($)return $.call(M);if(typeof M.next=="function")return M;if(!isNaN(M.length)){var W=-1,H=function K(){for(;++W<M.length;)if(l.call(M,W))return K.value=M[W],K.done=!1,K;return K.value=a,K.done=!0,K};return H.next=H}}throw new TypeError(e(M)+" is not iterable")}return x.prototype=k,s(L,"constructor",{value:k,configurable:!0}),s(k,"constructor",{value:x,configurable:!0}),x.displayName=v(k,f,"GeneratorFunction"),r.isGeneratorFunction=function(M){var $=typeof M=="function"&&M.constructor;return!!$&&($===x||($.displayName||$.name)==="GeneratorFunction")},r.mark=function(M){return Object.setPrototypeOf?Object.setPrototypeOf(M,k):(M.__proto__=k,v(M,f,"GeneratorFunction")),M.prototype=Object.create(L),M},r.awrap=function(M){return{__await:M}},O(S.prototype),v(S.prototype,u,function(){return this}),r.AsyncIterator=S,r.async=function(M,$,W,H,K){K===void 0&&(K=Promise);var z=new S(h(M,$,W,H),K);return r.isGeneratorFunction($)?z:z.next().then(function(B){return B.done?B.value:z.next()})},O(L),v(L,f,"Generator"),v(L,d,function(){return this}),v(L,"toString",function(){return"[object Generator]"}),r.keys=function(M){var $=Object(M),W=[];for(var H in $)W.push(H);return W.reverse(),function K(){for(;W.length;){var z=W.pop();if(z in $)return K.value=z,K.done=!1,K}return K.done=!0,K}},r.values=F,N.prototype={constructor:N,reset:function($){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(R),!$)for(var W in this)W.charAt(0)==="t"&&l.call(this,W)&&!isNaN(+W.slice(1))&&(this[W]=a)},stop:function(){this.done=!0;var $=this.tryEntries[0].completion;if($.type==="throw")throw $.arg;return this.rval},dispatchException:function($){if(this.done)throw $;var W=this;function H(X,T){return B.type="throw",B.arg=$,W.next=X,T&&(W.method="next",W.arg=a),!!T}for(var K=this.tryEntries.length-1;K>=0;--K){var z=this.tryEntries[K],B=z.completion;if(z.tryLoc==="root")return H("end");if(z.tryLoc<=this.prev){var q=l.call(z,"catchLoc"),Y=l.call(z,"finallyLoc");if(q&&Y){if(this.prev<z.catchLoc)return H(z.catchLoc,!0);if(this.prev<z.finallyLoc)return H(z.finallyLoc)}else if(q){if(this.prev<z.catchLoc)return H(z.catchLoc,!0)}else{if(!Y)throw Error("try statement without catch or finally");if(this.prev<z.finallyLoc)return H(z.finallyLoc)}}}},abrupt:function($,W){for(var H=this.tryEntries.length-1;H>=0;--H){var K=this.tryEntries[H];if(K.tryLoc<=this.prev&&l.call(K,"finallyLoc")&&this.prev<K.finallyLoc){var z=K;break}}z&&($==="break"||$==="continue")&&z.tryLoc<=W&&W<=z.finallyLoc&&(z=null);var B=z?z.completion:{};return B.type=$,B.arg=W,z?(this.method="next",this.next=z.finallyLoc,w):this.complete(B)},complete:function($,W){if($.type==="throw")throw $.arg;return $.type==="break"||$.type==="continue"?this.next=$.arg:$.type==="return"?(this.rval=this.arg=$.arg,this.method="return",this.next="end"):$.type==="normal"&&W&&(this.next=W),w},finish:function($){for(var W=this.tryEntries.length-1;W>=0;--W){var H=this.tryEntries[W];if(H.finallyLoc===$)return this.complete(H.completion,H.afterLoc),R(H),w}},catch:function($){for(var W=this.tryEntries.length-1;W>=0;--W){var H=this.tryEntries[W];if(H.tryLoc===$){var K=H.completion;if(K.type==="throw"){var z=K.arg;R(H)}return z}}throw Error("illegal catch attempt")},delegateYield:function($,W,H){return this.delegate={iterator:F($),resultName:W,nextLoc:H},this.method==="next"&&(this.arg=a),w}},r}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(Gf),Gf.exports;var Mc=Gf.exports(),qe=Mc;try{regeneratorRuntime=Mc}catch{(typeof globalThis>"u"?"undefined":Je(globalThis))==="object"?globalThis.regeneratorRuntime=Mc:Function("r","regeneratorRuntime = r")(Mc)}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Rz={container:{type:[String,Function],default:function(){return function(){return window}}},content:{type:[String,Function]},default:{type:[String,Function]},offsetBottom:{type:Number,default:0},offsetTop:{type:Number,default:0},zIndex:{type:Number},onFixedChange:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Dz=i.defineComponent({name:"TAffix",props:Rz,emits:["fixedChange"],setup:function(e,n){var a,r=ae("affix"),o=Pe(),l=i.ref(null),s=i.ref(null),c=i.ref((a=document)===null||a===void 0?void 0:a.createElement("div")),d=i.ref(!1),u=i.ref(!1),f=i.ref(),v=i.ref(),h=0,g=function(){d.value||(h=window.requestAnimationFrame(function(){var b,w;h=0;var C=(b=(w=l.value)===null||w===void 0?void 0:w.getBoundingClientRect())!==null&&b!==void 0?b:{top:0,width:0,height:0},x=C.top,k=C.width,P=C.height,I=0;f.value instanceof HTMLElement&&(I=f.value.getBoundingClientRect().top);var D,L=x-I,O=f.value[f.value instanceof Window?"innerHeight":"clientHeight"]-P,S=I+O-e.offsetBottom;if(!Kt(e.offsetTop)&&L<=e.offsetTop?D=I+e.offsetTop:!Kt(e.offsetBottom)&&x>=S?D=S:D=!1,s.value){var _=D!==!1,A=l.value.contains(c.value);_?(s.value.className=r.value,v.value={top:"".concat(D,"px"),width:"".concat(k,"px"),height:"".concat(P,"px"),zIndex:e.zIndex},A||(c.value.style.width="".concat(k,"px"),c.value.style.height="".concat(P,"px"),l.value.appendChild(c.value))):(s.value.removeAttribute("class"),v.value=void 0,A&&c.value.remove()),n.emit("fixedChange",_,{top:Number(D)}),pe(e.onFixedChange)&&e.onFixedChange(_,{top:Number(D)})}d.value=!1}),d.value=!0)},p=function(){var y=Et(qe.mark(function b(){return qe.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,i.nextTick();case 2:if(!u.value){C.next=4;break}return C.abrupt("return");case 4:f.value=Gm(e.container),pt(f.value,"scroll",g),pt(window,"resize",g),u.value=!0;case 8:case"end":return C.stop()}},b)}));return function(){return y.apply(this,arguments)}}(),m=function(){!f.value||!u.value||(rt(f.value,"scroll",g),rt(window,"resize",g),h&&window.cancelAnimationFrame(h),u.value=!1)};return i.watch(function(){return e.offsetTop},function(){g()}),i.watch(function(){return e.offsetBottom},function(){g()}),i.watch(function(){return e.zIndex},function(){g()}),i.onMounted(p),i.onActivated(p),i.onDeactivated(m),i.onBeforeUnmount(m),{affixWrapRef:l,affixRef:s,bindScroll:p,unbindScroll:m,handleScroll:g,scrollContainer:f,renderTNodeJSX:o,affixStyle:v}},render:function(){return i.createVNode("div",{ref:"affixWrapRef"},[i.createVNode("div",{ref:"affixRef",style:this.affixStyle},[this.renderTNodeJSX("default")])])}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var So=be(Dz);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Xf=/#(\S+)$/;function h1(t,e){var n=t.getBoundingClientRect(),a=n.top;return e===window?a-document.documentElement.clientTop:a-e.getBoundingClientRect().top}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var jz={affixProps:{type:Object},bounds:{type:Number,default:5},container:{type:[String,Function],default:function(){return function(){return window}}},cursor:{type:Function},size:{type:String,default:"medium",validator:function(e){return["small","medium","large"].includes(e)}},targetOffset:{type:Number,default:0},onChange:Function,onClick:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var g1=Symbol("AnchorInjectionProvide");/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Mz(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!i.isVNode(t)}var Fz=i.defineComponent({name:"TAnchor",inheritAttrs:!1,props:jz,setup:function(e,n){var a=n.attrs,r=i.ref(null),o=i.ref([]),l=i.ref(""),s=i.ref(null),c=i.ref(!1),d=i.reactive({}),u=ae("anchor"),f=ae("anchor__line"),v=ae("anchor__line-cursor"),h=lt(),g=h.STATUS,p=h.SIZE,m=Pe(),y=function(){if(!Na){var S=e.container;s.value=Gm(S),pt(s.value,"scroll",b),b()}},b=function(){if(!c.value){var S=e.bounds,_=e.targetOffset,A=[],E="";if(o.value.forEach(function(N){var F=w(N);if(F){var M=h1(F,s.value);M<S+_&&A.push({link:N,top:M})}}),A.length){var R=A.reduce(function(N,F){return N.top>F.top?N:F});E=R.link}k(E)}},w=function(S){var _=S.match(Xf);if(_){var A=document.getElementById(_[1]);if(A)return A}},C=function(S){!Xf.test(S)||o.value.indexOf(S)!==-1||o.value.push(S)},x=function(S){o.value=o.value.filter(function(_){return _!==S})},k=function(){var O=Et(qe.mark(function S(_){var A;return qe.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(l.value!==_){R.next=2;break}return R.abrupt("return");case 2:return l.value=_,(A=e.onChange)===null||A===void 0||A.call(e,_,l.value),R.next=6,i.nextTick();case 6:P();case 7:case"end":return R.stop()}},S)}));return function(_){return O.apply(this,arguments)}}(),P=function(){var S,_=(S=r.value)===null||S===void 0?void 0:S.querySelector(".".concat(g.value.active,">a"));if(!_){Object.assign(d,{});return}var A=_.offsetTop,E=_.offsetHeight;Object.assign(d,{top:"".concat(A,"px"),height:"".concat(E,"px"),opacity:1})},I=function(S){var _;(_=e.onClick)===null||_===void 0||_.call(e,S)},D=function(){var O=Et(qe.mark(function S(_){var A,E,R,N,F;return qe.wrap(function($){for(;;)switch($.prev=$.next){case 0:if(A=w(_),k(_),A){$.next=4;break}return $.abrupt("return");case 4:return c.value=!0,E=e.targetOffset,R=Jm(s.value),N=h1(A,s.value),F=R+N-E,$.next=11,Tf(F,{container:s.value});case 11:c.value=!1;case 12:case"end":return $.stop()}},S)}));return function(_){return O.apply(this,arguments)}}(),L=function(){var S=m("cursor");return S||i.createVNode("div",{class:v.value},null)};return i.onMounted(Et(qe.mark(function O(){return qe.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(y(),!l.value){_.next=5;break}return _.next=4,i.nextTick();case 4:D(l.value);case 5:case"end":return _.stop()}},O)}))),i.onUnmounted(function(){s.value&&rt(s.value,"scroll",b)}),i.watchEffect(function(){s.value&&rt(s.value,"scroll",b),y()}),i.provide(g1,i.reactive({registerLink:C,unregisterLink:x,handleScrollTo:D,handleLinkClick:I,active:l})),function(){var O=e.size,S=e.affixProps,_=[u.value,p.value[O]],A=i.createVNode("div",i.mergeProps({ref:r,class:_},a),[i.createVNode("div",{class:f.value},[i.createVNode("div",{class:"".concat(v.value,"-wrapper"),style:d},[L()])]),m("default")]);return S?i.createVNode(So,S,Mz(A)?A:{default:function(){return[A]}}):A}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Lz={href:{type:String,default:"",required:!0},target:{type:String,default:"_self",validator:function(e){return["_self","_blank","_parent","_top"].includes(e)}},title:{type:[String,Function],default:""},customScroll:{type:Boolean,default:!1}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function p1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function m1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p1(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p1(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var $z=m1(m1({},Lz),{},{href:{type:String,required:!0,validator:function(e){return Xf.test(e)}}}),Bz=i.defineComponent({name:"TAnchorItem",inject:{tAnchor:{default:void 0}},props:$z,setup:function(e,n){var a=n.slots,r=i.inject(g1,void 0),o=ae("anchor__item"),l=lt(),s=l.STATUS,c=function(){r.registerLink(e.href)},d=function(){var h=e.href;h&&r.unregisterLink(h)},u=function(h){var g=e.href,p=e.title;e.customScroll||r.handleScrollTo(g),r.handleLinkClick({href:g,title:Ae(p)?p:void 0,e:h})},f=function(){var h=e.title,g=a.title,p;return Ae(h)?p=h:pe(h)?p=h(i.h):g&&(p=g(null)),p};return i.watch(function(){return e.href},function(){d(),c()},{immediate:!0}),i.onMounted(function(){c()}),i.onUnmounted(function(){d()}),function(){var v=e.href,h=e.target,g=a.default,p=a.title,m=f(),y=Ae(m)?m:null,b=r.active===v,w=G(G({},o.value,!0),s.value.active,b),C=G({},"".concat(o.value,"-link"),!0);return i.createVNode("div",{class:w},[i.createVNode("a",{href:v,title:y,class:C,target:h,onClick:u},[p?p(null):m]),g&&g(null)])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var y1={exports:{}};/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */(function(t,e){(function(a,r){t.exports=r()})(nn,function(){return function(){var n={686:function(l,s,c){c.d(s,{default:function(){return H}});var d=c(279),u=c.n(d),f=c(370),v=c.n(f),h=c(817),g=c.n(h);function p(K){try{return document.execCommand(K)}catch{return!1}}var m=function(z){var B=g()(z);return p("cut"),B},y=m;function b(K){var z=document.documentElement.getAttribute("dir")==="rtl",B=document.createElement("textarea");B.style.fontSize="12pt",B.style.border="0",B.style.padding="0",B.style.margin="0",B.style.position="absolute",B.style[z?"right":"left"]="-9999px";var q=window.pageYOffset||document.documentElement.scrollTop;return B.style.top="".concat(q,"px"),B.setAttribute("readonly",""),B.value=K,B}var w=function(z,B){var q=b(z);B.container.appendChild(q);var Y=g()(q);return p("copy"),q.remove(),Y},C=function(z){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},q="";return typeof z=="string"?q=w(z,B):z instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(z==null?void 0:z.type)?q=w(z.value,B):(q=g()(z),p("copy")),q},x=C;function k(K){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?k=function(B){return typeof B}:k=function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},k(K)}var P=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},B=z.action,q=B===void 0?"copy":B,Y=z.container,X=z.target,T=z.text;if(q!=="copy"&&q!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(X!==void 0)if(X&&k(X)==="object"&&X.nodeType===1){if(q==="copy"&&X.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(q==="cut"&&(X.hasAttribute("readonly")||X.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(T)return x(T,{container:Y});if(X)return q==="cut"?y(X):x(X,{container:Y})},I=P;function D(K){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?D=function(B){return typeof B}:D=function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},D(K)}function L(K,z){if(!(K instanceof z))throw new TypeError("Cannot call a class as a function")}function O(K,z){for(var B=0;B<z.length;B++){var q=z[B];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(K,q.key,q)}}function S(K,z,B){return z&&O(K.prototype,z),B&&O(K,B),K}function _(K,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function");K.prototype=Object.create(z&&z.prototype,{constructor:{value:K,writable:!0,configurable:!0}}),z&&A(K,z)}function A(K,z){return A=Object.setPrototypeOf||function(q,Y){return q.__proto__=Y,q},A(K,z)}function E(K){var z=F();return function(){var q=M(K),Y;if(z){var X=M(this).constructor;Y=Reflect.construct(q,arguments,X)}else Y=q.apply(this,arguments);return R(this,Y)}}function R(K,z){return z&&(D(z)==="object"||typeof z=="function")?z:N(K)}function N(K){if(K===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K}function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function M(K){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(B){return B.__proto__||Object.getPrototypeOf(B)},M(K)}function $(K,z){var B="data-clipboard-".concat(K);if(z.hasAttribute(B))return z.getAttribute(B)}var W=function(K){_(B,K);var z=E(B);function B(q,Y){var X;return L(this,B),X=z.call(this),X.resolveOptions(Y),X.listenClick(q),X}return S(B,[{key:"resolveOptions",value:function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof Y.action=="function"?Y.action:this.defaultAction,this.target=typeof Y.target=="function"?Y.target:this.defaultTarget,this.text=typeof Y.text=="function"?Y.text:this.defaultText,this.container=D(Y.container)==="object"?Y.container:document.body}},{key:"listenClick",value:function(Y){var X=this;this.listener=v()(Y,"click",function(T){return X.onClick(T)})}},{key:"onClick",value:function(Y){var X=Y.delegateTarget||Y.currentTarget,T=this.action(X)||"copy",j=I({action:T,container:this.container,target:this.target(X),text:this.text(X)});this.emit(j?"success":"error",{action:T,text:j,trigger:X,clearSelection:function(){X&&X.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(Y){return $("action",Y)}},{key:"defaultTarget",value:function(Y){var X=$("target",Y);if(X)return document.querySelector(X)}},{key:"defaultText",value:function(Y){return $("text",Y)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(Y){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return x(Y,X)}},{key:"cut",value:function(Y){return y(Y)}},{key:"isSupported",value:function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],X=typeof Y=="string"?[Y]:Y,T=!!document.queryCommandSupported;return X.forEach(function(j){T=T&&!!document.queryCommandSupported(j)}),T}}]),B}(u()),H=W},828:function(l){var s=9;if(typeof Element<"u"&&!Element.prototype.matches){var c=Element.prototype;c.matches=c.matchesSelector||c.mozMatchesSelector||c.msMatchesSelector||c.oMatchesSelector||c.webkitMatchesSelector}function d(u,f){for(;u&&u.nodeType!==s;){if(typeof u.matches=="function"&&u.matches(f))return u;u=u.parentNode}}l.exports=d},438:function(l,s,c){var d=c(828);function u(h,g,p,m,y){var b=v.apply(this,arguments);return h.addEventListener(p,b,y),{destroy:function(){h.removeEventListener(p,b,y)}}}function f(h,g,p,m,y){return typeof h.addEventListener=="function"?u.apply(null,arguments):typeof p=="function"?u.bind(null,document).apply(null,arguments):(typeof h=="string"&&(h=document.querySelectorAll(h)),Array.prototype.map.call(h,function(b){return u(b,g,p,m,y)}))}function v(h,g,p,m){return function(y){y.delegateTarget=d(y.target,g),y.delegateTarget&&m.call(h,y)}}l.exports=f},879:function(l,s){s.node=function(c){return c!==void 0&&c instanceof HTMLElement&&c.nodeType===1},s.nodeList=function(c){var d=Object.prototype.toString.call(c);return c!==void 0&&(d==="[object NodeList]"||d==="[object HTMLCollection]")&&"length"in c&&(c.length===0||s.node(c[0]))},s.string=function(c){return typeof c=="string"||c instanceof String},s.fn=function(c){var d=Object.prototype.toString.call(c);return d==="[object Function]"}},370:function(l,s,c){var d=c(879),u=c(438);function f(p,m,y){if(!p&&!m&&!y)throw new Error("Missing required arguments");if(!d.string(m))throw new TypeError("Second argument must be a String");if(!d.fn(y))throw new TypeError("Third argument must be a Function");if(d.node(p))return v(p,m,y);if(d.nodeList(p))return h(p,m,y);if(d.string(p))return g(p,m,y);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function v(p,m,y){return p.addEventListener(m,y),{destroy:function(){p.removeEventListener(m,y)}}}function h(p,m,y){return Array.prototype.forEach.call(p,function(b){b.addEventListener(m,y)}),{destroy:function(){Array.prototype.forEach.call(p,function(w){w.removeEventListener(m,y)})}}}function g(p,m,y){return u(document.body,p,m,y)}l.exports=f},817:function(l){function s(c){var d;if(c.nodeName==="SELECT")c.focus(),d=c.value;else if(c.nodeName==="INPUT"||c.nodeName==="TEXTAREA"){var u=c.hasAttribute("readonly");u||c.setAttribute("readonly",""),c.select(),c.setSelectionRange(0,c.value.length),u||c.removeAttribute("readonly"),d=c.value}else{c.hasAttribute("contenteditable")&&c.focus();var f=window.getSelection(),v=document.createRange();v.selectNodeContents(c),f.removeAllRanges(),f.addRange(v),d=f.toString()}return d}l.exports=s},279:function(l){function s(){}s.prototype={on:function(d,u,f){var v=this.e||(this.e={});return(v[d]||(v[d]=[])).push({fn:u,ctx:f}),this},once:function(d,u,f){var v=this;function h(){v.off(d,h),u.apply(f,arguments)}return h._=u,this.on(d,h,f)},emit:function(d){var u=[].slice.call(arguments,1),f=((this.e||(this.e={}))[d]||[]).slice(),v=0,h=f.length;for(v;v<h;v++)f[v].fn.apply(f[v].ctx,u);return this},off:function(d,u){var f=this.e||(this.e={}),v=f[d],h=[];if(v&&u)for(var g=0,p=v.length;g<p;g++)v[g].fn!==u&&v[g].fn._!==u&&h.push(v[g]);return h.length?f[d]=h:delete f[d],this}},l.exports=s,l.exports.TinyEmitter=s}},a={};function r(o){if(a[o])return a[o].exports;var l=a[o]={exports:{}};return n[o](l,l.exports,r),l.exports}return function(){r.n=function(o){var l=o&&o.__esModule?function(){return o.default}:function(){return o};return r.d(l,{a:l}),l}}(),function(){r.d=function(o,l){for(var s in l)r.o(l,s)&&!r.o(o,s)&&Object.defineProperty(o,s,{enumerable:!0,get:l[s]})}}(),function(){r.o=function(o,l){return Object.prototype.hasOwnProperty.call(o,l)}}(),r(686)}().default})})(y1);var zz=Il(y1.exports);function Hz(t){var e=document.createElement("div"),n=new zz(e,{text:function(){return t}});e.click(),n.destroy(),e.remove()}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Wz=["info","success","warning","error","question","loading"],ea="32px",b1={top:{top:ea,left:"50%",transform:"translateX(-50%)"},center:{left:"50%",top:"50%",transform:"translateX(-50%) translateY(-50%)"},left:{left:ea,top:"50%",transform:"translateY(-50%)"},bottom:{bottom:ea,left:"50%",transform:"translateX(-50%)"},right:{right:ea,top:"50%",transform:"translateY(-50%)",display:"flex",flexDirection:"column",alignItems:"flex-end"},"top-left":{left:ea,top:ea},"top-right":{right:ea,top:ea,display:"flex",flexDirection:"column",alignItems:"flex-end"},"bottom-right":{right:ea,bottom:ea,display:"flex",flexDirection:"column",alignItems:"flex-end"},"bottom-left":{left:ea,bottom:ea}},w1=Object.keys(b1);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Uz={closeBtn:{type:[String,Boolean,Function],default:void 0},content:{type:[String,Function]},duration:{type:Number,default:3e3},icon:{type:[Boolean,Function],default:!0},theme:{type:String,default:"info",validator:function(e){return e?["info","success","warning","error","question","loading"].includes(e):!0}},onClose:Function,onCloseBtnClick:Function,onDurationEnd:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Ve(t){var e=Re("icon"),n=e.globalConfig,a={};return Object.keys(t).forEach(function(r){var o;a[r]=((o=n.value)===null||o===void 0?void 0:o[r])||t[r]}),a}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var C1={duration:200,easing:"linear"};function Kz(t,e){if(t){var n=(t==null?void 0:t.offsetWidth)||0,a=(t==null?void 0:t.offsetHeight)||0,r=qz(e,n,a);if(r){var o=r[r.length-1];x1(t,o),t.animate&&t.animate(r,C1)}}}function Yz(t,e,n){if(t){var a=(t==null?void 0:t.offsetHeight)||0,r=Gz(e,a);if(!r)return n();var o=r[r.length-1];x1(t,o);var l=t.animate&&t.animate(r,C1);l?l.onfinish=function(){t.style.display="none",n()}:(t.style.display="none",n())}}function x1(t,e){for(var n=Object.keys(e),a=0;a<n.length;a+=1){var r=n[a];t.style[r]=e[r]}}function qz(t,e,n){if(!w1.includes(t))return null;if(["top-left","left","bottom-left"].includes(t))return[{opacity:0,marginLeft:"-".concat(e,"px")},{opacity:1,marginLeft:"0"}];if(["top-right","right","bottom-right"].includes(t))return[{opacity:0,marginRight:"-".concat(e,"px")},{opacity:1,marginRight:"0"}];if(["top","center"].includes(t))return[{opacity:0,marginTop:"-".concat(n,"px")},{opacity:1,marginTop:"0"}];if(["bottom"].includes(t))return[{opacity:0,transform:"translate3d(0, ".concat(n,"px, 0)")},{opacity:1,transform:"translate3d(0, 0, 0)"}]}function Gz(t,e){if(!w1.includes(t))return null;if(["bottom-left","bottom","bottom-right"].includes(t)){var n="".concat(e,"px");return[{opacity:1,marginTop:"0px"},{opacity:0,marginTop:n}]}var a="-".concat(e,"px");return[{opacity:1,marginTop:"0px"},{opacity:0,marginTop:a}]}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function S1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function O1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S1(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S1(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var k1=i.defineComponent({name:"TMessage",props:O1(O1({},Uz),{},{placement:String}),setup:function(e,n){var a=n.slots,r=n.expose,o=ae("message"),l=Ve({InfoCircleFilledIcon:Hl,CheckCircleFilledIcon:er,ErrorCircleFilledIcon:Ea,HelpCircleFilledIcon:ob,CloseIcon:ha}),s=l.InfoCircleFilledIcon,c=l.CheckCircleFilledIcon,d=l.ErrorCircleFilledIcon,u=l.HelpCircleFilledIcon,f=l.CloseIcon,v=ae(),h=Pe(),g=ft(),p=i.ref(null),m=i.ref(null),y=i.computed(function(){var P={};return Wz.forEach(function(I){return P["".concat(v.value,"-is-").concat(I)]=e.theme===I}),[o.value,P,G({},"".concat(v.value,"-is-closable"),e.closeBtn||a.closeBtn)]}),b=function(I){var D,L;(D=e.onClose)===null||D===void 0||D.call(e,{trigger:"close-click",e:I}),(L=e.onCloseBtnClick)===null||L===void 0||L.call(e,{e:I})},w=function(){e.duration&&clearTimeout(m.value)},C=function(){e.duration&&(m.value=Number(setTimeout(function(){w();var I=p.value;Yz(I,e.placement,function(){var D,L;(D=e.onClose)===null||D===void 0||D.call(e,{trigger:"duration-end"}),(L=e.onDurationEnd)===null||L===void 0||L.call(e)})},e.duration)))},x=function(){var I=i.createVNode(f,null,null);return i.createVNode("span",{class:"".concat(o.value,"__close"),onClick:b},[h("closeBtn",I)])},k=function(){if(e.icon!==!1){if(pe(e.icon))return e.icon(i.h);if(a.icon)return a.icon(null);var I={info:s,success:c,warning:d,error:d,question:u,loading:an}[e.theme];return i.createVNode(I,null,null)}};return i.onBeforeMount(function(){e.duration&&C()}),i.onMounted(function(){var P=p.value;Kz(P,e.placement)}),r({close:b}),function(){return i.createVNode("div",{ref:p,class:y.value,onMouseenter:w,onMouseleave:C},[k(),g("content","default"),x()])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function P1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Oo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P1(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P1(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var Jf=6e3,Xz=function(){var t=0;return function(){return t+=1,t}}(),Jz=i.defineComponent({name:"TMessageList",props:{zIndex:{type:Number,default:0},placement:{type:String,default:""}},setup:function(e,n){var a=n.expose,r=ae("message__list"),o=i.ref([]),l=i.ref([]),s=i.computed(function(){return Oo(Oo({},b1[e.placement]),{},{zIndex:e.zIndex!==Jf?e.zIndex:Jf})}),c=function(m){var y=Oo(Oo({},m),{},{key:Xz()});return o.value.push(y),y.key},d=function(m){o.value.splice(m,1)},u=function(){o.value=[]},f=function(m){if(m)return isNaN(Number(m))?m:"".concat(m,"px")},v=function(m){return m.offset&&{position:"relative",left:f(m.offset[0]),top:f(m.offset[1])}},h=function(m,y){return Oo(Oo({},y),{},{onCloseBtnClick:function(w){return y.onCloseBtnClick&&y.onCloseBtnClick(w),d(m)},onDurationEnd:function(){return y.onDurationEnd&&y.onDurationEnd(),d(m)}})},g=function(m){m&&l.value.push(m)};return a({add:c,removeAll:u,list:o,messageList:l}),function(){if(o.value.length)return i.createVNode("div",{class:r.value,style:s.value},[o.value.map(function(p,m){return i.createVNode(k1,i.mergeProps({key:p.key,style:v(p),ref:g},h(m,p)),null)})])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function _1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Zf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_1(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_1(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var si=new Map;function Zz(t){var e=Zf({duration:3e3,attach:"body",zIndex:Jf,placement:"top"},t);return e.content=t.content,e}var Qz=function(e){var n=Zz(e),a=n.attach,r=n.placement,o=mo(a);si.get(o)||si.set(o,{});var l=si.get(o)[r],s;if(l)s=l.add(n);else{var c=document.createElement("div"),d=i.createApp(Jz,{zIndex:n.zIndex,placement:n.placement}).mount(c);s=d.add(n),si.get(o)[r]=d,o.appendChild(c)}return new Promise(function(u){var f=si.get(o)[r];i.nextTick(function(){var v=f.messageList;u(v==null?void 0:v.find(function(h){var g;return((g=h.$)===null||g===void 0||(g=g.vnode)===null||g===void 0?void 0:g.key)===s}))})})},Dr=function(e,n,a){var r={theme:e};return Ae(n)?r.content=n:Le(n)&&!(n instanceof Array)&&(r=Zf(Zf({},r),n)),(a||a===0)&&(r.duration=a),Qz(r)},Fc={info:function(e,n){return Dr("info",e,n)},success:function(e,n){return Dr("success",e,n)},warning:function(e,n){return Dr("warning",e,n)},error:function(e,n){return Dr("error",e,n)},question:function(e,n){return Dr("question",e,n)},loading:function(e,n){return Dr("loading",e,n)},close:function(e){e.then(function(n){return n==null?void 0:n.close()})},closeAll:function(){si instanceof Map&&si.forEach(function(e){Object.keys(e).forEach(function(n){var a=e[n];a.list=[]})})}},ci=Dr;ci.install=function(t){t.config.globalProperties.$message=Dr,Object.keys(Fc).forEach(function(e){t.config.globalProperties.$message[e]=Fc[e]})},Object.keys(Fc).forEach(function(t){ci[t]=Fc[t]});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Vz={id:{type:String,default:"",required:!0},tag:{type:String,default:"div"}},Pn="top",ta="bottom",na="right",_n="left",Qf="auto",Ul=[Pn,ta,na,_n],ko="start",Kl="end",eH="clippingParents",I1="viewport",Yl="popper",tH="reference",N1=Ul.reduce(function(t,e){return t.concat([e+"-"+ko,e+"-"+Kl])},[]),T1=[].concat(Ul,[Qf]).reduce(function(t,e){return t.concat([e,e+"-"+ko,e+"-"+Kl])},[]),nH="beforeRead",aH="read",rH="afterRead",iH="beforeMain",oH="main",lH="afterMain",sH="beforeWrite",cH="write",uH="afterWrite",dH=[nH,aH,rH,iH,oH,lH,sH,cH,uH];function Aa(t){return t?(t.nodeName||"").toLowerCase():null}function $n(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ui(t){var e=$n(t).Element;return t instanceof e||t instanceof Element}function aa(t){var e=$n(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Vf(t){if(typeof ShadowRoot>"u")return!1;var e=$n(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function fH(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var a=e.styles[n]||{},r=e.attributes[n]||{},o=e.elements[n];!aa(o)||!Aa(o)||(Object.assign(o.style,a),Object.keys(r).forEach(function(l){var s=r[l];s===!1?o.removeAttribute(l):o.setAttribute(l,s===!0?"":s)}))})}function vH(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(a){var r=e.elements[a],o=e.attributes[a]||{},l=Object.keys(e.styles.hasOwnProperty(a)?e.styles[a]:n[a]),s=l.reduce(function(c,d){return c[d]="",c},{});!aa(r)||!Aa(r)||(Object.assign(r.style,s),Object.keys(o).forEach(function(c){r.removeAttribute(c)}))})}}const hH={name:"applyStyles",enabled:!0,phase:"write",fn:fH,effect:vH,requires:["computeStyles"]};function Ra(t){return t.split("-")[0]}var di=Math.max,Lc=Math.min,Po=Math.round;function ev(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function E1(){return!/^((?!chrome|android).)*safari/i.test(ev())}function _o(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var a=t.getBoundingClientRect(),r=1,o=1;e&&aa(t)&&(r=t.offsetWidth>0&&Po(a.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Po(a.height)/t.offsetHeight||1);var l=ui(t)?$n(t):window,s=l.visualViewport,c=!E1()&&n,d=(a.left+(c&&s?s.offsetLeft:0))/r,u=(a.top+(c&&s?s.offsetTop:0))/o,f=a.width/r,v=a.height/o;return{width:f,height:v,top:u,right:d+f,bottom:u+v,left:d,x:d,y:u}}function tv(t){var e=_o(t),n=t.offsetWidth,a=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-a)<=1&&(a=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:a}}function A1(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Vf(n)){var a=e;do{if(a&&t.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function nr(t){return $n(t).getComputedStyle(t)}function gH(t){return["table","td","th"].indexOf(Aa(t))>=0}function jr(t){return((ui(t)?t.ownerDocument:t.document)||window.document).documentElement}function $c(t){return Aa(t)==="html"?t:t.assignedSlot||t.parentNode||(Vf(t)?t.host:null)||jr(t)}function R1(t){return!aa(t)||nr(t).position==="fixed"?null:t.offsetParent}function pH(t){var e=/firefox/i.test(ev()),n=/Trident/i.test(ev());if(n&&aa(t)){var a=nr(t);if(a.position==="fixed")return null}var r=$c(t);for(Vf(r)&&(r=r.host);aa(r)&&["html","body"].indexOf(Aa(r))<0;){var o=nr(r);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return r;r=r.parentNode}return null}function ql(t){for(var e=$n(t),n=R1(t);n&&gH(n)&&nr(n).position==="static";)n=R1(n);return n&&(Aa(n)==="html"||Aa(n)==="body"&&nr(n).position==="static")?e:n||pH(t)||e}function nv(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Gl(t,e,n){return di(t,Lc(e,n))}function mH(t,e,n){var a=Gl(t,e,n);return a>n?n:a}function D1(){return{top:0,right:0,bottom:0,left:0}}function j1(t){return Object.assign({},D1(),t)}function M1(t,e){return e.reduce(function(n,a){return n[a]=t,n},{})}var yH=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,j1(typeof e!="number"?e:M1(e,Ul))};function bH(t){var e,n=t.state,a=t.name,r=t.options,o=n.elements.arrow,l=n.modifiersData.popperOffsets,s=Ra(n.placement),c=nv(s),d=[_n,na].indexOf(s)>=0,u=d?"height":"width";if(!(!o||!l)){var f=yH(r.padding,n),v=tv(o),h=c==="y"?Pn:_n,g=c==="y"?ta:na,p=n.rects.reference[u]+n.rects.reference[c]-l[c]-n.rects.popper[u],m=l[c]-n.rects.reference[c],y=ql(o),b=y?c==="y"?y.clientHeight||0:y.clientWidth||0:0,w=p/2-m/2,C=f[h],x=b-v[u]-f[g],k=b/2-v[u]/2+w,P=Gl(C,k,x),I=c;n.modifiersData[a]=(e={},e[I]=P,e.centerOffset=P-k,e)}}function wH(t){var e=t.state,n=t.options,a=n.element,r=a===void 0?"[data-popper-arrow]":a;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||A1(e.elements.popper,r)&&(e.elements.arrow=r))}const CH={name:"arrow",enabled:!0,phase:"main",fn:bH,effect:wH,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Io(t){return t.split("-")[1]}var xH={top:"auto",right:"auto",bottom:"auto",left:"auto"};function SH(t,e){var n=t.x,a=t.y,r=e.devicePixelRatio||1;return{x:Po(n*r)/r||0,y:Po(a*r)/r||0}}function F1(t){var e,n=t.popper,a=t.popperRect,r=t.placement,o=t.variation,l=t.offsets,s=t.position,c=t.gpuAcceleration,d=t.adaptive,u=t.roundOffsets,f=t.isFixed,v=l.x,h=v===void 0?0:v,g=l.y,p=g===void 0?0:g,m=typeof u=="function"?u({x:h,y:p}):{x:h,y:p};h=m.x,p=m.y;var y=l.hasOwnProperty("x"),b=l.hasOwnProperty("y"),w=_n,C=Pn,x=window;if(d){var k=ql(n),P="clientHeight",I="clientWidth";if(k===$n(n)&&(k=jr(n),nr(k).position!=="static"&&s==="absolute"&&(P="scrollHeight",I="scrollWidth")),k=k,r===Pn||(r===_n||r===na)&&o===Kl){C=ta;var D=f&&k===x&&x.visualViewport?x.visualViewport.height:k[P];p-=D-a.height,p*=c?1:-1}if(r===_n||(r===Pn||r===ta)&&o===Kl){w=na;var L=f&&k===x&&x.visualViewport?x.visualViewport.width:k[I];h-=L-a.width,h*=c?1:-1}}var O=Object.assign({position:s},d&&xH),S=u===!0?SH({x:h,y:p},$n(n)):{x:h,y:p};if(h=S.x,p=S.y,c){var _;return Object.assign({},O,(_={},_[C]=b?"0":"",_[w]=y?"0":"",_.transform=(x.devicePixelRatio||1)<=1?"translate("+h+"px, "+p+"px)":"translate3d("+h+"px, "+p+"px, 0)",_))}return Object.assign({},O,(e={},e[C]=b?p+"px":"",e[w]=y?h+"px":"",e.transform="",e))}function OH(t){var e=t.state,n=t.options,a=n.gpuAcceleration,r=a===void 0?!0:a,o=n.adaptive,l=o===void 0?!0:o,s=n.roundOffsets,c=s===void 0?!0:s,d={placement:Ra(e.placement),variation:Io(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,F1(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,F1(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const kH={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:OH,data:{}};var Bc={passive:!0};function PH(t){var e=t.state,n=t.instance,a=t.options,r=a.scroll,o=r===void 0?!0:r,l=a.resize,s=l===void 0?!0:l,c=$n(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&d.forEach(function(u){u.addEventListener("scroll",n.update,Bc)}),s&&c.addEventListener("resize",n.update,Bc),function(){o&&d.forEach(function(u){u.removeEventListener("scroll",n.update,Bc)}),s&&c.removeEventListener("resize",n.update,Bc)}}const _H={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:PH,data:{}};var IH={left:"right",right:"left",bottom:"top",top:"bottom"};function zc(t){return t.replace(/left|right|bottom|top/g,function(e){return IH[e]})}var NH={start:"end",end:"start"};function L1(t){return t.replace(/start|end/g,function(e){return NH[e]})}function av(t){var e=$n(t),n=e.pageXOffset,a=e.pageYOffset;return{scrollLeft:n,scrollTop:a}}function rv(t){return _o(jr(t)).left+av(t).scrollLeft}function TH(t,e){var n=$n(t),a=jr(t),r=n.visualViewport,o=a.clientWidth,l=a.clientHeight,s=0,c=0;if(r){o=r.width,l=r.height;var d=E1();(d||!d&&e==="fixed")&&(s=r.offsetLeft,c=r.offsetTop)}return{width:o,height:l,x:s+rv(t),y:c}}function EH(t){var e,n=jr(t),a=av(t),r=(e=t.ownerDocument)==null?void 0:e.body,o=di(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),l=di(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),s=-a.scrollLeft+rv(t),c=-a.scrollTop;return nr(r||n).direction==="rtl"&&(s+=di(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:l,x:s,y:c}}function iv(t){var e=nr(t),n=e.overflow,a=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+a)}function $1(t){return["html","body","#document"].indexOf(Aa(t))>=0?t.ownerDocument.body:aa(t)&&iv(t)?t:$1($c(t))}function Xl(t,e){var n;e===void 0&&(e=[]);var a=$1(t),r=a===((n=t.ownerDocument)==null?void 0:n.body),o=$n(a),l=r?[o].concat(o.visualViewport||[],iv(a)?a:[]):a,s=e.concat(l);return r?s:s.concat(Xl($c(l)))}function ov(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function AH(t,e){var n=_o(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function B1(t,e,n){return e===I1?ov(TH(t,n)):ui(e)?AH(e,n):ov(EH(jr(t)))}function RH(t){var e=Xl($c(t)),n=["absolute","fixed"].indexOf(nr(t).position)>=0,a=n&&aa(t)?ql(t):t;return ui(a)?e.filter(function(r){return ui(r)&&A1(r,a)&&Aa(r)!=="body"}):[]}function DH(t,e,n,a){var r=e==="clippingParents"?RH(t):[].concat(e),o=[].concat(r,[n]),l=o[0],s=o.reduce(function(c,d){var u=B1(t,d,a);return c.top=di(u.top,c.top),c.right=Lc(u.right,c.right),c.bottom=Lc(u.bottom,c.bottom),c.left=di(u.left,c.left),c},B1(t,l,a));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function z1(t){var e=t.reference,n=t.element,a=t.placement,r=a?Ra(a):null,o=a?Io(a):null,l=e.x+e.width/2-n.width/2,s=e.y+e.height/2-n.height/2,c;switch(r){case Pn:c={x:l,y:e.y-n.height};break;case ta:c={x:l,y:e.y+e.height};break;case na:c={x:e.x+e.width,y:s};break;case _n:c={x:e.x-n.width,y:s};break;default:c={x:e.x,y:e.y}}var d=r?nv(r):null;if(d!=null){var u=d==="y"?"height":"width";switch(o){case ko:c[d]=c[d]-(e[u]/2-n[u]/2);break;case Kl:c[d]=c[d]+(e[u]/2-n[u]/2);break}}return c}function Jl(t,e){e===void 0&&(e={});var n=e,a=n.placement,r=a===void 0?t.placement:a,o=n.strategy,l=o===void 0?t.strategy:o,s=n.boundary,c=s===void 0?eH:s,d=n.rootBoundary,u=d===void 0?I1:d,f=n.elementContext,v=f===void 0?Yl:f,h=n.altBoundary,g=h===void 0?!1:h,p=n.padding,m=p===void 0?0:p,y=j1(typeof m!="number"?m:M1(m,Ul)),b=v===Yl?tH:Yl,w=t.rects.popper,C=t.elements[g?b:v],x=DH(ui(C)?C:C.contextElement||jr(t.elements.popper),c,u,l),k=_o(t.elements.reference),P=z1({reference:k,element:w,strategy:"absolute",placement:r}),I=ov(Object.assign({},w,P)),D=v===Yl?I:k,L={top:x.top-D.top+y.top,bottom:D.bottom-x.bottom+y.bottom,left:x.left-D.left+y.left,right:D.right-x.right+y.right},O=t.modifiersData.offset;if(v===Yl&&O){var S=O[r];Object.keys(L).forEach(function(_){var A=[na,ta].indexOf(_)>=0?1:-1,E=[Pn,ta].indexOf(_)>=0?"y":"x";L[_]+=S[E]*A})}return L}function jH(t,e){e===void 0&&(e={});var n=e,a=n.placement,r=n.boundary,o=n.rootBoundary,l=n.padding,s=n.flipVariations,c=n.allowedAutoPlacements,d=c===void 0?T1:c,u=Io(a),f=u?s?N1:N1.filter(function(g){return Io(g)===u}):Ul,v=f.filter(function(g){return d.indexOf(g)>=0});v.length===0&&(v=f);var h=v.reduce(function(g,p){return g[p]=Jl(t,{placement:p,boundary:r,rootBoundary:o,padding:l})[Ra(p)],g},{});return Object.keys(h).sort(function(g,p){return h[g]-h[p]})}function MH(t){if(Ra(t)===Qf)return[];var e=zc(t);return[L1(t),e,L1(e)]}function FH(t){var e=t.state,n=t.options,a=t.name;if(!e.modifiersData[a]._skip){for(var r=n.mainAxis,o=r===void 0?!0:r,l=n.altAxis,s=l===void 0?!0:l,c=n.fallbackPlacements,d=n.padding,u=n.boundary,f=n.rootBoundary,v=n.altBoundary,h=n.flipVariations,g=h===void 0?!0:h,p=n.allowedAutoPlacements,m=e.options.placement,y=Ra(m),b=y===m,w=c||(b||!g?[zc(m)]:MH(m)),C=[m].concat(w).reduce(function(z,B){return z.concat(Ra(B)===Qf?jH(e,{placement:B,boundary:u,rootBoundary:f,padding:d,flipVariations:g,allowedAutoPlacements:p}):B)},[]),x=e.rects.reference,k=e.rects.popper,P=new Map,I=!0,D=C[0],L=0;L<C.length;L++){var O=C[L],S=Ra(O),_=Io(O)===ko,A=[Pn,ta].indexOf(S)>=0,E=A?"width":"height",R=Jl(e,{placement:O,boundary:u,rootBoundary:f,altBoundary:v,padding:d}),N=A?_?na:_n:_?ta:Pn;x[E]>k[E]&&(N=zc(N));var F=zc(N),M=[];if(o&&M.push(R[S]<=0),s&&M.push(R[N]<=0,R[F]<=0),M.every(function(z){return z})){D=O,I=!1;break}P.set(O,M)}if(I)for(var $=g?3:1,W=function(B){var q=C.find(function(Y){var X=P.get(Y);if(X)return X.slice(0,B).every(function(T){return T})});if(q)return D=q,"break"},H=$;H>0;H--){var K=W(H);if(K==="break")break}e.placement!==D&&(e.modifiersData[a]._skip=!0,e.placement=D,e.reset=!0)}}const LH={name:"flip",enabled:!0,phase:"main",fn:FH,requiresIfExists:["offset"],data:{_skip:!1}};function H1(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function W1(t){return[Pn,na,ta,_n].some(function(e){return t[e]>=0})}function $H(t){var e=t.state,n=t.name,a=e.rects.reference,r=e.rects.popper,o=e.modifiersData.preventOverflow,l=Jl(e,{elementContext:"reference"}),s=Jl(e,{altBoundary:!0}),c=H1(l,a),d=H1(s,r,o),u=W1(c),f=W1(d);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:d,isReferenceHidden:u,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}const BH={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:$H};function zH(t,e,n){var a=Ra(t),r=[_n,Pn].indexOf(a)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,l=o[0],s=o[1];return l=l||0,s=(s||0)*r,[_n,na].indexOf(a)>=0?{x:s,y:l}:{x:l,y:s}}function HH(t){var e=t.state,n=t.options,a=t.name,r=n.offset,o=r===void 0?[0,0]:r,l=T1.reduce(function(u,f){return u[f]=zH(f,e.rects,o),u},{}),s=l[e.placement],c=s.x,d=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=d),e.modifiersData[a]=l}const WH={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:HH};function UH(t){var e=t.state,n=t.name;e.modifiersData[n]=z1({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const KH={name:"popperOffsets",enabled:!0,phase:"read",fn:UH,data:{}};function YH(t){return t==="x"?"y":"x"}function qH(t){var e=t.state,n=t.options,a=t.name,r=n.mainAxis,o=r===void 0?!0:r,l=n.altAxis,s=l===void 0?!1:l,c=n.boundary,d=n.rootBoundary,u=n.altBoundary,f=n.padding,v=n.tether,h=v===void 0?!0:v,g=n.tetherOffset,p=g===void 0?0:g,m=Jl(e,{boundary:c,rootBoundary:d,padding:f,altBoundary:u}),y=Ra(e.placement),b=Io(e.placement),w=!b,C=nv(y),x=YH(C),k=e.modifiersData.popperOffsets,P=e.rects.reference,I=e.rects.popper,D=typeof p=="function"?p(Object.assign({},e.rects,{placement:e.placement})):p,L=typeof D=="number"?{mainAxis:D,altAxis:D}:Object.assign({mainAxis:0,altAxis:0},D),O=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,S={x:0,y:0};if(k){if(o){var _,A=C==="y"?Pn:_n,E=C==="y"?ta:na,R=C==="y"?"height":"width",N=k[C],F=N+m[A],M=N-m[E],$=h?-I[R]/2:0,W=b===ko?P[R]:I[R],H=b===ko?-I[R]:-P[R],K=e.elements.arrow,z=h&&K?tv(K):{width:0,height:0},B=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:D1(),q=B[A],Y=B[E],X=Gl(0,P[R],z[R]),T=w?P[R]/2-$-X-q-L.mainAxis:W-X-q-L.mainAxis,j=w?-P[R]/2+$+X+Y+L.mainAxis:H+X+Y+L.mainAxis,U=e.elements.arrow&&ql(e.elements.arrow),J=U?C==="y"?U.clientTop||0:U.clientLeft||0:0,Z=(_=O==null?void 0:O[C])!=null?_:0,Q=N+T-Z-J,ee=N+j-Z,ne=Gl(h?Lc(F,Q):F,N,h?di(M,ee):M);k[C]=ne,S[C]=ne-N}if(s){var V,re=C==="x"?Pn:_n,ce=C==="x"?ta:na,se=k[x],ue=x==="y"?"height":"width",ye=se+m[re],me=se-m[ce],ge=[Pn,_n].indexOf(y)!==-1,xe=(V=O==null?void 0:O[x])!=null?V:0,le=ge?ye:se-P[ue]-I[ue]-xe+L.altAxis,ie=ge?se+P[ue]+I[ue]-xe-L.altAxis:me,oe=h&&ge?mH(le,se,ie):Gl(h?le:ye,se,h?ie:me);k[x]=oe,S[x]=oe-se}e.modifiersData[a]=S}}const GH={name:"preventOverflow",enabled:!0,phase:"main",fn:qH,requiresIfExists:["offset"]};function XH(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function JH(t){return t===$n(t)||!aa(t)?av(t):XH(t)}function ZH(t){var e=t.getBoundingClientRect(),n=Po(e.width)/t.offsetWidth||1,a=Po(e.height)/t.offsetHeight||1;return n!==1||a!==1}function QH(t,e,n){n===void 0&&(n=!1);var a=aa(e),r=aa(e)&&ZH(e),o=jr(e),l=_o(t,r,n),s={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(a||!a&&!n)&&((Aa(e)!=="body"||iv(o))&&(s=JH(e)),aa(e)?(c=_o(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):o&&(c.x=rv(o))),{x:l.left+s.scrollLeft-c.x,y:l.top+s.scrollTop-c.y,width:l.width,height:l.height}}function VH(t){var e=new Map,n=new Set,a=[];t.forEach(function(o){e.set(o.name,o)});function r(o){n.add(o.name);var l=[].concat(o.requires||[],o.requiresIfExists||[]);l.forEach(function(s){if(!n.has(s)){var c=e.get(s);c&&r(c)}}),a.push(o)}return t.forEach(function(o){n.has(o.name)||r(o)}),a}function eW(t){var e=VH(t);return dH.reduce(function(n,a){return n.concat(e.filter(function(r){return r.phase===a}))},[])}function tW(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function nW(t){var e=t.reduce(function(n,a){var r=n[a.name];return n[a.name]=r?Object.assign({},r,a,{options:Object.assign({},r.options,a.options),data:Object.assign({},r.data,a.data)}):a,n},{});return Object.keys(e).map(function(n){return e[n]})}var U1={placement:"bottom",modifiers:[],strategy:"absolute"};function K1(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(a){return!(a&&typeof a.getBoundingClientRect=="function")})}function aW(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,a=n===void 0?[]:n,r=e.defaultOptions,o=r===void 0?U1:r;return function(s,c,d){d===void 0&&(d=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},U1,o),modifiersData:{},elements:{reference:s,popper:c},attributes:{},styles:{}},f=[],v=!1,h={state:u,setOptions:function(y){var b=typeof y=="function"?y(u.options):y;p(),u.options=Object.assign({},o,u.options,b),u.scrollParents={reference:ui(s)?Xl(s):s.contextElement?Xl(s.contextElement):[],popper:Xl(c)};var w=eW(nW([].concat(a,u.options.modifiers)));return u.orderedModifiers=w.filter(function(C){return C.enabled}),g(),h.update()},forceUpdate:function(){if(!v){var y=u.elements,b=y.reference,w=y.popper;if(K1(b,w)){u.rects={reference:QH(b,ql(w),u.options.strategy==="fixed"),popper:tv(w)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(L){return u.modifiersData[L.name]=Object.assign({},L.data)});for(var C=0;C<u.orderedModifiers.length;C++){if(u.reset===!0){u.reset=!1,C=-1;continue}var x=u.orderedModifiers[C],k=x.fn,P=x.options,I=P===void 0?{}:P,D=x.name;typeof k=="function"&&(u=k({state:u,options:I,name:D,instance:h})||u)}}}},update:tW(function(){return new Promise(function(m){h.forceUpdate(),m(u)})}),destroy:function(){p(),v=!0}};if(!K1(s,c))return h;h.setOptions(d).then(function(m){!v&&d.onFirstUpdate&&d.onFirstUpdate(m)});function g(){u.orderedModifiers.forEach(function(m){var y=m.name,b=m.options,w=b===void 0?{}:b,C=m.effect;if(typeof C=="function"){var x=C({state:u,name:y,instance:h,options:w}),k=function(){};f.push(x||k)}})}function p(){f.forEach(function(m){return m()}),f=[]}return h}}var rW=[_H,KH,kH,hH,WH,LH,GH,CH,BH],iW=aW({defaultModifiers:rW});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var oW=/\s/;function lW(t){for(var e=t.length;e--&&oW.test(t.charAt(e)););return e}var sW=lW,cW=sW,uW=/^\s+/;function dW(t){return t&&t.slice(0,cW(t)+1).replace(uW,"")}var fW=dW,vW=fW,Y1=Le,hW=Fl,q1=NaN,gW=/^[-+]0x[0-9a-f]+$/i,pW=/^0b[01]+$/i,mW=/^0o[0-7]+$/i,yW=parseInt;function bW(t){if(typeof t=="number")return t;if(hW(t))return q1;if(Y1(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Y1(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=vW(t);var n=pW.test(t);return n||mW.test(t)?yW(t.slice(2),n?2:8):gW.test(t)?q1:+t}var G1=bW;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var wW=da,CW=function(){return wW.Date.now()},xW=CW,SW=Le,lv=xW,X1=G1,OW="Expected a function",kW=Math.max,PW=Math.min;function _W(t,e,n){var a,r,o,l,s,c,d=0,u=!1,f=!1,v=!0;if(typeof t!="function")throw new TypeError(OW);e=X1(e)||0,SW(n)&&(u=!!n.leading,f="maxWait"in n,o=f?kW(X1(n.maxWait)||0,e):o,v="trailing"in n?!!n.trailing:v);function h(k){var P=a,I=r;return a=r=void 0,d=k,l=t.apply(I,P),l}function g(k){return d=k,s=setTimeout(y,e),u?h(k):l}function p(k){var P=k-c,I=k-d,D=e-P;return f?PW(D,o-I):D}function m(k){var P=k-c,I=k-d;return c===void 0||P>=e||P<0||f&&I>=o}function y(){var k=lv();if(m(k))return b(k);s=setTimeout(y,p(k))}function b(k){return s=void 0,v&&a?h(k):(a=r=void 0,l)}function w(){s!==void 0&&clearTimeout(s),d=0,a=c=r=s=void 0}function C(){return s===void 0?l:b(lv())}function x(){var k=lv(),P=m(k);if(a=arguments,r=this,c=k,P){if(s===void 0)return g(c);if(f)return clearTimeout(s),s=setTimeout(y,e),h(c)}return s===void 0&&(s=setTimeout(y,e)),l}return x.cancel=w,x.flush=C,x}var ar=_W;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function IW(){var t=i.getCurrentInstance();return function(n,a){var r;if(pe(t.props[n]))r=t.props[n](i.h);else if(t.slots[n])r=t.slots[n]&&t.slots[n](null)[0];else if(a){var o=a[t.props.theme];r=i.createVNode(o,null,null)}return r}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Hc(){var t=Re(),e=t.classPrefix,n={small:"".concat(e.value,"-size-s"),medium:"".concat(e.value,"-size-m"),large:"".concat(e.value,"-size-l"),default:"",xs:"".concat(e.value,"-size-xs"),xl:"".concat(e.value,"-size-xl"),block:"".concat(e.value,"-size-full-width")},a={loading:"".concat(e.value,"-is-loading"),loadMore:"".concat(e.value,"-is-load-more"),disabled:"".concat(e.value,"-is-disabled"),focused:"".concat(e.value,"-is-focused"),success:"".concat(e.value,"-is-success"),error:"".concat(e.value,"-is-error"),warning:"".concat(e.value,"-is-warning"),selected:"".concat(e.value,"-is-selected"),active:"".concat(e.value,"-is-active"),checked:"".concat(e.value,"-is-checked"),current:"".concat(e.value,"-is-current"),hidden:"".concat(e.value,"-is-hidden"),visible:"".concat(e.value,"-is-visible"),expanded:"".concat(e.value,"-is-expanded"),indeterminate:"".concat(e.value,"-is-indeterminate")};return{classPrefix:e,sizeClassNames:n,statusClassNames:a,classNames:{size:n,status:a}}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Rt(t,e,n,a){var r=i.getCurrentInstance(),o=r.emit,l=r.vnode,s=i.ref(),c=l.props||{},d=Object.prototype.hasOwnProperty.call(c,a)||Object.prototype.hasOwnProperty.call(c,bo(a));return d?[t,function(u){o("update:".concat(a),u);for(var f=arguments.length,v=new Array(f>1?f-1:0),h=1;h<f;h++)v[h-1]=arguments[h];n==null||n.apply(void 0,[u].concat(v))}]:(s.value=e,[s,function(u){s.value=u;for(var f=arguments.length,v=new Array(f>1?f-1:0),h=1;h<f;h++)v[h-1]=arguments[h];n==null||n.apply(void 0,[u].concat(v))}])}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var NW="t-display-none-element-refresh";function J1(){var t=i.ref(0);i.provide(NW,t),i.onUpdated(function(){t.value+=1})}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Z1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Q1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z1(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z1(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var TW=function(e){var n=e.data,a=e.container,r=e.fixedHeight,o=r===void 0?!1:r,l=e.lineHeight,s=l===void 0?30:l,c=e.bufferSize,d=c===void 0?20:c,u=e.threshold,f=u===void 0?100:u,v=i.reactive({visibleData:[],cachedHeight:[],cachedScrollY:[]}),h=i.computed(function(){return n.value.length>f}),g=i.ref(0),p=new Map,m=0,y=0,b=0,w=0,C=0,x=0,k=function(){n.value.forEach(function(R,N){R.$index=N,o&&(v.cachedScrollY[N]=N*s)}),o||(v.cachedScrollY[n.value.length-1]=void 0)};k();var P=i.computed(function(){var E=v.cachedHeight,R=E.length;if(R){var N=E.reduce(function(M,$){return M+$||s},0);if(E.length===n.value.length)return N;var F=N/E.length;return N+(n.value.length-E.length)*F}return h.value?n.value.length*s:0}),I=i.computed(function(){var E=v.visibleData,R=E[0];return R?E.length===1?0:v.cachedScrollY[R.$index]:0}),D=function(){x=Math.min(C+m+d*2,n.value.length),v.visibleData=n.value.slice(C,x)},L=function(){var R,N=p.get(b);if(N){var F=N==null||(R=N.getBoundingClientRect())===null||R===void 0?void 0:R.height;v.cachedScrollY[b]=a.value.scrollTop-w,v.cachedHeight[b]=F;for(var M=b+1;M<=(($=v.visibleData[v.visibleData.length-1])===null||$===void 0?void 0:$.$index);M++){var $,W=p.get(M),H=(W==null?void 0:W.getBoundingClientRect())||{},K=H.height;v.cachedHeight[M]=K;var z=v.cachedScrollY[M-1]+v.cachedHeight[M-1];v.cachedScrollY.splice(M,1,z)}for(var B=b-1;B>=((q=v.visibleData[0])===null||q===void 0?void 0:q.$index);B--){var q,Y=p.get(B),X=(Y==null?void 0:Y.getBoundingClientRect())||{},T=X.height;v.cachedHeight[B]=T;var j=v.cachedScrollY[B+1]-v.cachedHeight[B];v.cachedScrollY.splice(B,1,j)}if(v.cachedScrollY[0]>0){for(var U=v.cachedScrollY[0],J=Math.min(x,n.value.length),Z=0;Z<J;Z++)v.cachedScrollY.splice(Z,1,v.cachedScrollY[Z]-U);var Q=v.cachedScrollY[b-1]?v.cachedScrollY[b-1]+w:w;a.value.scrollTop=Q,y=Q}if(v.cachedScrollY[C]<0){var ee=v.cachedHeight.slice(0,Math.max(0,b)).reduce(function(ne,V){return ne+V},0)+w;a.value.scrollTop=ee,y=ee,ee===0&&(b=0,w=0)}i.nextTick(function(){var ne=a.value,V=ne.scrollTop,re=ne.scrollHeight,ce=ne.clientHeight;if(V+ce===re)for(var se=x-1;se>=C;se--)se===x-1?v.cachedScrollY.splice(se,1,re.value-v.cachedHeight[se]):v.cachedScrollY.splice(se,1,v.cachedScrollY[se+1]-v.cachedHeight[se])})}},O=function(){if(h.value){var R=a.value.scrollTop,N=R-y;y=R,N+=w;var F=b;if(N){if(N>=0){for(;F<n.value.length&&N>(v.cachedHeight[F]||s);)v.cachedHeight[F]||(v.cachedHeight[F]=s),N-=v.cachedHeight[F],F++;F>=n.value.length?(b=n.value.length-1,w=0):(b=F,w=N);var M=a.value,$=M.clientHeight,W=M.scrollHeight;R+$===W&&(b=n.value.length-m+1),C<=b-d&&(C=Math.min(n.value.length-m,b-d),C<0&&(C=0))}else{for(;N<0;)F--,v.cachedHeight[F]||(v.cachedHeight[F]=s),N+=v.cachedHeight[F];F<0?(b=0,w=0):(b=F,w=N),L(),C>b-d&&(C=Math.max(0,b-d))}D()}}};!o&&i.watch(g,L,{flush:"post"});var S=function(){h.value&&g.value++};i.watch(n,function(){k(),v.visibleData=[],v.cachedScrollY=[],v.cachedHeight=[],y=0,b=0,w=0,C=0,p.clear(),n.value.length<=f?v.visibleData=n.value:D(),a.value&&(a.value.scrollTop=0)});var _=!1,A=function(){_&&(m=Math.ceil(a.value.offsetHeight/s),D())};return i.onMounted(function(){if(!(!window||!window.IntersectionObserver)){var E=new window.IntersectionObserver(function(R){var N=R[0];(N.isIntersecting||N.intersectionRatio)&&(_=!0,h.value&&A(),E.unobserve(a.value))});a.value&&E.observe(a.value)}}),Q1(Q1({trs:p,scrollHeight:P},i.toRefs(v)),{},{translateY:I,handleScroll:O,handleRowMounted:S,refreshContainer:A,fixedHeight:o,calculateScrollY:L})};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function ot(t,e,n,a){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"value",o=i.getCurrentInstance(),l=o.emit,s=o.vnode,c=i.ref(),d=s.props||{},u=Object.prototype.hasOwnProperty.call(d,"modelValue")||Object.prototype.hasOwnProperty.call(d,"model-value"),f=Object.prototype.hasOwnProperty.call(d,r)||Object.prototype.hasOwnProperty.call(d,bo(r));return u?[e,function(v){l("update:modelValue",v);for(var h=arguments.length,g=new Array(h>1?h-1:0),p=1;p<h;p++)g[p-1]=arguments[p];a==null||a.apply(void 0,[v].concat(g))}]:f?[t,function(v){l("update:".concat(r),v);for(var h=arguments.length,g=new Array(h>1?h-1:0),p=1;p<h;p++)g[p-1]=arguments[p];a==null||a.apply(void 0,[v].concat(g))}]:(c.value=n,[c,function(v){c.value=v;for(var h=arguments.length,g=new Array(h>1?h-1:0),p=1;p<h;p++)g[p-1]=arguments[p];a==null||a.apply(void 0,[v].concat(g))}])}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Wc=new Set,He={warn:function(e,n){console.warn("TDesign ".concat(e," Warn: ").concat(n))},warnOnce:function(e,n){var a="TDesign ".concat(e," Warn: ").concat(n);Wc.has(a)||(Wc.add(a),console.warn(a))},error:function(e,n){console.error("TDesign ".concat(e," Error: ").concat(n))},errorOnce:function(e,n){var a="TDesign ".concat(e," Error: ").concat(n);Wc.has(a)||(Wc.add(a),console.error(a))},info:function(e,n){console.info("TDesign ".concat(e," Info: ").concat(n))}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var EW=/(.png|.jpg|.jpeg|.jpe|.webp|.avif|.svg|.gif|.bmp)/i,AW=/(.png|.jpg|.jpeg|.jpe|.webp|.avif|.svg|.gif|.bmp|.dwg|.dxf|.svf|.tif|.tiff|.arw)/i,RW=/(.pdf)/i,DW=/(.xlsx|.xls|.csv|.xlc|.xlm|.xlt|.xlw)/i,jW=/(.dox|docx|.document|.wps|.wdb|.msword)/i,MW=/(.ppt|.pptx|.key)/i,V1=/(.avi|.mp4|.wmv|.mpg|.mpeg|.mov|.rm|.ram|.swf|.flv|.rmvb|.flash|.mid|.3gp)/i,FW=/(.mp2|.mp3|.mp4|.ogg|.3gpp|.ac3|.au)/i,ew={"audio/*":FW,"video/*":V1,"image/*":AW,".ico":/image\/vnd.microsoft.icon/i,".doc":/application\/msword/i,".docx":/application\/vnd.openxmlformats-officedocument.wordprocessingml.document/i,".xls":/application\/vnd.ms-excel/i,".xlsx":/application\/vnd.openxmlformats-officedocument.spreadsheetml.sheet/i,".ppt":/application\/vnd.ms-powerpoint/i,".pptx":/application\/vnd.openxmlformats-officedocument.presentationml.presentation/i,".vsd":/application\/vnd.visio/i,".txt":/text\/plain/i,".abw":/application\/x-abiword/i,".avi":/video\/x-msvideo/i,".azw":/application\/vnd.amazon.ebook/i,".bin":/application\/octet-stream/i,".cda":/application\/x-cdf/i,".mpkg":/application\/vnd.apple.installer+xml/i,".odp":/application\/vnd.oasis.opendocument.presentation/i,".ods":/application\/vnd.oasis.opendocument.spreadsheet/i,".odt":/application\/vnd.oasis.opendocument.text/i,".oga":/audio\/ogg/i,".ogv":/video\/ogg/i,".ogx":/application\/ogg/i},Da={B:1,KB:1024,MB:1048576,GB:1073741824};function LW(t){return t<Da.KB?"".concat(t," Bytes"):t>=Da.KB&&t<Da.MB?"".concat((t/Da.KB).toFixed(1)," KB"):t>=Da.MB&&t<Da.GB?"".concat((t/Da.MB).toFixed(1)," MB"):t>=Da.GB?"".concat((t/Da.GB).toFixed(1)," GB"):""}function tw(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=new Date,n=e.getMonth()+1;n=n<10?"0".concat(n):n;var a="".concat(e.getFullYear(),"-").concat(n,"-").concat(e.getDate()),r="".concat(e.getHours(),":").concat(e.getMinutes(),":").concat(e.getSeconds());return t?[a,r].join(" "):a}function No(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,a=t,r=0,o=0;if(!a)return"";for(var l=0;l<a.length;l++){var s=a[l],c=escape(s).indexOf("%u")===0;l<e*2&&r<e?c?r+=1:r+=2:l>l-n&&o<n&&(c?o+=1:o+=2)}return a.replace(new RegExp("^(.{".concat(r,"})(.+)(.{").concat(o,"})$")),"$1…$3")}function $W(t){return t<1024?"".concat(t," Bytes"):t>=1024&&t<1048576?"".concat((t/1024).toFixed(1)," KB"):t>=1048576?"".concat((t/1048576).toFixed(1)," MB"):""}function BW(t,e,n){var a=["B","KB","MB","GB"],r=1,o=a.indexOf(n);o===-1&&(He.warn("Upload","`sizeLimit.unit` can only be one of ".concat(a.join())),o=r);var l=Da[n];return t>e*l}function zW(t){return new Promise(function(e){if(!t){e("");return}var n=new FileReader;n.readAsDataURL(t),n.onload=function(a){var r;e((r=a.target)===null||r===void 0?void 0:r.result)}})}function HW(t,e,n){var a=e||n;if(!t)return!0;if(!a)return!1;for(var r=t.split(",").map(function(d){return d.trim()}),o=0,l=r.length;o<l;o++){var s=r[o];if(ew[s]&&ew[s].test(a))return!0;var c=new RegExp(s,"i");if(c.test(a))return!0}return!1}function nw(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=[],a=0;a<t.length;a++)HW(e,t[a].type,t[a].name)&&n.push(t[a]);return n}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Uc(t){var e=i.ref("");return i.watch([t],function(n,a){var r=Ce(n,1),o=r[0],l=Ce(a,1),s=l[0];if(s!==o){if(typeof o=="string"){e.value=o;return}zW(o).then(function(c){e.value=c})}},{immediate:!0}),{previewUrl:e}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var sv={attach:{type:[String,Function],default:"body"},content:{type:[String,Function]},default:{type:[String,Function]},delay:{type:[Number,Array]},destroyOnClose:Boolean,disabled:Boolean,hideEmptyPopup:Boolean,overlayClassName:{type:[String,Object,Array]},overlayInnerClassName:{type:[String,Object,Array]},overlayInnerStyle:{type:[Boolean,Object,Function]},overlayStyle:{type:[Boolean,Object,Function]},placement:{type:String,default:"top"},popperOptions:{type:Object},showArrow:Boolean,trigger:{type:String,default:"hover",validator:function(e){return e?["hover","click","focus","mousedown","context-menu"].includes(e):!0}},triggerElement:{type:[String,Function]},visible:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},defaultVisible:Boolean,zIndex:{type:Number},onOverlayClick:Function,onScroll:Function,onScrollToBottom:Function,onVisibleChange:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function To(t,e){if(!(typeof window>"u")){var n=window&&window.ResizeObserver;if(n){var a=null,r=function(){!a||!t.value||(a.unobserve(t.value),a.disconnect(),a=null)},o=function(s){a=new ResizeObserver(e),a.observe(s)};t&&i.watch(t,function(l){r(),l&&o(l)},{immediate:!0,flush:"post"}),i.onBeforeUnmount(function(){r()})}}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function WW(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!i.isVNode(t)}function aw(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=[];return t.forEach(function(n){Ie(n)?e.push.apply(e,he(n)):n.type===i.Fragment?e.push.apply(e,he(aw(n.children))):e.push(n)}),e.filter(function(n){return!(n&&(n.type===i.Comment||n.type===i.Fragment&&n.children.length===0||n.type===i.Text&&n.children.trim()===""))})}function UW(t,e){return!t&&!e?!1:!!(!t||!e||["width","height","x","y"].some(function(n){return t[n]!==e[n]}))}function rw(t){var e=i.getCurrentInstance(),n=i.ref();return i.onMounted(function(){n.value=t(e)}),i.onUpdated(function(){var a=t(e);n.value!==a&&(n.value=a)}),n}var KW=i.defineComponent({name:"TPopupTrigger",props:{forwardRef:Function},emits:["resize"],setup:function(e,n){var a=n.emit,r=n.slots,o=rw(function(s){var c=s.parent.vnode;return c.el.nextElementSibling}),l=i.ref();return i.watch(o,function(){var s;(s=e.forwardRef)===null||s===void 0||s.call(e,o.value)}),To(o,function(s){var c=Ce(s,1),d=c[0].contentRect;l.value=d}),i.watch(l,function(s,c){UW(s,c)&&a("resize")}),function(){var s,c,d=aw((s=r.default)===null||s===void 0?void 0:s.call(r));return d.length>1||((c=d[0])===null||c===void 0?void 0:c.type)===i.Text?i.createVNode("span",null,[d]):d[0]}}}),YW=i.defineComponent({name:"TPopupContent",emits:["resize"],setup:function(e,n){var a=n.emit,r=n.slots,o=rw(function(l){return l.vnode.el.children[0]});return To(o,function(){a("resize")}),function(){return i.createVNode("div",{style:"position: absolute; top: 0px; left: 0px; width: 100%"},[r.default()])}}}),qW=i.defineComponent({name:"TPopupContainer",inheritAttrs:!1,props:{parent:Object,visible:Boolean,attach:sv.attach,forwardRef:Function},emits:["resize","contentMounted"],setup:function(e,n){var a=n.emit,r=n.attrs,o=n.slots,l=n.expose,s=i.ref(),c=i.ref(!1);function d(){a("resize")}return i.onMounted(function(){requestAnimationFrame(function(){c.value=e.visible})}),i.watch(function(){return e.visible},function(u){u&&(c.value=e.visible)}),l({unmountContent:function(){c.value=!1}}),function(){var u,f=function(){return qm()||mo(e.attach,s.value)};return i.createVNode(i.Fragment,null,[i.createVNode(KW,{class:r.class,forwardRef:function(h){e.forwardRef(h),s.value=h},onResize:d},WW(u=o.default())?u:{default:function(){return[u]}}),c.value&&i.createVNode(i.Teleport,{disabled:!f(),to:f()},{default:function(){return[i.createVNode(YW,{onResize:d,onVnodeMounted:function(){return a("contentMounted")}},{default:function(){return[o.content&&o.content()]}})]}})])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function iw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function cv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iw(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iw(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function GW(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!i.isVNode(t)}var ow="data-td-popup",uv="data-td-popup-parent";function dv(t,e){var n=[],a=[uv,ow];if(!t)return n;return e&&a.unshift(a.pop()),r(t),n;function r(o){var l=document.querySelectorAll("[".concat(a[0],'="').concat(o,'"]'));l.forEach(function(s){n.push(s);var c=s.getAttribute(a[1]);c&&c!==o&&r(c)})}}var lw=Symbol();function XW(t){return t.replace(/-(left|top)$/,"-start").replace(/-(right|bottom)$/,"-end")}function JW(t){var e=[];return{add:function(a,r){a&&(pt(t.value,a,r),e.push(function(){rt(t.value,a,r)}))},clean:function(){e.forEach(function(a){return a==null?void 0:a()}),e.length=0}}}var ZW=i.defineComponent({name:"TPopup",props:cv(cv({},sv),{},{expandAnimation:{type:Boolean}}),setup:function(e,n){var a,r=n.expose,o=i.toRefs(e),l=o.visible,s=o.modelValue,c=ot(l,s,e.defaultVisible,e.onVisibleChange,"visible"),d=Ce(c,2),u=d[0],f=d[1],v=Pe(),h=ft(),g,p,m,y=i.ref(null),b=i.ref(null),w=i.ref(null),C=i.ref(null),x=i.ref(!1),k=typeof process<"u"&&(a=process.env)!==null&&a!==void 0&&a.TEST?"":Date.now().toString(36),P=i.inject(lw,void 0);i.provide(lw,{id:k,assertMouseLeave:H});var I=ae("popup"),D=lt(),L=D.STATUS,O=i.computed(function(){var Y,X,T=e.trigger!=="hover"?[0,0]:[].concat((Y=e.delay)!==null&&Y!==void 0?Y:[250,150]);return{show:T[0],hide:(X=T[1])!==null&&X!==void 0?X:T[0]}}),S=JW(y);i.watch(function(){return[e.trigger,y.value]},function(){y.value&&(S.clean(),S.add({hover:"mouseenter",focus:"focusin","context-menu":"contextmenu",click:"click"}[e.trigger],function(Y){if(!e.disabled){if(Y.type==="contextmenu"&&Y.preventDefault(),(Y.type==="click"||Y.type==="contextmenu")&&u.value){F(Y);return}N(Y)}}),S.add({hover:"mouseleave",focus:"focusout"}[e.trigger],F))}),i.watch(function(){return[e.overlayStyle,e.overlayInnerStyle,b.value]},function(){A(),E()}),i.watch(function(){return e.placement},function(){R(),E()}),i.watch(function(){return u.value},function(Y){if(Y){pt(document,"mousedown",W,!0),e.trigger==="focus"&&pM(y.value,"keydown",function(X){var T,j=typeof process<"u"&&(T=process.env)!==null&&T!==void 0&&T.TEST?"27":"Escape";X.code===j&&F(X)});return}rt(document,"mousedown",W,!0)}),i.onUnmounted(function(){R(),M(),rt(document,"mousedown",W,!0)}),r({update:E,getOverlay:function(){return b.value},getOverlayState:function(){return{hover:x.value}},close:function(){return F()}});function _(){var Y=e.overlayStyle;if(!(!y.value||!b.value)){if(pe(Y))return Y(y.value,b.value);if(Le(Y))return Y}}function A(){var Y=e.overlayInnerStyle;!y.value||!b.value||(pe(Y)?ai(b.value,Y(y.value,b.value)):Le(Y)&&ai(b.value,Y))}function E(){if(!(!w.value||!u.value)){if(g){if(y.value.getRootNode()instanceof ShadowRoot)g.state.elements.reference=y.value,g.update();else{for(var Y=y.value.getBoundingClientRect(),X=y.value;X&&X!==document.body;)X=X.parentElement;var T=X!==document.body||Y.width===0&&Y.height===0;T?f(!1,{trigger:$({type:"mouseenter"})}):(g.state.elements.reference=y.value,g.update())}return}g=iW(y.value,w.value,cv({placement:XW(e.placement),onFirstUpdate:function(){i.nextTick(E)}},e.popperOptions))}}function R(){if(g){var Y;(Y=g)===null||Y===void 0||Y.destroy(),g=null}if(e.destroyOnClose){var X;(X=C.value)===null||X===void 0||X.unmountContent()}}function N(Y){M(),p=setTimeout(function(){f(!0,{trigger:$(Y)})},O.value.show)}function F(Y){M(),m=setTimeout(function(){f(!1,{trigger:$(Y),e:Y})},O.value.hide)}function M(){clearTimeout(p),clearTimeout(m)}function $(Y){switch(Y==null?void 0:Y.type){case"mouseenter":return"trigger-element-hover";case"mouseleave":return"trigger-element-hover";case"focusin":return"trigger-element-focus";case"focusout":return"trigger-element-blur";case"click":return"trigger-element-click";case"context-menu":case"keydown":return"keydown-esc";case"mousedown":return"document";default:return"trigger-element-close"}}function W(Y){var X,T;if(!((X=w.value)!==null&&X!==void 0&&X.contains(Y.target))&&!((T=y.value)!==null&&T!==void 0&&T.contains(Y.target))){var j=dv(k).find(function(U){return U.contains(Y.target)});j&&dv(j.getAttribute(uv),!0).some(function(U){return U===w.value})||F(Y)}}function H(Y){if(x.value=!1,!(e.trigger!=="hover"||y.value.contains(Y.target))){var X=dv(k).some(function(T){var j=T.getBoundingClientRect();return Y.x>j.x&&Y.x<j.x+j.width&&Y.y>j.y&&Y.y<j.y+j.height});X||(F(Y),P==null||P.assertMouseLeave(Y))}}function K(){x.value=!0,u.value&&e.trigger==="hover"&&M()}function z(Y){var X;(X=e.onOverlayClick)===null||X===void 0||X.call(e,{e:Y})}var B=i.inject("updateScrollTop",void 0);function q(Y){var X,T=Y.target,j=T.scrollTop,U=T.clientHeight,J=T.scrollHeight,Z=ar(function(Q){var ee;return(ee=e.onScrollToBottom)===null||ee===void 0?void 0:ee.call(e,{e:Q})},100);U+Math.floor(j)===J&&Z(Y),(X=e.onScroll)===null||X===void 0||X.call(e,{e:Y})}return i.watch(function(){return[u.value,b.value]},function(){u.value&&b.value&&B&&(B==null||B(b.value))}),function(){var Y=v("content"),X=e.hideEmptyPopup&&["",void 0,null].includes(Y),T=u.value||!e.destroyOnClose?i.withDirectives(i.createVNode("div",i.mergeProps(G(G({},ow,k),uv,P==null?void 0:P.id),{class:[I.value,e.overlayClassName],ref:function(U){return w.value=U},style:[{zIndex:e.zIndex},_(),X&&{visibility:"hidden"}],onClick:z,onMouseenter:K,onMouseleave:H}),[i.createVNode("div",{class:["".concat(I.value,"__content"),G(G(G({},"".concat(I.value,"__content--text"),Ae(e.content)),"".concat(I.value,"__content--arrow"),e.showArrow),L.value.disabled,e.disabled),e.overlayInnerClassName],ref:b,onScroll:q},[Y,e.showArrow&&i.createVNode("div",{class:"".concat(I.value,"__arrow")},null)])]),[[i.vShow,u.value]]):null;return i.createVNode(qW,{ref:function(U){return C.value=U},forwardRef:function(U){return y.value=U},onContentMounted:function(){if(u.value){E();var U=setTimeout(function(){A(),clearTimeout(U)},60)}},onResize:function(){u.value&&E()},visible:u.value,attach:e.attach},{content:function(){return i.createVNode(i.Transition,{name:"".concat(I.value,"--animation").concat(e.expandAnimation?"-expand":""),appear:!0,onEnter:E,onAfterLeave:R},GW(T)?T:{default:function(){return[T]}})},default:function(){return h("default","triggerElement")}})}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Bn=be(ZW);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var QW=i.defineComponent({name:"TAnchorTarget",props:Vz,setup:function(e,n){var a=n.slots,r=Re("anchor"),o=r.globalConfig,l=r.classPrefix,s=Ve({FileCopyIcon:H$}),c=s.FileCopyIcon,d=ae("anchor"),u=function(){var v=document.createElement("a");v.href="#".concat(e.id),Hz(v.href),ci.success(o.value.copySuccessText,1e3)};return function(){var f=a.default,v=e.tag,h=e.id,g=["".concat(d.value,"__target")],p="".concat(l.value,"-copy");return i.createVNode(v,{id:h,class:g},{default:function(){return[f&&f(null),i.createVNode(Bn,{content:o.value.copyText,placement:"top",showArrow:!0,class:p},{default:function(){return[i.createVNode(c,{onClick:u},null)]}})]}})}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var VW=be(Fz),eU=be(Bz),tU=be(QW);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var nU={maxItemWidth:{type:String,default:void 0},options:{type:Array},separator:{type:[String,Function]},theme:{type:String,default:"light",validator:function(e){return e?["light"].includes(e):!0}}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var aU={content:{type:[String,Function]},default:{type:[String,Function]},disabled:Boolean,href:{type:String,default:""},icon:{type:Function},maxWidth:{type:String,default:void 0},replace:Boolean,router:{type:Object},target:{type:String,default:"_self",validator:function(e){return e?["_blank","_self","_parent","_top"].includes(e):!0}},to:{type:[String,Object]},onClick:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function rU(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var sw=rU;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var cw=to,iU=El,oU=Ie,uw=cw?cw.isConcatSpreadable:void 0;function lU(t){return oU(t)||iU(t)||!!(uw&&t&&t[uw])}var sU=lU,cU=gf,uU=sU;function dw(t,e,n,a,r){var o=-1,l=t.length;for(n||(n=uU),r||(r=[]);++o<l;){var s=t[o];e>0&&n(s)?e>1?dw(s,e-1,n,a,r):cU(r,s):a||(r[r.length]=s)}return r}var fv=dw,dU=fv;function fU(t){var e=t==null?0:t.length;return e?dU(t,1):[]}var vU=fU,hU=vU,gU=jp,pU=Fp;function mU(t){return pU(gU(t,void 0,hU),t+"")}var fw=mU;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var yU=bc,bU=Af;function wU(t,e){return e.length<2?t:yU(t,bU(e,0,-1))}var CU=wU,xU=vo,SU=sw,OU=CU,kU=ho;function PU(t,e){return e=xU(e,t),t=OU(t,e),t==null||delete t[kU(SU(e))]}var vw=PU,_U=dc;function IU(t){return _U(t)?void 0:t}var NU=IU,TU=fo,EU=wm,AU=vw,RU=vo,DU=so,jU=NU,MU=fw,FU=yf,LU=1,$U=2,BU=4,zU=MU(function(t,e){var n={};if(t==null)return n;var a=!1;e=TU(e,function(o){return o=RU(o,t),a||(a=o.length>1),o}),DU(t,FU(t),n),a&&(n=EU(n,LU|$U|BU,jU));for(var r=e.length;r--;)AU(n,e[r]);return n}),gn=zU;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var HU={delay:{type:Number},destroyOnClose:{type:Boolean,default:!0},duration:{type:Number},placement:{type:String,default:"top"},showArrow:{type:Boolean,default:!0},theme:{type:String,default:"default",validator:function(e){return e?["default","primary","success","danger","warning","light"].includes(e):!0}}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var WU=function(){var e=i.ref(0),n=i.ref(0),a=function(o){e.value=o.clientX,n.value=o.clientY};return Na||(i.onMounted(function(){window.addEventListener("mousemove",a,{passive:!0})}),i.onUnmounted(function(){window.removeEventListener("mousemove",a)})),{x:e,y:n}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function hw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Eo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hw(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hw(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var UU=i.defineComponent({name:"TTooltip",props:Eo(Eo({},sv),HU),setup:function(e,n){var a=i.ref(null),r=i.ref(null),o=i.toRefs(e),l=o.visible,s=o.modelValue,c=ot(l,s,e.defaultVisible,e.onVisibleChange,"visible"),d=Ce(c,2),u=d[0],f=d[1],v=i.getCurrentInstance(),h=i.ref(e.visible||e.defaultVisible),g=ae(),p=Pe(),m=ft(),y=WU(),b=y.x,w=i.ref(b.value);i.onMounted(function(){e.duration&&h.value&&(a.value=setTimeout(function(){f(!1,{}),clearTimeout(a.value),a.value=null},e.duration))});var C=function(L,O){a.value&&(O==null?void 0:O.trigger)!=="document"||(L&&(w.value=b.value),f(L,O))},x=i.computed(function(){return["".concat(g.value,"-tooltip"),G({},"".concat(g.value,"-tooltip--").concat(e.theme),e.theme),e.overlayClassName]}),k=i.computed(function(){return Eo(Eo({},(v==null?void 0:v.vnode.props)||{}),{},{placement:e.placement==="mouse"?"bottom-left":e.placement,showArrow:e.placement==="mouse"?!1:e.showArrow,overlayClassName:x.value,onVisibleChange:C,disabled:e.disabled})}),P=i.computed(function(){if(e.placement!=="mouse"||w.value===0)return e.overlayInnerStyle;var D=function(O){return{transform:"translateX(".concat(w.value-O.getBoundingClientRect().left,"px)")}};return e.overlayInnerStyle?function(L,O){return Eo(Eo({},D(L)),pe(e.overlayInnerStyle)?e.overlayInnerStyle(L,O):e.overlayInnerStyle)}:D});i.watch(function(){return h.value},function(){a.value&&!h.value&&(clearTimeout(a.value),a.value=null)});var I=function(){var L,O;(L=r.value)===null||L===void 0||(O=L.update)===null||O===void 0||O.call(L)};return n.expose({updatePopper:I}),function(){var D=p("content");return!D&&!e.content?m("default","triggerElement"):i.createVNode(Bn,i.mergeProps(gn(k.value,["content","default"]),{ref:r,overlayInnerStyle:P.value,visible:u.value}),{default:function(){return[m("default","triggerElement")]},content:function(){return D}})}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var pn=be(UU);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function gw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function pw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gw(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gw(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function KU(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!i.isVNode(t)}var YU={separator:"",theme:"light",slots:{separator:""},maxItemWidth:void 0},mw=i.defineComponent({name:"TBreadcrumbItem",inheritAttrs:!1,props:pw({},aU),setup:function(e,n){var a,r=n.attrs,o=ft(),l=Pe(),s=i.ref(),c=i.inject("tBreadcrumb",YU),d=i.ref(c==null?void 0:c.theme),u=i.ref(!1),f=ae("breadcrumb__item"),v=ae("breadcrumb__separator"),h=ae("is-disabled"),g=ae("link"),p=ae("breadcrumb__inner"),m=ae("breadcrumb--text-overflow"),y=Ve({ChevronRightIcon:Rr}),b=y.ChevronRightIcon,w=i.computed(function(){var O=c==null?void 0:c.maxItemWidth,S=e.maxWidth||O||"120";return{maxWidth:"".concat(S,"px")}});i.onMounted(function(){u.value=Oc(s.value)}),i.onBeforeUpdate(function(){u.value=Oc(s.value)});var C=c==null?void 0:c.separator,x=c==null||(a=c.slots)===null||a===void 0?void 0:a.separator,k=C||x||i.createVNode(b,{color:"rgba(0,0,0,.3)"},null),P=i.getCurrentInstance(),I=P.proxy,D=function(){e.href&&(window.location.href=e.href);var S=e.router||I.$router;e.to&&S&&(e.replace?S.replace(e.to):S.push(e.to))},L=function(S){e.disabled||(S.preventDefault(),e.target==="_blank"?e.href?window.open(e.href):window.open(e.to):D())};return function(){var O=[f.value,d.value],S=[m.value];e.disabled&&S.push(h.value);var _={onClick:function(F){if(e.disabled){F.stopPropagation();return}}},A=o("default","content"),E=i.createVNode("span",{class:p.value,style:w.value},[l("icon"),i.createVNode("span",{ref:s,class:"".concat(p.value,"-text")},[A])]),R=i.createVNode("span",pw({class:S},_),[E]);return(e.href||e.to)&&!e.disabled&&(S.push(g.value),R=i.createVNode("a",i.mergeProps({class:S,href:e.href,target:e.target},_,{onClick:L}),[E])),i.createVNode("div",i.mergeProps({class:O},r,{onClick:!e.disabled&&e.onClick}),[u.value?i.createVNode(pn,{content:function(){return A}},KU(R)?R:{default:function(){return[R]}}):R,i.createVNode("span",{class:v.value,style:{textOverflow:u.value?"ellipsis":"clip"}},[pe(k)?k():k])])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var qU=i.defineComponent({name:"TBreadcrumb",props:nU,setup:function(e,n){var a=n.slots,r=i.toRefs(e),o=r.separator,l=r.theme,s=r.maxItemWidth,c=ae("breadcrumb");i.provide("tBreadcrumb",i.reactive({separator:o,theme:l,slots:{separator:a.separator},maxItemWidth:s}));var d=Pe();return function(){var u=d("default");return e.options&&e.options.length&&(u=e.options.map(function(f,v){return i.createVNode(mw,i.mergeProps(f,{key:v}),{default:function(){return[f.default||f.content]}})})),i.createVNode("div",{class:c.value},[u])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var GU=be(qU),XU=be(mw);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var JU={active:Boolean,content:{type:[String,Function],default:""},disabled:Boolean,divider:Boolean,prefixIcon:{type:Function},theme:{type:String,default:"default",validator:function(e){return e?["default","success","warning","error"].includes(e):!0}},value:{type:[String,Number,Object]},onClick:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var ZU=["from","to","direction"];function yw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function QU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yw(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yw(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function vv(t,e){for(var n=QU({},t),a=0;a<e.length;a++){var r=e[a];delete n[r]}return n}function VU(t){if(Ae(t))return t;if(Ie(t))return t[0]&&t[0][0]==="#"&&t.unshift("90deg"),"linear-gradient( ".concat(t.join(",")," )");var e=t.from,n=t.to,a=t.direction,r=a===void 0?"to right":a,o=Er(t,ZU),l=Object.keys(o);if(l.length){l=l.sort(function(c,d){return parseFloat(c.substr(0,c.length-1))-parseFloat(d.substr(0,d.length-1))});var s=l.map(function(c){return"".concat(o[c]," ").concat(c)});return"linear-gradient(".concat(r,", ").concat(s.join(","),")")}return"linear-gradient(".concat(r,", ").concat(e,", ").concat(n,")")}function eK(t){return Ta("on-".concat(t))}function bw(t){return nt(t)?"".concat(t,"px"):t}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function ww(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Cw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ww(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ww(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var hv=i.defineComponent({name:"TDropdownItem",props:Cw(Cw({},JU),{},{maxColumnWidth:{type:[String,Number],default:100},minColumnWidth:{type:[String,Number],default:10},isSubmenu:Boolean}),setup:function(e){var n=Pe(),a=ft(),r=i.ref();Ar(e.isSubmenu?null:r);var o=n("prefixIcon"),l=ae("dropdown__item"),s=function(d){var u;e.disabled||(u=e.onClick)===null||u===void 0||u.call(e,e.value,{e:d})};return function(){var c=a("default","content"),d=[l.value,"".concat(l.value,"--theme-").concat(e.theme),G(G({},"".concat(l.value,"--active"),e.active),"".concat(l.value,"--disabled"),e.disabled)];return i.createVNode("li",{class:d,onClick:s,style:{maxWidth:bw(e.maxColumnWidth),minWidth:bw(e.minColumnWidth)},ref:r},[e.prefixIcon?i.createVNode("div",{class:"".concat(l.value,"-icon")},[o]):null,c])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var xw={direction:{type:String,default:"right",validator:function(e){return e?["left","right"].includes(e):!0}},disabled:Boolean,hideAfterItemClick:{type:Boolean,default:!0},maxColumnWidth:{type:[String,Number],default:100},maxHeight:{type:Number,default:300},minColumnWidth:{type:[String,Number],default:10},options:{type:Array,default:function(){return[]}},panelBottomContent:{type:[String,Function]},panelTopContent:{type:[String,Function]},placement:{type:String,default:"bottom-left",validator:function(e){return e?["top","left","right","bottom","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"].includes(e):!0}},popupProps:{type:Object},trigger:{type:String,default:"hover",validator:function(e){return e?["hover","click","focus","context-menu"].includes(e):!0}},onClick:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Sw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Ow(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sw(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sw(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var kw=i.defineComponent({name:"TDropdownMenu",props:Ow({},xw),setup:function(e){var n=ae("dropdown"),a=ae("dropdown__menu"),r=i.reactive({}),o=i.ref(null),l=i.ref(),s=i.ref(!1),c=Ve({ChevronRightIcon:Rr}),d=c.ChevronRightIcon,u=function(p){var m,y,b=p.data,w=p.context;b==null||(m=b.onClick)===null||m===void 0||m.call(b,b,w),(y=e.onClick)===null||y===void 0||y.call(e,b,w)},f=function(p,m){var y=p.target.scrollTop;r[m]=y};i.onMounted(function(){if(l.value){var g,p=parseInt((g=window)===null||g===void 0?void 0:g.getComputedStyle(l.value).height,10);p>=e.maxHeight&&(s.value=!0)}o.value=document.querySelector(".".concat(n.value,"__item")).scrollHeight+2});var v=function(p){return pe(p)?p(i.h):p},h=function(p,m){var y,b=[],w;return(y=p.forEach)===null||y===void 0||y.call(p,function(C,x){var k=Ow({},C),P=x-Math.ceil(r[m]/o.value),I=P>=0?P:x;k.children?(k.children=h(k.children,m+1),w=i.createVNode("div",{key:x},[i.createVNode(hv,{style:k.style,class:["".concat(n.value,"__item"),"".concat(n.value,"__item--suffix"),k.class],value:k.value,theme:k.theme,active:k.active,prefixIcon:k.prefixIcon,disabled:k.disabled,minColumnWidth:e.minColumnWidth,maxColumnWidth:e.maxColumnWidth,isSubmenu:!0},{default:function(){return[i.createVNode("div",{class:"".concat(n.value,"__item-content")},[i.createVNode("span",{class:"".concat(n.value,"__item-text")},[v(k.content)]),i.createVNode(d,{class:"".concat(n.value,"__item-direction"),size:"16"},null)]),i.createVNode("div",{class:["".concat(n.value,"__submenu-wrapper"),G({},"".concat(n.value,"__submenu-wrapper--").concat(e.direction),e.direction)],style:{position:"absolute",top:"".concat(I*o.value,"px")}},[i.createVNode("div",{class:["".concat(n.value,"__submenu"),G({},"".concat(n.value,"__submenu--disabled"),k.disabled)],style:{position:"static",maxHeight:"".concat(e.maxHeight,"px")},onScroll:function(O){return f(O,m+1)}},[i.createVNode("ul",null,[k.children])])])]}}),k.divider?i.createVNode(Yf,null,null):null])):w=i.createVNode("div",{key:x},[i.createVNode(hv,{style:k.style,class:["".concat(n.value,"__item"),k.class],value:k.value,theme:k.theme,active:k.active,prefixIcon:k.prefixIcon,disabled:k.disabled,minColumnWidth:e.minColumnWidth,maxColumnWidth:e.maxColumnWidth,onClick:k.disabled||k.children?function(){return null}:function(D,L){return u({data:k,context:L})}},{default:function(){return[i.createVNode("span",{class:"".concat(n.value,"__item-text")},[v(k.content)])]}}),k.divider?i.createVNode(Yf,null,null):null]),b.push(w)}),b};return function(){return i.createVNode("div",{class:[a.value,"".concat(a.value,"--").concat(e.direction),G({},"".concat(a.value,"--overflow"),s.value)],style:{maxHeight:"".concat(e.maxHeight,"px")},ref:l,onScroll:function(p){return f(p,0)}},[h(e.options,0)])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Pw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function gv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pw(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pw(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var Kc=function(e){var n,a,r;if(!e)return[];if(((n=e[0])===null||n===void 0||(n=n.type)===null||n===void 0?void 0:n.name)==="TDropdownMenu"){var o,l,s=(o=e[0])===null||o===void 0||(o=o.children)===null||o===void 0||(l=o.default)===null||l===void 0?void 0:l.call(o);if(Ie(s))return Kc(s)}return Ie(e)?(e=e.reduce(function(c,d){return c=c.concat(Ie(d.children)?d.children:d),c},[]),e.map(function(c){var d,u,f,v,h,g,p,m,y,b,w=(d=c.children)===null||d===void 0||(u=d.content)===null||u===void 0?void 0:u.call(d),C=((f=c.children)===null||f===void 0||(v=f.prefixIcon)===null||v===void 0?void 0:v.call(f))||((h=c.children)===null||h===void 0||(g=h["prefix-icon"])===null||g===void 0?void 0:g.call(h)),x=(p=c.children)===null||p===void 0||(m=p.default)===null||m===void 0?void 0:m.call(p),k=x==null||(y=x.filter)===null||y===void 0?void 0:y.call(x,function(D){var L;return!["TDropdownMenu","TDropdownItem"].includes((L=D.type)===null||L===void 0?void 0:L.name)}),P=x==null||(b=x.filter)===null||b===void 0?void 0:b.call(x,function(D){var L;return!Ae(D.children)&&["TDropdownMenu","TDropdownItem"].includes((L=D.type)===null||L===void 0?void 0:L.name)}),I=Object.keys(c.props||{}).reduce(function(D,L){var O;return c.props[L]===""&&((O=c.type)===null||O===void 0?void 0:O.name)==="TDropdownItem"&&["active","divider","disabled"].includes(L)?D[Ta(L)]=!0:D[Ta(L)]=c.props[L],D},{});return gv(gv(gv({content:w||k||x},I),C?{prefixIcon:function(){return C}}:{}),{},{children:(P==null?void 0:P.length)>0?Kc(P):null})}).filter(function(c){return!!c.content})):Ie((a=e[0])===null||a===void 0?void 0:a.children)?Kc((r=e[0])===null||r===void 0?void 0:r.children):[]};function tK(t){var e,n,a,r,o=tr(),l=i.getCurrentInstance(),s=((e=o("DropdownMenu"))===null||e===void 0||(e=e[0])===null||e===void 0||(e=e.children)===null||e===void 0||(n=e.default)===null||n===void 0?void 0:n.call(e))||((a=l.slots)===null||a===void 0||(r=a.dropdown)===null||r===void 0?void 0:r.call(a)),c=i.computed(function(){return t.options&&t.options.length>0?t.options:Kc(s)});return c}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function _w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function pv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_w(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_w(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var nK=i.defineComponent({name:"TDropdown",props:xw,setup:function(e,n){var a=n.attrs,r=Pe(),o=ae("dropdown"),l=i.ref(null),s=i.ref(!1),c=i.computed(function(){var f,v,h=(f=e.popupProps)===null||f===void 0?void 0:f.delay;return nt(h)?h+10:Ie(h)?((v=h[1])!==null&&v!==void 0?v:h[0])+10:160}),d=function(v,h){var g;if(e.hideAfterItemClick){var p,m,y,b;setTimeout(function(){return s.value=!1},c.value),(p=e.popupProps)===null||p===void 0||(m=p.onVisibleChange)===null||m===void 0||m.call(p,!1,h),(y=e.popupProps)===null||y===void 0||(b=y["on-visible-change"])===null||b===void 0||b.call(y,!1,h)}e==null||(g=e.onClick)===null||g===void 0||g.call(e,v,h)},u=function(v,h){var g,p,m,y;s.value=v,(g=e.popupProps)===null||g===void 0||(p=g.onVisibleChange)===null||p===void 0||p.call(g,v,h),(m=e.popupProps)===null||m===void 0||(y=m["on-visible-change"])===null||y===void 0||y.call(m,v,h)};return function(){var f,v,h=(f=r("default"))===null||f===void 0?void 0:f[0],g=tK(e),p=pv(pv(pv({},a),{},{disabled:e.disabled,placement:e.placement,trigger:e.trigger},gn(e.popupProps,["onVisibleChange","on-visible-change"])),{},{overlayInnerClassName:[o.value,(v=e.popupProps)===null||v===void 0?void 0:v.overlayInnerClassName]});return i.createVNode(Bn,i.mergeProps({destroyOnClose:!0,ref:l,visible:s.value,onVisibleChange:u,expandAnimation:!0},p),{default:function(){return[h]},content:function(){return i.createVNode(i.Fragment,null,[r("panelTopContent"),i.createVNode(kw,i.mergeProps(gn(e,"onClick"),{options:g.value,onClick:d}),null),r("panelBottomContent")])}})}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var aK=be(nK),rK=be(hv),iK=be(kw);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var oK={collapsed:Boolean,expanded:{type:Array,default:void 0},defaultExpanded:{type:Array,default:[]},expandMutex:Boolean,expandType:{type:String,default:"normal",validator:function(e){return e?["normal","popup"].includes(e):!0}},logo:{type:Function},operations:{type:Function},theme:{type:String,default:"light",validator:function(e){return e?["light","dark"].includes(e):!0}},value:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultValue:{type:[String,Number]},width:{type:[String,Number,Array],default:"232px"},onChange:Function,onExpand:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function rr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Iw(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,up(a.key),a)}}function ir(t,e,n){return e&&Iw(t.prototype,e),n&&Iw(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Nw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function lK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nw(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nw(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var Tw=function(e,n,a){if(e)for(var r=0;r<e.children.length;++r){var o=e.children[r];if(o.value===n)return[].concat(he(a),[e.value]);var l=Tw(o,n,[].concat(he(a),[e.value]));if(l)return l}},Ew=function(e,n){if(!e)return[];for(var a=0;a<e.children.length;++a){var r=e.children[a];if(r.value===n)return e.children;var o=Ew(r,n);if(o)return o}},mv=function(e,n){if(e.value===n)return e;if(e.children.length>0)for(var a=0,r=e.children.length;a<r;a++){var o=mv(e.children[a],n);if(o)return o}},Aw=function(){function t(e){rr(this,t),G(this,"data",null),G(this,"cache",new Set),G(this,"isMutex",i.ref(!1)),G(this,"expandValues",null);var n={value:null,parent:null,children:[]};this.data=n,this.isMutex=e==null?void 0:e.isMutex,this.expandValues=new Set(e==null?void 0:e.expandValues)}return ir(t,[{key:"add",value:function(n){var a=n.value,r=n.parent,o=n.vnode,l=lK({value:a,parent:r,children:[],vnode:o},n);if(this.cache.forEach(function(c,d,u){n.value===c.parent&&(l.children.push(c),u.delete(c))}),n.parent==null)this.data.children.push(l),l.parent=this.data;else if(this.data.children.length>0){var s=mv(this.data,r);s&&!s.children.some(function(c){return c.value===l.value})?s.children.push(l):this.cache.add(l)}else this.cache.add(l)}},{key:"select",value:function(n){var a=Tw(this.data,n,[])||[];return a.push(n),a.filter(function(r){return r!=null})}},{key:"expand",value:function(n){var a=this;if(this.expandValues.has(n))return this.expandValues.delete(n),he(this.expandValues);if(this.expandValues.add(n),!this.isMutex.value)return he(this.expandValues);var r=Ew(this.data,n)||[],o=new Set(r.filter(function(l){var s;return((s=l.children)===null||s===void 0?void 0:s.length)>0&&l.value!==n}).map(function(l){return l.value}));return this.expandValues.forEach(function(l){var s=o.has(l);s&&a.expandValues.delete(l)}),he(this.expandValues)}},{key:"getChild",value:function(n){var a=mv(this.data,n);return a?a.children:[]}}])}();/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Rw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Dw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rw(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rw(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var sK=i.defineComponent({name:"TMenu",props:Dw(Dw({},oK),{},{onCollapsed:Function}),setup:function(e,n){var a=ae();i.watchEffect(function(){n.slots.options&&He.warnOnce("TMenu","`options` slot is going to be deprecated, please use `operations` for slot instead.")});var r=i.ref(e.expandType),o=i.computed(function(){return e.theme}),l=i.computed(function(){return e.expandMutex}),s=i.computed(function(){return e.collapsed}),c=i.computed(function(){return["".concat(a.value,"-default-menu"),"".concat(a.value,"-menu--").concat(e.theme),G({},"".concat(a.value,"-is-collapsed"),e.collapsed)]}),d=i.computed(function(){return["".concat(a.value,"-menu"),"".concat(a.value,"-menu--scroll")]}),u=i.computed(function(){var O=e.width,S=function(A){return nt(A)?"".concat(A,"px"):A};return Ie(O)?O.map(function(_){return S(_)}):[S(O),"64px"]}),f=i.computed(function(){return{height:"100%",width:e.collapsed?u.value[1]:u.value[0]}}),v=i.toRefs(e),h=v.value,g=v.modelValue,p=v.expanded,m=ot(h,g,e.defaultValue,e.onChange),y=Ce(m,2),b=y[0],w=y[1],C=Rt(p,e.defaultExpanded,e.onExpand,"expanded"),x=Ce(C,2),k=x[0],P=x[1],I=i.ref([]);i.watchEffect(function(){var O;r.value=e.collapsed?"popup":e.expandType,(O=e.onCollapsed)===null||O===void 0||O.call(e,{collapsed:e.collapsed})});var D=new Aw({isMutex:l,expandValues:k.value?he(k.value):[]});i.provide("TdMenu",{activeValue:b,activeValues:I,expandValues:k,mode:r,theme:o,isHead:!1,vMenu:D,collapsed:s,select:function(S){S!==b.value&&w(S)},open:function(S,_){if(r.value==="normal")P(D.expand(S));else if(_==="add")k.value.indexOf(S)===-1&&P([].concat(he(k.value),[S]));else if(_==="remove"){var A=k.value.indexOf(S),E=he(k.value);E.splice(A,1),P(E)}}}),i.watch(function(){return e.expanded},function(O){D.expandValues=new Set(O)}),i.watch(function(){return e.collapsed},function(O,S){!O&&S&&P(he(D.expandValues))});var L=function(S){I.value=D.select(S)};return i.watch(b,L),i.onMounted(function(){I.value=D.select(b.value)}),{styles:f,classPrefix:a,menuClass:c,innerClasses:d,activeValue:b,activeValues:I,expandValues:k}},render:function(){var e=fa(this,"operations","options"),n=Yt(this,"logo");return i.createVNode("div",{class:this.menuClass,style:this.styles},[i.createVNode("div",{class:"".concat(this.classPrefix,"-default-menu__inner")},[n&&i.createVNode("div",{class:"".concat(this.classPrefix,"-menu__logo")},[n]),i.createVNode("ul",{class:this.innerClasses},[fa(this,"default","content")]),e&&i.createVNode("div",{class:"".concat(this.classPrefix,"-menu__operations")},[e])])])}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var cK={expanded:{type:Array,default:void 0},defaultExpanded:{type:Array,default:[]},expandType:{type:String,default:"normal",validator:function(e){return e?["normal","popup"].includes(e):!0}},logo:{type:Function},operations:{type:Function},theme:{type:String,default:"light",validator:function(e){return e?["light","dark"].includes(e):!0}},value:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultValue:{type:[String,Number]},onChange:Function,onExpand:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Yc={default:{type:Function},destroyOnHide:{type:Boolean,default:!0},disabled:Boolean,draggable:{type:Boolean,default:!0},label:{type:[String,Function]},lazy:Boolean,panel:{type:[String,Function]},removable:Boolean,value:{type:[String,Number]},onRemove:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function jw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function uK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jw(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jw(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var Mw=i.defineComponent({name:"TTabPanel",props:uK({},Yc),setup:function(e){var n=ae("tab-panel"),a=lt(),r=a.STATUS,o=ft();J1();var l=i.inject("tabs"),s=i.computed(function(){return e.value===l.value.value}),c=i.ref(e.lazy?s.value:!0);i.watch(s,function(){s.value?c.value||(c.value=!0):e.destroyOnHide&&(c.value=!1)},{immediate:!0});var d=i.computed(function(){return[n.value,G({},r.value.hidden,!s.value)]});return function(){return c.value?i.createVNode("div",{class:d.value},[o("default","panel")]):null}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Qt={action:{type:[String,Function]},addable:Boolean,disabled:Boolean,dragSort:Boolean,list:{type:Array},placement:{type:String,default:"top",validator:function(e){return e?["left","top","bottom","right"].includes(e):!0}},scrollPosition:{type:String,default:"auto",validator:function(e){return e?["auto","start","center","end"].includes(e):!0}},size:{type:String,default:"medium",validator:function(e){return e?["medium","large"].includes(e):!0}},theme:{type:String,default:"normal",validator:function(e){return e?["normal","card"].includes(e):!0}},value:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultValue:{type:[String,Number]},onAdd:Function,onChange:Function,onDragSort:Function,onRemove:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var ja=function(e){return(e==null?void 0:e.offsetWidth)||0},dK=function(e){return(e==null?void 0:e.offsetLeft)||0};function fK(t,e,n){var a=t.navsContainer,r=t.activeTab,o=t.rightOperations,l=t.leftOperations,s=ja(r),c=ja(a),d=dK(r),u=ja(o),f=ja(l);if(n==="auto"){if(d-f<e)return d-f;if(d+s>e+c-u)return d+s-c+u}else{if(n==="start")return d-f;if(n==="center")return d+(s-c)/2;if(n==="end")return d+s-c+u}return e}function vK(t,e,n){var a=t.navsContainer,r=t.activeTab,o=ja(a),l=ja(r);return n==="next"?e+o-l:e-o+l}function hK(t){var e=t.navsWrap,n=t.navsContainer,a=t.rightOperations,r=t.toRightBtn,o=ja(e),l=ja(n),s=ja(a),c=ja(r);return o-l+s-c}function gK(t,e){return Math.max(0,Math.min(t,e))}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var pK=i.defineComponent({name:"TTabNavItem",props:{index:Number,active:{type:Boolean},theme:Qt.theme,size:Qt.size,placement:Qt.placement,label:{type:null},disabled:Yc.disabled,removable:Yc.removable,value:Yc.value,onClick:Function,onRemove:Function},setup:function(e){var n=i.ref();Ar(n);var a=ae("tabs__nav-item"),r=Ve({CloseIcon:ha}),o=r.CloseIcon,l=ae(),s=lt(),c=s.STATUS,d=s.SIZE,u=function(m){var y=m.e;y&&y.stopPropagation(),e.onRemove({e:y,value:e.value,index:e.index})},f=function(m){e.disabled||e.onClick(m)},v=i.computed(function(){return G(G(G(G(G(G(G(G({},a.value,!0),"".concat(l.value,"-tabs__nav--card"),e.theme==="card"),c.value.disabled,e.disabled),c.value.active,e.active),"".concat(l.value,"-is-left"),e.placement==="left"),"".concat(l.value,"-is-right"),e.placement==="right"),d.value.medium,e.size==="medium"),d.value.large,e.size==="large")}),h=function(){return i.createVNode("div",{class:v.value,onClick:f,ref:n},[i.createVNode("span",{class:"".concat(a.value,"-text-wrapper")},[e.label]),e.removable&&!e.disabled?i.createVNode(o,{class:"remove-btn",onClick:u},null):null])},g=function(){return i.createVNode("div",{class:v.value,onClick:f},[i.createVNode("div",{class:["".concat(a.value,"-wrapper"),G(G({},c.value.disabled,e.disabled),c.value.active,e.active)],ref:n},[i.createVNode("span",{class:"".concat(a.value,"-text-wrapper")},[e.label])]),e.removable&&!e.disabled?i.createVNode(o,{class:"remove-btn",onClick:u},null):null])};return function(){return e.theme==="card"?h():g()}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var mK=i.defineComponent({props:{navs:{type:Array},placement:Qt.placement,value:Qt.value},setup:function(e){var n=ae("tabs"),a=ae(),r=i.ref(),o=i.computed(function(){return["".concat(n.value,"__bar"),"".concat(a.value,"-is-").concat(e.placement)]}),l=i.ref(null),s=function(){for(var u,f=["left","right"].includes(e.placement.toLowerCase()),v=f?["height","top"]:["width","left"],h=Ce(v,2),g=h[0],p=h[1],m=0,y=0;y<e.navs.length;y++){var b;if(e.navs[y].props.value===e.value)break;m+=((b=e.navs[y])===null||b===void 0||(b=b.el)===null||b===void 0||(b=b.getBoundingClientRect())===null||b===void 0?void 0:b[g])||0}return e.navs[y]?G(G({},p,"".concat(m,"px")),g,"".concat(((u=e.navs[y].el)===null||u===void 0||(u=u.getBoundingClientRect())===null||u===void 0?void 0:u[g])||0,"px")):{}},c=function(){return l.value=s()};return i.onMounted(function(){i.nextTick(function(){c()})}),i.watch([function(){return e.navs},function(){return e.value},function(){return e.placement}],function(){i.nextTick(function(){c()})}),To(r,ar(function(){c()},35)),function(){return i.createVNode("div",{class:o.value,style:l.value,ref:r},null)}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function yK(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=bK(t))||e){n&&(t=n);var a=0,r=function(){};return{s:r,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(d){throw d},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,l=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var d=n.next();return l=d.done,d},e:function(d){s=!0,o=d},f:function(){try{l||n.return==null||n.return()}finally{if(s)throw o}}}}function bK(t,e){if(t){if(typeof t=="string")return Fw(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fw(t,e):void 0}}function Fw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=Array(e);n<e;n++)a[n]=t[n];return a}var Lw=function(e,n){var a=yK(e),r;try{for(a.s();!(r=a.n()).done;){var o=r.value;o.getAttribute("draggable")&&n(o)}}catch(l){a.e(l)}finally{a.f()}},$w=function(e,n){var a;return Lw(n,function(r){r.contains(e)&&(a=r)}),a};function wK(t){var e=null,n,a=[],r=function(v){var h=v.target;n=h,h.style.opacity="0.5"},o=function(v){v.target.style.opacity=""},l=function(v){v.preventDefault()},s=function(v){var h=$w(v.target,e.children);h&&h!==n&&h.draggable&&(h.firstChild.style.outline="1px dashed #0052d9",a.includes(h)||a.push(h))},c=function(v){for(var h=v.target,g=0,p=a;g<p.length;g++){var m=p[g];m.contains(h)||(m.firstChild.style.outline="none")}},d=function(v){v.preventDefault(),Lw(e.children,function(w){w.firstChild.style.outline="none"});var h=$w(v.target,e.children);if(h&&h.parentNode!==n&&h.draggable){var g,p=[].indexOf.call(e.children,n),m=[].indexOf.call(e.children,h);m>p&&(h=e.children[m+1]);var y=t.theme==="card"?p:p-1,b=t.theme==="card"?m:m-1;(g=t.onDragSort)===null||g===void 0||g.call(t,{currentIndex:y,current:t.panels[y].value,targetIndex:b,target:t.panels[b].value})}};function u(f){e=f,e.addEventListener("dragstart",r,!1),e.addEventListener("dragend",o,!1),e.addEventListener("dragover",l,!1),e.addEventListener("dragenter",s,!1),document.addEventListener("dragleave",c,!1),document.addEventListener("mousemove",c,!1),e.addEventListener("drop",d,!1)}return i.onUnmounted(function(){e.removeEventListener("dragstart",r),e.removeEventListener("dragend",o),e.removeEventListener("dragover",l),e.removeEventListener("dragenter",s),document.removeEventListener("dragleave",c),document.removeEventListener("mousemove",c),e.removeEventListener("drop",d)}),{setNavsWrap:u}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Bw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Zl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bw(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bw(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var CK=i.defineComponent(Zl(Zl({name:"TTabNav"},{resizeObserver:null}),{},{props:{theme:Qt.theme,panels:{type:Array,default:function(){return[]}},action:Array,value:Qt.value,placement:Qt.placement,scrollPosition:Qt.scrollPosition,size:Qt.size,disabled:Qt.disabled,addable:Qt.addable,onChange:Qt.onChange,onAdd:Qt.onAdd,onRemove:Qt.onRemove,dragSort:Qt.dragSort,onDragSort:Qt.onDragSort},setup:function(e){var n=ae("tabs"),a=Ve({ChevronLeftIcon:Co,ChevronRightIcon:Rr,AddIcon:Ac}),r=a.ChevronLeftIcon,o=a.ChevronRightIcon,l=a.AddIcon,s=ae(),c=lt(),d=c.SIZE,u=i.ref(0),f=i.ref(),v=i.ref(),h=i.ref(),g=i.ref(),p=i.ref(),m=i.ref(),y=i.ref(0),b=function(){return{navsContainer:f.value,navsWrap:v.value,leftOperations:h.value,rightOperations:g.value,toRightBtn:p.value,activeTab:m.value}},w=i.computed(function(){return["left","right"].includes(e.placement.toLowerCase())}),C=i.computed(function(){return u.value>1}),x=i.computed(function(){return u.value<y.value-1}),k=i.computed(function(){return w.value?{}:{transform:"translate3d(".concat(-u.value,"px, 0, 0)")}}),P=i.computed(function(){return e.addable?{"min-height":"48px"}:null}),I=i.computed(function(){return G(G(G({},"".concat(n.value,"__btn"),!0),d.value.medium,e.size==="medium"),d.value.large,e.size==="large")}),D=i.computed(function(){return Zl(G({},"".concat(n.value,"__btn--left"),!0),I.value)}),L=i.computed(function(){return Zl(G({},"".concat(n.value,"__btn--right"),!0),I.value)}),O=i.computed(function(){return Zl(G({},"".concat(n.value,"__add-btn"),!0),I.value)}),S=i.computed(function(){return G(G(G(G({},"".concat(n.value,"__nav-container"),!0),"".concat(n.value,"__nav--card"),e.theme==="card"),"".concat(s.value,"-is-").concat(e.placement),!0),"".concat(s.value,"-is-addable"),e.addable)}),_=i.computed(function(){return G(G({},"".concat(n.value,"__nav-scroll"),!0),"".concat(s.value,"-is-scrollable"),C.value||x.value)}),A=i.computed(function(){return["".concat(n.value,"__nav-wrap"),"".concat(s.value,"-is-smooth"),G({},"".concat(s.value,"-is-vertical"),w.value)]}),E=function(j){u.value=gK(j,y.value)},R=function(j){E(vK(b(),u.value,j))},N=function(j){if(!(!C.value&&!x.value)){j.preventDefault();var U=j.deltaX,J=j.deltaY;Math.abs(U)>Math.abs(J)?E(u.value+U):E(u.value+J)}},F=function(){setTimeout(function(){E(fK(b(),u.value,e.scrollPosition))},0)},M=function(){i.nextTick(function(){y.value=hK(b())})};i.watch([function(){return e.placement},function(){return e.panels}],M),i.watch([function(){return e.scrollPosition}],F),KB(ar(M),f.value);var $=function(j){var U;(U=e.onAdd)===null||U===void 0||U.call(e,{e:j})},W=function(j,U){var J=U.value,Z=U.disabled;if(Z||e.value===J)return!1;e.onChange(J)},H=function(j){var U=j.e,J=j.value,Z=j.index;e.onRemove({e:U,value:J,index:Z})},K=function(j){j!=null&&j.$el&&(j==null?void 0:j.value)===e.value&&m.value!==j.$el&&(m.value=j.$el,F())},z=wK(e),B=z.setNavsWrap;i.onMounted(function(){B(v.value),M(),F()});var q=i.computed(function(){return e.panels.map(function(T,j){var U,J;T!=null&&(U=T.children)!==null&&U!==void 0&&U.label?J=T.children.label():pe(T.label)?J=T.label(i.h):J=T.label||"选项卡".concat(j+1);var Z=e.dragSort;return Z&&T.draggable===!1&&(Z=T.draggable),i.createVNode(pK,{ref:K,draggable:Z,key:T.value,index:j,theme:e.theme,size:e.size,placement:e.placement,label:J,active:T.value===e.value,disabled:e.disabled||T.disabled,removable:T.removable,value:T.value,onClick:function(ee){return W(ee,T)},onRemove:H},null)})}),Y=function(){return[i.createVNode("div",{ref:h,class:["".concat(n.value,"__operations"),"".concat(n.value,"__operations--left")]},[i.createVNode(i.Transition,{name:"fade",mode:"out-in",appear:!0},{default:function(){return[C.value?i.createVNode("div",{class:D.value,onClick:function(){return R("prev")}},[i.createVNode(r,null,null)]):null]}})]),i.createVNode("div",{ref:g,class:["".concat(n.value,"__operations"),"".concat(n.value,"__operations--right")]},[i.createVNode(i.Transition,{name:"fade",mode:"out-in",appear:!0},{default:function(){return[x.value?i.createVNode("div",{ref:p,class:L.value,onClick:function(){return R("next")}},[i.createVNode(o,null,null)]):null]}}),e.addable?i.createVNode("div",{class:O.value,onClick:$},[i.createVNode(l,null,null)]):null,e.action])]},X=function(){return i.createVNode("div",{class:S.value},[i.createVNode("div",{class:_.value,onWheel:N},[i.createVNode("div",{ref:v,class:A.value,style:k.value},[e.theme!=="card"&&i.createVNode(mK,{placement:e.placement,value:e.value,navs:q.value},null),q.value])])])};return function(){return i.createVNode("div",{ref:f,class:["".concat(n.value,"__nav")],style:P.value},[Y(),X()])}}}));/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var xK=i.defineComponent({name:"TTabs",props:Qt,setup:function(e){var n=ae("tabs"),a=ae(),r=Pe(),o=i.toRefs(e),l=o.value,s=o.modelValue,c=ot(l,s,e.defaultValue||"",e.onChange),d=Ce(c,2),u=d[0],f=d[1];i.provide("tabs",{value:u});var v=function(w){var C;(C=e.onAdd)===null||C===void 0||C.call(e,{e:w.e})},h=function(w){f(w)},g=function(w){var C,x=w.e,k=w.value,P=w.index;(C=e.onRemove)===null||C===void 0||C.call(e,{value:k,index:P,e:x})},p=function(){var w=r("default");if(!w)return[];var C=function(k){return k.map(function(P){return P.children&&Ie(P.children)?C(P.children):P}).flat().filter(function(P){return P.type.name==="TTabPanel"})};return C(w)},m=function(){var w,C=((w=e.list)!==null&&w!==void 0&&w.length?e.list:p())||[],x=r("action"),k=C.map(function(I){var D=I;return I.props&&Object.keys(I.props).forEach(function(L){D[L]=I.props[L]}),D}),P={theme:e.theme,value:u.value,size:e.size,disabled:e.disabled,placement:e.placement,scrollPosition:e.scrollPosition,addable:e.addable,panels:k,dragSort:e.dragSort,action:x};return i.createVNode("div",{class:G(G({},"".concat(a.value,"-tabs__header"),!0),"".concat(a.value,"-is-").concat(e.placement),!0)},[i.createVNode(CK,i.mergeProps(P,{onDragSort:e.onDragSort,onChange:h,onAdd:v,onRemove:g}),null)])},y=function(){var w,C=p();if((w=e.list)!==null&&w!==void 0&&w.length)return e.list.map(function(x){return i.createVNode(Mw,i.mergeProps(x,{onRemove:g}),null)});if(C&&C.length)return i.createVNode("div",{class:["".concat(a.value,"-tabs__content")]},[C])};return function(){return i.createVNode("div",{class:[n.value]},[e.placement!=="bottom"?[m(),y()]:[y(),m()]])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var zw=be(xK),Hw=be(Mw);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var SK={content:{type:[String,Function]},default:{type:[String,Function]},disabled:Boolean,icon:{type:Function},popupProps:{type:Object},title:{type:[String,Function]},value:{type:[String,Number]}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var fi=i.defineComponent({name:"TFakeArrow",props:{isActive:{type:Boolean},overlayClassName:{type:[String,Object,Array]},overlayStyle:{type:Object||String}},setup:function(e){var n=ae("fake-arrow"),a=i.computed(function(){return[n.value,G({},"".concat(n.value,"--active"),e.isActive),e.overlayClassName]});return{classes:a}},render:function(){return i.createVNode("svg",{class:this.classes,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:this.overlayStyle},[i.createVNode("path",{d:"M3.75 5.7998L7.99274 10.0425L12.2361 5.79921",stroke:"black","stroke-opacity":"0.9","stroke-width":"1.3"},null)])}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Ww(){var t=function(s){s.dataset.oldPaddingTop=s.style.paddingTop,s.dataset.oldPaddingBottom=s.style.paddingBottom,s.style.height="0",s.style.paddingTop="0",s.style.paddingBottom="0"},e=function(s){s.dataset.oldOverflow=s.style.overflow,s.style.height="".concat(s.scrollHeight,"px"),s.style.paddingTop=s.dataset.oldPaddingTop,s.style.paddingBottom=s.dataset.oldPaddingBottom,s.style.overflow="hidden"},n=function(s){s.style.height="",s.style.overflow=s.dataset.oldOverflow},a=function(s){s.dataset.oldPaddingTop=s.style.paddingTop,s.dataset.oldPaddingBottom=s.style.paddingBottom,s.dataset.oldOverflow=s.style.overflow,s.style.height="".concat(s.scrollHeight,"px"),s.style.overflow="hidden"},r=function(s){s.scrollHeight!==0&&(s.style.height="0",s.style.paddingTop="0",s.style.paddingBottom="0")},o=function(s){s.style.height="",s.style.overflow=s.dataset.oldOverflow,s.style.paddingTop=s.dataset.oldPaddingTop,s.style.paddingBottom=s.dataset.oldPaddingBottom};return{beforeEnter:t,enter:e,afterEnter:n,beforeLeave:a,leave:r,afterLeave:o}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Uw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function OK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uw(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uw(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var kK=i.defineComponent({name:"TSubmenu",props:SK,setup:function(e,n){var a=ae(),r=i.inject("TdMenu"),o=r.theme,l=r.activeValues,s=r.expandValues,c=r.isHead,d=r.open,u=i.inject("TdSubmenu",{}),f=u.setSubPopup,v=u.closeParentPopup,h=i.computed(function(){return n.attrs.expandType||r.mode.value}),g=i.ref([]),p=i.computed(function(){return l.value.indexOf(e.value)>-1}),m=i.ref(!1),y=i.ref(!1),b=i.computed(function(){return o.value==="light"?"#E7E7E7":"#383838"}),w=i.computed(function(){var B;return h.value==="popup"?m.value:s?(B=s.value)===null||B===void 0?void 0:B.includes(e.value):!1}),C=i.ref(!1),x=i.ref(),k=i.ref(),P=i.ref(),I=ae("slide-down");Ar(P,b);var D=i.computed(function(){return["".concat(a.value,"-submenu"),G(G({},"".concat(a.value,"-is-disabled"),e.disabled),"".concat(a.value,"-is-opened"),w.value)]}),L=i.computed(function(){var B;return["".concat(a.value,"-menu__popup"),"".concat(a.value,"-is-").concat(c?"horizontal":"vertical"),G({},"".concat(a.value,"-is-opened"),m.value),(B=e.popupProps)===null||B===void 0?void 0:B.overlayInnerClassName]}),O=i.computed(function(){var B;return["".concat(a.value,"-menu--").concat(o.value),c&&"".concat(a.value,"-is-head-menu"),G({},"".concat(a.value,"-menu-is-nested"),C.value),(B=e.popupProps)===null||B===void 0?void 0:B.overlayClassName]}),S=i.computed(function(){return["".concat(a.value,"-menu__item"),"".concat(a.value,"-menu__item-spacer"),"".concat(a.value,"-menu__item-spacer--").concat(c&&!C.value?"bottom":"right"),G(G(G({},"".concat(a.value,"-is-disabled"),e.disabled),"".concat(a.value,"-is-opened"),w.value),"".concat(a.value,"-is-active"),p.value)]}),_=i.computed(function(){return["".concat(a.value,"-menu__sub"),G({},"".concat(a.value,"-is-opened"),w.value)]}),A=i.computed(function(){return[G({},"".concat(a.value,"-fake-arrow--active"),w.value)]}),E=function(q){pe(f)&&f(q)},R=function(){e.disabled||setTimeout(function(){m.value||(d(e.value),i.nextTick().then(function(){E(x.value)})),m.value=!0},0)},N=function(q){return q==null?void 0:q.classList.contains("".concat(a.value,"-menu__popup"))},F=function(q){return q?N(q)||F(q.parentElement):!1},M=function(q){setTimeout(function(){var Y=N(q.relatedTarget);y.value||Y||(m.value=!1)},0)},$=function(q){var Y=q.toElement,X=q.relatedTarget,T=Y||X;if(T!==k.value){for(var j=function(J){return J===P.value};T!==null&&T!==document&&!j(T);)T=T.parentNode;y.value=!1,j(T)||(m.value=!1),v==null||v(q)}},W=function(){y.value=!0},H=function(){e.disabled||d(e.value)};i.watch(m,function(B){r.open(e.value,B?"add":"remove")});var K=i.toRefs(e),z=K.value;return i.provide("TdSubmenu",i.reactive({value:z,addMenuItem:function(q){g.value.push(q),u&&u.addMenuItem(q)},setSubPopup:function(q){k.value=q},closeParentPopup:function(q){var Y=q.relatedTarget;F(Y)||$(q)}})),i.watch(x,function(){E(x.value)}),i.onMounted(function(){var B;r==null||(B=r.vMenu)===null||B===void 0||B.add({value:e.value,parent:u==null?void 0:u.value,vnode:n.slots.default});for(var q=i.getCurrentInstance(),Y=q.parent;Y&&!/^t(head)?menu/i.test((X=Y)===null||X===void 0?void 0:X.type.name);){var X,T,j;if(/submenu/i.test((T=Y)===null||T===void 0?void 0:T.type.name)){C.value=!0;break}Y=(j=Y)===null||j===void 0?void 0:j.parent}}),{classPrefix:a,menuItems:g,mode:h,theme:o,isHead:c,isNested:C,classes:D,subClass:_,isOpen:w,transitionClass:I,arrowClass:A,overlayInnerClassName:L,overlayClassName:O,submenuClass:S,submenuRef:P,popupWrapperRef:x,popupVisible:m,isCursorInPopup:y,handleEnterPopup:W,handleMouseEnter:R,handleMouseLeave:M,handleMouseLeavePopup:$,handleSubmenuItemClick:H}},methods:{renderPopup:function(e){var n,a=this,r="right-top";!this.isNested&&this.isHead&&(r="bottom-left");var o=i.createVNode("div",{ref:"popupWrapperRef",class:["".concat(this.classPrefix,"-menu__spacer"),"".concat(this.classPrefix,"-menu__spacer--").concat(!this.isNested&&this.isHead?"top":"left")],onMouseenter:this.handleEnterPopup,onMouseleave:this.handleMouseLeavePopup},[i.createVNode("ul",{class:"".concat(this.classPrefix,"-menu__popup-wrapper")},[fa(this,"default","content")])]),l={content:function(){return o}},s=i.createVNode(Bn,i.mergeProps((n=this.popupProps)!==null&&n!==void 0?n:{},{overlayInnerClassName:he(this.overlayInnerClassName),overlayClassName:he(this.overlayClassName),visible:this.popupVisible,placement:r}),OK({default:function(){return[i.createVNode("div",{ref:"submenuRef",class:a.submenuClass},[e])]}},l));return s},renderHeadSubmenu:function(){var e=Yt(this,"icon"),n=[i.createVNode("div",{ref:"submenuRef",class:this.submenuClass,onClick:this.handleSubmenuItemClick},[e,i.createVNode("span",{class:["".concat(this.classPrefix,"-menu__content")]},[Yt(this,"title",{silent:!0})])]),i.createVNode("ul",{style:"opacity: 0; width: 0; height: 0; overflow: hidden"},[fa(this,"default","content")])],a=this.mode==="popup"&&this.isNested,r=[e,i.createVNode("span",{class:["".concat(this.classPrefix,"-menu__content")]},[Yt(this,"title",{silent:!0})]),i.createVNode(fi,{overlayClassName:/menu/i.test(this.$parent.$options.name)?this.arrowClass:null,overlayStyle:{transform:"rotate(".concat(a?-90:0,"deg)")}},null)];return this.mode==="normal"?n:this.renderPopup(r)},renderSubmenu:function(){for(var e=this,n=this.$slots.content||this.$slots.default,a=Yt(this,"icon"),r=fa(this,"default","content"),o=i.getCurrentInstance(),l=o.parent,s=44;l&&l.type.name!=="TMenu";)l.type.name==="TSubmenu"&&(s+=16),l=l.parent;var c=Ww(),d=c.beforeEnter,u=c.enter,f=c.afterEnter,v=c.beforeLeave,h=c.leave,g=c.afterLeave,p=this.mode==="popup"&&this.isNested,m=[i.createVNode("div",{ref:"submenuRef",class:this.submenuClass,onClick:this.handleSubmenuItemClick},[a,i.createVNode("span",{class:["".concat(this.classPrefix,"-menu__content")]},[Yt(this,"title",{silent:!0})]),n&&i.createVNode(fi,{overlayClassName:this.arrowClass,overlayStyle:{transform:"rotate(".concat(p?-90:0,"deg)")}},null)]),i.createVNode(i.Transition,{name:this.transitionClass,onBeforeEnter:d,onEnter:u,onAfterEnter:f,onBeforeLeave:v,onLeave:h,onAfterLeave:g},{default:function(){return[i.withDirectives(i.createVNode("ul",{class:e.subClass,style:{"--padding-left":"".concat(s,"px")}},[r]),[[i.vShow,e.isOpen]])]}})],y=[a,i.createVNode("span",{class:["".concat(this.classPrefix,"-menu__content")]},[Yt(this,"title",{silent:!0})]),i.createVNode(fi,{overlayClassName:/menu/i.test(this.$parent.$options.name)?this.arrowClass:null,overlayStyle:{transform:"rotate(".concat(p?-90:0,"deg)"),"margin-left":"auto"}},null)];return this.mode==="normal"?m:this.renderPopup(y)}},render:function(){var e=null,n={};return this.mode==="popup"&&(n={onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave}),Object.keys(this.$slots).length>0&&(e=this.isHead?this.renderHeadSubmenu():this.renderSubmenu()),i.createVNode("li",i.mergeProps({class:this.classes},n),[e])}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Kw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Yw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kw(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kw(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function PK(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!i.isVNode(t)}var _K=i.defineComponent({name:"THeadMenu",props:Yw({},cK),setup:function(e,n){var a,r,o,l,s=ae(),c=i.getCurrentInstance(),d=c.proxy;i.watchEffect(function(){n.slots.options&&He.warnOnce("TMenu","`options` slot is going to be deprecated, please use `operations` for slot instead.")});var u=i.toRefs(e),f=u.value,v=u.modelValue,h=u.expanded,g=ot(f,v,e.defaultValue,e.onChange),p=Ce(g,2),m=p[0],y=p[1],b=Rt(h,e.defaultExpanded,e.onExpand,"expanded"),w=Ce(b,2),C=w[0],x=w[1],k=i.ref([]),P=i.computed(function(){return e.theme}),I=i.computed(function(){return["".concat(s.value,"-menu"),"".concat(s.value,"-head-menu"),"".concat(s.value,"-menu--").concat(e.theme)]}),D=i.ref(e.expandType),L=i.reactive([]),O=new Aw({isMutex:!0,expandValues:C.value});i.provide("TdMenu",{mode:D,theme:P,vMenu:O,isHead:!0,expandValues:C,activeValue:m,activeValues:k,select:function(K){y(K)},open:function(K,z){var B=he(C.value),q=B.indexOf(K);D.value==="popup"?z==="add"?q===-1&&B.push(K):z==="remove"&&B.splice(q,1):D.value==="normal"&&K!==void 0&&(B.splice(0,1),q===-1&&B.push(K)),x(B)}});var S=function(K){y(K),E(K)},_=function(K){var z=O.getChild(K);L.length=0,L.push.apply(L,he(z))};i.watch(C,function(H){D.value==="normal"&&_(H[0])});var A=function(K){k.value=O.select(K)};i.watch(m,A),i.watch(function(){return e.expandType},function(H){D.value=H}),i.onMounted(function(){var H;k.value=O.select(m.value),((H=C.value)===null||H===void 0?void 0:H.length)>0&&_(C.value[0])});var E=function(K){var z,B=L.find(function(j){return j.value===K});(z=B.onClick)===null||z===void 0||z.call(B,{value:K});var q=B.to,Y=B.href,X=B.replace;Y&&(window.location.href=B.href);var T=B.router||d.$router;q&&T&&(X?T.replace(q):T.push(q))},R=function(){var K;return L.length===0?null:i.createVNode("ul",{class:["".concat(s.value,"-head-menu__submenu"),"".concat(s.value,"-submenu")]},[i.createVNode(zw,{value:m.value,onChange:S},PK(K=L.map(function(z){var B;return i.createVNode(Hw,{value:z.value,label:(B=z.vnode()[0])===null||B===void 0?void 0:B.children},null)}))?K:{default:function(){return[K]}})])},N=i.ref(),F=i.ref(),M=i.ref(),$=i.ref(),W=function(K,z){K.forEach(function(B){var q,Y,X,T,j=(q=B.props)===null||q===void 0?void 0:q.value;if((((Y=B.type)===null||Y===void 0?void 0:Y.name)==="TSubmenu"||((X=B.type)===null||X===void 0?void 0:X.name)==="TMenuItem")&&O.add(Yw({value:j,parent:z,vnode:B.children.default},B.props)),pe((T=B.children)===null||T===void 0?void 0:T.default)){W(B.children.default(),j);return}Ie(B.children)&&W(B.children,j)})};return W(((a=(r=n.slots).default)===null||a===void 0?void 0:a.call(r))||((o=(l=n.slots).content)===null||o===void 0?void 0:o.call(l))||[]),function(){var H,K,z,B,q,Y,X,T,j,U,J,Z,Q=((H=e.logo)===null||H===void 0?void 0:H.call(e,i.h))||((K=(z=n.slots).logo)===null||K===void 0?void 0:K.call(z)),ee=((B=e.operations)===null||B===void 0?void 0:B.call(e,i.h))||((q=(Y=n.slots).operations)===null||q===void 0?void 0:q.call(Y))||((X=(T=n.slots).options)===null||X===void 0?void 0:X.call(T)),ne=((j=(U=n.slots).default)===null||j===void 0?void 0:j.call(U))||((J=(Z=n.slots).content)===null||J===void 0?void 0:J.call(Z))||[];return i.createVNode("div",{class:I.value},[i.createVNode("div",{class:"".concat(s.value,"-head-menu__inner"),ref:F},[Q&&i.createVNode("div",{class:"".concat(s.value,"-menu__logo"),ref:M},[Q]),i.createVNode("ul",{class:"".concat(s.value,"-menu"),ref:N},[ne]),ee&&i.createVNode("div",{class:"".concat(s.value,"-menu__operations"),ref:$},[ee])]),D.value==="normal"&&R()])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var IK={content:{type:[String,Function]},default:{type:[String,Function]},disabled:Boolean,href:{type:String,default:""},icon:{type:Function},replace:Boolean,router:{type:Object},routerLink:Boolean,target:{type:String,default:"_self",validator:function(e){return e?["_blank","_self","_parent","_top"].includes(e):!0}},to:{type:[String,Object]},value:{type:[String,Number]},onClick:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function NK(t,e){var n;Ae(e)&&(n=eK(e));for(var a=arguments.length,r=new Array(a>2?a-2:0),o=2;o<a;o++)r[o-2]=arguments[o];if(pe(t.$props[n])){var l;(l=t.$props)[n].apply(l,r)}else t.$emit.apply(t,[e].concat(r))}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function qw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Gw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qw(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qw(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function TK(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!i.isVNode(t)}var EK=i.defineComponent({name:"TMenuItem",props:Gw({},IK),emits:["click"],setup:function(e,n){var a=i.toRefs(e),r=a.href,o=a.target,l=ae(),s=i.inject("TdMenu"),c=i.ref();Ar(c);var d=i.inject("TdSubmenu",null),u=i.computed(function(){return s.activeValue.value===e.value}),f=i.computed(function(){var h;return(h=s.collapsed)===null||h===void 0?void 0:h.value}),v=i.computed(function(){return["".concat(l.value,"-menu__item"),G(G(G(G({},"".concat(l.value,"-is-active"),u.value),"".concat(l.value,"-is-disabled"),e.disabled),"".concat(l.value,"-menu__item--plain"),!n.slots.icon&&!e.icon),"".concat(l.value,"-submenu__item"),!!d&&!s.isHead)]});return i.onMounted(function(){var h;s==null||(h=s.vMenu)===null||h===void 0||h.add(Gw({value:e.value,parent:d==null?void 0:d.value,vnode:n.slots.default},e))}),{classPrefix:l,menu:s,active:u,collapsed:f,classes:v,itemRef:c,href:r,target:o,submenu:d}},methods:{handleClick:function(e){var n,a;if(e.stopPropagation(),!this.disabled){if(this.menu.select(this.value),NK(this,"click",{e,value:this.value}),this.to||this.routerLink&&this.href){var r=this.router||this.$router,o=this.replace?"replace":"push";r[o](this.to||this.href).catch(function(l){if(l.name!=="NavigationDuplicated"&&!l.message.includes("Avoided redundant navigation to current location"))throw l})}(n=this.submenu)===null||n===void 0||(a=n.closeParentPopup)===null||a===void 0||a.call(n,e)}}},render:function(){var e,n=this,a=i.createVNode("li",{ref:"itemRef",class:this.classes,onClick:this.handleClick},[Yt(this,"icon"),this.routerLink?i.createVNode("a",{href:this.href?this.href:this.to?(e=this.router||this.$router)===null||e===void 0?void 0:e.resolve(this.to).href:"",target:this.target,class:"".concat(this.classPrefix,"-menu__item-link"),onClick:function(s){return s.preventDefault()}},[i.createVNode("span",{class:"".concat(this.classPrefix,"-menu__content")},[fa(this,"default","content")])]):this.href?i.createVNode("a",{href:this.href,target:this.target,class:"".concat(this.classPrefix,"-menu__item-link"),onClick:function(s){return n.disabled&&s.preventDefault()}},[i.createVNode("span",{class:"".concat(this.classPrefix,"-menu__content")},[fa(this,"default","content")])]):i.createVNode("span",{class:"".concat(this.classPrefix,"-menu__content")},[fa(this,"default","content")])]),r=i.getCurrentInstance(),o=r.parent;return this.collapsed&&/tmenu/i.test(o==null?void 0:o.type.name)?i.createVNode(pn,{content:function(){return fa(n,"default","content")},placement:"right"},TK(a)?a:{default:function(){return[a]}}):a}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var AK={title:{type:[String,Function]}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var RK=i.defineComponent({name:"TMenuGroup",props:AK,setup:function(){var e=ae();return{classPrefix:e}},render:function(){var e=this.classPrefix;return i.createVNode("div",{class:"".concat(e,"-menu-group")},[i.createVNode("div",{class:"".concat(e,"-menu-group__title")},[Yt(this,"title",{silent:!1})]),Yt(this,"default")])}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var DK=be(sK),jK=be(_K),MK=be(kK),FK=be(EK),LK=be(RK);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var $K={align:{type:String,default:"left",validator:function(e){return e?["left","center","right"].includes(e):!0}},allowInputOverMax:Boolean,autoWidth:Boolean,autocomplete:{type:String,default:void 0},autofocus:Boolean,borderless:Boolean,clearable:Boolean,disabled:{type:Boolean,default:void 0},format:{type:Function},inputClass:{type:[String,Object,Array]},label:{type:[String,Function]},maxcharacter:{type:Number},maxlength:{type:[String,Number]},name:{type:String,default:""},placeholder:{type:String,default:void 0},prefixIcon:{type:Function},readonly:{type:Boolean,default:void 0},showClearIconOnEmpty:Boolean,showLimitNumber:Boolean,size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},spellCheck:Boolean,status:{type:String,default:"default",validator:function(e){return e?["default","success","warning","error"].includes(e):!0}},suffix:{type:[String,Function]},suffixIcon:{type:Function},tips:{type:[String,Function]},type:{type:String,default:"text",validator:function(e){return e?["text","number","url","tel","password","search","submit","hidden"].includes(e):!0}},value:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultValue:{type:[String,Number]},onBlur:Function,onChange:Function,onClear:Function,onClick:Function,onCompositionend:Function,onCompositionstart:Function,onEnter:Function,onFocus:Function,onKeydown:Function,onKeypress:Function,onKeyup:Function,onMouseenter:Function,onMouseleave:Function,onPaste:Function,onValidate:Function,onWheel:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function mn(t){var e=i.getCurrentInstance(),n=i.computed(function(){return e.props.readonly}),a=i.inject("formReadonly",Object.create(null));return i.computed(function(){var r,o,l;return Ht(t==null||(r=t.beforeReadonly)===null||r===void 0?void 0:r.value)?t.beforeReadonly.value:Ht(n==null?void 0:n.value)?n.value:Ht(t==null||(o=t.afterReadonly)===null||o===void 0?void 0:o.value)?t.afterReadonly.value:Ht((l=a.readonly)===null||l===void 0?void 0:l.value)?a.readonly.value:!1})}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Xw=function(){var e=ae();return i.computed(function(){var n="".concat(e.value,"-form"),a="".concat(e.value,"-input"),r="".concat(e.value,"-is");return{form:n,label:"".concat(n,"__label"),labelTop:"".concat(n,"__label--top"),inline:"".concat(n,"-inline"),formItem:"".concat(n,"__item"),formItemWithHelp:"".concat(n,"__item-with-help"),formItemWithExtra:"".concat(n,"__item-with-extra"),controls:"".concat(n,"__controls"),controlsContent:"".concat(n,"__controls-content"),status:"".concat(n,"__status"),extra:"".concat(a,"__extra"),help:"".concat(a,"__help"),success:"".concat(r,"-success"),successBorder:"".concat(n,"--success-border"),error:"".concat(r,"-error"),warning:"".concat(r,"-warning")}})},or=function(t){return t.TO_BE_VALIDATED="not",t.SUCCESS="success",t.FAIL="fail",t}(or||{}),Jw=Symbol("FormProvide"),yv=Symbol("FormItemProvide");/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Zw(t){var e=function(s){var c=t.value,d=c.allowInputOverMax,u=c.maxlength,f=c.maxcharacter;if(!(u||f)||d||!s)return s;if(u)return rM(s,u);if(f){var v=ri(s,f);if(Le(v))return v.characters}},n=i.computed(function(){var l=t.value,s=l.maxlength,c=l.maxcharacter,d=l.value;if(nt(d))return String(d);if(s&&c&&He.warn("Input","Pick one of maxlength and maxcharacter please."),s){var u=d!=null&&d.length?aM(d):0;return"".concat(u,"/").concat(s)}return c?"".concat(ri(d||""),"/").concat(c):""}),a=i.computed(function(){if(n.value){var l=n.value.split("/"),s=Ce(l,2),c=s[0],d=s[1];return Number(c)>Number(d)?"error":""}return""}),r=i.computed(function(){var l=t.value.status;return l||a.value}),o=function(){var s,c;(s=(c=t.value).onValidate)===null||s===void 0||s.call(c,{error:a.value?"exceed-maximum":void 0})};return i.watch(a,o),i.onMounted(function(){a.value&&o()}),{tStatus:r,limitNumber:n,getValueByLimitNumber:e}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function qc(t,e){return e==="number"?t||t===0?Number(t):void 0:t}function BK(t,e){var n=i.toRefs(t),a=n.value,r=n.modelValue,o=i.ref(),l=i.ref(!1),s=i.ref(),c=i.ref(null),d=i.ref(),u=St(),f=ot(a,r,t.defaultValue,t.onChange),v=Ce(f,2),h=v[0],g=v[1],p=i.ref(!1),m=i.ref(!1),y=i.ref(t.type),b=i.ref(null),w=i.computed(function(){return{value:[void 0,null].includes(h.value)?void 0:String(h.value),status:t.status,maxlength:Number(t.maxlength),maxcharacter:t.maxcharacter,allowInputOverMax:t.allowInputOverMax,onValidate:t.onValidate}}),C=Zw(w),x=C.limitNumber,k=C.getValueByLimitNumber,P=C.tStatus,I=i.computed(function(){return(h.value&&!u.value&&t.clearable&&!t.readonly||t.showClearIconOnEmpty)&&p.value}),D=function(){var B;m.value=!0,(B=b.value)===null||B===void 0||B.focus()},L=function(){var B;m.value=!1,(B=b.value)===null||B===void 0||B.blur()},O=function(B){var q;p.value&&m.value||(o.value=h.value,!t.disabled&&(m.value=!0,(q=t.onFocus)===null||q===void 0||q.call(t,h.value,{e:B})))},S=function(B){var q,Y=B.e,X=t.type==="number"?void 0:"";g(X,{e:Y,trigger:"clear"}),(q=t.onClear)===null||q===void 0||q.call(t,{e:Y})},_=function(B){d.value=B.target},A=function(){if(!u.value){var B=y.value==="password"?"text":"password";y.value=B}},E=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",q=b.value;if(q){var Y=String(B);q.value&&q.value!==Y&&(q.value=Y)}},R=function(B){var q,Y=B.target,X=Y.value;t.type!=="number"&&typeof h.value=="string"&&X.length>((q=h.value)===null||q===void 0?void 0:q.length)&&(X=k(X)),g(qc(X,t.type),{e:B,trigger:"input"}),i.nextTick(function(){t.type==="number"&&/\.(\d+)?0$/.test(X)?E(X):E(h.value)})},N=function(B){var q=B.inputType&&B.inputType==="insertCompositionText",Y=B.currentTarget.value;if(q||l.value){s.value=Y;return}R(B)},F=function(){var B,q=d.value;if(!q||!q.tagName||!((B=c.value)!==null&&B!==void 0&&B.$el)||!["path","svg"].includes(q.tagName))return!1;for(;q;){var Y;if(((Y=c.value)===null||Y===void 0?void 0:Y.$el)===q)return!0;q=q.parentNode}return!1},M=i.inject(yv,void 0),$=function(B){if(F())D();else{var q;t.format&&(o.value=typeof h.value=="number"||t.type==="number"?h.value:t.format(h.value)),m.value=!1,(q=t.onBlur)===null||q===void 0||q.call(t,h.value,{e:B}),M==null||M.handleBlur()}},W=function(B){var q;l.value=!1,s.value="",R(B),(q=t.onCompositionend)===null||q===void 0||q.call(t,String(h.value),{e:B})},H=function(B){var q;l.value=!0;var Y=B.currentTarget.value;s.value=Y,(q=t.onCompositionstart)===null||q===void 0||q.call(t,String(h.value),{e:B})},K=function(B){var q,Y;(q=b.value)===null||q===void 0||q.focus(),(Y=t.onClick)===null||Y===void 0||Y.call(t,{e:B})};return i.watch(function(){return t.autofocus},function(z){z===!0&&i.nextTick(function(){var B;(B=b.value)===null||B===void 0||B.focus()})},{immediate:!0}),i.watch(h,function(z,B){var q=t.type==="number";B===void 0&&t.format&&typeof z!="number"&&!q?o.value=t.format(z):o.value=z;var Y=typeof z=="number"?z:k(z);Y!==z&&!q&&g(Y,{trigger:"initial"})},{immediate:!0}),i.watch(function(){return t.type},function(z){y.value=z},{immediate:!0}),e({inputRef:b,focus:D,blur:L}),{isHover:p,focused:m,renderType:y,showClear:I,inputRef:b,clearIconRef:c,inputValue:o,isComposition:l,compositionValue:s,limitNumber:x,tStatus:P,emitFocus:O,formatAndEmitBlur:$,onHandleCompositionend:W,onHandleCompositionstart:H,onRootClick:K,emitPassword:A,handleInput:N,emitClear:S,onClearIconMousedown:_,innerValue:h}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function zK(t,e){var n=function(f){if(!t.disabled){var v=f.code,h=qc(f.currentTarget.value,t.type);if(/enter/i.test(v)||/enter/i.test(f.key)){var g;(g=t.onEnter)===null||g===void 0||g.call(t,h,{e:f})}else{var p;(p=t.onKeydown)===null||p===void 0||p.call(t,h,{e:f})}}},a=function(f){var v;if(!t.disabled){var h=qc(f.currentTarget.value,t.type);(v=t.onKeyup)===null||v===void 0||v.call(t,h,{e:f})}},r=function(f){var v;if(!t.disabled){var h=qc(f.currentTarget.value,t.type);(v=t.onKeypress)===null||v===void 0||v.call(t,h,{e:f})}},o=function(f){var v;if(!t.disabled){var h=f.clipboardData||window.clipboardData;(v=t.onPaste)===null||v===void 0||v.call(t,{e:f,pasteValue:h==null?void 0:h.getData("text/plain")})}},l=function(f){return e.value=f},s=function(f){var v;return(v=t.onWheel)===null||v===void 0?void 0:v.call(t,{e:f})},c=function(f){var v;l(!0),(v=t.onMouseenter)===null||v===void 0||v.call(t,{e:f})},d=function(f){var v;l(!1),(v=t.onMouseleave)===null||v===void 0||v.call(t,{e:f})};return{isHover:e,handleKeydown:n,handleKeyUp:a,handleKeypress:r,onHandlePaste:o,onHandleMousewheel:s,onInputMouseenter:c,onInputMouseleave:d}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var HK=100;function WK(t,e,n){var a=i.toRefs(t),r=a.autoWidth,o=a.placeholder,l=i.ref(null),s=i.ref(null),c=function(){!l.value||!e.value||(e.value.style.width=getComputedStyle(l.value).width)};To(l,function(){r.value&&(s.value=setTimeout(function(){c(),clearTimeout(s.value)},HK))}),i.onBeforeUnmount(function(){clearTimeout(s.value)});var d=function(){i.watch([n,o],function(){r.value&&i.nextTick(function(){c()})},{immediate:!0})};return i.onMounted(function(){r.value&&d()}),{inputPreRef:l}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var UK=["isHover","tStatus","inputRef","renderType","showClear","focused","inputValue","isComposition","compositionValue","innerValue","limitNumber"];function Qw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Vw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qw(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qw(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function eC(t){var e={};return Object.keys(t).forEach(function(n){Kt(t[n])||(e[n]=t[n])}),e}var KK=i.defineComponent({name:"TInput",props:Vw(Vw({},$K),{},{showInput:{type:Boolean,default:!0},keepWrapperWidth:{type:Boolean,default:!1}}),setup:function(e,n){var a=n.expose,r=Re("input"),o=r.globalConfig,l=Ve({BrowseIcon:Bf,BrowseOffIcon:u$,CloseCircleFilledIcon:xo}),s=l.BrowseIcon,c=l.BrowseOffIcon,d=l.CloseCircleFilledIcon,u=mn(),f=St(),v=ae("input"),h=ae("input__wrap"),g=ae("input__tips"),p=lt(),m=p.STATUS,y=p.SIZE,b=ae(),w=Pe(),C=BK(e,a),x=C.isHover,k=C.tStatus,P=C.inputRef,I=C.renderType,D=C.showClear,L=C.focused,O=C.inputValue,S=C.isComposition,_=C.compositionValue,A=C.innerValue,E=C.limitNumber,R=Er(C,UK),N=WK(e,P,A),F=N.inputPreRef,M=zK(e,x),$=i.computed(function(){var z;return(z=e.placeholder)!==null&&z!==void 0?z:o.value.placeholder}),W=i.computed(function(){var z;return eC({autofocus:e.autofocus,disabled:f.value,readonly:u.value,placeholder:$.value,name:e.name||void 0,type:I.value,autocomplete:(z=e.autocomplete)!==null&&z!==void 0?z:o.value.autocomplete||void 0,unselectable:u.value?"on":void 0,spellcheck:e.spellCheck})}),H=i.computed(function(){return[h.value,G({},"".concat(v.value,"--auto-width"),e.autoWidth&&!e.keepWrapperWidth)]}),K=eC({onFocus:R.emitFocus,onBlur:R.formatAndEmitBlur,onKeydown:M.handleKeydown,onKeyup:M.handleKeyUp,onKeypress:M.handleKeypress,onPaste:M.onHandlePaste,onCompositionend:R.onHandleCompositionend,onCompositionstart:R.onHandleCompositionstart});return function(){var z,B,q,Y=w("prefixIcon"),X=w("suffixIcon"),T=w("passwordIcon"),j=w("label",{silent:!0}),U=w("suffix"),J=E.value&&e.showLimitNumber?i.createVNode("div",{class:["".concat(b.value,"-input__limit-number"),G({},"".concat(b.value,"-is-disabled"),f.value)]},[E.value]):null,Z=j?i.createVNode("div",{class:"".concat(v.value,"__prefix")},[j]):null,Q=U||J?i.createVNode("div",{class:"".concat(v.value,"__suffix")},[U,J]):null;if(e.type==="password"){var ee=[G({},"".concat(v.value,"__suffix-clear"),!f.value)];I.value==="password"?X=i.createVNode(c,{class:ee,onClick:R.emitPassword},null):I.value==="text"&&(X=i.createVNode(s,{class:ee,onClick:R.emitPassword},null))}D.value&&(e.type==="password"?T=i.createVNode(d,{ref:R.clearIconRef,class:"".concat(v.value,"__suffix-clear"),onClick:R.emitClear,onMousedown:R.onClearIconMousedown},null):X=i.createVNode(d,{ref:R.clearIconRef,class:"".concat(v.value,"__suffix-clear"),onClick:R.emitClear,onMousedown:R.onClearIconMousedown},null));var ne=[v.value,e.inputClass,G(G(G(G(G(G(G(G(G(G({},y.value[e.size],e.size!=="medium"),m.value.disabled,f.value),m.value.focused,f.value?!1:L.value),"".concat(b.value,"-is-").concat(k.value),k.value&&k.value!=="default"),"".concat(b.value,"-align-").concat(e.align),e.align!=="left"),"".concat(b.value,"-is-readonly"),u.value),"".concat(v.value,"--prefix"),Y||Z),"".concat(v.value,"--suffix"),X||Q),"".concat(v.value,"--borderless"),e.borderless),"".concat(v.value,"--focused"),L.value)],V=w("tips"),re=[g.value,"".concat(b.value,"-tips"),"".concat(b.value,"-is-").concat(k.value||"default")];return i.withDirectives(i.createVNode("div",{class:H.value},[i.createVNode("div",{class:ne,onClick:R.onRootClick,onMouseenter:M.onInputMouseenter,onMouseleave:M.onInputMouseleave,onWheel:M.onHandleMousewheel},[Y?i.createVNode("span",{class:["".concat(v.value,"__prefix"),"".concat(v.value,"__prefix-icon")]},[Y]):null,Z,i.createVNode("input",i.mergeProps({class:["".concat(v.value,"__inner"),G({},"".concat(v.value,"--soft-hidden"),!e.showInput)]},W.value,K,{ref:P,value:S.value?(z=_.value)!==null&&z!==void 0?z:"":(B=O.value)!==null&&B!==void 0?B:"",onInput:function(se){return R.handleInput(se)}}),null),e.autoWidth&&i.createVNode("span",{ref:F,class:"".concat(b.value,"-input__input-pre")},[S.value?(q=_.value)!==null&&q!==void 0?q:"":A.value||$.value]),Q,T?i.createVNode("span",{class:["".concat(v.value,"__suffix"),"".concat(v.value,"__suffix-icon"),"".concat(v.value,"__clear")]},[T]):null,X?i.createVNode("span",{class:["".concat(v.value,"__suffix"),"".concat(v.value,"__suffix-icon"),G({},"".concat(v.value,"__clear"),D.value)]},[X]):null]),V&&i.createVNode("div",{class:re},[V])]),[[i.vShow,e.type!=="hidden"]])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var YK={separate:Boolean};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var qK=i.defineComponent({name:"TInputGroup",props:YK,setup:function(e){var n=ae("input-group"),a=Pe(),r=i.computed(function(){return[n.value,G({},"".concat(n.value,"--separate"),e.separate)]});return function(){return i.createVNode("div",{class:r.value},[a("default")])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var ga=be(KK),GK=be(qK);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var XK={align:{type:String,validator:function(e){return e?["left","center","right"].includes(e):!0}},allowInputOverLimit:{type:Boolean,default:!0},autoWidth:Boolean,decimalPlaces:{type:[Number,Object],default:void 0},disabled:{type:Boolean,default:void 0},format:{type:Function},inputProps:{type:Object},label:{type:[String,Function]},largeNumber:Boolean,max:{type:[String,Number],default:1/0},min:{type:[String,Number],default:-1/0},placeholder:{type:String,default:void 0},readonly:{type:Boolean,default:void 0},size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},status:{type:String,default:"default",validator:function(e){return e?["default","success","warning","error"].includes(e):!0}},step:{type:[String,Number],default:1},suffix:{type:[String,Function]},theme:{type:String,default:"row",validator:function(e){return e?["column","row","normal"].includes(e):!0}},tips:{type:[String,Function]},value:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultValue:{type:[String,Number]},onBlur:Function,onChange:Function,onEnter:Function,onFocus:Function,onKeydown:Function,onKeypress:Function,onKeyup:Function,onValidate:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Mr(t){return new Array(t).fill(0).join("")}function tC(t){if(!t)return!0;if(nt(t))return!Number.isNaN(t);var e=/^[0-9|e|E|-]+\.*[0-9|e|E|-]*$/.test(t);if(!e)return!1;for(var n=0,a=0,r=0,o=0,l=t.length;o<l;o++)if(t[o]==="."&&(r+=1,r>1)||/(e|E)+/.test(t[o])&&(n+=1,n>1)||t[o]==="-"&&(a+=1,a>2))return!1;return!0}function zn(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return t.indexOf(".")!==-1?(He.error("InputNumber","num is not a integer number."),t):!t||t==="0"&&e?"":t==="0"?t:(e?t.replace(/0+$/,""):t.replace(/^0+/,""))||"0"}function bv(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=zn(t,n),r=zn(e,n),o=a.length>r.length,l=o?a:r,s=o?r:a,c=[],d=[],u=n?0:l.length-s.length,f=n?s.length:l.length,v=f-1;v>=0;v--){var h=v-u,g=Number(l[v])+(Number(s[h])||0)+(d[v]||0);g>=10&&(d[v-1]=1),c.unshift(String(g%10))}return d[-1]&&c.unshift("1"),n?c.concat(l.slice(f,l.length)).join(""):c.join("")}function Ao(t,e){var n=t.split("."),a=Ce(n,2),r=a[0],o=r===void 0?"0":r,l=a[1],s=l===void 0?"0":l,c=e.split("."),d=Ce(c,2),u=d[0],f=u===void 0?"0":u,v=d[1],h=v===void 0?"0":v,g=bv(o,f);if(s==="0"&&h==="0")return g;var p=zn(s,!0),m=zn(h,!0),y=bv(p,m,!0),b=y.length;return b>p.length&&b>m.length?[zn(bv(g,"1")),zn(y.slice(1),!0)].filter(function(w){return w}).join("."):[zn(g),zn(y,!0)].filter(function(w){return w}).join(".")}function nC(t,e){var n=zn(t),a=zn(e);if(n.length===a.length){for(var r=0,o=n.length;r<o;r++){if(n[r]>a[r])return 1;if(n[r]<a[r])return-1}return 0}return n.length>a.length?1:-1}function aC(t,e){for(var n=t&&t!=="0"?t.replace(/0+$/,""):"0",a=e&&e!=="0"?e.replace(/0+$/,""):"0",r=Math.max(n.length,a.length),o=0,l=r;o<l;o++){if((n[o]||0)>(a[o]||0))return 1;if((n[o]||0)<(a[o]||0))return-1}return 0}function wv(t){var e=t.split("e"),n=Ce(e,2),a=n[0],r=n[1];if(!r)return t;var o=t.split("."),l=Ce(o,2),s=l[0],c=l[1],d=c===void 0?"":c,u=Number(r),f=d.split("e"),v=Ce(f,1),h=v[0];if(u>h.length){var g=Mr(u-h.length);return a.replace(/(^0+|\.)/g,"")+g}var p=s.replace(/^0+/,"")+h.slice(0,u),m=h.slice(u);return m?[p,m].join("."):p}function JK(t,e){var n=wv(t).split("."),a=Ce(n,2),r=a[0],o=a[1],l=wv(e).split("."),s=Ce(l,2),c=s[0],d=s[1],u=nC(r.replace("-",""),c.replace("-","")),f=r.includes("-"),v=c.includes("-");return f&&!v?-1:!f&&v?1:f&&v?u===0?0:u>0?-1:1:u===0?aC(o,d):u}function rC(t){return[-1/0,1/0].includes(Number(t))}function iC(t){return Number(t)<Number.MAX_SAFE_INTEGER&&Number(t)>Number.MIN_SAFE_INTEGER}function vi(t,e,n){var a=iC(t)&&iC(e)&&!n,r=rC(t)||rC(e);return a||r?Number(t)===Number(e)?0:Number(t)>Number(e)?1:-1:JK(String(t),String(e))}function Ql(t,e,n){if(t===e)return"0";for(var a=n||{},r=a.decimal,o=a.stayZero,l=zn(t),s=zn(e),c=nC(l,s)>0,d=c?l:s,u=c?s:l,f=[],v=[],h=r?0:d.length-u.length,g=r?u.length:d.length,p=g-1;p>=0;p--){var m=p-h,y=Number(d[p])-(Number(u[m])||0)-(v[p]||0);y<0&&(v[p-1]=1,y+=10),f.unshift(String(y))}if(r)return f.concat(d.slice(g,d.length)).join("");var b=f.join("");return o||(b=b.replace(/^0+/,"")),zn(c?b:"-".concat(b))}function Gc(t,e){if(t===e)return"0";var n=vi(t,e,!0)>0,a=n?t:e,r=n?e:t,o=a.split("."),l=Ce(o,2),s=l[0],c=l[1],d=c===void 0?"0":c,u=r.split("."),f=Ce(u,2),v=f[0],h=f[1],g=h===void 0?"0":h,p=Ql(s,v);if(d==="0"&&g==="0")return n?p:"-".concat(p);var m="",y=d;d.length<g.length&&(y="".concat(d).concat(Mr(g.length-d.length))),aC(y,g)>=0?m=Ql(y,g,{decimal:!0}):(d.length<g.length||d==="0"?(m=Ql("1".concat(y),g,{stayZero:!0}),m=Mr(g.length-m.length)+m):m=Ql(d,g,{decimal:!0}),p=Ql(p,"1"));var b=m?[p,m].join("."):p;return n?b:"-".concat(b)}function ZK(t,e){var n=t[0]==="-",a=e[0]==="-";if(n&&!a){var r=Ao(t.slice(1),e);return"-".concat(r)}return n&&a?Gc(e.slice(1),t.slice(1)):!n&&a?Ao(t,e.slice(1)):Gc(t,e)}function QK(t,e){var n=t[0]==="-",a=e[0]==="-";if(n&&!a)return Gc(e,t.slice(1));if(n&&a){var r=Ao(e.slice(1),t.slice(1));return"-".concat(r)}return!n&&a?Gc(t,e.slice(1)):Ao(t,e)}function oC(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(n)return t.toFixed(e);var a=t.toString().split("."),r=Ce(a,2),o=r[0],l=r[1];if(e===0)return o;var s=l.slice(0,e);return l.length<e&&(s+=Mr(e-l.length)),[o,s].join(".")}function VK(t,e){if(Le(e)){var n;return oC(t,e.places,(n=e.enableRound)!==null&&n!==void 0?n:!0)}return oC(t,e,!0)}function Xc(t){var e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(Number.isNaN(Number(t)))return"";if(!a)return VK(Number(t),n);var r=Le(n)?n.places:n,o=Le(n)&&(e=n.enableRound)!==null&&e!==void 0?e:!0;if(!Ae(t))return String(t);var l=t.split("."),s=Ce(l,2),c=s[0],d=s[1];if(!d)return r>0&&o?[t,Mr(r)].join("."):t;if(r===0)return o&&Number(d[0])>=5?Ao(c,"1"):c;var u=d.slice(0,r);if(d.length<r)u+=Mr(r-d.length);else if(o){var f,v=(f=u.match(/^0+/))===null||f===void 0?void 0:f[0].length,h=u.match(/^9+/),g=Number(d[r])>=5;u=g?Ao(u,"1"):u,v&&g&&v+u.length>=r&&(u="".concat(Mr(r-u.length)).concat(u)),h&&u.length>r&&(c=(Number(c)+1).toString(),u=Mr(r))}return[c,u].join(".")}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function eY(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!t&&t!==0?!0:n&&Ae(t)?vi(t,e,n)<0:t<e}function tY(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!t&&t!==0?!0:n&&Ae(t)?vi(t,e,n)>0:t>e}function nY(t,e){if(t!==""){var n=e.max,a=e.min,r=e.lastValue,o=e.largeNumber;return tC(t)?o&&(Ae(n)||n===1/0)&&(Ae(a)||a===-1/0)?vi(n,t,o)<0?n:vi(a,t,o)>0?a:t:Math.max(Number(a),Math.min(Number(n),Number(t))):r}}function Vl(t,e){var n,a;if(!t||!e)return(t||0)+(e||0);var r=((n=t.toString().split(".")[1])===null||n===void 0?void 0:n.length)||0,o=((a=e.toString().split(".")[1])===null||a===void 0?void 0:a.length)||0;if(!r&&!o)return t+e;var l=t,s=e,c=Math.abs(r-o),d=Math.pow(10,Math.max(r,o));if(c>0){var u=Math.pow(10,c);r>o?(l=Number(t.toString().replace(".","")),s=Number(e.toString().replace(".",""))*u):(l=Number(t.toString().replace(".",""))*u,s=Number(e.toString().replace(".","")))}else l=Number(t.toString().replace(".","")),s=Number(e.toString().replace(".",""));return(l+s)/d}function es(t,e){var n,a;if(!t||!e)return(t||0)-(e||0);var r=((n=t.toString().split(".")[1])===null||n===void 0?void 0:n.length)||0,o=((a=e.toString().split(".")[1])===null||a===void 0?void 0:a.length)||0,l=Math.pow(10,Math.max(r,o)),s=r>=o?r:o;return Number(((t*l-e*l)/l).toFixed(s))}function aY(t,e){return t<0&&e>0?es(e,Math.abs(t)):t<0&&e<0?Vl(Math.abs(t),Math.abs(e))*-1:t>0&&e<0?es(t,Math.abs(e)):Vl(t,e)}function rY(t,e){return t<0&&e>0?Vl(Math.abs(t),e)*-1:t<0&&e<0?es(Math.abs(e),Math.abs(t)):t>0&&e<0?Vl(t,Math.abs(e)):es(t,e)}function iY(t){var e=t.op,n=t.step,a=t.lastValue,r=t.max,o=t.min,l=t.largeNumber;if(Number(n)<=0)return He.error("InputNumber","step must be larger than 0."),a;var s=nt(n)?String(n):n,c;return e==="add"?l&&Ae(a)?c=QK(String(a),String(s)):c=aY(Number(a||0),Number(n)):e==="reduce"&&(l&&Ae(a)?c=ZK(String(a),String(s)):c=rY(Number(a||0),Number(n))),Kt(a)&&(c=nY(c,{max:r,min:o,lastValue:a,largeNumber:l})),l?c:Number(c)}function Cv(t){var e=t.largeNumber,n=t.value,a=t.max,r=t.min;if(!(Kt(n)||Kt(e))){e&&nt(n)&&He.warn("InputNumber","largeNumber value must be a string.");var o;return vi(n,a,e)>0?o="exceed-maximum":vi(n,r,e)<0?o="below-minimum":o=void 0,o}}var oY=["-",".","e","E","+"];function lY(t,e){var n,a;if(["",null,void 0].includes(t))return!0;if(t.slice(0,2)==="00"||t.match(/\s/g)||((n=t.match(/\./g))===null||n===void 0?void 0:n.length)>1||((a=t.match(/e/g))===null||a===void 0?void 0:a.length)>1)return!1;var r=t.slice(1);if(/(\+|-)/.test(r)&&!/e+/i.test(r))return!1;var o=e&&tC(t)||!Number.isNaN(Number(t));return!(!o&&!oY.includes(t.slice(-1))||/e/i.test(t)&&!/\de/i.test(t))}function sY(t,e){return parseFloat(t)!==e&&!Number.isNaN(Number(t))}function Jc(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!(["",null,void 0].includes(t)||!/\d+/.test(t))){var n=e.decimalPlaces,a=e.largeNumber,r=e.isToFixed,o=t.replace(/[.|+|\-|e]$/,"");return a&&(o=wv(o)),n!==void 0&&(o=Xc(o,n,a)),a||r?o:parseFloat(o)}}function cY(t){var e=/^[-+]?\d{1,3}(,\d{3})*(\.(\d*))?$/;return e.test(t)?t.replace(/,/g,""):t}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function uY(t){var e=Hc(),n=e.classPrefix,a=e.sizeClassNames,r=e.statusClassNames,o=i.toRefs(t),l=o.value,s=o.modelValue,c=o.max,d=o.min,u=ot(l,s,t.defaultValue,t.onChange),f=Ce(u,2),v=f[0],h=f[1],g=i.ref(),p=i.ref(""),m=St(),y=mn(),b=i.ref(),w=i.computed(function(){return m.value||!tY(v.value,t.min,t.largeNumber)}),C=i.computed(function(){return m.value||!eY(v.value,t.max,t.largeNumber)}),x=i.computed(function(){return["".concat(n.value,"-input-number"),a[t.size],G(G(G(G({},r.disabled,m.value),"".concat(n.value,"-is-controls-right"),t.theme==="column"),"".concat(n.value,"-input-number--").concat(t.theme),t.theme),"".concat(n.value,"-input-number--auto-width"),t.autoWidth)]}),k=i.computed(function(){return["".concat(n.value,"-input-number__decrease"),G({},r.disabled,w.value)]}),P=i.computed(function(){return["".concat(n.value,"-input-number__increase"),G({},r.disabled,C.value)]}),I=function(K){var z;if(!K&&K!==0)return"";var B=K||K===0?String(K):"";if(!((z=g.value)!==null&&z!==void 0&&(z=z.inputRef)!==null&&z!==void 0&&z.contains(document.activeElement))){var q=Jc(B,{decimalPlaces:t.decimalPlaces,largeNumber:t.largeNumber,isToFixed:!0});B=q||q===0?String(q):"",t.format&&(B=String(t.format(K,{fixedNumber:B})))}return B};i.watch(v,function(H){var K=t.largeNumber,z=t.decimalPlaces,B=[void 0,null].includes(H)?"":String(H);if(!K&&!Number.isNaN(p.value)){parseFloat(p.value)!==H&&(p.value=I(B));var q=Number(Xc(B,z,K));z!==void 0&&![void 0,null].includes(H)&&Number(q)!==Number(v.value)&&h(q,{type:"props",e:void 0})}if(K&&(p.value=I(B),z!==void 0&&Xc(B,z,K)!==H)){var Y,X=B;(Y=g.value)!==null&&Y!==void 0&&(Y=Y.inputRef)!==null&&Y!==void 0&&Y.contains(document.activeElement)||(X=Jc(X,{decimalPlaces:t.decimalPlaces,largeNumber:t.largeNumber,isToFixed:!0})),h(X,{type:"props",e:void 0})}},{immediate:!0}),i.watch([v,c,d],function(){var H;if(![void 0,"",null].includes(v.value)){var K=t.max,z=t.min,B=t.largeNumber,q=Cv({value:v.value,largeNumber:B,max:K,min:z});b.value=q,(H=t.onValidate)===null||H===void 0||H.call(t,{error:q})}},{immediate:!0});var D=function(K){var z=iY({op:K,step:t.step,max:t.max,min:t.min,lastValue:v.value,largeNumber:t.largeNumber}),B=t.largeNumber,q=t.max,Y=t.min,X=Cv({value:z,largeNumber:B,max:q,min:Y});return{overLimit:X,newValue:z}},L=function(K){if(!(w.value||y.value)){var z=D("reduce");z.overLimit&&!t.allowInputOverLimit||h(z.newValue,{type:"reduce",e:K})}},O=function(K){if(!(C.value||y.value)){var z=D("add");z.overLimit&&!t.allowInputOverLimit||h(z.newValue,{type:"add",e:K})}},S=function(K,z){var B=z.e,q=cY(K);if(lY(q,t.largeNumber)){if(p.value=q,t.largeNumber){h(q,{type:"input",e:B});return}if(sY(String(q),Number(v.value))){var Y=q===""?void 0:Number(q);h(Y,{type:"input",e:B})}}},_=function(K,z){var B,q=t.largeNumber,Y=t.max,X=t.min,T=t.decimalPlaces;if(!t.allowInputOverLimit&&v.value!==void 0){var j=Cv({value:v.value,largeNumber:q,max:Y,min:X});if(j==="below-minimum"){var U;h(X,{type:"blur",e:z.e}),(U=t.onBlur)===null||U===void 0||U.call(t,X,z);return}if(j==="exceed-maximum"){var J;h(Y,{type:"blur",e:z.e}),(J=t.onBlur)===null||J===void 0||J.call(t,Y,z);return}}var Z=Jc(K,{decimalPlaces:T,largeNumber:q});p.value=I(Z),Z!==v.value&&h(Z,{type:"blur",e:z.e}),(B=t.onBlur)===null||B===void 0||B.call(t,Z,z)},A=function(K,z){var B;p.value=v.value||v.value===0?String(v.value):"",(B=t.onFocus)===null||B===void 0||B.call(t,K,z)},E=function(K,z){var B;if(!m.value){var q=z.e,Y={ArrowUp:O,ArrowDown:L},X=q.code||q.key;Y[X]!==void 0&&Y[X](q),(B=t.onKeydown)===null||B===void 0||B.call(t,K,z)}},R=function(K,z){var B;(B=t.onKeyup)===null||B===void 0||B.call(t,K,z)},N=function(K,z){var B;(B=t.onKeypress)===null||B===void 0||B.call(t,K,z)},F=function(K,z){var B;p.value=I(K);var q=Jc(K,{decimalPlaces:t.decimalPlaces,largeNumber:t.largeNumber});q!==K&&String(q)!==K&&h(q,{type:"enter",e:z.e}),(B=t.onEnter)===null||B===void 0||B.call(t,q,z)},M=function(){m.value||y.value||g.value.focus()},$=function(){g.value.blur()},W={onBlur:_,onFocus:A,onKeydown:E,onKeyup:R,onKeypress:N,onEnter:F,onClick:M};return{classPrefix:n,wrapClasses:x,reduceClasses:k,addClasses:P,tDisabled:m,isError:b,listeners:W,userInput:p,tValue:v,inputRef:g,focus:M,blur:$,handleReduce:L,handleAdd:O,onInnerInputChange:S,isReadonly:y}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function lC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function dY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lC(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lC(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var fY=i.defineComponent({name:"TInputNumber",props:XK,setup:function(e,n){var a=Pe(),r=Ve({AddIcon:Ac,RemoveIcon:hB,ChevronDownIcon:Rc,ChevronUpIcon:ky}),o=r.AddIcon,l=r.RemoveIcon,s=r.ChevronDownIcon,c=r.ChevronUpIcon,d=uY(e),u=d.inputRef;return n.expose(dY({},d)),function(){var f=e.theme==="column"?i.createVNode(s,{size:e.size},null):i.createVNode(l,{size:e.size},null),v=e.theme==="column"?i.createVNode(c,{size:e.size},null):i.createVNode(o,{size:e.size},null),h=d.isError.value?"error":e.status,g=d.classPrefix.value,p=a("tips");return i.createVNode("div",{class:d.wrapClasses.value},[e.theme!=="normal"&&i.createVNode(vt,{class:d.reduceClasses.value,disabled:d.tDisabled.value,onClick:d.handleReduce,variant:"outline",shape:"square",icon:function(){return f}},null),i.createVNode(ga,i.mergeProps({ref:u,disabled:d.tDisabled.value,readonly:d.isReadonly.value,autocomplete:"off",placeholder:e.placeholder,unselectable:d.isReadonly.value?"on":"off",autoWidth:e.autoWidth,align:e.align||(e.theme==="row"?"center":void 0),status:h,label:e.label,suffix:e.suffix},d.listeners,e.inputProps,{value:d.userInput.value,onChange:d.onInnerInputChange}),n.slots),e.theme!=="normal"&&i.createVNode(vt,{class:d.addClasses.value,disabled:d.tDisabled.value,onClick:d.handleAdd,variant:"outline",shape:"square",icon:function(){return v}},null),p&&i.createVNode("div",{class:"".concat(g,"-input__tips ").concat(g,"-tips ").concat(g,"-is-").concat(h)},[p])])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var ts=be(fY);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var vY=nf,hY=vo,gY=Al,sC=Le,pY=ho;function mY(t,e,n,a){if(!sC(t))return t;e=hY(e,t);for(var r=-1,o=e.length,l=o-1,s=t;s!=null&&++r<o;){var c=pY(e[r]),d=n;if(c==="__proto__"||c==="constructor"||c==="prototype")return t;if(r!=l){var u=s[c];d=a?a(u,c,s):void 0,d===void 0&&(d=sC(u)?u:gY(e[r+1])?[]:{})}vY(s,c,d),s=s[c]}return t}var cC=mY;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var yY=bc,bY=cC,wY=vo;function CY(t,e,n){for(var a=-1,r=e.length,o={};++a<r;){var l=e[a],s=yY(t,l);n(s,l)&&bY(o,wY(l,t),s)}return o}var uC=CY,xY=uC,SY=zm;function OY(t,e){return xY(t,e,function(n,a){return SY(t,a)})}var kY=OY,PY=kY,_Y=fw,IY=_Y(function(t,e){return t==null?{}:PY(t,e)}),Ma=IY;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function NY(t,e,n,a){for(var r=t.length,o=n+(a?1:-1);a?o--:++o<r;)if(e(t[o],o,t))return o;return-1}var TY=NY;function EY(t){return t!==t}var AY=EY;function RY(t,e,n){for(var a=n-1,r=t.length;++a<r;)if(t[a]===e)return a;return-1}var DY=RY,jY=TY,MY=AY,FY=DY;function LY(t,e,n){return e===e?FY(t,e,n):jY(t,MY,n)}var $Y=LY,BY=$Y;function zY(t,e){var n=t==null?0:t.length;return!!n&&BY(t,e,0)>-1}var xv=zY;function HY(t,e,n){for(var a=-1,r=t==null?0:t.length;++a<r;)if(n(e,t[a]))return!0;return!1}var Sv=HY;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var WY=pc,UY=xv,KY=Sv,YY=fo,qY=oo,dC=mc,GY=Math.min;function XY(t,e,n){for(var a=n?KY:UY,r=t[0].length,o=t.length,l=o,s=Array(o),c=1/0,d=[];l--;){var u=t[l];l&&e&&(u=YY(u,qY(e))),c=GY(u.length,c),s[l]=!n&&(e||r>=120&&u.length>=120)?new WY(l&&u):void 0}u=t[0];var f=-1,v=s[0];e:for(;++f<r&&d.length<c;){var h=u[f],g=e?e(h):h;if(h=n||h!==0?h:0,!(v?dC(v,g):a(d,g,n))){for(l=o;--l;){var p=s[l];if(!(p?dC(p,g):a(t[l],g,n)))continue e}v&&v.push(g),d.push(h)}}return d}var JY=XY,ZY=cc;function QY(t){return ZY(t)?t:[]}var VY=QY,eq=fo,tq=JY,nq=uc,aq=VY,rq=nq(function(t){var e=eq(t,aq);return e.length&&e[0]===t[0]?tq(e):[]}),hi=rq;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var iq={allowInput:Boolean,autoWidth:Boolean,autofocus:Boolean,borderless:Boolean,clearable:Boolean,collapsedItems:{type:Function},disabled:{type:Boolean,default:void 0},inputProps:{type:Object},inputValue:{type:[String,Number],default:void 0},defaultInputValue:{type:[String,Number]},keys:{type:Object},label:{type:[String,Function]},loading:Boolean,minCollapsedNum:{type:Number,default:0},multiple:Boolean,panel:{type:[String,Function]},placeholder:{type:String,default:""},popupProps:{type:Object},popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:Boolean,prefixIcon:{type:Function},readonly:{type:Boolean,default:void 0},reserveKeyword:Boolean,size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},status:{type:String,default:"default",validator:function(e){return e?["default","success","warning","error"].includes(e):!0}},suffix:{type:[String,Function]},suffixIcon:{type:Function},tag:{type:[String,Function]},tagInputProps:{type:Object},tagProps:{type:Object},tips:{type:[String,Function]},value:{type:[String,Number,Boolean,Object,Array,Date],default:void 0},valueDisplay:{type:[String,Function]},onBlur:Function,onClear:Function,onEnter:Function,onFocus:Function,onInputChange:Function,onMouseenter:Function,onMouseleave:Function,onPaste:Function,onPopupVisibleChange:Function,onTagChange:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var oq=["tips"];function fC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fC(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fC(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var lq=["status","clearable","disabled","label","placeholder","readonly","prefixIcon","suffix","suffixIcon","onPaste","onMouseenter","onMouseleave","size","autofocus"],sq={label:"label",value:"value",children:"children"};function cq(t,e){var n=yn(yn({},sq),e);return Le(t)?t[n.label]:t}function uq(t,e,n){var a,r=i.toRefs(t),o=r.value,l=r.keys,s=r.inputValue,c=ae(),d=i.ref(t.autofocus),u=i.ref(),f=Rt(s,(a=t.defaultInputValue)!==null&&a!==void 0?a:"",t.onInputChange,"inputValue"),v=Ce(f,2),h=v[0],g=v[1],p=Pe(),m=St(),y=mn(),b=i.computed(function(){return yn(yn({},Ma(t,lq)),{},{disabled:m.value,readonly:y.value})}),w=function(L){var O,S;L==null||(O=L.e)===null||O===void 0||O.stopPropagation(),(S=t.onClear)===null||S===void 0||S.call(t,L),g("",{trigger:"clear"})},C=function(L,O){t.allowInput&&g(L,yn(yn({},O),{},{trigger:O.trigger||"input"}))},x=function(L){var O,S=p("valueDisplay"),_=L&&t.allowInput?h.value:cq(o.value,l.value),A=k(S,L),E=yn(yn({},b.value),{},{value:P(S,_,L),label:A.length?function(){return A}:void 0,autoWidth:t.autoWidth,readonly:!t.allowInput||y.value,placeholder:I(S),suffixIcon:!m.value&&t.loading?function(){return i.createVNode(an,{loading:!0,size:"small"},null)}:t.suffixIcon,showClearIconOnEmpty:!!(t.clearable&&(h.value||_)&&!m.value&&!y.value)},t.inputProps),R=e.slots;R.tips;var N=Er(R,oq),F=L?["".concat(c.value,"-input--focused"),"".concat(c.value,"-is-focused"),E==null?void 0:E.inputClass]:E==null?void 0:E.inputClass,M=function(K,z){var B;(B=t.onEnter)===null||B===void 0||B.call(t,o.value,yn(yn({},z),{},{inputValue:K}))},$=function(K,z){var B,q,Y=(B=n.value)===null||B===void 0?void 0:B.getOverlayState();d.value||Y!=null&&Y.hover||(d.value=!0,(q=t.onFocus)===null||q===void 0||q.call(t,o.value,yn(yn({},z),{},{inputValue:K})))},W=function(K,z){var B,q,Y=(B=n.value)===null||B===void 0?void 0:B.getOverlayState();d.value=!1,!(Y!=null&&Y.hover)&&((q=t.onBlur)===null||q===void 0||q.call(t,o.value,yn(yn({},z),{},{inputValue:K})))};return i.createVNode(ga,i.mergeProps({ref:u,style:(O=e.attrs)===null||O===void 0?void 0:O.style},yn({onChange:C,onClear:w,onEnter:M,onFocus:$,onBlur:W},E),{inputClass:F}),N)},k=function(L,O){var S=p("label");if(!S&&!L)return[];if(L){var _,A;if((_=t.valueDisplayOptions)!==null&&_!==void 0&&_.usePlaceholder&&!o.value||(A=t.valueDisplayOptions)!==null&&A!==void 0&&A.useInputDisplay&&O)return[S]}return[S,L]},P=function(L,O,S){if(L){var _,A;if(!((_=t.valueDisplayOptions)!==null&&_!==void 0&&_.useInputDisplay)||(A=t.valueDisplayOptions)!==null&&A!==void 0&&A.useInputDisplay&&!S)return}return O},I=function(L){if(L){var O,S;if(!((O=t.valueDisplayOptions)!==null&&O!==void 0&&O.usePlaceholder)||(S=t.valueDisplayOptions)!==null&&S!==void 0&&S.usePlaceholder&&o.value)return""}return t.placeholder};return{inputRef:u,isSingleFocus:d,commonInputProps:b,singleInputValue:h,onInnerClear:w,renderSelectSingle:x}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var dq={autoWidth:Boolean,borderless:Boolean,clearable:Boolean,collapsedItems:{type:Function},disabled:{type:Boolean,default:void 0},dragSort:Boolean,excessTagsDisplayType:{type:String,default:"break-line",validator:function(e){return e?["scroll","break-line"].includes(e):!0}},inputProps:{type:Object},inputValue:{type:[String,Number],default:void 0},defaultInputValue:{type:[String,Number],default:""},label:{type:[String,Function]},max:{type:Number},minCollapsedNum:{type:Number,default:0},placeholder:{type:String,default:void 0},prefixIcon:{type:Function},readonly:{type:Boolean,default:void 0},size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},status:{type:String,validator:function(e){return e?["default","success","warning","error"].includes(e):!0}},suffix:{type:[String,Function]},suffixIcon:{type:Function},tag:{type:[String,Function]},tagProps:{type:Object},tips:{type:[String,Function]},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array,default:function(){return[]}},valueDisplay:{type:[String,Function]},onBlur:Function,onChange:Function,onClear:Function,onClick:Function,onDragSort:Function,onEnter:Function,onFocus:Function,onInputChange:Function,onMouseenter:Function,onMouseleave:Function,onPaste:Function,onRemove:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function fq(t){var e=i.ref(),n=i.toRefs(t),a=n.excessTagsDisplayType,r=n.readonly,o=n.disabled,l=i.ref(0),s=i.ref(),c=i.ref(),d=i.ref(!1),u=function(x){var k=x.children[0];s.value=k},f=function(){l.value=s.value.scrollWidth-s.value.clientWidth},v=function(x){var k;pe((k=s.value)===null||k===void 0?void 0:k.scroll)&&s.value.scroll({left:x,behavior:"smooth"})},h=function(){f(),v(l.value),setTimeout(function(){d.value=!0},200)},g=function(){v(0)},p=function(x){var k=x.e;if(!(r.value||o.value)&&s.value)if(k.deltaX>0){var P=Math.min(s.value.scrollLeft+120,l.value);v(P)}else{var I=Math.max(s.value.scrollLeft-120,0);v(I)}},m=function(){a.value==="scroll"&&(c.value=setTimeout(function(){h(),clearTimeout(c.value)},100))},y=function(){a.value==="scroll"&&(d.value=!1,v(0),clearTimeout(c.value))},b=function(){var x,k=(x=e.value)===null||x===void 0?void 0:x.$el;k&&u(k)},w=function(){clearTimeout(c.value)};return i.onMounted(b),i.onUnmounted(w),{tagInputRef:e,scrollElement:s,scrollDistance:l,scrollTo:v,scrollToRight:h,scrollToLeft:g,updateScrollElement:u,updateScrollDistance:f,onWheel:p,scrollToRightOnEnter:m,scrollToLeftOnLeave:y,isScrollable:d}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}var vq=/^\s+/,hq=/\s+$/;function Ee(t,e){if(t=t||"",e=e||{},t instanceof Ee)return t;if(!(this instanceof Ee))return new Ee(t,e);var n=gq(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}Ee.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,a,r,o,l,s;return n=e.r/255,a=e.g/255,r=e.b/255,n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),a<=.03928?l=a/12.92:l=Math.pow((a+.055)/1.055,2.4),r<=.03928?s=r/12.92:s=Math.pow((r+.055)/1.055,2.4),.2126*o+.7152*l+.0722*s},setAlpha:function(e){return this._a=yC(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=hC(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=hC(this._r,this._g,this._b),n=Math.round(e.h*360),a=Math.round(e.s*100),r=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+a+"%, "+r+"%)":"hsva("+n+", "+a+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=vC(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=vC(this._r,this._g,this._b),n=Math.round(e.h*360),a=Math.round(e.s*100),r=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+a+"%, "+r+"%)":"hsla("+n+", "+a+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return gC(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return bq(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Dt(this._r,255)*100)+"%",g:Math.round(Dt(this._g,255)*100)+"%",b:Math.round(Dt(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Dt(this._r,255)*100)+"%, "+Math.round(Dt(this._g,255)*100)+"%, "+Math.round(Dt(this._b,255)*100)+"%)":"rgba("+Math.round(Dt(this._r,255)*100)+"%, "+Math.round(Dt(this._g,255)*100)+"%, "+Math.round(Dt(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Eq[gC(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+pC(this._r,this._g,this._b,this._a),a=n,r=this._gradientType?"GradientType = 1, ":"";if(e){var o=Ee(e);a="#"+pC(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+n+",endColorstr="+a+")"},toString:function(e){var n=!!e;e=e||this._format;var a=!1,r=this._a<1&&this._a>=0,o=!n&&r&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return o?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(a=this.toRgbString()),e==="prgb"&&(a=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(a=this.toHexString()),e==="hex3"&&(a=this.toHexString(!0)),e==="hex4"&&(a=this.toHex8String(!0)),e==="hex8"&&(a=this.toHex8String()),e==="name"&&(a=this.toName()),e==="hsl"&&(a=this.toHslString()),e==="hsv"&&(a=this.toHsvString()),a||this.toHexString())},clone:function(){return Ee(this.toString())},_applyModification:function(e,n){var a=e.apply(null,[this].concat([].slice.call(n)));return this._r=a._r,this._g=a._g,this._b=a._b,this.setAlpha(a._a),this},lighten:function(){return this._applyModification(Sq,arguments)},brighten:function(){return this._applyModification(Oq,arguments)},darken:function(){return this._applyModification(kq,arguments)},desaturate:function(){return this._applyModification(wq,arguments)},saturate:function(){return this._applyModification(Cq,arguments)},greyscale:function(){return this._applyModification(xq,arguments)},spin:function(){return this._applyModification(Pq,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(Nq,arguments)},complement:function(){return this._applyCombination(_q,arguments)},monochromatic:function(){return this._applyCombination(Tq,arguments)},splitcomplement:function(){return this._applyCombination(Iq,arguments)},triad:function(){return this._applyCombination(mC,[3])},tetrad:function(){return this._applyCombination(mC,[4])}},Ee.fromRatio=function(t,e){if(Zc(t)=="object"){var n={};for(var a in t)t.hasOwnProperty(a)&&(a==="a"?n[a]=t[a]:n[a]=ns(t[a]));t=n}return Ee(t,e)};function gq(t){var e={r:0,g:0,b:0},n=1,a=null,r=null,o=null,l=!1,s=!1;return typeof t=="string"&&(t=jq(t)),Zc(t)=="object"&&(lr(t.r)&&lr(t.g)&&lr(t.b)?(e=pq(t.r,t.g,t.b),l=!0,s=String(t.r).substr(-1)==="%"?"prgb":"rgb"):lr(t.h)&&lr(t.s)&&lr(t.v)?(a=ns(t.s),r=ns(t.v),e=yq(t.h,a,r),l=!0,s="hsv"):lr(t.h)&&lr(t.s)&&lr(t.l)&&(a=ns(t.s),o=ns(t.l),e=mq(t.h,a,o),l=!0,s="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=yC(n),{ok:l,format:t.format||s,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function pq(t,e,n){return{r:Dt(t,255)*255,g:Dt(e,255)*255,b:Dt(n,255)*255}}function vC(t,e,n){t=Dt(t,255),e=Dt(e,255),n=Dt(n,255);var a=Math.max(t,e,n),r=Math.min(t,e,n),o,l,s=(a+r)/2;if(a==r)o=l=0;else{var c=a-r;switch(l=s>.5?c/(2-a-r):c/(a+r),a){case t:o=(e-n)/c+(e<n?6:0);break;case e:o=(n-t)/c+2;break;case n:o=(t-e)/c+4;break}o/=6}return{h:o,s:l,l:s}}function mq(t,e,n){var a,r,o;t=Dt(t,360),e=Dt(e,100),n=Dt(n,100);function l(d,u,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?d+(u-d)*6*f:f<1/2?u:f<2/3?d+(u-d)*(2/3-f)*6:d}if(e===0)a=r=o=n;else{var s=n<.5?n*(1+e):n+e-n*e,c=2*n-s;a=l(c,s,t+1/3),r=l(c,s,t),o=l(c,s,t-1/3)}return{r:a*255,g:r*255,b:o*255}}function hC(t,e,n){t=Dt(t,255),e=Dt(e,255),n=Dt(n,255);var a=Math.max(t,e,n),r=Math.min(t,e,n),o,l,s=a,c=a-r;if(l=a===0?0:c/a,a==r)o=0;else{switch(a){case t:o=(e-n)/c+(e<n?6:0);break;case e:o=(n-t)/c+2;break;case n:o=(t-e)/c+4;break}o/=6}return{h:o,s:l,v:s}}function yq(t,e,n){t=Dt(t,360)*6,e=Dt(e,100),n=Dt(n,100);var a=Math.floor(t),r=t-a,o=n*(1-e),l=n*(1-r*e),s=n*(1-(1-r)*e),c=a%6,d=[n,l,o,o,s,n][c],u=[s,n,n,l,o,o][c],f=[o,o,s,n,n,l][c];return{r:d*255,g:u*255,b:f*255}}function gC(t,e,n,a){var r=[pa(Math.round(t).toString(16)),pa(Math.round(e).toString(16)),pa(Math.round(n).toString(16))];return a&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function bq(t,e,n,a,r){var o=[pa(Math.round(t).toString(16)),pa(Math.round(e).toString(16)),pa(Math.round(n).toString(16)),pa(bC(a))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function pC(t,e,n,a){var r=[pa(bC(a)),pa(Math.round(t).toString(16)),pa(Math.round(e).toString(16)),pa(Math.round(n).toString(16))];return r.join("")}Ee.equals=function(t,e){return!t||!e?!1:Ee(t).toRgbString()==Ee(e).toRgbString()},Ee.random=function(){return Ee.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function wq(t,e){e=e===0?0:e||10;var n=Ee(t).toHsl();return n.s-=e/100,n.s=Qc(n.s),Ee(n)}function Cq(t,e){e=e===0?0:e||10;var n=Ee(t).toHsl();return n.s+=e/100,n.s=Qc(n.s),Ee(n)}function xq(t){return Ee(t).desaturate(100)}function Sq(t,e){e=e===0?0:e||10;var n=Ee(t).toHsl();return n.l+=e/100,n.l=Qc(n.l),Ee(n)}function Oq(t,e){e=e===0?0:e||10;var n=Ee(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),Ee(n)}function kq(t,e){e=e===0?0:e||10;var n=Ee(t).toHsl();return n.l-=e/100,n.l=Qc(n.l),Ee(n)}function Pq(t,e){var n=Ee(t).toHsl(),a=(n.h+e)%360;return n.h=a<0?360+a:a,Ee(n)}function _q(t){var e=Ee(t).toHsl();return e.h=(e.h+180)%360,Ee(e)}function mC(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Ee(t).toHsl(),a=[Ee(t)],r=360/e,o=1;o<e;o++)a.push(Ee({h:(n.h+o*r)%360,s:n.s,l:n.l}));return a}function Iq(t){var e=Ee(t).toHsl(),n=e.h;return[Ee(t),Ee({h:(n+72)%360,s:e.s,l:e.l}),Ee({h:(n+216)%360,s:e.s,l:e.l})]}function Nq(t,e,n){e=e||6,n=n||30;var a=Ee(t).toHsl(),r=360/n,o=[Ee(t)];for(a.h=(a.h-(r*e>>1)+720)%360;--e;)a.h=(a.h+r)%360,o.push(Ee(a));return o}function Tq(t,e){e=e||6;for(var n=Ee(t).toHsv(),a=n.h,r=n.s,o=n.v,l=[],s=1/e;e--;)l.push(Ee({h:a,s:r,v:o})),o=(o+s)%1;return l}Ee.mix=function(t,e,n){n=n===0?0:n||50;var a=Ee(t).toRgb(),r=Ee(e).toRgb(),o=n/100,l={r:(r.r-a.r)*o+a.r,g:(r.g-a.g)*o+a.g,b:(r.b-a.b)*o+a.b,a:(r.a-a.a)*o+a.a};return Ee(l)},Ee.readability=function(t,e){var n=Ee(t),a=Ee(e);return(Math.max(n.getLuminance(),a.getLuminance())+.05)/(Math.min(n.getLuminance(),a.getLuminance())+.05)},Ee.isReadable=function(t,e,n){var a=Ee.readability(t,e),r,o;switch(o=!1,r=Mq(n),r.level+r.size){case"AAsmall":case"AAAlarge":o=a>=4.5;break;case"AAlarge":o=a>=3;break;case"AAAsmall":o=a>=7;break}return o},Ee.mostReadable=function(t,e,n){var a=null,r=0,o,l,s,c;n=n||{},l=n.includeFallbackColors,s=n.level,c=n.size;for(var d=0;d<e.length;d++)o=Ee.readability(t,e[d]),o>r&&(r=o,a=Ee(e[d]));return Ee.isReadable(t,a,{level:s,size:c})||!l?a:(n.includeFallbackColors=!1,Ee.mostReadable(t,["#fff","#000"],n))};var Ov=Ee.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Eq=Ee.hexNames=Aq(Ov);function Aq(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function yC(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Dt(t,e){Rq(t)&&(t="100%");var n=Dq(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function Qc(t){return Math.min(1,Math.max(0,t))}function Hn(t){return parseInt(t,16)}function Rq(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function Dq(t){return typeof t=="string"&&t.indexOf("%")!=-1}function pa(t){return t.length==1?"0"+t:""+t}function ns(t){return t<=1&&(t=t*100+"%"),t}function bC(t){return Math.round(parseFloat(t)*255).toString(16)}function wC(t){return Hn(t)/255}var ma=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",a="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+a),rgba:new RegExp("rgba"+r),hsl:new RegExp("hsl"+a),hsla:new RegExp("hsla"+r),hsv:new RegExp("hsv"+a),hsva:new RegExp("hsva"+r),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function lr(t){return!!ma.CSS_UNIT.exec(t)}function jq(t){t=t.replace(vq,"").replace(hq,"").toLowerCase();var e=!1;if(Ov[t])t=Ov[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=ma.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=ma.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=ma.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=ma.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=ma.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=ma.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=ma.hex8.exec(t))?{r:Hn(n[1]),g:Hn(n[2]),b:Hn(n[3]),a:wC(n[4]),format:e?"name":"hex8"}:(n=ma.hex6.exec(t))?{r:Hn(n[1]),g:Hn(n[2]),b:Hn(n[3]),format:e?"name":"hex"}:(n=ma.hex4.exec(t))?{r:Hn(n[1]+""+n[1]),g:Hn(n[2]+""+n[2]),b:Hn(n[3]+""+n[3]),a:wC(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=ma.hex3.exec(t))?{r:Hn(n[1]+""+n[1]),g:Hn(n[2]+""+n[2]),b:Hn(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function Mq(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Fq={closable:Boolean,color:{type:String,default:""},content:{type:[String,Function]},default:{type:[String,Function]},disabled:Boolean,icon:{type:Function,default:void 0},maxWidth:{type:[String,Number]},shape:{type:String,default:"square",validator:function(e){return e?["square","round","mark"].includes(e):!0}},size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},theme:{type:String,default:"default",validator:function(e){return e?["default","primary","warning","danger","success"].includes(e):!0}},title:{type:String,default:""},variant:{type:String,default:"dark",validator:function(e){return e?["dark","light","outline","light-outline"].includes(e):!0}},onClick:Function,onClose:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var CC=i.defineComponent({name:"TTag",props:Fq,setup:function(e){var n=Re("tag"),a=n.globalConfig,r=ae("tag"),o=Ve({CloseIcon:ha}),l=o.CloseIcon,s=Pe(),c=ft(),d=lt(),u=d.SIZE,f=i.getCurrentInstance(),v=f.vnode,h=i.computed(function(){return["".concat(r.value),"".concat(r.value,"--").concat(e.theme),"".concat(r.value,"--").concat(e.variant),G(G(G(G({},"".concat(r.value,"--ellipsis"),e.maxWidth),"".concat(r.value,"--close"),e.closable),"".concat(r.value,"--disabled"),e.disabled),u.value[e.size],e.size!=="medium"),e.shape!=="square"&&"".concat(r.value,"--").concat(e.shape)]}),g=i.computed(function(){return m()}),p=i.computed(function(){return e.maxWidth?{maxWidth:isNaN(Number(e.maxWidth))?String(e.maxWidth):"".concat(e.maxWidth,"px")}:{}}),m=function(){var x=e.color,k=e.variant;if(!x)return{};var P=Ee(x).getLuminance(),I={color:P>.5?"black":"white"};if((k==="outline"||k==="light-outline")&&(I.borderColor=x),k!=="outline"){var D=function(){var O=Ee(x).toRgb(),S=O.r,_=O.g,A=O.b;return"rgba(".concat(S,", ").concat(_,", ").concat(A,", 0.1)")};I.backgroundColor=k==="dark"?x:D()}return k!=="dark"&&(I.color=x),I},y=function(x){var k;e.disabled||(k=e.onClick)===null||k===void 0||k.call(e,{e:x})},b=function(){if(!e.closable)return null;var x="".concat(r.value,"__icon-close");return a.value.closeIcon?i.h(a.value.closeIcon(i.h),{class:x}):i.createVNode(l,{onClick:function(P){var I,D=P.e;D&&D.stopPropagation(),(I=e.onClose)===null||I===void 0||I.call(e,{e:D})},class:x},null)},w=function(x){if(e.maxWidth){var k=v.props||{};if(Reflect.has(k,"title"))return k.title||void 0;if(x)return x}};return function(){var C=b(),x=c("default","content"),k=s("icon"),P=w(Ae(x)?x:"");return i.createVNode("div",{class:h.value,style:g.value,onClick:y},[k,i.createVNode("span",{class:e.maxWidth?"".concat(r.value,"--text"):void 0,style:p.value,title:P},[x]),!e.disabled&&C])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Lq={checked:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},defaultChecked:Boolean,checkedProps:{type:Object},content:{type:[String,Number,Array,Function]},default:{type:[String,Function]},disabled:Boolean,size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},uncheckedProps:{type:Object},value:{type:[String,Number]},onChange:Function,onClick:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Vc=/^ArrowDown$/i,eu=/^ArrowUp$/i,xC=/^Escape$/i,tu=/^Space$/i,kv=/^Enter$/i,SC=/^(Shift|ShiftLeft|ShiftRight)$/i,OC=/^KeyC$/i,kC=/^(KeyA|KeyL)$/i,nu=/^(Enter|Space)$/i;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function PC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function _C(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PC(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PC(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function $q(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!i.isVNode(t)}var IC=i.defineComponent({name:"TCheckTag",props:Lq,setup:function(e){var n=ae("tag"),a=lt(),r=a.SIZE,o=ft(),l=i.toRefs(e),s=l.checked,c=l.modelValue,d=ot(s,c,e.defaultChecked,e.onChange,"checked"),u=Ce(d,2),f=u[0],v=u[1],h=i.computed(function(){return["".concat(n.value),"".concat(n.value,"--check"),r.value[e.size],G(G({},"".concat(n.value,"--checked"),f.value),"".concat(n.value,"--disabled"),e.disabled)]}),g=i.computed(function(){var w=_C({theme:"primary"},e.checkedProps),C=_C({},e.uncheckedProps);return f.value?w:C}),p=function(C){var x=C.e;if(!e.disabled){var k;(k=e.onClick)===null||k===void 0||k.call(e,{e:x}),v(!f.value,{e:x,value:e.value})}},m=function(C){var x,k=C.code||((x=C.key)===null||x===void 0?void 0:x.trim()),P=tu.test(k)||kv.test(k);P&&(C.preventDefault(),v(!f.value,{e:C,value:e.value}))},y=function(C){C.currentTarget.addEventListener("keydown",m)},b=function(C){C.currentTarget.removeEventListener("keydown",m)};return function(){var w=o("default","content");return i.createVNode(CC,i.mergeProps({class:h.value,disabled:e.disabled,tabindex:e.disabled?void 0:"0",onFocus:y,onBlur:b},g.value,{onClick:p}),$q(w)?w:{default:function(){return[w]}})}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Bq={checkedProps:{type:Object},multiple:Boolean,options:{type:Array},uncheckedProps:{type:Object},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array,default:function(){return[]}},onChange:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function zq(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!i.isVNode(t)}var Hq=i.defineComponent({name:"TCheckTagGroup",props:Bq,setup:function(e,n){var a=i.toRefs(e),r=a.value,o=a.modelValue,l=a.options,s=ae("check-tag-group"),c=i.computed(function(){return[s.value]}),d=ot(r,o,e.defaultValue,e.onChange),u=Ce(d,2),f=u[0],v=u[1],h=function(m,y){var b=y.value;if(m)e.multiple?v(f.value.concat(b),{e:y.e,type:"check",value:b}):v([b],{e:y.e,type:"check",value:b});else{var w=[];e.multiple&&(w=f.value.filter(function(C){return C!==b})),v(w,{e:y.e,type:"uncheck",value:b})}},g=function(m){return n.slots.option?n.slots.option(m):n.slots.label?n.slots.label(m):m.label?pe(m.label)?m.label(i.h):m.label:m.content&&pe(m.content)?m.content(i.h):m.default&&pe(m.default)?m.default(i.h):m.value};return function(){return i.createVNode("div",{class:c.value},[(l.value||[]).map(function(p){var m;return i.createVNode(IC,{key:p.value,value:p.value,checkedProps:e.checkedProps,uncheckedProps:e.uncheckedProps,checked:f.value.includes(p.value),onChange:h,disabled:p.disabled,size:p.size,"data-value":p.value},zq(m=g(p))?m:{default:function(){return[m]}})})])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Pv=be(CC),NC=be(IC),Wq=be(Hq);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function TC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Ro(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TC(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TC(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Uq(t){var e=Pe(),n=ae(),a=i.toRefs(t),r=a.value,o=a.modelValue,l=a.onRemove,s=a.max,c=a.minCollapsedNum,d=a.size,u=a.tagProps,f=a.getDragProps,v=ot(r,o,t.defaultValue||[],t.onChange),h=Ce(v,2),g=h[0],p=h[1],m=i.ref(),y=St(),b=mn(),w=function(L){var O,S=he(g.value),_=S.splice(L.index,1),A=Ce(_,1),E=A[0];p(S,Ro(Ro({trigger:"tag-remove"},L),{},{item:E})),(O=l.value)===null||O===void 0||O.call(l,Ro(Ro({},L),{},{item:E,trigger:"tag-remove",value:S}))},C=function(L){p([],{trigger:"clear",e:L.e})},x=function(L,O){var S,_,A=L?String(L).trim():"",E=s&&((S=g.value)===null||S===void 0?void 0:S.length)>=s.value,R=g.value;!E&&A&&(R=g.value instanceof Array?g.value.concat(String(A)):[A],p(R,{trigger:"enter",index:R.length-1,item:A,e:O.e})),t==null||(_=t.onEnter)===null||_===void 0||_.call(t,R,Ro(Ro({},O),{},{inputValue:L}))},k=function(L){!g.value||!g.value.length||(m.value=L)},P=function(L,O){var S=O.e;if(!(!g.value||!g.value.length||S.key==="Process"||b.value)){var _=/(Backspace|NumpadDelete)/i.test(S.code)||/(Backspace|NumpadDelete)/i.test(S.key);if(!L&&_){var A,E=g.value.length-1,R=g.value[E],N="backspace",F=g.value.slice(0,-1);p(F,{e:S,index:E,item:R,trigger:N}),(A=l.value)===null||A===void 0||A.call(l,{e:S,index:E,item:R,trigger:N,value:F})}m.value=L}},I=function(L){var O,S=L.displayNode,_=L.label,A=c.value?g.value.slice(0,c.value):g.value,E=S?[S]:(A==null||(O=A.map)===null||O===void 0?void 0:O.call(A,function(F,M){var $,W=e("tag",{params:{value:F}});return i.createVNode(Pv,i.mergeProps({key:"".concat(F).concat(M),size:d.value,disabled:y.value,onClose:function(K){return w({e:K.e,index:M})},closable:!b.value&&!y.value},($=f.value)===null||$===void 0?void 0:$.call(f,M,F),u.value),{default:function(){return[W??F]}})}))||[];if([null,void 0,""].includes(_)||E.unshift(i.createVNode("div",{class:"".concat(n.value,"-tag-input__prefix"),key:"label"},[_])),A.length!==(g.value||[]).length){var R=g.value.length-A.length,N=e("collapsedItems",{params:{value:g.value,count:g.value.length-c.value,collapsedTags:g.value.slice(c.value,g.value.length),collapsedSelectedItems:g.value.slice(c.value,g.value.length),onClose:w}});E.push(N??i.createVNode(Pv,i.mergeProps({key:"more",size:d.value},u.value),{default:function(){return["+",R]}}))}return E};return{tagValue:g,clearAll:C,onClose:w,onInnerEnter:x,onInputBackspaceKeyUp:k,onInputBackspaceKeyDown:P,renderLabel:I}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Kq(t){var e=t.disabled,n=t.readonly,a=t.onMouseenter,r=t.onMouseleave,o=i.ref(!1),l=function(d){n||e||(o.value=!0,a==null||a(d))},s=function(d){n||e||(o.value=!1,r==null||r(d))};return{isHover:o,addHover:l,cancelHover:s}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Yq(t){var e=t.sortOnDraggable,n=t.onDragSort,a=t.onDragOverCheck,r=i.ref(-1),o=i.ref(null),l=i.ref(null),s=i.reactive({nodeX:0,nodeWidth:0,mouseX:0}),c=function(g,p,m){if(g.preventDefault(),!(r.value===p||r.value===-1)){var y=g.target;if(!(a!=null&&a.targetClassNameRegExp&&!(a!=null&&a.targetClassNameRegExp.test(y.className)))){if(a!=null&&a.x&&y){if(!s.nodeWidth)return;var b=y.getBoundingClientRect(),w=b.x,C=b.width,x=w+C/2,k=g.clientX-(s.mouseX-s.nodeX),P=k+s.nodeWidth,I=!1;if(k>w&&k<w+C?I=k<x:I=P>x,!I)return}n==null||n({currentIndex:r.value,current:o,target:m,targetIndex:p}),r.value=p}}};if(!e)return{};function d(h,g,p){r.value=g,o.value=p;var m=h.target;if(a&&m){var y=m.getBoundingClientRect(),b=y.x,w=y.width;s.nodeX=b,s.nodeWidth=w,s.mouseX=h.clientX}}function u(){l.value=!0}function f(){l.value,l.value=!1,r.value=-1,o.value=null}function v(h,g){return e?{draggable:!0,onDragstart:function(m){d(m,h,g)},onDragover:function(m){c(m,h,g)},onDrop:function(){u()},onDragend:function(){f()}}:{}}return{onDragStart:d,onDragOver:c,onDrop:u,onDragEnd:f,getDragProps:v,dragging:r.value!==-1}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function EC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function gi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EC(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EC(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var qq=function(){return{NAME_CLASS:ae("tag-input"),CLEAR_CLASS:ae("tag-input__suffix-clear"),BREAK_LINE_CLASS:ae("tag-input--break-line")}},Gq=i.defineComponent({name:"TTagInput",props:gi({},dq),setup:function(e){var n=qq(),a=n.NAME_CLASS,r=n.CLEAR_CLASS,o=n.BREAK_LINE_CLASS,l=Ve({CloseCircleFilledIcon:xo}),s=l.CloseCircleFilledIcon,c=St(),d=mn(),u=i.toRefs(e),f=u.inputValue,v=u.inputProps,h=Rt(f,e.defaultInputValue,e.onInputChange,"inputValue"),g=Ce(h,2),p=g[0],m=g[1],y=i.toRefs(e),b=y.excessTagsDisplayType,w=y.clearable,C=y.placeholder,x=Kq({readonly:d.value,disabled:c.value,onMouseenter:e.onMouseenter,onMouseleave:e.onMouseleave}),k=x.isHover,P=x.addHover,I=x.cancelHover,D=i.ref(!1),L=Re(),O=L.classPrefix,S=i.ref(!1),_=Yq(gi(gi({},e),{},{sortOnDraggable:e.dragSort,onDragOverCheck:{x:!0,targetClassNameRegExp:new RegExp("^".concat(O.value,"-tag"))}})),A=_.getDragProps,E=fq(e),R=E.scrollToRight,N=E.onWheel,F=E.scrollToRightOnEnter,M=E.scrollToLeftOnLeave,$=E.tagInputRef,W=E.isScrollable,H=Uq(i.reactive(gi(gi({},i.toRefs(e)),{},{getDragProps:A}))),K=H.tagValue,z=H.onInnerEnter,B=H.onInputBackspaceKeyUp,q=H.onInputBackspaceKeyDown,Y=H.clearAll,X=H.renderLabel,T=H.onClose,j=i.computed(function(){var xe=!(Ie(K.value)&&K.value.length);return[a.value,G(G(G({},o.value,b.value==="break-line"),"".concat(O.value,"-is-empty"),xe),"".concat(O.value,"-tag-input--with-tag"),!xe)]}),U=i.computed(function(){var xe;return(xe=K.value)!==null&&xe!==void 0&&xe.length?"":C.value}),J=i.computed(function(){var xe;return!!(!d.value&&!c.value&&w.value&&k.value&&(!((xe=K.value)===null||xe===void 0)&&xe.length||p.value))}),Z=function(le,ie){var oe,de;(oe=ie.e)===null||oe===void 0||(de=oe.preventDefault)===null||de===void 0||de.call(oe),m("",{e:ie.e,trigger:"enter"}),!D.value&&z(le,ie),i.nextTick(function(){R(),D.value=!1})},Q=function(le,ie){var oe,de;D.value=!0,(oe=v.value)===null||oe===void 0||(de=oe.onCompositionstart)===null||de===void 0||de.call(oe,le,ie)},ee=function(le,ie){var oe,de;D.value=!1,(oe=v.value)===null||oe===void 0||(de=oe.onCompositionend)===null||de===void 0||de.call(oe,le,ie)},ne=function(le){var ie;c.value||(S.value=!0,$.value.focus(),(ie=e.onClick)===null||ie===void 0||ie.call(e,le))},V=function(le){var ie;Y(le),m("",{e:le.e,trigger:"clear"}),(ie=e.onClear)===null||ie===void 0||ie.call(e,le)},re=function(){$.value.focus()},ce=function(){$.value.blur()},se=function(le){P(le),F()},ue=function(le){I(le),M()},ye=function(le,ie){var oe;S.value||(S.value=!0,(oe=e.onFocus)===null||oe===void 0||oe.call(e,K.value,{e:ie.e,inputValue:le}))},me=function(le,ie){var oe;S.value=!1,m("",{e:ie.e,trigger:"blur"}),(oe=e.onBlur)===null||oe===void 0||oe.call(e,K.value,{e:ie.e,inputValue:le})},ge=function(le,ie){m(le,gi(gi({},ie),{},{trigger:"input"}))};return i.watch(function(){return W.value},function(xe){if(e.excessTagsDisplayType==="scroll"){var le="".concat(O.value,"-input__prefix"),ie=$.value.$el.querySelector(".".concat(le));xe?ie.classList.add("".concat(le,"--scrollable")):ie.classList.remove("".concat(le,"--scrollable"))}}),{CLEAR_CLASS:r,CloseCircleFilledIcon:s,tagValue:K,tInputValue:p,isHover:k,tagInputPlaceholder:U,showClearIcon:J,tagInputRef:$,classPrefix:O,isFocused:S,focus:re,blur:ce,setTInputValue:m,onMouseEnter:se,onMouseLeave:ue,onInnerFocus:ye,onInnerBlur:me,onInnerChange:ge,addHover:P,cancelHover:I,onInputEnter:Z,onInnerEnter:z,onInputBackspaceKeyUp:B,onInputBackspaceKeyDown:q,renderLabel:X,onWheel:N,scrollToRightOnEnter:F,scrollToLeftOnLeave:M,onClick:ne,onClearClick:V,onClose:T,onInputCompositionstart:Q,onInputCompositionend:ee,classes:j,isDisabled:c,isReadonly:d}},render:function(){var e=this,n,a=this.CloseCircleFilledIcon,r=this.showClearIcon?i.createVNode(a,{class:this.CLEAR_CLASS,onClick:this.onClearClick},null):Yt(this,"suffixIcon"),o=Yt(this,"prefixIcon"),l="".concat(this.classPrefix,"-tag-input__with-suffix-icon");r&&!this.classes.includes(l)&&this.classes.push(l);var s=Yt(this,"valueDisplay",{params:{value:this.tagValue,onClose:function(v){return e.onClose({index:v})}}}),c=Yt(this,"label",{silent:!0}),d=this.inputProps,u=this.isReadonly||(d==null?void 0:d.readonly);return i.createVNode(ga,i.mergeProps({ref:"tagInputRef",borderless:this.borderless,readonly:u,showInput:!u||!this.tagValue||!((n=this.tagValue)!==null&&n!==void 0&&n.length),value:this.tInputValue,autoWidth:!0,size:this.size,disabled:this.isDisabled,label:function(){return e.renderLabel({displayNode:s,label:c})},class:this.classes,tips:this.tips,status:this.status,placeholder:this.tagInputPlaceholder,suffix:this.suffix,suffixIcon:function(){return r},prefixIcon:function(){return o},keepWrapperWidth:!this.autoWidth,onWheel:this.onWheel,onChange:this.onInnerChange,onPaste:this.onPaste,onEnter:this.onInputEnter,onKeyup:this.onInputBackspaceKeyUp,onKeydown:this.onInputBackspaceKeyDown,onMouseenter:this.onMouseEnter,onMouseleave:this.onMouseLeave,onFocus:this.onInnerFocus,onBlur:this.onInnerBlur,onClick:this.onClick,onCompositionstart:this.onInputCompositionstart,onCompositionend:this.onInputCompositionend},this.inputProps),{suffix:this.$slots.suffix})}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var AC=be(Gq);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Xq=["tips"];function RC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function ya(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RC(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RC(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var Jq={label:"label",key:"key",children:"children"};function Zq(t,e,n){var a=i.toRefs(t),r=a.inputValue,o=ae(),l=i.ref(),s=i.ref(t.autofocus),c=Rt(r,t.defaultInputValue,t.onInputChange,"inputValue"),d=Ce(c,2),u=d[0],f=d[1],v=St(),h=mn(),g=i.computed(function(){return ya(ya({},Jq),t.keys)}),p=i.computed(function(){return t.value instanceof Array?t.value.map(function(P){return Le(P)?P[g.value.label]:P}):Le(t.value)?[t.value[g.value.label]]:[t.value]}),m=i.computed(function(){return!p.value||!p.value.length?t.placeholder:""}),y=function(I,D){var L;if(D.trigger==="tag-remove"){var O;(O=D.e)===null||O===void 0||O.stopPropagation()}(L=t.onTagChange)===null||L===void 0||L.call(t,I,D)},b=function(I,D){D.trigger==="enter"||D.trigger==="blur"||f(I,{trigger:D.trigger,e:D.e})},w=function(I,D){var L,O,S=(L=n.value)===null||L===void 0?void 0:L.getOverlayState();S!=null&&S.hover||(s.value=!1,(O=t.onBlur)===null||O===void 0||O.call(t,t.value,ya(ya({},D),{},{tagInputValue:I})))},C=function(I,D){var L,O,S=(L=n.value)===null||L===void 0?void 0:L.getOverlayState();if(!(s.value||S!=null&&S.hover)){s.value=!0;var _=ya(ya({},D),{},{tagInputValue:I});(O=t.onFocus)===null||O===void 0||O.call(t,t.value,_)}},x=function(I,D){var L,O=ya(ya({},D),{},{tagInputValue:I});(L=t.onEnter)===null||L===void 0||L.call(t,t.value,O)},k=function(I){var D=ya(ya({},I.commonInputProps),{},{tagProps:t.tagProps,label:t.label,autoWidth:t.autoWidth,readonly:h.value,placeholder:m.value,minCollapsedNum:t.minCollapsedNum,collapsedItems:t.collapsedItems,tag:t.tag,value:p.value,valueDisplay:t.valueDisplay,inputValue:I.popupVisible&&I.allowInput?u.value:"",inputProps:ya({readonly:!t.allowInput||h.value,inputClass:G({},"".concat(o.value,"-input--focused"),I.popupVisible)},t.inputProps),suffixIcon:!v.value&&t.loading?function(){return i.createVNode(an,{loading:!0,size:"small"},null)}:t.suffixIcon},t.tagInputProps),L=e.slots;L.tips;var O=Er(L,Xq);return i.createVNode(AC,i.mergeProps({ref:l},D,{onInputChange:b,onChange:y,onClear:I.onInnerClear,onBlur:w,onEnter:x,onFocus:C}),O)};return{tags:p,tPlaceholder:m,tagInputRef:l,isMultipleFocus:s,multipleInputValue:u,renderSelectMultiple:k}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function DC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function jC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DC(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DC(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var Qq=1e3,Vq=0;function MC(t){var e=i.toRefs(t),n=e.popupProps,a=e.autoWidth,r=i.ref(!1),o=St(),l=mn(),s=function(v,h){var g=h.scrollHeight>h.offsetHeight?Vq:0,p=h.offsetWidth+g>=v.offsetWidth?h.offsetWidth:v.offsetWidth,m={};return n.value&&Je(n.value.overlayInnerStyle)==="object"&&!n.value.overlayInnerStyle.width&&(m=n.value.overlayInnerStyle),jC({width:"".concat(Math.min(p,Qq),"px")},m)},c=function(v,h){if(!(o.value||l.value)){var g=h.trigger==="trigger-element-click"&&t.allowInput?!0:v;if(t.popupVisible!==g){var p;r.value=g,(p=t.onPopupVisibleChange)===null||p===void 0||p.call(t,g,h)}}},d=function(v,h){var g;return jC({width:"".concat(Math.max(v.offsetWidth,h.offsetWidth),"px")},(g=n.value)===null||g===void 0?void 0:g.overlayInnerStyle)},u=i.computed(function(){var f,v={},h=((f=n.value)===null||f===void 0?void 0:f.overlayInnerStyle)||{};return pe(h)||Le(h)&&h.width?v=h:a.value?v=d:v=s,v});return{tOverlayInnerStyle:u,innerPopupVisible:r,onInnerPopupVisibleChange:c}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function FC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FC(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FC(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var eG=function(){return{NAME_CLASS:ae("select-input"),BASE_CLASS_BORDERLESS:ae("select-input--borderless"),BASE_CLASS_MULTIPLE:ae("select-input--multiple"),BASE_CLASS_POPUP_VISIBLE:ae("select-input--popup-visible"),BASE_CLASS_EMPTY:ae("select-input--empty")}},tG=i.defineComponent({name:"TSelectInput",props:sr(sr({},iq),{},{valueDisplayOptions:{type:Object}}),setup:function(e,n){var a=eG(),r=a.NAME_CLASS,o=a.BASE_CLASS_BORDERLESS,l=a.BASE_CLASS_MULTIPLE,s=a.BASE_CLASS_POPUP_VISIBLE,c=a.BASE_CLASS_EMPTY,d=ae(),u=Pe(),f=i.ref(),v=i.ref(),h=i.toRefs(e),g=h.multiple,p=h.value,m=h.popupVisible,y=h.borderless,b=MC(e),w=b.tOverlayInnerStyle,C=b.innerPopupVisible,x=b.onInnerPopupVisibleChange,k=uq(e,n,v),P=k.isSingleFocus,I=k.commonInputProps,D=k.onInnerClear,L=k.renderSelectSingle,O=Zq(e,n,v),S=O.isMultipleFocus,_=O.tagInputRef,A=O.renderSelectMultiple,E=i.computed(function(){return e.multiple?S.value:P.value}),R=i.computed(function(){var M;return["".concat(r.value),G(G(G(G({},l.value,g.value),o.value,y.value),s.value,(M=m.value)!==null&&M!==void 0?M:C.value),c.value,p.value instanceof Array?!p.value.length:!p.value)]}),N=function($){var W,H=$.code||((W=$.key)===null||W===void 0?void 0:W.trim());if(/(ArrowDown|ArrowUp)/.test(H)&&!m.value){var K,z=sr(sr({},n),{},{trigger:"trigger-element-focus"});(K=e.onPopupVisibleChange)===null||K===void 0||K.call(e,!0,z)}};i.watch([E],function(M){var $=Ce(M,1),W=$[0];m.value||(W?f.value.addEventListener("keydown",N):f.value.removeEventListener("keydown",N))}),i.onMounted(function(){!m.value&&E&&f.value.addEventListener("keydown",N)}),i.onBeforeUnmount(function(){var M;(M=f.value)===null||M===void 0||M.removeEventListener("keydown",N)});var F=function($){var W,H;(W=$.e)===null||W===void 0||W.stopPropagation(),!($.e.target.tabIndex>=0)&&e.multiple&&((H=_.value)===null||H===void 0||H.focus())};return{classPrefix:d,NAME_CLASS:r,innerPopupVisible:C,commonInputProps:I,tOverlayInnerStyle:w,selectInputRef:f,popupRef:v,classes:R,onInnerClear:D,renderTNodeJSX:u,renderSelectSingle:L,renderSelectMultiple:A,onOverlayClick:F,onInnerPopupVisibleChange:x}},render:function(){var e,n,a=this,r={visible:(e=this.popupVisible)!==null&&e!==void 0?e:this.innerPopupVisible},o=i.createVNode(Bn,i.mergeProps({ref:"popupRef",trigger:((n=this.popupProps)===null||n===void 0?void 0:n.trigger)||"click",placement:"bottom-left"},r,{content:this.panel,hideEmptyPopup:!0},sr(sr({onVisibleChange:this.onInnerPopupVisibleChange,onOverlayClick:this.onOverlayClick},this.popupProps),{},{overlayInnerStyle:this.tOverlayInnerStyle})),sr({default:function(){return[a.multiple?a.renderSelectMultiple({commonInputProps:a.commonInputProps,onInnerClear:a.onInnerClear,popupVisible:r.visible,allowInput:a.allowInput}):a.renderSelectSingle(r.visible)]}},sr(sr({},this.$slots),{},{content:this.$slots.panel}))),l=this.renderTNodeJSX("tips"),s=["".concat(this.classPrefix,"-input__tips"),"".concat(this.classPrefix,"-tips"),"".concat(this.classPrefix,"-is-").concat(this.status)];return i.createVNode("div",{ref:"selectInputRef",class:this.classes},[o,l&&i.createVNode("div",{class:s},[l])])}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Do=be(tG);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var nG={checkAll:Boolean,content:{type:[String,Function]},default:{type:[String,Function]},disabled:Boolean,label:{type:String,default:""},title:{type:String,default:""},value:{type:[String,Number]}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var aG={checkAll:Boolean,checked:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},defaultChecked:Boolean,default:{type:[String,Function]},disabled:{type:Boolean,default:void 0},indeterminate:Boolean,label:{type:[String,Function]},lazyLoad:Boolean,name:{type:String,default:""},readonly:{type:Boolean,default:void 0},title:{type:String,default:""},value:{type:[String,Number,Boolean]},onChange:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var LC=Symbol("CheckboxGroupProvide");/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function as(t,e,n,a){if(typeof window>"u")return null;if(!window||!window.IntersectionObserver)return n(),null;var r=null;try{r=new window.IntersectionObserver(function(o){var l=o[0];l.isIntersecting&&(n(),r.unobserve(t))},{rootMargin:"0px 0px ".concat(a,"px 0px"),root:e}),r.observe(t)}catch(o){console.error(o),n()}return r}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function rG(t,e){var n=i.ref(),a=i.ref(!0),r=function(){if(e.value){a.value=!1;var l=as(t.value,null,function(){a.value=!0},0);n.value=l}};return i.onMounted(r),i.watch([e,t],r),i.onBeforeUnmount(function(){e.value&&n.value.unobserve(t.value)}),{showCheckbox:a}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function iG(t){var e=function(o){var l=nu.test(o.key)||nu.test(o.code);if(l){o.preventDefault();var s=o.currentTarget.querySelector("input"),c=s.disabled;!c&&t(o)}},n=function(o){o.currentTarget.addEventListener("keydown",e)},a=function(o){o.currentTarget.removeEventListener("keydown",e)};return{onCheckboxFocus:n,onCheckboxBlur:a}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function $C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function BC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$C(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$C(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var zC=i.defineComponent({name:"TCheckbox",props:BC(BC({},aG),{},{needRipple:Boolean,stopLabelTrigger:Boolean,index:Number,data:Object}),setup:function(e){var n=i.ref();e.needRipple&&Ar(n);var a=lt(),r=a.STATUS,o=i.toRefs(e),l=o.checked,s=o.modelValue,c=o.lazyLoad,d=ot(l,s,e.defaultChecked,e.onChange,"checked"),u=Ce(d,2),f=u[0],v=u[1],h=i.inject(LC,void 0),g=i.ref();i.watch(function(){return[e.name,h==null?void 0:h.value.name].join("_")},function(){var N=e.name||(h==null?void 0:h.value.name);N&&(g.value=N)},{immediate:!0});var p=i.ref(!1),m=function(){var F=e.value,M=e.checkAll;return M?h==null?void 0:h.value.isCheckAll:h!=null&&h.value?h.value.checkedValues.includes(F):f.value};i.watch(function(){var N;return[f.value,h==null?void 0:h.value.isCheckAll,h==null||(N=h.value.checkedValues)===null||N===void 0?void 0:N.join(",")]},function(){p.value=m()},{immediate:!0});var y=i.computed(function(){return!e.checkAll&&!p.value&&h!==null&&h!==void 0&&h.value.maxExceeded?!0:null}),b=i.computed(function(){return h==null?void 0:h.value.disabled}),w=St({beforeDisabled:y,afterDisabled:b}),C=i.computed(function(){return h==null?void 0:h.value.readonly}),x=mn({afterReadonly:C}),k=i.ref(!1);i.watch(function(){return[e.checkAll,e.indeterminate,h==null?void 0:h.value.indeterminate]},function(){k.value=e.checkAll?h==null?void 0:h.value.indeterminate:e.indeterminate},{immediate:!0});var P=ae("checkbox"),I=i.ref({});i.watch([p,w,k],function(){I.value=["".concat(P.value),G(G(G({},r.value.checked,p.value),r.value.disabled,w.value),r.value.indeterminate,k.value)]},{immediate:!0});var D=function(F){if(!x.value){var M=!p.value;v(M,{e:F}),h!=null&&h.value.handleCheckboxChange&&h.value.onCheckedChange({checked:M,checkAll:e.checkAll,e:F,option:e})}},L=ft(),O=function(F){e.stopLabelTrigger&&F.preventDefault()},S=rG(n,c),_=S.showCheckbox,A=iG(D),E=A.onCheckboxFocus,R=A.onCheckboxBlur;return function(){var N=Ae(e.title)&&e.title?e.title:null;return i.createVNode("label",{ref:n,class:I.value,tabindex:w.value?void 0:"0",onFocus:E,onBlur:R,title:N},[_.value?[i.createVNode("input",{type:"checkbox",tabindex:"-1",class:"".concat(P.value,"__former"),disabled:w.value,readonly:x.value,indeterminate:k.value,name:g.value,value:e.value?e.value:void 0,checked:p.value,onChange:D,key:"input"},null),i.createVNode("span",{class:"".concat(P.value,"__input"),key:"input-span"},null),i.createVNode("span",{class:"".concat(P.value,"__label"),key:"label",onClick:O},[L("default","label")])]:null])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var oG={disabled:{type:Boolean,default:void 0},lazyLoad:Boolean,max:{type:Number,default:void 0},name:{type:String,default:""},options:{type:Array},readonly:{type:Boolean,default:void 0},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array,default:function(){return[]}},onChange:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var lG=i.defineComponent({name:"TCheckboxGroup",props:oG,setup:function(e){var n=ae("checkbox-group"),a=Pe(),r=Array.isArray,o=i.toRefs(e),l=o.value,s=o.modelValue,c=ot(l,s,e.defaultValue,e.onChange),d=Ce(c,2),u=d[0],f=d[1],v=i.ref([]),h=i.computed(function(){if(!r(u.value))return 0;var P=v.value.map(function(D){return D.value}),I=hi(u.value,P);return I.length}),g=i.computed(function(){var P=v.value.filter(function(D){return!D.disabled&&!D.readonly&&!D.checkAll}).map(function(D){return D.value}),I=hi(P,u.value);return I.length===P.length}),p=i.computed(function(){return!g.value&&h.value<v.value.length&&h.value!==0}),m=i.computed(function(){return!Kt(e.max)&&u.value.length===e.max});i.watchEffect(function(){if(!e.options)return[];v.value=e.options.map(function(P){return Le(P)?P:{label:String(P),value:P}})});var y=function(){for(var I=new Set,D=0,L=v.value.length;D<L;D++){var O=v.value[D];if(!O.checkAll&&!O.disabled&&!O.readonly&&(I.add(O.value),m.value))break}return he(I)},b=function(I,D){var L=I?y():[];f(L,{e:D.e,type:I?"check":"uncheck",current:void 0,option:void 0})},w=function(I){var D=I.option.value;if(!r(u.value)){console.warn("TDesign CheckboxGroup Warn: `value` must be an array, instead of ".concat(Je(u.value)));return}var L=he(u.value);if(I.checked)L.push(D);else{var O=L.indexOf(D);L.splice(O,1)}f(L,{e:I.e,current:I.option.value,option:I.option,type:I.checked?"check":"uncheck"})},C=function(I){var D=I.checked,L=I.checkAll,O=I.e;L?b(D,{e:O}):w(I)},x=tr(),k=function(){var I=x("Checkbox"),D=[];return I==null||I.forEach(function(L){var O=L.props;O&&((O["check-all"]===""||O["check-all"]===!0)&&(O.checkAll=!0),D.push(O))}),D};return i.provide(LC,i.computed(function(){return{name:e.name,isCheckAll:g.value,checkedValues:u.value||[],maxExceeded:m.value,disabled:e.disabled,readonly:e.readonly,indeterminate:p.value,handleCheckboxChange:w,onCheckedChange:C}})),function(){var P,I=null;if((P=e.options)!==null&&P!==void 0&&P.length){var D;I=(D=v.value)===null||D===void 0?void 0:D.map(function(O,S){var _;return i.createVNode(zC,i.mergeProps({key:"".concat(O.value||"").concat(S),lazyLoad:e.lazyLoad},O,{index:S,checked:(_=u.value)===null||_===void 0?void 0:_.includes(O.value),data:O}),null)})}else{var L=a("default");v.value=k(),I=L}return i.createVNode("div",{class:n.value,role:"group","aria-label":"checkbox-group"},[I])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Fa=be(zC),rs=be(lG);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function sG(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=cG(t))||e){n&&(t=n);var a=0,r=function(){};return{s:r,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(d){throw d},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,l=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var d=n.next();return l=d.done,d},e:function(d){s=!0,o=d},f:function(){try{l||n.return==null||n.return()}finally{if(s)throw o}}}}function cG(t,e){if(t){if(typeof t=="string")return HC(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?HC(t,e):void 0}}function HC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=Array(e);n<e;n++)a[n]=t[n];return a}var au=Symbol("selectProvide"),_v=function(e,n){var a=n.value.get(e);return(a==null?void 0:a.label)||(e==null?void 0:e.toString())},uG=function(e,n){var a=[],r=sG(e),o;try{for(r.s();!(o=r.n()).done;){var l=o.value,s=_v(l,n);s&&a.push(s)}}catch(c){r.e(c)}finally{r.f()}return a},WC=function(e,n){var a=On(e),r=a.indexOf(n);return r<0?a.push(n):a.splice(r,1),{value:a,isCheck:r<0}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function UC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function KC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UC(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UC(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function dG(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!i.isVNode(t)}var Iv=i.defineComponent({name:"TOption",props:KC(KC({},nG),{},{createAble:Boolean,multiple:Boolean,index:Number,rowIndex:Number,trs:Map,scrollType:String,isVirtual:Boolean,bufferSize:Number,checkAll:Boolean}),emits:["row-mounted"],setup:function(e,n){var a=i.inject(au),r=St(),o=i.getCurrentInstance(),l=o.vnode,s=i.computed(function(){return a.value.max!==0&&a.value.max<=a.value.selectValue.length}),c=i.computed(function(){return r.value||e.multiple&&s.value&&!m.value&&!a.value.isCheckAll}),d=ft(),u=ae("select"),f=lt(),v=f.STATUS,h=f.SIZE,g=i.ref(),p=i.ref(!1),m=i.computed(function(){return a.value.isCheckAll&&!e.disabled?!0:e.multiple?a.value.selectValue.includes(e.value):a.value.selectValue===e.value}),y=i.computed(function(){return e.checkAll?a.value.indeterminate:!1}),b=i.computed(function(){return["".concat(u.value,"-option"),[h.value[a.value.size]],G(G(G({},v.value.disabled,c.value),v.value.selected,m.value),"".concat(u.value,"-option__hover"),(p.value||a.value.hoverIndex===e.index)&&!c.value)]}),w=i.computed(function(){return e.label||e.value}),C=function(I){if(!(e.disabled||c.value)){if(e.multiple){x(!m.value,{e:I}),I.preventDefault();return}if(e.createAble){var D,L;if((D=(L=a.value).handleCreate)===null||D===void 0||D.call(L,e.value),a.value.multiple){a.value.handleValueChange([].concat(he(a.value.selectValue),[e.value]),{selectedOptions:a.value.getSelectedOptions(),trigger:"check",e:I});return}}var O=a.value.getSelectedOptions(e.value);a.value.handleValueChange(e.value,{option:O==null?void 0:O[0],selectedOptions:O,trigger:"check",e:I}),a.value.handlePopupVisibleChange(!1,{e:I}),a.value.emitBlur(I)}},x=function(I,D){if(e.checkAll){a.value.onCheckAllChange(I);return}var L=WC(a.value.selectValue,e.value),O=a.value.getSelectedOptions(L.value);a.value.handleValueChange(L.value,{option:O.find(function(S){return S.value===e.value}),selectedOptions:O,trigger:I?"check":"uncheck",e:D.e})},k=function(){var I=l.props||{};return Reflect.has(I,"title")?e.title:typeof w.value=="string"?w.value:null};return i.onMounted(function(){var P=e.trs,I=e.rowIndex,D=e.isVirtual;D&&(P.set(I,g.value),n.emit("row-mounted"))}),i.onBeforeUnmount(function(){if(e.isVirtual){var P=e.trs,I=e.rowIndex;P.delete(I)}}),Ar(g),function(){var P=d("default","content")||w.value;return i.createVNode("li",{ref:g,class:b.value,title:k(),onMouseenter:function(){return p.value=!0},onMouseleave:function(){return p.value=!1},onClick:C},[a&&e.multiple?i.createVNode(Fa,{checked:m.value,disabled:c.value,onChange:x,indeterminate:y.value},dG(P)?P:{default:function(){return[P]}}):i.createVNode("span",null,[P])])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var fG={divider:{type:Boolean,default:!0},label:{type:String,default:""}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function YC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function vG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YC(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YC(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var qC=i.defineComponent({name:"TOptionGroup",props:vG({},fG),setup:function(e){var n=i.inject(au),a=ae("select-option-group"),r=lt(),o=r.SIZE,l=Pe(),s=i.computed(function(){return[a.value,o.value[n.value.size],G({},"".concat(a.value,"__divider"),e.divider)]});return function(){return i.createVNode("li",{class:s.value},[i.createVNode("div",{class:"".concat(a.value,"__header")},[e.label]),l("default")])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Wn={autoWidth:Boolean,autofocus:Boolean,borderless:Boolean,clearable:Boolean,collapsedItems:{type:Function},creatable:Boolean,disabled:{type:Boolean,default:void 0},empty:{type:[String,Function]},filter:{type:Function},filterable:Boolean,inputProps:{type:Object},inputValue:{type:[String,Number],default:void 0},defaultInputValue:{type:[String,Number]},keys:{type:Object},label:{type:[String,Function]},loading:Boolean,loadingText:{type:[String,Function]},max:{type:Number,default:0},minCollapsedNum:{type:Number,default:0},multiple:Boolean,options:{type:Array},panelBottomContent:{type:[String,Function]},panelTopContent:{type:[String,Function]},placeholder:{type:String,default:void 0},popupProps:{type:Object},popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:Boolean,prefixIcon:{type:Function},readonly:{type:Boolean,default:void 0},reserveKeyword:Boolean,scroll:{type:Object},selectInputProps:{type:Object},showArrow:{type:Boolean,default:!0},size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},status:{type:String,default:"default",validator:function(e){return e?["default","success","warning","error"].includes(e):!0}},suffix:{type:[String,Function]},suffixIcon:{type:Function},tagInputProps:{type:Object},tagProps:{type:Object},tips:{type:[String,Function]},value:{type:[String,Number,Boolean,Object,Array],default:void 0},modelValue:{type:[String,Number,Boolean,Object,Array],default:void 0},defaultValue:{type:[String,Number,Boolean,Object,Array],default:void 0},valueDisplay:{type:[String,Function]},valueType:{type:String,default:"value",validator:function(e){return e?["value","object"].includes(e):!0}},onBlur:Function,onChange:Function,onClear:Function,onCreate:Function,onEnter:Function,onFocus:Function,onInputChange:Function,onPopupVisibleChange:Function,onRemove:Function,onSearch:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var hG=function(e){var n,a,r,o,l,s=i.computed(function(){var D,L,O;return((D=e.scroll)===null||D===void 0?void 0:D.type)==="virtual"&&((L=e.options.value)===null||L===void 0?void 0:L.length)>(((O=e.scroll)===null||O===void 0?void 0:O.threshold)||100)}),c=((n=e.scroll)===null||n===void 0?void 0:n.type)==="virtual"?TW({container:e.popupContentRef,data:e.options,fixedHeight:((a=e.scroll)===null||a===void 0?void 0:a.isFixedRowHeight)||!1,lineHeight:((r=e.scroll)===null||r===void 0?void 0:r.rowHeight)||28,bufferSize:((o=e.scroll)===null||o===void 0?void 0:o.bufferSize)||20,threshold:((l=e.scroll)===null||l===void 0?void 0:l.threshold)||100}):{},d=c.trs,u=d===void 0?null:d,f=c.visibleData,v=f===void 0?null:f,h=c.handleScroll,g=h===void 0?null:h,p=c.scrollHeight,m=p===void 0?null:p,y=c.translateY,b=y===void 0?null:y,w=c.handleRowMounted,C=w===void 0?null:w,x=-1,k=function(L){if(s.value){var O=L.target,S=O.scrollTop;Math.abs(x-S)>5?(g(),x=S):x=-1}};i.onMounted(function(){var D;(D=e.popupContentRef.value)===null||D===void 0||D.addEventListener("scroll",k)}),i.onBeforeUnmount(function(){var D;(D=e.popupContentRef.value)===null||D===void 0||D.removeEventListener("scroll",k)});var P=i.computed(function(){return{position:"absolute",width:"1px",height:"1px",transition:"transform 0.2s",transform:"translate(0, ".concat(m.value,"px)"),"-ms-transform":"translate(0, ".concat(m.value,"px)"),"-moz-transform":"translate(0, ".concat(m.value,"px)"),"-webkit-transform":"translate(0, ".concat(m.value,"px)")}}),I=i.computed(function(){return{transform:"translate(0, ".concat(b.value,"px)"),"-ms-transform":"translate(0, ".concat(b.value,"px)"),"-moz-transform":"translate(0, ".concat(b.value,"px)"),"-webkit-transform":"translate(0, ".concat(b.value,"px)")}});return{trs:u,scrollHeight:m,translateY:b,visibleData:v,handleRowMounted:C,isVirtual:s,cursorStyle:P,panelStyle:I}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function gG(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!i.isVNode(t)}var pG=i.defineComponent({name:"TSelectPanel",props:{inputValue:Wn.inputValue,panelTopContent:Wn.panelTopContent,panelBottomContent:Wn.panelBottomContent,empty:Wn.empty,creatable:Wn.creatable,loading:Wn.loading,loadingText:Wn.loadingText,multiple:Wn.multiple,filterable:Wn.filterable,filter:Wn.filter,scroll:Wn.scroll,size:Wn.size},setup:function(e,n){var a=n.expose,r=ae("select"),o=Pe(),l=va(),s=Re("select"),c=s.t,d=s.globalConfig,u=i.inject(au),f=i.ref(null),v=i.computed(function(){return u.value.popupContentRef.value}),h=i.computed(function(){return e.creatable&&e.filterable&&e.inputValue}),g=i.computed(function(){return u.value.displayOptions}),p=hG({scroll:e.scroll,popupContentRef:v,options:g}),m=p.trs,y=p.visibleData,b=p.handleRowMounted,w=p.isVirtual,C=p.panelStyle,x=p.cursorStyle,k=i.computed(function(){return!g.value.length}),P=function(){return i.createVNode("ul",{class:["".concat(r.value,"__create-option"),"".concat(r.value,"__list")]},[i.createVNode(Iv,{value:e.inputValue,label:"".concat(e.inputValue),createAble:!0,class:"".concat(r.value,"__create-option--special")},null)])},I=function(S){return i.createVNode("ul",{class:"".concat(r.value,"__list")},[S.map(function(_,A){var E,R;if(_.group){var N;return i.createVNode(qC,{label:_.group,divider:_.divider},gG(N=I(_.children))?N:{default:function(){return[N]}})}return i.createVNode(Iv,i.mergeProps(gn(_,"index","$index","className","tagName"),w.value?{rowIndex:_.$index,trs:m,scrollType:(E=e.scroll)===null||E===void 0?void 0:E.type,isVirtual:w.value,bufferSize:(R=e.scroll)===null||R===void 0?void 0:R.bufferSize,key:"".concat(_.$index||"","_").concat(A,"_").concat(_.value)}:{key:"".concat(A,"_").concat(_.value)},{index:A,multiple:e.multiple,onRowMounted:b}),_.slots)})])},D=i.computed(function(){return{small:"s",medium:"m",large:"l"}[u.value.size]});a({innerRef:f,visibleData:y,isVirtual:w,displayOptions:g});var L=function(S,_){return i.createVNode("div",{ref:f,class:["".concat(r.value,"__dropdown-inner"),"".concat(r.value,"__dropdown-inner--size-").concat(D.value)],style:_},[h.value&&P(),e.loading&&l("loadingText",{defaultNode:i.createVNode("div",{class:"".concat(r.value,"__loading-tips")},[c(d.value.loadingText)])}),!e.loading&&k.value&&!h.value&&l("empty",{defaultNode:i.createVNode("div",{class:"".concat(r.value,"__empty")},[c(d.value.empty)])}),!k.value&&I(S)])};return{renderPanel:L,panelStyle:C,cursorStyle:x,isVirtual:w,displayOptions:g,visibleData:y,renderTNodeJSX:o}},render:function(){return this.isVirtual?i.createVNode(i.Fragment,null,[this.renderTNodeJSX("panelTopContent"),i.createVNode("div",null,[i.createVNode("div",{style:this.cursorStyle},null),this.renderPanel(this.visibleData,this.panelStyle)]),this.renderTNodeJSX("panelBottomContent")]):i.createVNode(i.Fragment,null,[this.renderTNodeJSX("panelTopContent"),this.renderPanel(this.displayOptions),this.renderTNodeJSX("panelBottomContent")])}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function ru(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=mG(t))||e){n&&(t=n);var a=0,r=function(){};return{s:r,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(d){throw d},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,l=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var d=n.next();return l=d.done,d},e:function(d){s=!0,o=d},f:function(){try{l||n.return==null||n.return()}finally{if(s)throw o}}}}function mG(t,e){if(t){if(typeof t=="string")return GC(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?GC(t,e):void 0}}function GC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=Array(e);n<e;n++)a[n]=t[n];return a}function XC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function ra(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XC(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XC(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var yG=function(e,n,a){var r=tr(),o=i.ref([]),l=i.computed(function(){var u,f=0,v=((u=e.options)===null||u===void 0?void 0:u.map(function(O){var S=function(A){var E=n.value,R=E.value,N=E.label,F=E.disabled,M=ra(ra({},A),{},{index:f,label:we(A,N),value:we(A,R),disabled:we(A,F)||!1});return f++,M};return O.group&&O.children?ra(ra({},O),{},{children:O.children.map(function(_){return S(_)})}):S(O)}))||[],h=r("Option"),g=r("OptionGroup");if(Ie(g)){var p=ru(g),m;try{for(p.s();!(m=p.n()).done;){var y,b=m.value,w=ra(ra({group:(y=b.props)===null||y===void 0?void 0:y.label},b.props),{},{children:[]}),C=r("Option",b.children);if(Ie(C)){var x=ru(C),k;try{for(x.s();!(k=x.n()).done;){var P=k.value;w.children.push(ra(ra({},P.props),{},{slots:P.children,index:f})),f++}}catch(O){x.e(O)}finally{x.f()}v.push(w)}}}catch(O){p.e(O)}finally{p.f()}}if(Ie(h)){var I=ru(h),D;try{for(I.s();!(D=I.n()).done;){var L=D.value;v.push(ra(ra({},L.props),{},{slots:L.children,index:f})),f++}}catch(O){I.e(O)}finally{I.f()}}return v}),s=i.computed(function(){var u=[],f=function(h){var g=ru(h),p;try{for(g.s();!(p=g.n()).done;){var m=p.value;m.group?f(m.children):u.push(m)}}catch(y){g.e(y)}finally{g.f()}};return f(l.value),u}),c=i.computed(function(){var u=new Map;return o.value.concat(s.value).forEach(function(f){u.set(f.value,f)}),u}),d=i.computed(function(){if(e.onSearch&&e.filterable||!a.value||!(e.filterable||pe(e.filter)))return l.value;var u=function(h){var g,p;return pe(e.filter)?e.filter("".concat(a.value),h):((g=h.label)===null||g===void 0||(p=g.toLowerCase)===null||p===void 0?void 0:p.call(g).indexOf("".concat(a.value).toLowerCase()))>-1},f=[];return l.value.forEach(function(v){v.group&&v.children&&f.push(ra(ra({},v),{},{children:v.children.filter(u)})),u(v)&&f.push(v)}),f});return{options:l,optionsMap:c,optionsList:s,optionsCache:o,displayOptions:d}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function bG(t){var e=t.displayOptions,n=t.optionsList,a=t.innerPopupVisible,r=t.setInnerPopupVisible,o=t.selectPanelRef,l=t.isFilterable,s=t.isRemoteSearch,c=t.getSelectedOptions,d=t.setInnerValue,u=t.innerValue,f=t.popupContentRef,v=t.multiple,h=t.max,g=i.ref(-1),p=i.ref([]),m=i.ref([]),y=ae(),b=function(C){var x,k,P=e.value.length,I=g.value;switch(C.code){case"ArrowUp":C.preventDefault(),g.value===-1?I=0:g.value===0||g.value>e.value.length-1?I=P-1:I--,(x=n.value[I])!==null&&x!==void 0&&x.disabled&&I--,g.value=I;break;case"ArrowDown":C.preventDefault(),g.value===-1||g.value>=P-1?I=0:I++,(k=n.value[I])!==null&&k!==void 0&&k.disabled&&I++,g.value=I;break;case"Enter":if(g.value===-1)break;var D=o.value.isVirtual&&l.value&&m.value.length?m.value:s.value?n.value:p.value;if(D.length||(D=n.value),!a.value){r(!0,{e:C});break}if(v){var O;if(g.value===-1)return;var S=(O=D[g.value])===null||O===void 0?void 0:O.value;if(!S)return;var _=WC(u.value,S);if(h>0&&_.value.length>h)return;var A=c(_.value);d(_.value,{option:A.find(function(E){return E.value==S}),selectedOptions:A,trigger:_.isCheck?"check":"uncheck",e:C}),p.value=[]}else{var L=c(D[g.value].value);d(D[g.value].value,{option:L==null?void 0:L[0],selectedOptions:c(D[g.value].value),trigger:"check",e:C}),r(!1,{e:C})}break;case"Escape":r(!1,{e:C});break}};return i.watch(a,function(w){w&&(g.value=-1,m.value=[],p.value=[])}),i.watch(g,function(w){var C,x=(C=o.value)===null||C===void 0||(C=C.innerRef)===null||C===void 0||(C=C.querySelector(".".concat(y.value,"-select-option")))===null||C===void 0?void 0:C.clientHeight,k=x*w;f.value.scrollTo({top:k,behavior:"smooth"})}),{hoverIndex:g,handleKeyDown:b,virtualFilteredOptions:m,filteredOptions:p}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var wG=["overlayClassName"];function CG(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=xG(t))||e){n&&(t=n);var a=0,r=function(){};return{s:r,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(d){throw d},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,l=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var d=n.next();return l=d.done,d},e:function(d){s=!0,o=d},f:function(){try{l||n.return==null||n.return()}finally{if(s)throw o}}}}function xG(t,e){if(t){if(typeof t=="string")return JC(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?JC(t,e):void 0}}function JC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=Array(e);n<e;n++)a[n]=t[n];return a}function ZC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function ba(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZC(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZC(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var SG=i.defineComponent({name:"TSelect",props:ba(ba({},Wn),{},{valueDisplayOptions:{type:Object}}),setup:function(e,n){var a=n.slots,r=ae(),o=St(),l=mn(),s=Pe(),c=ae("select"),d=Re("select"),u=d.globalConfig,f=d.t,v=i.toRefs(e),h=v.popupVisible,g=v.inputValue,p=v.modelValue,m=v.value,y=Rt(g,e.defaultInputValue,e.onInputChange,"inputValue"),b=Ce(y,2),w=b[0],C=b[1],x=ot(m,p,e.defaultValue,e.onChange),k=Ce(x,2),P=k[0],I=k[1],D=i.ref(null),L=i.ref(null),O=i.computed(function(){var Se,Oe,ke;return{label:((Se=e.keys)===null||Se===void 0?void 0:Se.label)||"label",value:((Oe=e.keys)===null||Oe===void 0?void 0:Oe.value)||"value",disabled:((ke=e.keys)===null||ke===void 0?void 0:ke.disabled)||"disabled"}}),S=yG(e,O,w),_=S.optionsMap,A=S.optionsList,E=S.optionsCache,R=S.displayOptions,N=i.computed(function(){return P.value===void 0?e.multiple?[]:void 0:e.valueType==="object"?e.multiple?P.value.map(function(Se){return Se[O.value.value]}):P.value[O.value.value]:P.value}),F=function(Oe,ke){if(e.valueType==="object"){var _e=O.value,De=_e.value,je=_e.label,Xe=function(hn){if(hn!==void 0){var Vn=_.value.get(hn);return G(G({},De,we(Vn,De)),je,we(Vn,je))}};Oe=e.multiple?Oe.map(function(tt){return Xe(tt)}):Xe(Oe)}Oe!==P.value&&(e.multiple&&!e.reserveKeyword&&C(""),I(Oe,ba({selectedOptions:J(Oe)},ke)))},M=Rt(h,!1,function(Se,Oe){var ke;(ke=e.onPopupVisibleChange)===null||ke===void 0||ke.call(e,Se,Oe)},"popupVisible"),$=Ce(M,2),W=$[0],H=$[1],K=i.computed(function(){var Se;return(Se=!e.multiple&&W.value&&_v(N.value,_)||e.placeholder)!==null&&Se!==void 0?Se:f(u.value.placeholder)}),z=i.computed(function(){return e.multiple?uG(N.value,_):_v(N.value,_)}),B=i.computed(function(){var Se=e.multiple&&Ie(N.value)?N.value.map(function(_e){var De;return{value:_e,label:(De=_.value.get(_e))===null||De===void 0?void 0:De.label}}):N.value,Oe={value:Se,onClose:e.multiple?function(_e){return X(_e)}:function(){}};if(e.multiple||Object.assign(Oe,{label:z.value}),e.minCollapsedNum&&e.multiple){var ke;return ba(ba({},Oe),{},{displayValue:Se==null||(ke=Se.slice)===null||ke===void 0?void 0:ke.call(Se,0,e.minCollapsedNum)})}return Oe}),q=i.computed(function(){return!!(e.filterable||u.value.filterable||pe(e.filter))}),Y=i.computed(function(){return!!((e.filterable||u.value.filterable)&&pe(e.onSearch))}),X=function(Oe,ke){var _e,De=On(N.value),je=De[Oe];De.splice(Oe,1),F(De,{selectedOptions:J(De),trigger:"tag-remove",e:ke}),(_e=e.onRemove)===null||_e===void 0||_e.call(e,{value:je,data:_.value.get(je),e:ke})},T=function(){var Oe;w.value&&((Oe=e.onCreate)===null||Oe===void 0||Oe.call(e,w.value),W.value||C(""))},j=i.computed(function(){var Se;return(Se=L.value)===null||Se===void 0?void 0:Se.popupRef.getOverlay()}),U=i.computed(function(){return A.value.filter(function(Se){return!Se.disabled&&!Se["check-all"]&&!Se.checkAll})}),J=function(){var Oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:N.value;return A.value.filter(function(ke){if(!ke.checkAll)return Ie(Oe)?Oe.includes(ke.value):Oe===ke.value})},Z=bG({displayOptions:R,optionsList:A,innerPopupVisible:W,setInnerPopupVisible:H,selectPanelRef:D,isFilterable:q,isRemoteSearch:Y,getSelectedOptions:J,setInnerValue:F,innerValue:N,popupContentRef:j,multiple:e.multiple,max:e.max}),Q=Z.hoverIndex,ee=Z.virtualFilteredOptions,ne=Z.handleKeyDown,V=Z.filteredOptions,re=function(Oe){if(e.multiple){var ke=Oe?U.value.map(function(_e){return _e.value}):[];F(ke,{selectedOptions:J(ke),trigger:Oe?"check":"clear"})}},ce=i.computed(function(){var Se=U.value.map(function(ke){return ke.value}),Oe=hi(N.value,Se);return Oe.length}),se=i.computed(function(){return ce.value===U.value.length}),ue=i.computed(function(){return!se.value&&ce.value!==0}),ye=i.computed(function(){return{max:e.max,multiple:e.multiple,hoverIndex:Q.value,selectValue:N.value,reserveKeyword:e.reserveKeyword,handleValueChange:F,handlerInputChange:C,handlePopupVisibleChange:H,handleCreate:T,size:e.size,popupContentRef:j,indeterminate:ue.value,isCheckAll:se.value,onCheckAllChange:re,getSelectedOptions:J,displayOptions:R.value,emitBlur:le}});i.provide(au,ye);var me=function(){!e.multiple&&Ie(P.value)&&I(void 0,{selectedOptions:[],trigger:"default"}),e.multiple&&!Ie(P.value)&&I([],{selectedOptions:[],trigger:"default"})},ge=ar(function(Se,Oe){var ke,_e=Oe.e;(ke=e.onSearch)===null||ke===void 0||ke.call(e,"".concat(Se),{e:_e})},300),xe=function(Oe,ke){Oe&&!W.value&&H(!0,{e:ke.e}),C(Oe),ge("".concat(Oe),{e:ke.e}),i.nextTick(function(){var _e,De;ee.value=(_e=D.value)===null||_e===void 0?void 0:_e.visibleData,V.value=(De=D.value)===null||De===void 0?void 0:De.displayOptions})},le=function(Oe){var ke;(ke=e.onBlur)===null||ke===void 0||ke.call(e,{e:Oe,value:N.value})},ie=function(Oe,ke){H(Oe,ke),Oe&&ke.trigger==="trigger-element-click"&&C("")},oe=function(){var Se=Et(qe.mark(function Oe(ke){var _e,De,je;return qe.wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:if(je=e.popupProps,!e.loading){tt.next=3;break}return tt.abrupt("return");case 3:je==null||(_e=je["on-scroll-to-bottom"])===null||_e===void 0||_e.call(je,ke),je==null||(De=je.onScrollToBottom)===null||De===void 0||De.call(je,ke);case 5:case"end":return tt.stop()}},Oe)}));return function(ke){return Se.apply(this,arguments)}}(),de=function(Oe){if(e.multiple){var ke=[],_e=CG(Oe||[]),De;try{for(_e.s();!(De=_e.n()).done;){var je=De.value,Xe=_.value.get(je);Xe&&ke.push(Xe)}}catch(hn){_e.e(hn)}finally{_e.f()}E.value=Array.from(new Set([].concat(ke,he(E.value))))}else{var tt=_.value.get(Oe);tt&&(E.value=Array.from(new Set([tt].concat(he(E.value)))))}};i.watch(P,function(Se){me(),i.nextTick(function(){de(Se)})},{immediate:!0}),i.watch(function(){return e.multiple},function(){me()});var Te=function(Oe){var ke;if(D.value){var _e=(ke=D.value)===null||ke===void 0||(ke=ke.innerRef)===null||ke===void 0?void 0:ke.querySelector(".".concat(r.value,"-is-selected"));i.nextTick(function(){if(_e&&Oe){var De=getComputedStyle(_e),je=De.paddingBottom,Xe=getComputedStyle(Oe),tt=Xe.marginBottom,hn=parseInt(je,10)+parseInt(tt,10),Vn=_e.offsetTop-Oe.offsetTop-(Oe.clientHeight-_e.clientHeight)+hn;Oe.scrollTop=Vn}})}};return i.provide("updateScrollTop",Te),function(){var Se=e.popupProps||{},Oe=Se.overlayClassName,ke=Er(Se,wG);return i.createVNode("div",{class:"".concat(c.value,"__wrap")},[i.createVNode(Do,i.mergeProps({autoWidth:e.autoWidth,readonly:l.value,borderless:e.borderless,multiple:e.multiple,clearable:e.clearable,loading:e.loading,status:e.status,tips:e.tips,minCollapsedNum:e.minCollapsedNum,autofocus:e.autofocus,suffix:e.suffix,valueDisplayOptions:e.valueDisplayOptions},{ref:L,class:c.value,value:z.value,disabled:o.value,popupVisible:W.value,inputValue:W.value?w.value:"",placeholder:"".concat(K.value),allowInput:q.value,"collapsed-items":e.collapsedItems,inputProps:ba(ba({size:e.size,autofocus:e.autofocus},e.inputProps),{},{onkeydown:ne}),tagInputProps:ba({size:e.size},e.tagInputProps),onTagChange:function(De,je){X(je.index)},tagProps:ba({},e.tagProps),popupProps:ba(ba({overlayClassName:["".concat(c.value,"__dropdown"),Oe]},ke),{},{onScrollToBottom:oe}),label:e.label,prefixIcon:e.prefixIcon,suffix:e.suffix,suffixIcon:function(){return e.suffixIcon||a.suffixIcon?s("suffixIcon"):e.showArrow&&i.createVNode(fi,{overlayClassName:"".concat(c.value,"__right-icon"),isActive:W.value},null)},valueDisplay:function(){return s("valueDisplay",{params:B.value})},onPopupVisibleChange:ie,onInputChange:xe,onClear:function(De){var je,Xe=De.e;F(e.multiple?[]:void 0,{option:null,selectedOptions:J(e.multiple?[]:void 0),trigger:"clear",e:Xe}),(je=e.onClear)===null||je===void 0||je.call(e,{e:Xe})},onEnter:function(De,je){var Xe=je.e;setTimeout(function(){var tt;(tt=e.onEnter)===null||tt===void 0||tt.call(e,{inputValue:"".concat(w.value),e:Xe,value:N.value}),T()},0)},onBlur:function(De,je){var Xe,tt=je.e;(Xe=e.onBlur)===null||Xe===void 0||Xe.call(e,{e:tt,value:N.value})},onFocus:function(De,je){var Xe,tt=je.e;(Xe=e.onFocus)===null||Xe===void 0||Xe.call(e,{e:tt,value:N.value})}},e.selectInputProps),{label:a.label,prefixIcon:a.prefixIcon,suffix:a.suffix,panel:function(){return i.createVNode(pG,i.mergeProps({ref:D},Ma(e,["size","multiple","empty","loading","loadingText","filterable","creatable","panelTopContent","panelBottomContent","filter","scroll"]),{inputValue:w.value}),a)},collapsedItems:a.collapsedItems})])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var pi=be(SG),QC=be(Iv),OG=be(qC);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var kG={append:{type:[String,Function]},prepend:{type:[String,Function]}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var PG=i.defineComponent({name:"TInputAdornment",inheritAttrs:!1,props:kG,setup:function(e,n){var a=n.slots,r=ae("input-adornment"),o=Pe(),l=function(c,d,u){var f,v=Ae(u)||nt(u);return!a[d]&&Ae(u)&&!u?null:(a[d]?a[d](null).length===1&&typeof a[d](null)[0].children=="string"?f=i.createVNode("span",{class:"".concat(r.value,"__text")},[a[d](null)]):f=a[d](null):pe(u)?f=u(c):f=v?i.createVNode("span",{class:"".concat(r.value,"__text")},[u]):u,f&&i.createVNode("span",{class:"".concat(r.value,"__").concat(d)},[f]))};return function(){var s=l(i.h,"prepend",e.prepend),c=l(i.h,"append",e.append),d=o("default")||[null],u=[r.value,G(G({},"".concat(r.value,"--prepend"),s),"".concat(r.value,"--append"),c)];return!s&&!c?d[0]:i.createVNode("div",{class:u},[s,d[0],c])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var VC=be(PG);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var _G={current:{type:Number,default:void 0},modelValue:{type:Number,default:void 0},defaultCurrent:{type:Number,default:1},disabled:Boolean,foldedMaxPageBtn:{type:Number,default:5},maxPageBtn:{type:Number,default:10},pageEllipsisMode:{type:String,default:"mid",validator:function(e){return e?["mid","both-ends"].includes(e):!0}},pageSize:{type:Number,default:void 0},defaultPageSize:{type:Number,default:10},pageSizeOptions:{type:Array,default:function(){return[5,10,20,50]}},selectProps:{type:Object},showFirstAndLastPageBtn:Boolean,showJumper:Boolean,showPageNumber:{type:Boolean,default:!0},showPageSize:{type:Boolean,default:!0},showPreviousAndNextBtn:{type:Boolean,default:!0},size:{type:String,default:"medium",validator:function(e){return e?["small","medium"].includes(e):!0}},theme:{type:String,default:"default",validator:function(e){return e?["default","simple"].includes(e):!0}},total:{type:Number,default:0},totalContent:{type:[Boolean,Function],default:!0},onChange:Function,onCurrentChange:Function,onPageSizeChange:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function IG(t,e,n,a){var r=lt(),o=r.SIZE,l=r.STATUS,s=i.computed(function(){var w=Math.ceil(t.total/n.value);return w>0?w:1}),c=i.computed(function(){return["".concat(a.value),o.value[t.size],G(G({},l.value.disabled,t.disabled),"".concat(a.value,"-ie"),Qa()<11)]}),d=i.computed(function(){return["".concat(a.value,"__total")]}),u=i.computed(function(){return["".concat(a.value,"__select")]}),f=i.computed(function(){return["".concat(a.value,"__btn"),"".concat(a.value,"__btn-prev"),G({},l.value.disabled,t.disabled||e.value===1)]}),v=i.computed(function(){return["".concat(a.value,"__btn"),"".concat(a.value,"__btn-next"),G({},l.value.disabled,t.disabled||e.value===s.value)]}),h=i.computed(function(){return["".concat(a.value,"__pager")]}),g=i.computed(function(){return["".concat(a.value,"__number"),"".concat(a.value,"__number--more"),G({},l.value.disabled,t.disabled)]}),p=i.computed(function(){return["".concat(a.value,"__jump")]}),m=i.computed(function(){return["".concat(a.value,"__input")]}),y=i.computed(function(){return["".concat(a.value,"__select")]}),b=function(C){return["".concat(a.value,"__number"),G(G({},l.value.disabled,t.disabled),l.value.current,e.value===C)]};return{pageCount:s,paginationClass:c,totalClass:d,sizerClass:u,preBtnClass:f,nextBtnClass:v,btnWrapClass:h,btnMoreClass:g,jumperClass:p,jumperInputClass:m,simpleClass:y,getButtonClass:b}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function NG(t,e,n){var a=i.ref(!1),r=i.ref(!1),o=i.computed(function(){return Math.ceil((t.foldedMaxPageBtn-1)/2)}),l=i.computed(function(){return Math.floor((t.foldedMaxPageBtn-1)/2)}),s=i.computed(function(){return 2+o.value<n.value}),c=i.computed(function(){return e.value-1-l.value>n.value});return{prevMore:a,nextMore:r,curPageLeftCount:o,curPageRightCount:l,isPrevMoreShow:s,isNextMoreShow:c}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var TG=nt;function EG(t){return TG(t)&&t!=+t}var AG=EG,RG=["pageCount"],mi=1,DG=i.defineComponent({name:"TPagination",props:_G,setup:function(e){var n=i.getCurrentInstance(),a=n.emit,r=i.toRefs(e),o=r.modelValue,l=r.pageSize,s=r.current,c=Pe(),d=ot(s,o,e.defaultCurrent,e.onCurrentChange,"current"),u=Ce(d,2),f=u[0],v=u[1],h=Rt(l,e.defaultPageSize,e.onPageSizeChange,"pageSize"),g=Ce(h,2),p=g[0],m=g[1],y=Re("pagination"),b=y.t,w=y.globalConfig,C=ae("pagination"),x=Ve({PageFirstIcon:uB,PageLastIcon:fB,ChevronLeftIcon:Co,ChevronRightIcon:Rr,ChevronLeftDoubleIcon:b$,ChevronRightDoubleIcon:O$,EllipsisIcon:F$}),k=x.PageFirstIcon,P=x.PageLastIcon,I=x.ChevronLeftIcon,D=x.ChevronRightIcon,L=x.ChevronLeftDoubleIcon,O=x.ChevronRightDoubleIcon,S=x.EllipsisIcon,_=IG(e,f,p,C),A=_.pageCount,E=Er(_,RG),R=NG(e,A,f),N=R.prevMore,F=R.isPrevMoreShow,M=R.curPageLeftCount,$=R.nextMore,W=R.isNextMoreShow,H=R.curPageRightCount,K=i.ref(f.value),z=i.computed(function(){return A.value>e.maxPageBtn}),B=i.computed(function(){var J=e.pageSizeOptions,Z=J.map(function(Q){return Le(Q)?Q:{label:b(w.value.itemsPerPage,{size:Q}),value:Number(Q)}});return Z.sort(function(Q,ee){return Q.value-ee.value})}),q=i.computed(function(){return e.pageEllipsisMode==="mid"}),Y=i.computed(function(){var J=[],Z,Q;if(z.value)if(F.value&&W.value)Z=f.value-M.value,Q=f.value+H.value;else{var ee=q.value?2:1,ne=q.value?A.value-1:A.value;F.value?Z=Math.min(f.value-1,A.value-e.foldedMaxPageBtn+1):Z=ee,W.value?Q=Math.max(f.value+1,e.foldedMaxPageBtn):Q=ne}else Z=1,Q=A.value;for(var V=Z;V<=Q;V++)J.push(V);return J});i.watch(function(){return A.value},function(){f.value>A.value&&(f.value=1)}),i.watch(function(){return f.value},function(J){return K.value=J});var X=function(Z,Q){if(!e.disabled){var ee=Z;if(Z<mi?ee=mi:Z>A.value&&(ee=A.value),f.value!==ee){var ne=f.value;if(Q=Q||{current:ee,previous:ne,pageSize:p.value},Q){var V;v(ee,Q),(V=e.onChange)===null||V===void 0||V.call(e,Q)}else a("update:modelValue",ee)}}},T=function(Z){var Q={prevPage:function(){return X(f.value-1)},nextPage:function(){return X(f.value+1)},prevMorePage:function(){return X(Math.max(2,f.value-e.foldedMaxPageBtn))},nextMorePage:function(){return X(Math.min(f.value+e.foldedMaxPageBtn,A.value-1))}};Q[Z]()},j=function(Z){if(!e.disabled){var Q=parseInt(Z,10),ee=1;Q>0&&(ee=Math.max(Math.ceil(e.total/Q),1));var ne=!1;f.value>ee&&(ne=!0);var V={current:ne?ee:f.value,previous:f.value,pageSize:Q};if(m(Q,V),ne)X(ee,V);else{var re;(re=e.onChange)===null||re===void 0||re.call(e,V)}}},U=function(Z){var Q=Math.trunc(+Z);AG(Q)||(K.value=Q,X(Q))};return function(){var J=e.total,Z=e.pageSizeOptions,Q=e.size,ee=e.disabled,ne=e.showPageSize;if(A.value<1)return null;var V=i.createVNode("div",{class:E.jumperClass.value},[b(w.value.jumpTo),i.createVNode(VC,{append:"/ ".concat(A.value," ").concat(b(w.value.page))},{default:function(){return[i.createVNode(ts,{class:E.jumperInputClass.value,modelValue:K.value,"onUpdate:modelValue":function(se){return K.value=se},onBlur:U,onEnter:U,max:A.value,min:mi,size:Q,disabled:ee,theme:"normal",placeholder:""},null)]}})]);return i.createVNode("div",{class:E.paginationClass.value},[c("totalContent",i.createVNode("div",{class:E.totalClass.value},[b(w.value.total,{total:J})])),ne&&Z.length>0&&i.createVNode(pi,i.mergeProps({size:Q,value:p,disabled:ee,class:E.sizerClass.value,autoWidth:!0,onChange:j,options:B.value},e.selectProps),null),e.showFirstAndLastPageBtn?i.createVNode("div",{class:E.preBtnClass.value,onClick:function(){return X(1)},disabled:e.disabled||e.current===mi},[i.createVNode(k,null,null)]):null,e.showPreviousAndNextBtn?i.createVNode("div",{class:E.preBtnClass.value,onClick:function(){return T("prevPage")},disabled:ee||f.value===mi},[i.createVNode(I,null,null)]):null,e.showPageNumber&&e.theme==="default"?i.createVNode("ul",{class:E.btnWrapClass.value},[z.value&&q.value&&i.createVNode("li",{class:E.getButtonClass(1),onClick:function(){return X(mi)}},[mi]),z.value&&F.value&&q.value?i.createVNode("li",{class:E.btnMoreClass.value,onClick:function(){return T("prevMorePage")},onMouseOver:function(){return N.value=!0},onMouseOut:function(){return N.value=!1}},[N.value?i.createVNode(L,null,null):i.createVNode(S,null,null)]):null,Y.value.map(function(re){return i.createVNode("li",{class:E.getButtonClass(re),key:re,onClick:function(){return X(re)}},[re])}),z.value&&W.value&&q.value?i.createVNode("li",{class:E.btnMoreClass.value,onClick:function(){return T("nextMorePage")},onMouseOver:function(){return $.value=!0},onMouseOut:function(){return $.value=!1}},[$.value?i.createVNode(O,null,null):i.createVNode(S,null,null)]):null,z.value&&q.value?i.createVNode("li",{class:E.getButtonClass(A.value),onClick:function(){return X(A.value)}},[A.value]):null]):null,e.theme==="simple"&&V,e.showPreviousAndNextBtn?i.createVNode("div",{class:E.nextBtnClass.value,onClick:function(){return T("nextPage")},disabled:ee||f.value===A.value},[i.createVNode(D,null,null)]):null,e.showFirstAndLastPageBtn?i.createVNode("div",{class:E.nextBtnClass.value,onClick:function(){return X(A.value)},disabled:ee||f.value===A.value},[i.createVNode(P,null,null)]):null,e.theme==="default"&&e.showJumper&&V])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var jG={disabled:{type:[Boolean,Object]},layout:{type:String,default:"horizontal",validator:function(e){return e?["horizontal","vertical"].includes(e):!0}},showCurrent:{type:Boolean,default:!0},size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},tips:{type:Object},variant:{type:String,default:"text",validator:function(e){return e?["text","outline"].includes(e):!0}},onChange:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function ex(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function MG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ex(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ex(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var FG=i.defineComponent({name:"TPaginationMini",props:MG({},jG),setup:function(e){var n=ae("pagination-mini"),a=Ve({ChevronLeftIcon:Co,RoundIcon:yB,ChevronRightIcon:Rr,ChevronUpIcon:ky,ChevronDownIcon:Rc}),r=a.ChevronLeftIcon,o=a.RoundIcon,l=a.ChevronRightIcon,s=a.ChevronUpIcon,c=a.ChevronDownIcon,d=i.computed(function(){return Le(e.tips)?e.tips:e.tips===!0?{prev:"上一页",current:"当前",next:"下一页"}:{}}),u=i.computed(function(){return Le(e.disabled)?e.disabled:e.disabled===!0?{prev:!0,current:!0,next:!0}:{prev:!1,current:!1,next:!1}});return function(){var f=[n.value,G({},"".concat(n.value,"--outline"),e.variant==="outline")];return i.createVNode("div",{class:f},[i.createVNode(vt,{title:d.value.prev,variant:e.variant,size:e.size,shape:"square",onClick:function(h){var g;return(g=e.onChange)===null||g===void 0?void 0:g.call(e,{e:h,trigger:"prev"})},icon:e.layout==="horizontal"?function(){return i.createVNode(r,null,null)}:function(){return i.createVNode(s,null,null)},class:"".concat(n.value,"__prev"),disabled:u.value.prev},null),e.showCurrent&&i.createVNode(vt,{title:d.value.current,variant:e.variant,size:e.size,shape:"square",onClick:function(h){var g;return(g=e.onChange)===null||g===void 0?void 0:g.call(e,{e:h,trigger:"current"})},icon:function(){return i.createVNode(o,null,null)},class:"".concat(n.value,"__current"),disabled:u.value.current},null),i.createVNode(vt,{title:d.value.next,variant:e.variant,size:e.size,shape:"square",onClick:function(h){var g;return(g=e.onChange)===null||g===void 0?void 0:g.call(e,{e:h,trigger:"next"})},icon:e.layout==="horizontal"?function(){return i.createVNode(l,null,null)}:function(){return i.createVNode(c,null,null)},class:"".concat(n.value,"__next"),disabled:u.value.next},null)])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Nv=be(DG),tx=be(FG);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var LG={current:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultCurrent:{type:[String,Number]},layout:{type:String,default:"horizontal",validator:function(e){return e?["horizontal","vertical"].includes(e):!0}},options:{type:Array},readonly:{type:Boolean,default:void 0},separator:{type:String,default:"line",validator:function(e){return e?["line","dashed","arrow"].includes(e):!0}},sequence:{type:String,default:"positive",validator:function(e){return e?["positive","reverse"].includes(e):!0}},theme:{type:String,default:"default",validator:function(e){return e?["default","dot"].includes(e):!0}},onChange:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var nx={content:{type:[String,Function],default:""},default:{type:[String,Function]},extra:{type:[String,Function]},icon:{type:[Boolean,Function],default:!0},status:{type:String,default:"default",validator:function(e){return e?["default","process","finish","error"].includes(e):!0}},title:{type:[String,Function],default:""},value:{type:[String,Number]}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function ax(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function rx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ax(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ax(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var ix=i.defineComponent({name:"TStepItem",props:rx(rx({},nx),{},{index:Number}),setup:function(e){var n=i.inject("StepsState",void 0),a=i.inject("StepsProps",void 0),r=Re("steps"),o=r.globalConfig,l=Ve({CheckIcon:zf,CloseIcon:ha}),s=l.CheckIcon,c=l.CloseIcon,d=i.computed(function(){return e.status!=="process"&&!(a!=null&&a.readonly)}),u=function(w){if(d.value){var C=e.value===void 0?e.index:e.value;n.setCurrent(C,n.current,{e:w})}},f=ae("steps-item"),v=i.computed(function(){return G({},"".concat(f.value,"--").concat(e.status),e.status)}),h=i.computed(function(){return[f.value,v.value]}),g=i.computed(function(){return["".concat(f.value,"__icon"),v.value]}),p=Pe(),m=ft(),y=function(){var w;if(a.theme==="default"){var C="";switch(e.status){case"finish":pe(o.value.checkIcon)?C=o.value.checkIcon(i.h):C=i.createVNode(s,null,null);break;case"error":pe(o.value.errorIcon)?C=o.value.errorIcon(i.h):C=i.createVNode(c,null,null);break;default:C=String(e.index+1);break}w=i.createVNode("span",{class:"".concat(f.value,"__icon--number")},[C])}return p("icon",w)};return function(){return i.createVNode("div",{class:h.value},[i.createVNode("div",{class:"".concat(f.value,"__inner ").concat(d.value?"".concat(f.value,"--clickable"):""),onClick:u},[i.createVNode("div",{class:g.value},[y()]),i.createVNode("div",{class:"".concat(f.value,"__content")},[i.createVNode("div",{class:"".concat(f.value,"__title")},[p("title")]),i.createVNode("div",{class:"".concat(f.value,"__description")},[m("default","content")]),i.createVNode("div",{class:"".concat(f.value,"__extra")},[p("extra")])])])])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function ox(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function $G(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ox(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ox(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var BG=i.defineComponent({name:"TSteps",props:$G({},LG),setup:function(e){var n=ae("steps"),a=i.toRefs(e),r=a.current,o=a.modelValue,l=ot(r,o,e.defaultCurrent,e.onChange,"current"),s=Ce(l,2),c=s[0],d=s[1];i.provide("StepsState",i.reactive({current:c,setCurrent:d})),i.provide("StepsProps",e);var u=i.ref({}),f=function(w,C){if(w.status&&w.status!=="default")return w.status;if(c.value==="FINISH"||w.value===void 0&&C<c.value)return"finish";if(w.value!==void 0){var x=u.value[c.value];if(x===void 0)return console.warn("TDesign Steps Warn: The current `value` is not exist."),"default";if(e.sequence==="positive"&&C<x||e.sequence==="reverse"&&C>x)return"finish"}var k=w.value===void 0?C:w.value;return k===c.value?"process":"default"},v=tr(),h=function(w){var C=[];return w==null||w.forEach(function(x){var k=(x==null?void 0:x.props)||{},P=x==null?void 0:x.children;if(!(!k&&!P)){if(P&&Le(P))for(var I in P)I in nx&&!k[I]&&(k[I]=P[I]);e.sequence==="reverse"?C.unshift(k):C.push(k)}}),C},g=function(){var w,C;if((w=e.options)!==null&&w!==void 0&&w.length)C=e.sequence==="reverse"?e.options.slice().reverse():e.options;else{var x=v("StepItem");C=h(x)}return(C||[]).forEach(function(k,P){k.value!==void 0&&(u.value[k.value]=P)}),C},p=function(){var w=g();return w.map(function(C,x){var k=e.sequence==="reverse"?w.length-x-1:x;return x=C.value!==void 0?x:k,i.createVNode(ix,i.mergeProps(C,{index:k,status:f(C,x),key:C.value||x}),null)})},m=function(){var w=e.theme,C=g();return C.forEach(function(x){(x==null?void 0:x.icon)!==void 0&&(w="default")}),w},y=i.computed(function(){return[n.value,"".concat(n.value,"--").concat(e.layout),"".concat(n.value,"--").concat(m(),"-anchor"),"".concat(n.value,"--").concat(e.sequence),"".concat(n.value,"--").concat(e.separator,"-separator")]});return function(){return i.createVNode("div",{class:y.value},[p()])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var zG=be(BG),HG=be(ix);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var yi={list:{type:Array,default:function(){return[]}},offset:{type:Array},placement:{type:String,default:"right-bottom",validator:function(e){return e?["right-top","right-center","right-bottom","left-top","left-center","left-bottom"].includes(e):!0}},popupProps:{type:Object},shape:{type:String,default:"square",validator:function(e){return e?["square","round"].includes(e):!0}},type:{type:String,default:"normal",validator:function(e){return e?["normal","compact"].includes(e):!0}},width:{type:[String,Number]},onClick:Function,onHover:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var iu={icon:{type:Function},label:{type:[String,Function]},popup:{type:[String,Function]},popupProps:{type:Object},trigger:{type:String,default:"hover",validator:function(e){return e?["hover","click"].includes(e):!0}}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function lx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function sx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lx(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lx(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var cx=i.defineComponent({name:"TStickyItem",props:sx(sx({},iu),{},{type:yi.type,shape:yi.shape,placement:yi.placement,basePopupProps:Object,baseWidth:yi.width,onClick:yi.onClick,onHover:yi.onHover}),setup:function(e){var n=ae("sticky-item"),a=i.computed(function(){return["".concat(n.value),"".concat(n.value,"--").concat(e.type),"".concat(n.value,"--").concat(e.shape)]}),r=i.computed(function(){return["".concat(n.value,"__label")]}),o=i.computed(function(){return e.placement.indexOf("right")!==-1?"left":"right"}),l=i.computed(function(){var f={};if(e.baseWidth){var v=e.type==="normal"?"56px":"40px";f.margin="calc((".concat(e.baseWidth," - ").concat(v,")/2)")}return f}),s=function(v){var h={};Object.keys(iu).forEach(function(g){return h[g]=e[g]}),e.onClick({e:v,item:h})},c=function(v){var h={};Object.keys(iu).forEach(function(g){return h[g]=e[g]}),e.onHover({e:v,item:h})},d=Pe(),u=Object.assign({hideEmptyPopup:!0},e.basePopupProps,e.popupProps);return function(){return i.createVNode(Bn,i.mergeProps({overlayInnerClassName:"".concat(ae("sticky-tool").value,"-popup-content"),trigger:e.trigger,placement:o.value,content:function(){return d("popup")}},u),{default:function(){return[i.createVNode("div",{class:a.value,style:l.value,onClick:s,onMouseenter:c},[d("icon"),e.type==="normal"?i.createVNode("div",{class:r.value},[d("label")]):null])]}})}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function ux(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Tv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ux(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ux(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var WG=i.defineComponent({name:"TStickyTool",props:Tv({},yi),setup:function(e){var n=ae("sticky-tool"),a=i.computed(function(){return[n.value,"".concat(n.value,"--").concat(e.shape)]}),r=i.computed(function(){var v=c();return e.width&&(v.width=typeof e.width=="number"?"".concat(e.width,"px"):e.width),v}),o=tr(),l=function(){var h,g;if((h=e.list)!==null&&h!==void 0&&h.length)g=e.list;else{var p=o("StickyItem");g=s(p)}return g},s=function(h){var g=[];return h==null||h.forEach(function(p){var m=(p==null?void 0:p.props)||{},y=p==null?void 0:p.children;if(!(!m&&!y)){if(y&&Le(y))for(var b in y)b in iu&&!m[b]&&(m[b]=y[b]);g.push(m)}}),g},c=function(){var h,g=e.offset?[80,24]:["80px","24px"];(h=e.offset)===null||h===void 0||h.forEach(function(m,y){g[y]=isNaN(Number(m))?"calc( ".concat(g[y],"px + ").concat(m,")"):"".concat(g[y]+m,"px")});var p={};return e.placement.split("-").forEach(function(m,y){m!=="center"?p[m]=g[y]:(p.top="50%",p.transform="translate(0, -50%)")}),p},d=function(h){var g;(g=e.onClick)===null||g===void 0||g.call(e,h)},u=function(h){var g;(g=e.onHover)===null||g===void 0||g.call(e,h)},f=function(){var h=l(),g=h.map(function(p,m){var y=e.type,b=e.shape,w=e.placement,C=e.popupProps,x=Tv(Tv({},p),{},{type:y,shape:b,placement:w,basePopupProps:C,baseWidth:r.value.width,onClick:d,onHover:u});return i.createVNode(cx,i.mergeProps(x,{key:m}),null)});return g};return function(){return i.createVNode("div",{class:a.value,style:r.value},[f()])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var UG=be(cx),KG=be(WG);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var YG={container:{type:[String,Function],default:"body"},content:{type:[String,Function]},default:{type:[String,Function]},duration:{type:Number,default:200},offset:{type:Array,default:function(){return["24px","80px"]}},shape:{type:String,default:"square",validator:function(e){return e?["circle","square"].includes(e):!0}},size:{type:String,default:"medium",validator:function(e){return e?["medium","small"].includes(e):!0}},target:{type:[String,Function],default:"body"},theme:{type:String,default:"light",validator:function(e){return e?["light","primary","dark"].includes(e):!0}},visibleHeight:{type:[String,Number],default:"200px"},onClick:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var qG=i.defineComponent({name:"TBackTop",props:YG,setup:function(e){var n=i.ref(!1),a=i.ref(null),r=ae("back-top"),o=Re("alert"),l=o.classPrefix,s=Ve({BacktopIcon:s$}),c=s.BacktopIcon,d=ft(),u=function(v){return typeof v=="string"&&(typeof document>"u"?"undefined":Je(document))!==void 0?v==="body"?document:document.querySelector(v):typeof v=="function"?v():null};return i.onMounted(function(){a.value=u(e.container);var f;if(typeof e.visibleHeight=="string"?f=Number(e.visibleHeight.replace("px","")):f=e.visibleHeight,f===0){n.value=!0;return}var v;a.value.scrollTop===void 0?v=document.documentElement:v=a.value,a.value.onscroll=function(){var h,g=(h=v)===null||h===void 0?void 0:h.scrollTop;g>=f&&(n.value=!0),g<f&&n.value&&(n.value=!1)}}),i.onBeforeUnmount(function(){a.value.onscroll=null}),function(){var f=e.theme,v=e.shape,h=e.size,g=e.target,p=e.duration,m=e.offset,y=e.container,b=i1(),w=b();w.length<1&&(w=null);var C=i.computed(function(){return G(G(G(G(G(G({},r.value,!0),"".concat(r.value,"--theme-").concat(f),!0),"".concat(r.value,"--").concat(v),!0),"".concat(r.value,"--show"),n.value),"".concat(l.value,"-size-s"),h==="small"),"".concat(l.value,"-size-m"),h==="medium")}),x=i.createVNode(i.Fragment,null,[i.createVNode(c,{class:"".concat(r.value,"__icon"),size:"24"},null),i.createVNode("span",{class:"".concat(r.value,"__text")},[i.createTextVNode("TOP")])]),k=function(){if(g===y||g==="body"||!g)return 0;var L=u(g);if(!L)return 0;var O=L.getBoundingClientRect().y;return O},P=function(L){var O,S=k();Tf(S,{container:a.value,duration:p}),(O=e.onClick)===null||O===void 0||O.call(e,{e:L})},I=i.computed(function(){return{insetInlineEnd:m[0],insetBlockEnd:m[1]}});return i.createVNode("button",{type:"button",class:C.value,style:I.value,onClick:P},[d("content","default",x)])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var GG=be(qG);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var XG={autofocus:Boolean,borderless:Boolean,clearable:Boolean,default:{type:[String,Function]},disabled:{type:Boolean,default:void 0},filter:{type:Function},filterable:{type:Boolean,default:!0},highlightKeyword:{type:Boolean,default:!0},inputProps:{type:Object},options:{type:Array},panelBottomContent:{type:[String,Function]},panelTopContent:{type:[String,Function]},placeholder:{type:String,default:void 0},popupProps:{type:Object},readonly:{type:Boolean,default:void 0},size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},status:{type:String,default:"default",validator:function(e){return e?["default","success","warning","error"].includes(e):!0}},textareaProps:{type:Object},tips:{type:[String,Function]},triggerElement:{type:[String,Function]},value:{type:String,default:void 0},modelValue:{type:String,default:void 0},defaultValue:{type:String,default:""},onBlur:Function,onChange:Function,onClear:Function,onCompositionend:Function,onCompositionstart:Function,onEnter:Function,onFocus:Function,onSelect:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var JG=Tr,dx=/[\\^$.*+?()[\]{}|]/g,ZG=RegExp(dx.source);function QG(t){return t=JG(t),t&&ZG.test(t)?t.replace(dx,"\\$&"):t}var fx=QG,vx=i.defineComponent({name:"HighlightOption",props:{content:String,keyword:String},setup:function(e){var n=ae(),a=i.computed(function(){var r,o=e.content,l=e.keyword;if(!o)return{list:[]};if(!Ae(o)||!l)return{list:[o]};var s=new RegExp(fx(l),"i"),c=(r=o.match(s))===null||r===void 0?void 0:r[0];return{list:o.split(c),keyword:c}});return function(){var r=a.value,o=r.list,l=r.keyword;return i.createVNode("div",{class:"".concat(n.value,"-select-option__highlight-item")},[o.map(function(s,c){return c?[i.createVNode("b",{class:"".concat(n.value,"-is-highlight"),key:s+l},[l]),s]:s})])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function hx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function gx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hx(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hx(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var VG=i.defineComponent({name:"AutoCompleteOptionList",props:{sizeClassNames:Object,value:String,size:String,options:Array,popupVisible:Boolean,highlightKeyword:Boolean,filterable:Boolean,filter:Function},emits:["select"],setup:function(e,n){var a=n.emit,r=n.slots,o=n.expose,l=i.ref(""),s=ae(),c=i.computed(function(){return"".concat(s.value,"-select__list")}),d=i.computed(function(){return["".concat(s.value,"-select-option"),G({},e.sizeClassNames[e.size],e.size)]}),u=i.computed(function(){var p=(e.options||[]).map(function(y){var b={};return Ae(y)?b={text:y,label:y}:(y.text&&!Ae(y.text)&&He.warn("AutoComplete","`text` must be a string."),y.text?b=y:Ae(y.label)?b=gx(gx({},y),{},{text:y.label}):He.warn("AutoComplete","one of `label` and `text` must be a existed string.")),b});if(e.filter)p=p.filter(function(y){return e.filter(e.value,y)});else if(e.filterable){var m=new RegExp(fx(e.value),"i");p=p.filter(function(y){return m.test(y.text)})}return p}),f=function(m){for(var y=m.target;y&&y.tagName!=="LI";)y=y.parentNode;var b=y.getAttribute("title");l.value=b,a("select",b,{e:m})},v=function(m){if(eu.test(m.code)||eu.test(m.key)){var y,b=u.value.findIndex(function(P){return P.text===l.value}),w=b-1<0?u.value.length-1:b-1;l.value=(y=u.value[w])===null||y===void 0?void 0:y.text}else if(Vc.test(m.code)||Vc.test(m.key)){var C,x=u.value.findIndex(function(P){return P.text===l.value}),k=x+1>=u.value.length?0:x+1;l.value=(C=u.value[k])===null||C===void 0?void 0:C.text}else(kv.test(m.code)||kv.test(m.key))&&l.value&&a("select",l.value,{e:m})},h=function(){pt(document,"keydown",v)},g=function(){rt(document,"keydown",v)};return o({addKeyboardListener:h,removeKeyboardListener:g}),i.watch(function(){return e.popupVisible},function(){e.popupVisible?h():g()},{immediate:!0}),i.watch(function(){return e.value},function(){e.value||(l.value="")},{immediate:!0}),i.onBeforeUnmount(function(){g()}),function(){return u.value.length?i.createVNode("ul",{class:c.value},[u.value.map(function(p){var m=he(d.value);p.text===l.value&&m.push("".concat(s.value,"-select-option--hover"));var y=p.label;if(pe(p.label))y=p.label(i.h);else if(r.option){var b;y=(b=r.option)===null||b===void 0?void 0:b.call(r,{option:p})}var w=y||p.text;return i.createVNode("li",{key:p.text,class:m,title:p.text,onClick:f},[Ae(w)&&e.highlightKeyword?i.createVNode(vx,{content:w,keyword:e.value},null):w])})]):null}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function px(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function In(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?px(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):px(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function eX(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!i.isVNode(t)}var tX=i.defineComponent({name:"TAutoComplete",props:XG,setup:function(e,n){var a=n.slots,r=i.toRefs(e),o=r.value,l=r.modelValue,s=ot(o,l,e.defaultValue,e.onChange),c=Ce(s,2),d=c[0],u=c[1],f=ft(),v=Pe(),h=Hc(),g=h.classPrefix,p=h.sizeClassNames,m=Re("input"),y=m.globalConfig,b=St(),w=mn(),C=i.ref(),x=i.ref(),k=function($,W){var H,K=$.getBoundingClientRect().width||$.offsetWidth||$.clientWidth,z=W.getBoundingClientRect().width||W.offsetWidth||W.clientWidth;return In({width:K>=z?"".concat(K,"px"):"auto"},(H=e.popupProps)===null||H===void 0?void 0:H.overlayInnerStyle)},P=i.computed(function(){return["".concat(g.value,"-auto-complete")]}),I=i.computed(function(){var M,$=["".concat(g.value,"-select__dropdown")];return(M=e.popupProps)!==null&&M!==void 0&&M.overlayClassName&&($=$.concat(e.popupProps.overlayClassName)),$}),D=i.computed(function(){var M,$=["".concat(g.value,"-select__dropdown-inner")];return(M=e.popupProps)!==null&&M!==void 0&&M.overlayInnerClassName&&($=$.concat(e.popupProps.overlayInnerClassName)),$}),L=function($,W){u($,W)},O=i.computed(function(){var M=In({value:d.value,size:e.size},e.inputProps);return M}),S=function($,W){var H;w.value||b.value||(C.value=!0,(H=e.onFocus)===null||H===void 0||H.call(e,In(In({},W),{},{value:$})),i.nextTick(function(){var K;(K=x.value)===null||K===void 0||K.addKeyboardListener()}))},_=function($,W){var H;(H=e.onBlur)===null||H===void 0||H.call(e,In(In({},W),{},{value:$}))},A=function($,W){var H;(H=e.onCompositionend)===null||H===void 0||H.call(e,In(In({},W),{},{value:$}))},E=function($,W){var H;(H=e.onCompositionstart)===null||H===void 0||H.call(e,In(In({},W),{},{value:$}))},R=function($,W){var H;(H=e.onEnter)===null||H===void 0||H.call(e,In(In({},W),{},{value:$}))},N=function($,W){var H;w.value||b.value||(C.value=!1,u($,W),(H=e.onSelect)===null||H===void 0||H.call(e,$,W))},F=function($,W){var H=W.trigger;w.value||b.value||H!=="trigger-element-click"&&(C.value=$)};return function(){var M,$,W=f("default","triggerElement")||i.createVNode(ga,i.mergeProps({borderless:e.borderless,placeholder:(M=e.placeholder)!==null&&M!==void 0?M:y.value.placeholder,tips:e.tips,status:e.status,readonly:w.value,disabled:b.value,autofocus:e.autofocus,clearable:e.clearable,onChange:L,onFocus:S,onBlur:_,onClear:e.onClear,onCompositionend:A,onCompositionstart:E,onEnter:R},O.value),a),H=i.createVNode(VG,{ref:x,value:d.value,options:e.options,size:e.size,sizeClassNames:p,onSelect:N,popupVisible:C.value,highlightKeyword:e.highlightKeyword,filterable:e.filterable,filter:e.filter},{option:a.option}),K=v("panelTopContent"),z=v("panelBottomContent"),B=K||!(($=e.options)===null||$===void 0)&&$.length||z?i.createVNode("div",{class:"".concat(g.value,"-autocomplete__panel")},[K,H,z]):null,q=In(In({},e.popupProps),{},{overlayInnerStyle:k,overlayInnerClassName:D.value,overlayClassName:I.value});return i.createVNode("div",{class:P.value},[i.createVNode(Bn,i.mergeProps({visible:C.value,onVisibleChange:F,trigger:"focus",placement:"bottom-left",hideEmptyPopup:!0,content:B?function(){return B}:null},q),eX(W)?W:{default:function(){return[W]}})])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var nX=be(tX),aX=be(vx);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function mx(t){var e=t.value,n=t.multiple,a=t.treeStore,r=t.showAllLevels;if(n||e!==0&&!e||Ie(e))return"";var o=a&&a.getNodes(e);if(!(o&&o.length))return e;var l=o&&o[0].getPath();return l&&l.length?r?l.map(function(s){return s.label}).join(" / "):l[l.length-1].label:e}function rX(t){var e=t.value,n=t.multiple,a=t.treeStore,r=t.showAllLevels;if(!n)return[];if(n&&!Ie(e))return[];var o=a&&a.getNodes(e);return o?e.map(function(l){var s,c=a.getNodes(l);return r?is(c[0]):(s=c[0])===null||s===void 0?void 0:s.label}).filter(function(l){return!!l}):[]}function yx(t){var e=[];return t.forEach(function(n){e[n.level]?e[n.level].push(n):e[n.level]=[n]}),e}function is(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"/";return t==null?void 0:t.getPath().map(function(n){return n.label}).join(e)}var bx=function(e){var n=[];return Ie(e)?e.length>0&&Le(e[0])?n=e.map(function(a){return a.value}):e.length&&(n=e):Ev(e)||(Le(e)?n=[e.value]:n=[e]),n},iX=function(e,n,a){return n==="single"?e:a?e.map(function(r){return r[r.length-1]}):e[e.length-1]};function Ev(t){return nt(t)&&!isNaN(t)?!1:kn(t)}function oX(t,e){var n=e.multiple,a=e.showAllLevels;return n&&!Ie(t)||!n&&Ie(t)&&!a}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function lX(t,e,n){var a=n.disabled;return["".concat(t,"-cascader__icon"),G({},e.disabled,a)]}function Cx(t,e,n){var a=n.checkStrictly,r=n.multiple,o=n.value,l=n.max,s=!a&&t.expanded&&(r?!t.isLeaf():!0)||a&&t.expanded,c=t.isLeaf(),d=t.disabled||r&&o.length>=l&&l!==0,u=t.checked||r&&!a&&t.expanded&&!c;return[G(G(G({},e.selected,!d&&u),e.expanded,!d&&s),e.disabled,d)]}function sX(t,e,n,a,r){var o=r.size;return["".concat(t,"-cascader__item")].concat(he(Cx(e,a,r)),[n[o],G(G({},"".concat(t,"-cascader__item--with-icon"),!!e.children),"".concat(t,"-cascader__item--leaf"),e.isLeaf())])}function cX(t,e,n,a){return["".concat(t,"-cascader__item-icon"),"".concat(t,"-icon")].concat(he(Cx(e,n,a)))}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function uX(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!i.isVNode(t)}var dX={node:{type:Object,default:function(){return{}}},optionChild:{type:[Object,Array]},cascaderContext:{type:Object},onChange:Function,onClick:Function,onMouseenter:Function},fX=i.defineComponent({name:"TCascaderItem",props:dX,setup:function(e){var n=i.ref();Ar(n);var a=ae("cascader__item"),r=ae(),o=Ve({ChevronRightIcon:Rr}),l=o.ChevronRightIcon,s=lt(),c=s.STATUS,d=s.SIZE,u=i.computed(function(){return sX(r.value,e.node,d.value,c.value,e.cascaderContext)}),f=i.computed(function(){return cX(r.value,e.node,c.value,e.cascaderContext)});function v(m,y){var b=y.inputVal,w=b?is(m):m.label;if(b){for(var C=w.split(b),x=[],k=0;k<C.length&&(x.push(i.createVNode("span",{key:k},[C[k]])),k!==C.length-1);k++)x.push(i.createVNode("span",{key:"".concat(k,"filter"),class:"".concat(a.value,"-label--filter")},[b]));return x}return w}var h=function(y){return typeof y.label=="string"?y.label:null};function g(m,y){var b=v(m,y),w=i.createVNode("span",{title:y.inputVal?is(m):h(m),class:["".concat(a.value,"-label"),"".concat(a.value,"-label--ellipsis")],role:"label"},[b]);return w}function p(m,y){var b=y.checkProps,w=y.value,C=y.max,x=y.inputVal,k=v(m,y);return i.createVNode(Fa,i.mergeProps({checked:m.checked,indeterminate:m.indeterminate,disabled:m.isDisabled()||w.length>=C&&C!==0,name:String(m.value),stopLabelTrigger:!!m.children,title:x?is(m):h(m),onChange:function(){e.onChange()}},b),uX(k)?k:{default:function(){return[k]}})}return function(){var m=e.cascaderContext,y=e.node,b=e.optionChild,w=b&&m.multiple;return i.createVNode("li",{ref:n,class:u.value,onClick:function(){return w?e.onChange():e.onClick()},onMouseenter:e.onMouseenter},[b||(m.multiple?p(y,m):g(y,m)),y.children&&(y.loading?i.createVNode(an,{class:f.value,size:"small"},null):i.createVNode(l,{class:f.value},null))])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Fr={autofocus:Boolean,borderless:Boolean,checkProps:{type:Object},checkStrictly:Boolean,clearable:Boolean,collapsedItems:{type:Function},disabled:{type:Boolean,default:void 0},empty:{type:[String,Function]},filter:{type:Function},filterable:Boolean,inputProps:{type:Object},keys:{type:Object},label:{type:[String,Function]},lazy:{type:Boolean,default:!0},load:{type:Function},loading:Boolean,loadingText:{type:[String,Function]},max:{type:Number,default:0},minCollapsedNum:{type:Number,default:0},multiple:Boolean,option:{type:Function},options:{type:Array,default:function(){return[]}},panelBottomContent:{type:[String,Function]},panelTopContent:{type:[String,Function]},placeholder:{type:String,default:void 0},popupProps:{type:Object},popupVisible:Boolean,prefixIcon:{type:Function},readonly:{type:Boolean,default:void 0},reserveKeyword:Boolean,selectInputProps:{type:Object},showAllLevels:{type:Boolean,default:!0},size:{type:String,default:"medium",validator:function(e){return e?["large","medium","small"].includes(e):!0}},status:{type:String,default:"default",validator:function(e){return e?["default","success","warning","error"].includes(e):!0}},suffix:{type:[String,Function]},suffixIcon:{type:Function},tagInputProps:{type:Object},tagProps:{type:Object},tips:{type:[String,Function]},trigger:{type:String,default:"click",validator:function(e){return e?["click","hover"].includes(e):!0}},value:{type:[String,Number,Array],default:void 0},modelValue:{type:[String,Number,Array],default:void 0},defaultValue:{type:[String,Number,Array],default:function(){return[]}},valueDisplay:{type:[String,Function]},valueMode:{type:String,default:"onlyLeaf",validator:function(e){return e?["onlyLeaf","parentFirst","all"].includes(e):!0}},valueType:{type:String,default:"single",validator:function(e){return e?["single","full"].includes(e):!0}},onBlur:Function,onChange:Function,onFocus:Function,onPopupVisibleChange:Function,onRemove:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function vX(t,e,n,a){var r=a.checkStrictly,o=a.multiple,l=a.treeStore,s=a.setVisible,c=a.setValue,d=a.setTreeNodes,u=a.setExpend,f=a.value,v=a.max,h=a.valueType,g=n.disabled||o&&f.length>=v&&v!==0;if(!g){if(t===e){var p=n.setExpanded(!0);l.refreshNodes(),l.replaceExpanded(p);var m=l.getNodes().filter(function(C){return C.visible});d(m),o&&u(p)}if(!o&&(n.isLeaf()||r)&&e==="click"){l.resetChecked();var y=n.setChecked(!n.checked),b=Ce(y,1),w=b[0];c(h==="single"?w:n.getPath().map(function(C){return C.value}),"check",n.getModel()),(!r||t==="hover")&&s(!1,{})}}}function hX(t,e){var n=e.disabled,a=e.max,r=e.inputVal,o=e.multiple,l=e.setVisible,s=e.setValue,c=e.treeNodes,d=e.treeStore,u=e.valueType;if(!(!t||n||t.disabled)){var f=t.setChecked(!t.isChecked());if(nt(a)&&a<0&&console.warn("TDesign Warn:","max should > 0"),!(f.length>a&&nt(a)&&a>0)){if(f.length===0){var v=d.getExpanded();setTimeout(function(){d.replaceExpanded(v),d.refreshNodes()},0)}o||l(!1,{});var h=c.every(function(p){return f.indexOf(p.value)>-1});r&&h&&l(!1,{});var g=u==="single"?f:f.map(function(p){return d.getNode(p).getPath().map(function(m){return m.value})});s(g,t.checked?"uncheck":"check",t.getModel())}}}function gX(t){var e=t.setVisible,n=t.multiple,a=t.setValue;e(!1,{}),a(n?[]:"","clear")}function xx(t,e,n){var a=t.disabled,r=t.setValue,o=t.value,l=t.valueType,s=t.treeStore;if(!a)if(e!==void 0){var c=On(o),d=c.splice(e,1),u=s.getNodes(d[0])[0],f=u.setChecked(!u.isChecked()),v=l==="single"?f:f.map(function(h){return s.getNode(h).getPath().map(function(g){return g.value})});r(v,"uncheck",u.getModel()),pe(n)&&n({value:f,node:u})}else pe(n)&&n({value:o,node:void 0})}var pX=function(e,n,a,r){if(n){var o=[];if(e){var l=function(c){if(c.isLeaf()){if(pe(r))return r("".concat(e),c);var d=is(c,"");return d.indexOf("".concat(e))>-1}};o=n.nodes.filter(l)}else o=n.getNodes().filter(function(s){return s.visible});a(o)}},mX=function(e,n,a){var r=bx(n);if(e){if(Ie(r)&&a.length===0){var o=new Map,l=Ce(r,1),s=l[0];if(!Ev(s)){o.set(s,!0);var c=e.getNode(s);if(!c){e.refreshNodes();return}c.getParents().forEach(function(u){o.set(u.value,!0)});var d=Array.from(o.keys());e.replaceExpanded(d)}}e.getExpanded()&&a.length&&e.replaceExpanded(a),e.refreshNodes()}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Sx=i.defineComponent({name:"TCascaderSubPanel",props:{option:Fr.option,empty:Fr.empty,trigger:Fr.trigger,onChange:Fr.onChange,loading:Fr.loading,loadingText:Fr.loadingText,cascaderContext:{type:Object}},setup:function(e){var n=va(),a=ae("cascader"),r=Re("cascader"),o=r.globalConfig,l=i.computed(function(){return yx(e.cascaderContext.treeNodes)}),s=function(v,h){var g=e.trigger,p=e.cascaderContext;vX(g,h,v,p)},c=function(v,h){var g=v.data.content?oi(v.data.content(i.h)):n("option",{params:{item:v.data,index:h}});return i.createVNode(fX,{key:v.value,node:v,optionChild:g,cascaderContext:e.cascaderContext,onClick:function(){s(v,"click")},onMouseenter:function(){s(v,"hover")},onChange:function(){hX(v,e.cascaderContext)}},null)},d=function(v){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;return i.createVNode("ul",{class:["".concat(a.value,"__menu"),"narrow-scrollbar",G(G({},"".concat(a.value,"__menu--segment"),g),"".concat(a.value,"__menu--filter"),h)],key:"".concat(a,"__menu").concat(p)},[v.map(function(m){return c(m,p)})])},u=function(){var v=e.cascaderContext,h=v.inputVal,g=v.treeNodes;return h?d(g,!0):l.value.map(function(p,m){return d(p,!1,m!==l.value.length-1,m)})};return function(){var f;return e.loading?f=n("loadingText",i.createVNode("div",{class:"".concat(a.value,"__panel--empty")},[o.value.loadingText])):f=l.value.length?u():n("empty",i.createVNode("div",{class:"".concat(a.value,"__panel--empty")},[o.value.empty])),i.createVNode("div",{class:["".concat(a.value,"__panel"),G({},"".concat(a.value,"--normal"),l.value.length&&!e.loading)]},[f])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var yX=pc,bX=xv,wX=Sv,CX=fo,xX=oo,SX=mc,OX=200;function kX(t,e,n,a){var r=-1,o=bX,l=!0,s=t.length,c=[],d=e.length;if(!s)return c;n&&(e=CX(e,xX(n))),a?(o=wX,l=!1):e.length>=OX&&(o=SX,l=!1,e=new yX(e));e:for(;++r<s;){var u=t[r],f=n==null?u:n(u);if(u=a||u!==0?u:0,l&&f===f){for(var v=d;v--;)if(e[v]===f)continue e;c.push(u)}else o(e,f,a)||c.push(u)}return c}var Ox=kX;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var PX=Ox,_X=fv,IX=uc,kx=cc,NX=IX(function(t,e){return kx(t)?PX(t,_X(e,1,kx,!0)):[]}),Px=NX;function TX(t){return{all:t=t||new Map,on:function(e,n){var a=t.get(e);a?a.push(n):t.set(e,[n])},off:function(e,n){var a=t.get(e);a&&(n?a.splice(a.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var a=t.get(e);a&&a.slice().map(function(r){r(n)}),(a=t.get("*"))&&a.slice().map(function(r){r(e,n)})}}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var EX=Tr,AX=0;function RX(t){var e=++AX;return EX(t)+e}var DX=RX;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var kt="__tdesign_tree-node__",jX=function(){function t(e){rr(this,t),G(this,kt,void 0),this[kt]=e}return ir(t,[{key:"value",get:function(){var n=this[kt];return n.value}},{key:"label",get:function(){var n=this[kt];return n.label}},{key:"data",get:function(){var n=this[kt];return n.data}},{key:"actived",get:function(){var n=this[kt];return n.actived}},{key:"expanded",get:function(){var n=this[kt];return n.expanded}},{key:"checked",get:function(){var n=this[kt];return n.checked}},{key:"indeterminate",get:function(){var n=this[kt];return n.indeterminate}},{key:"loading",get:function(){var n=this[kt];return n.loading}},{key:"disabled",get:function(){var n=this[kt];return n.isDisabled()}},{key:"getLevel",value:function(){var n=this[kt];return n.getLevel()}},{key:"getIndex",value:function(){var n=this[kt];return n.getIndex()}},{key:"isFirst",value:function(){var n=this[kt];return n.isFirst()}},{key:"isLast",value:function(){var n=this[kt];return n.isLast()}},{key:"isLeaf",value:function(){var n=this[kt];return n.isLeaf()}},{key:"insertBefore",value:function(n){var a=this[kt];return a.insertBefore(n)}},{key:"insertAfter",value:function(n){var a=this[kt];return a.insertAfter(n)}},{key:"appendData",value:function(n){var a=this[kt];return a.append(n)}},{key:"getPath",value:function(){var n=this[kt],a=n.getPath();return a.map(function(r){return r.getModel()})}},{key:"getParent",value:function(){var n,a=this[kt];return(n=a.parent)===null||n===void 0?void 0:n.getModel()}},{key:"getParents",value:function(){var n=this[kt],a=n.getParents();return a.map(function(r){return r.getModel()})}},{key:"getRoot",value:function(){var n=this[kt],a=n.getRoot();return a==null?void 0:a.getModel()}},{key:"getSiblings",value:function(){var n=this[kt],a=n.getSiblings();return a.map(function(r){return r.getModel()})}},{key:"getChildren",value:function(n){var a=this[kt],r=!1,o=a.children;if(Array.isArray(o))if(o.length>0)if(n){var l=a.walk();l.shift(),r=l.map(function(s){return s.getModel()})}else r=o.map(function(s){return s.getModel()});else r=!1;else Ht(o)&&(r=o);return r}},{key:"remove",value:function(n){var a=this[kt];if(!n){a.remove();return}var r=a.tree,o=r.getNode(n);if(!o){He.warnOnce("Tree","`".concat(n,"` is not exist"));return}var l=o.getParents(),s=l.map(function(c){return c.value});if(s.indexOf(a.value)<0){He.warnOnce("Tree","`".concat(n,"` is not a childNode of current node"));return}o.remove()}},{key:"setData",value:function(n){var a=this[kt],r=["value","label","disabled"],o=gn(n,["children"].concat(r)),l=a.tree.config.keys;r.forEach(function(s){var c=we(n,(l==null?void 0:l[s])||s);Kt(c)||(o[s]=c)}),Object.assign(a.data,o),Object.assign(a,o),a.update()}}])}();function MX(t){var e=new jX(t);return e}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function _x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function os(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_x(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_x(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var FX=Object.prototype.hasOwnProperty,Ix={expandMutex:null,activable:null,checkable:null,draggable:null,loading:!1},LX=Object.keys(Ix),$X=[].concat(LX,["actived","expanded","checked"]),cr="__tdesign_id__",jo=function(){function t(e,n,a){var r=this;rr(this,t),G(this,"tree",void 0),G(this,cr,void 0),G(this,"value",void 0),G(this,"label",void 0),G(this,"data",void 0),G(this,"parent",void 0),G(this,"children",void 0),G(this,"model",void 0),G(this,"vmIsLeaf",void 0),G(this,"vmIsFirst",void 0),G(this,"vmIsLast",void 0),G(this,"vmIsRest",void 0),G(this,"vmIsLocked",void 0),G(this,"expanded",void 0),G(this,"expandMutex",void 0),G(this,"actived",void 0),G(this,"activable",void 0),G(this,"checkable",void 0),G(this,"vmCheckable",void 0),G(this,"checked",void 0),G(this,"indeterminate",void 0),G(this,"disabled",void 0),G(this,"draggable",void 0),G(this,"visible",void 0),G(this,"level",void 0),G(this,"loading",void 0),this.data=n,this.tree=e;var o=e.config||{},l=o.prefix||"t",s=o.keys||{},c=s.children||"children",d=s.label||"label",u=s.value||"value",f=s.disabled||"disabled";this.model=null,this.children=null,this.level=0,this.vmCheckable=!1,this.vmIsLeaf=!1,this.vmIsFirst=!1,this.vmIsLast=!1,this.vmIsRest=!1,this.vmIsLocked=!1,this.visible=!1,this.actived=!1,this.checked=!1,this.indeterminate=!1,this.loading=!1,this.expanded=o.expandAll,this.activable=null,this.checkable=null,this.expandMutex=null,this.draggable=null,this[cr]=DX(l),this.value=li(we(n,u))?this[cr]:we(n,u);var v=e.nodeMap,h=e.privateMap;v.get(this.value)&&He.warn("Tree","Dulplicate value: ".concat(this.value)),v.set(this.value,this),h.set(this[cr],this),this.label=we(n,d)||"",this.disabled=we(n,f)||!1;var g=n[c];g===!0&&(this.children=g),a&&a instanceof t?this.parent=a:this.parent=null,$X.forEach(function(p){typeof n[p]<"u"&&(r[p]=n[p])}),this.initActived(),this.initExpanded(),Array.isArray(g)?this.append(g):g===!0&&!o.lazy&&this.loadChildren(),this.initChecked(),this.updateChecked(),this.update(),e.reflow(this)}return ir(t,[{key:"initChecked",value:function(){var n=this.tree,a=this.value,r=this.parent,o=n.checkedMap,l=n.config.checkStrictly;this.checked&&o.set(a,!0),!l&&r!==null&&r!==void 0&&r.checked&&o.set(a,!0)}},{key:"initExpanded",value:function(){var n=this.tree,a=this.expanded,r=n.config;nt(r.expandLevel)&&this.getLevel()<r.expandLevel&&(n.expandedMap.set(this.value,!0),a=!0),this.children===!0&&r.lazy&&(a=!1),a?n.expandedMap.set(this.value,!0):n.expandedMap.delete(this.value),this.expanded=a}},{key:"initActived",value:function(){var n=this.tree,a=this.actived;a&&this.isActivable()&&n.activedMap.set(this.value,!0)}},{key:"append",value:function(n){var a=this,r=[];if(Array.isArray(n)?r.push.apply(r,he(n)):r.push(n),!(r.length<=0)){Array.isArray(this.children)||(this.children=[]);var o=this.children,l=this.tree;r.forEach(function(s){var c=null;s instanceof t?(c=s,c.appendTo(a.tree,a)):(c=new t(a.tree,s,a),o.push(c))}),l.reflow(this),this.updateRelated()}}},{key:"appendTo",value:function(n,a,r){var o=this,l=a,s=-1;nt(r)&&(s=r);var c=(l==null?void 0:l.getParents())||[],d=c.some(function(b){return b===o});if(d)throw new Error("无法将父节点插入到子节点");if(l===this)throw new Error("无法将节点插入到本节点");if(Array.isArray(l==null?void 0:l.children)){var u=l==null?void 0:l.children[s];if(u&&u===this)return}var f=null;if(l instanceof t?(Array.isArray(l==null?void 0:l.children)||(l.children=[]),f=a.children):f=n.children,!Array.isArray(f))throw new Error("无法插入到目标位置，可插入的节点列表不存在");var v=f.length,h=this.getIndex();if(this.remove(),nt(r)){var g=r;if(l===this.parent){var p=f.length;p<v&&h<=g&&(g-=1)}f.splice(g,0,this)}else f.push(this);this.parent=l;var m=this.walk();m.forEach(function(b){var w=b;w.tree=n,n.nodeMap.set(w.value,w),n.privateMap.set(w[cr],w),w.expanded&&n.expandedMap.set(w.value,!0)});var y=(l==null?void 0:l.walk())||n.children.map(function(b){return b.walk()}).flat();y.forEach(function(b){b.update(),b.updateChecked()}),n.reflow()}},{key:"insert",value:function(n,a){var r=this.tree,o=this.parent,l=this.getSiblings(),s=null;n instanceof t?(s=n,s.appendTo(r,o,a)):n&&(s=new t(r,n,o),nt(a)&&l.splice(a,0,s),l.forEach(function(c){c.update()})),r.reflow()}},{key:"insertBefore",value:function(n){var a=this.getIndex();this.insert(n,a)}},{key:"insertAfter",value:function(n){var a=this.getIndex();this.insert(n,a+1)}},{key:"remove",value:function(){var n=this.tree,a=this.walk(),r=this.getSiblings(),o=this.getIndex();Array.isArray(r)&&r.splice(o,1),a.forEach(function(l){l.clean()}),r.forEach(function(l){l.update()}),this.updateParents(),n.reflow()}},{key:"clean",value:function(){var n=this.tree,a=this.value;n.activedMap.delete(a),n.checkedMap.delete(a),n.expandedMap.delete(a),n.nodeMap.delete(a),n.filterMap.delete(a),n.privateMap.delete(this[cr])}},{key:"loadChildren",value:function(){var e=Et(qe.mark(function a(){var r,o;return qe.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(r=we(this,"tree.config")||{},!(this.children===!0&&!this.loading)){s.next=13;break}if(!pe(r.load)){s.next=13;break}return this.loading=!0,this.update(),o=[],s.next=8,r.load(this);case 8:o=s.sent,this.tree.emit("load",{node:this,data:o}),this.loading=!1,Array.isArray(o)&&o.length>0?this.append(o):this.children=!1,this.update();case 13:case"end":return s.stop()}},a,this)}));function n(){return e.apply(this,arguments)}return n}()},{key:"set",value:function(n){var a=this,r=this.tree,o=Object.keys(n);o.forEach(function(l){(FX.call(Ix,l)||l==="label")&&(a[l]=n[l]),l==="disabled"&&a.setDisabled(n[l])}),r.updated(this)}},{key:"getParent",value:function(){return this.parent}},{key:"getParents",value:function(){for(var n=[],a=this.parent;a;)n.push(a),a=a.parent;return n}},{key:"getSiblings",value:function(){var n=this.parent,a=this.tree,r=[];return n?Array.isArray(n.children)&&(r=n.children):a&&(r=a.children),r}},{key:"getChildren",value:function(n){var a=!1,r=this.children;if(Array.isArray(r))if(r.length>0)if(n){var o=this.walk();o.shift(),a=o.map(function(l){return l.getModel()})}else a=r.map(function(l){return l.getModel()});else a=!1;else Ht(r)&&(a=r);return a}},{key:"getRoot",value:function(){var n=this.getParents();return n[n.length-1]||null}},{key:"getIndex",value:function(){var n=this.getSiblings();return n.indexOf(this)}},{key:"getPath",value:function(){var n=this.getParents();return n.unshift(this),n.reverse()}},{key:"getLevel",value:function(){var n=this.getParents();return n.length}},{key:"isRest",value:function(){var n=this.tree,a=n.config,r=n.filterMap,o=n.hasFilter,l=!1;if(o){var s=this.getModel();l=a.filter(s)}return l?r.set(this.value,!0):r.get(this.value)&&r.delete(this.value),l}},{key:"isVisible",value:function(){var n=this.tree,a=n.nodeMap,r=n.hasFilter,o=n.config,l=o.allowFoldNodeOnFilter,s=!0;if(!a.get(this.value))return!1;if(r&&!l)return s=this.vmIsLocked||this.vmIsRest,s;var c=!0,d=this.getParents();return d.length>0&&(c=d.every(function(u){return u.expanded})),r?s=c&&(this.vmIsRest||this.vmIsLocked):s=c,s}},{key:"isDisabledState",value:function(){var n=this.tree,a=this.parent,r=n.config,o=r.disabled,l=r.disableCheck,s=r.checkStrictly,c=o||!1;return this.disabled&&(c=!0),!s&&a!==null&&a!==void 0&&a.isDisabledState()&&(c=!0),typeof l=="boolean"?l&&(c=!0):typeof l=="function"&&l(this.getModel())&&(c=!0),c}},{key:"isDisabled",value:function(){var n=this.tree,a=n.hasFilter,r=n.config,o=r.allowFoldNodeOnFilter;return a&&!o&&this.vmIsLocked&&!this.vmIsRest?!0:this.isDisabledState()}},{key:"isDraggable",value:function(){var n=!!we(this,"tree.config.draggable");return typeof this.draggable=="boolean"&&(n=this.draggable),n}},{key:"isExpandMutex",value:function(){var n=!!we(this,"tree.config.expandMutex");return typeof this.expandMutex=="boolean"&&(n=this.expandMutex),n}},{key:"isActivable",value:function(){var n=!!we(this,"tree.config.activable");return typeof this.activable=="boolean"&&(n=this.activable),n}},{key:"isCheckable",value:function(){var n=!!we(this,"tree.config.checkable");return typeof this.checkable=="boolean"&&(n=this.checkable),n}},{key:"isActived",value:function(n){var a=this.tree,r=this.value,o=n||a.activedMap;return!!(a.nodeMap.get(r)&&o.get(r))}},{key:"isExpanded",value:function(n){var a=this.tree,r=this.value,o=this.vmIsLocked,l=a.hasFilter,s=a.config,c=s.allowFoldNodeOnFilter;if(l&&!c&&o)return!0;var d=n||a.expandedMap;return!!(a.nodeMap.get(r)&&d.get(r))}},{key:"isChecked",value:function(n){var a=this.children,r=this.tree,o=this.value,l=r.config,s=l.checkStrictly,c=l.valueMode;if(!r.nodeMap.get(o)||!this.isCheckable())return!1;var d=n||r.checkedMap;if(s)return!!d.get(o);var u=!1;if(d.get(o)&&(c!=="onlyLeaf"||this.isLeaf()))return!0;if(Array.isArray(a)&&a.length>0)u=a.every(function(v){var h=v.isChecked(d);return h});else{var f=this.getParents();u=f.some(function(v){return d.get(v.value)})}return u}},{key:"isIndeterminate",value:function(){var n=this.children,a=this.tree,r=this.value,o=a.config.checkStrictly;if(!a.nodeMap.get(r)||!this.isCheckable()||o||!Array.isArray(n))return!1;var l=null,s=n.some(function(c){return!!(c.isIndeterminate()||(kf(l)&&(l=c.isChecked()),l!==c.isChecked()))});return s}},{key:"isFirst",value:function(){var n=this.getSiblings();return n[0]===this}},{key:"isLast",value:function(){var n=this.getSiblings();return n[n.length-1]===this}},{key:"isLeaf",value:function(){var n=!1;return Array.isArray(this.children)?n=this.children.length<=0:n=!this.children,n}},{key:"lock",value:function(n){this.vmIsLocked=n,this.expanded=this.isExpanded(),this.visible=this.isVisible()}},{key:"afterExpanded",value:function(){this.update(),this.expanded&&this.children===!0&&this.loadChildren(),this.updateChildren()}},{key:"toggleExpanded",value:function(n){return this.setExpanded(!this.isExpanded(),n)}},{key:"setExpanded",value:function(n,a){var r=this.tree,o=r.config,l=os({directly:!1},a),s=r.expandedMap;if(l.directly||(s=new Map(r.expandedMap)),n){var c=[];c.push(this),o.expandParent&&this.getParents().forEach(function(d){c.push(d)}),c.forEach(function(d){var u=!1;if(d.parent)u=d.parent.isExpandMutex();else{var f;u=r==null||(f=r.config)===null||f===void 0?void 0:f.expandMutex}if(u){var v=d.getSiblings();v.forEach(function(h){s.delete(h.value),h.update(),h.updateChildren()})}s.set(d.value,!0),d.update(),d.updateChildren()})}else s.delete(this.value);return l.directly&&this.afterExpanded(),r.getExpanded(s)}},{key:"toggleActived",value:function(n){return this.setActived(!this.isActived(),n)}},{key:"setActived",value:function(n,a){var r=this.tree,o=os({isAction:!0,directly:!1},a),l=r.config||{},s=r.activedMap;if(o.directly||(s=new Map(r.activedMap)),o.isAction&&this.isDisabledState())return r.getActived(s);if(this.isActivable())if(n){var c=Array.from(s.keys());l.activeMultiple||s.clear(),c.forEach(function(d){var u=r.getNode(d);u==null||u.update()}),s.set(this.value,!0)}else s.delete(this.value);return this.update(),r.getActived(s)}},{key:"hasEnableUnCheckedChild",value:function(){var n=this.children;if(!Array.isArray(n)||n.length<=0)return!1;var a=!1;return n.some(function(r){return r.isDisabledState()||r.isChecked()?!1:r.isIndeterminate()?r.hasEnableUnCheckedChild()?(a=!0,!0):!1:(a=!0,!0)}),a}},{key:"toggleChecked",value:function(n){if(this.isIndeterminate()){var a=this.hasEnableUnCheckedChild();return this.setChecked(a,n)}return this.setChecked(!this.isChecked(),n)}},{key:"setChecked",value:function(n,a){var r=this.tree,o=r.config||{},l=os({isAction:!0,directly:!1},a),s=r.checkedMap;if(l.directly||(s=new Map(r.checkedMap)),!this.isCheckable()||l.isAction&&this.isDisabledState())return r.getChecked(s);if(n===this.isChecked()){var c=this.isIndeterminate()&&!this.hasEnableUnCheckedChild();if(!c)return r.getChecked(s)}if(n?s.set(this.value,!0):s.delete(this.value),o.checkStrictly)l.directly&&this.updateChecked();else if(this.spreadChildrenChecked(n,s,l),this.spreadParentChecked(n,s,l),l.directly){var d=r.getRelatedNodes([this.value],{reverse:!0});d.forEach(function(u){u.updateChecked()})}return r.getChecked(s)}},{key:"spreadParentChecked",value:function(n,a,r){var o=os({isAction:!0,directly:!1},r);if(this.isCheckable()){var l=this.children;Array.isArray(l)&&l.length>0&&a.delete(this.value);var s=this.parent;s&&s.spreadParentChecked(n,a,o)}}},{key:"spreadChildrenChecked",value:function(n,a,r){var o=os({isAction:!0,directly:!1},r);if(this.isCheckable()&&!(o.isAction&&this.isDisabledState())){var l=this.children;Array.isArray(l)&&(l.length<=0||(a.delete(this.value),l.forEach(function(s){o.isAction&&s.isDisabledState()||(n?a.set(s.value,!0):a.delete(s.value),s.spreadChildrenChecked(n,a,o))})))}}},{key:"setDisabled",value:function(n){this.disabled=n,this.update(),this.updateChildren()}},{key:"update",value:function(){this.level=this.getLevel(),this.vmIsFirst=this.isFirst(),this.vmIsLast=this.isLast(),this.vmIsLeaf=this.isLeaf(),this.vmCheckable=this.isCheckable(),this.vmIsRest=this.isRest(),this.actived=this.isActived(),this.expanded=this.isExpanded(),this.visible=this.isVisible(),this.tree.updated(this)}},{key:"updateChecked",value:function(){var n=this.tree,a=this.value,r=n.checkedMap;this.checked=this.isChecked(),this.indeterminate=this.isIndeterminate(),this.checked&&r.set(a,!0),n.updated(this)}},{key:"updateChildren",value:function(){var n=this;this.spreadChildren(function(a){a!==n&&(a.update(),a.updateChecked())})}},{key:"updateParents",value:function(){var n=this;this.spreadParents(function(a){a!==n&&(a.update(),a.updateChecked())})}},{key:"updateRelated",value:function(){var n=this.tree,a=n.getRelatedNodes([this.value]);a.forEach(function(r){r.update(),r.updateChecked()})}},{key:"walk",value:function(){var n=[];return this.spreadChildren(function(a){n.push(a)}),n}},{key:"spreadChildren",value:function(n){n(this);var a=this.children;Array.isArray(a)&&a.length>0&&a.forEach(function(r){r==null||r.spreadChildren(n)})}},{key:"spreadParents",value:function(n){n(this);var a=this.parent;a&&(a==null||a.spreadParents(n))}},{key:"getModel",value:function(){var n=this.model;return n||(n=MX(this),this.model=n),n}}])}();/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Nx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Av(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nx(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nx(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function BX(t){var e=Promise.resolve();return e.then(t),e}var Tx=function(){function t(e){rr(this,t),G(this,"children",void 0),G(this,"nodes",void 0),G(this,"nodeMap",void 0),G(this,"privateMap",void 0),G(this,"config",void 0),G(this,"activedMap",void 0),G(this,"updatedMap",void 0),G(this,"checkedMap",void 0),G(this,"expandedMap",void 0),G(this,"filterMap",void 0),G(this,"hasFilter",void 0),G(this,"emitter",void 0),G(this,"updateTick",void 0),G(this,"shouldReflow",void 0),G(this,"prevFilter",void 0);var n=Av({prefix:"t",keys:{},expandAll:!1,expandLevel:0,expandMutex:!1,expandParent:!1,activable:!1,activeMultiple:!1,checkable:!1,checkStrictly:!1,disabled:!1,disableCheck:!1,draggable:!1,load:null,lazy:!1,valueMode:"onlyLeaf",filter:null,allowFoldNodeOnFilter:!1,onLoad:null,onReflow:null,onUpdate:null},e);this.config=n,this.nodes=[],this.children=[],this.nodeMap=new Map,this.privateMap=new Map,this.activedMap=new Map,this.expandedMap=new Map,this.checkedMap=new Map,this.updatedMap=new Map,this.filterMap=new Map,this.prevFilter=null,this.updateTick=null,this.shouldReflow=!1,this.hasFilter=pe(n.filter),this.emitter=TX()}return ir(t,[{key:"setConfig",value:function(n){var a=this.config,r=!1;Object.keys(n).forEach(function(o){var l=n[o];l!==a[o]&&(r=!0,a[o]=l)}),this.hasFilter=pe(a.filter),r&&this.refreshState()}},{key:"getChildren",value:function(){return this.children}},{key:"getNode",value:function(n){var a=null;return Ae(n)||nt(n)?a=this.nodeMap.get(n):n instanceof jo&&(a=this.nodeMap.get(n.value)),a||(a=null),a}},{key:"getIndex",value:function(n){return this.nodes.indexOf(n)}},{key:"getParent",value:function(n){var a=null,r=this.getNode(n);return r&&(a=r.getParent()),a}},{key:"getParents",value:function(n){var a=this.getNode(n),r=[];return a&&(r=a.getParents()),r}},{key:"getNodeIndex",value:function(n){var a=this.getNode(n),r=-1;return a&&(r=a.getIndex()),r}},{key:"getNodes",value:function(n,a){var r=[],o="";if(Ae(n)||nt(n)?o=n:n instanceof jo&&(o=n.value),!o&&o!==0)r=this.nodes.slice(0);else{var l=this.getNode(o);l&&(r=l.walk())}if(a){var s=Av({filter:null,level:1/0},a);nt(s.level)&&s.level!==1/0&&(r=r.filter(function(c){return c.level<=s.level})),pe(s.filter)&&(r=r.filter(function(c){var d=c.getModel();return s.filter(d)})),dc(s.props)&&(r=r.filter(function(c){var d=Object.keys(s.props).every(function(u){var f=c[u]===s.props[u];return f});return d}))}return r}},{key:"append",value:function(n){var a=this;n.forEach(function(r){var o=new jo(a,r);a.children.push(o)}),this.reflow()}},{key:"reload",value:function(n){this.removeAll(),this.append(n)}},{key:"parseNodeData",value:function(n,a){var r="",o=null,l=null;Ae(n)||nt(n)?(r=n,o=this.getNode(r),l=a):n instanceof jo&&a?(o=n,l=a):l=n;var s={node:o,data:l};return s}},{key:"appendNodes",value:function(n,a){var r=this.parseNodeData(n,a);r.data&&(r.node?(r.data instanceof jo?r.data.appendTo(this,r.node):Ie(r.data)?r.node.append(r.data):r.node.append([r.data]),r.node.updateRelated()):r.data instanceof jo?r.data.appendTo(this):Array.isArray(r.data)?this.append(r.data):this.append([r.data]))}},{key:"insertBefore",value:function(n,a){var r=this.getNode(n);r&&r.insertBefore(a)}},{key:"insertAfter",value:function(n,a){var r=this.getNode(n);r&&r.insertAfter(a)}},{key:"refreshNodes",value:function(){var n=this.children,a=this.nodes;a.length=0,n.forEach(function(r){var o=r.walk();Array.prototype.push.apply(a,o)})}},{key:"reflow",value:function(n){this.shouldReflow=!0,this.updated(n)}},{key:"updated",value:function(n){var a=this,r=this.updatedMap;n?r.set(n[cr],"changed"):this.getNodes().forEach(function(o){r.set(o[cr],"changed")}),!this.updateTick&&(this.updateTick=BX(function(){a.updateTick=null,a.shouldReflow&&(a.refreshNodes(),a.emit("reflow")),a.lockFilterPathNodes();var o="t".concat(new Date().getTime()),l=Array.from(r.keys()),s=l.map(function(c){return r.set(c,o),a.privateMap.get(c)});a.emit("update",{nodes:s,map:r}),a.shouldReflow=!1,r.clear()}))}},{key:"getActived",value:function(n){var a=n||this.activedMap;return Array.from(a.keys())}},{key:"getActivedNodes",value:function(n){var a=this.getNodes(n);return a=a.filter(function(r){return r.isActived()}),a}},{key:"replaceActived",value:function(n){this.resetActived(),this.setActived(n)}},{key:"setActived",value:function(n){var a=this,r=this.config.activeMultiple,o=n.slice(0);r||(o.length=1),o.forEach(function(l){a.activedMap.set(l,!0);var s=a.getNode(l);s&&s.update()})}},{key:"resetActived",value:function(){var n=this.getActived();this.activedMap.clear();var a=this.getRelatedNodes(n);a.forEach(function(r){r.update()})}},{key:"getExpanded",value:function(n){var a=n||this.expandedMap;return Array.from(a.keys())}},{key:"replaceExpanded",value:function(n){var a=this.getExpanded(),r=Px(n,a),o=Px(a,n);this.setExpandedDirectly(o,!1),this.updateExpanded(o),this.setExpanded(r)}},{key:"setExpanded",value:function(n){this.setExpandedDirectly(n),this.updateExpanded(n)}},{key:"setExpandedDirectly",value:function(n){var a=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;n.forEach(function(o){r?a.expandedMap.set(o,!0):a.expandedMap.delete(o);var l=a.getNode(o);l&&l.afterExpanded()})}},{key:"resetExpanded",value:function(){var n=this.getExpanded();this.expandedMap.clear(),this.updateExpanded(n)}},{key:"updateExpanded",value:function(n){var a=this.getRelatedNodes(n,{withParents:!1});a.forEach(function(r){r.update()})}},{key:"getChecked",value:function(n){var a=this.nodeMap,r=this.config,o=r.valueMode,l=r.checkStrictly,s=[],c=n||this.checkedMap;return a.forEach(function(d){d.isChecked(c)&&(o==="parentFirst"&&!l?(!d.parent||!d.parent.isChecked(c))&&s.push(d.value):o==="onlyLeaf"&&!l?d.isLeaf()&&s.push(d.value):s.push(d.value))}),s}},{key:"getCheckedNodes",value:function(n){var a=this.getNodes(n);return a=a.filter(function(r){return r.isChecked()}),a}},{key:"replaceChecked",value:function(n){this.resetChecked(),this.setChecked(n)}},{key:"setChecked",value:function(n){var a=this,r=this.config,o=r.checkStrictly,l=r.checkable;if(l&&(n.forEach(function(d){var u=a.getNode(d);if(u)if(o)a.checkedMap.set(d,!0),u.updateChecked();else{var f=u.walk();f.forEach(function(v){a.checkedMap.set(v.value,!0)})}}),!o)){var s=this.getChecked(),c=this.getRelatedNodes(s);c.forEach(function(d){d.updateChecked()})}}},{key:"resetChecked",value:function(){var n=this.getChecked(),a=this.getRelatedNodes(n);this.checkedMap.clear(),a.forEach(function(r){r.updateChecked()})}},{key:"refreshState",value:function(){var n=this.nodeMap;n.forEach(function(a){a.update()})}},{key:"updateAll",value:function(){var n=this.nodeMap;n.forEach(function(a){a.update(),a.updateChecked()})}},{key:"remove",value:function(n){var a=this.getNode(n);a&&a.remove()}},{key:"removeAll",value:function(){this.expandedMap.clear(),this.checkedMap.clear(),this.activedMap.clear(),this.filterMap.clear(),this.nodeMap.clear(),this.privateMap.clear(),this.updatedMap.clear(),this.nodes=[],this.children=[],this.reflow()}},{key:"getRelatedNodes",value:function(n,a){var r=this,o=Av({reverse:!1,withParents:!0},a),l=new Map;n.forEach(function(c){if(!l.get(c)){var d=r.getNode(c);if(d){var u=d.getParents().reverse(),f=d.walk(),v=[];o.withParents?v=u.concat(f):v=f,v.forEach(function(h){l.set(h.value,h)})}}});var s=Array.from(l.values());return o.reverse&&(s=s.reverse()),s}},{key:"emit",value:function(n,a){var r=this.config,o=this.emitter,l=Ta("on-".concat(n)),s=r[l];pe(s)&&s(a),o.emit(n,a)}},{key:"lockFilterPathNodes",value:function(){var n=this.config,a=this.getNodes();this.prevFilter&&a.forEach(function(o){o.vmIsLocked&&o.lock(!1)});var r=n.filter;!r||!pe(r)||(this.prevFilter=n.filter,a.reverse().forEach(function(o){var l=o.getParent();l&&(o.vmIsRest||o.vmIsLocked)&&(l.vmIsLocked||l.lock(!0))}))}}])}();/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Ex(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function ou(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ex(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ex(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var zX=function(e,n,a,r){var o=i.reactive({treeStore:null,inputVal:null,scopeVal:void 0,treeNodes:[],expend:[]});return{statusContext:o,cascaderContext:i.computed(function(){var l=e.size,s=e.checkStrictly,c=e.lazy,d=e.multiple,u=e.filterable,f=e.clearable,v=e.checkProps,h=e.max,g=e.disabled,p=e.showAllLevels,m=e.minCollapsedNum,y=e.valueType;return ou(ou({value:o.scopeVal,size:l,checkStrictly:s,lazy:c,multiple:d,filterable:u,clearable:f,checkProps:v,max:h,disabled:g,showAllLevels:p,minCollapsedNum:m,valueType:y,visible:a.value},o),{},{setTreeNodes:function(w){o.treeNodes=w},setValue:function(w,C,x){Dm(w,o.scopeVal)||n(w,{source:C,node:x})},setVisible:r,setInputVal:function(w){o.inputVal=w},setExpend:function(w){o.expend=w}})})}},Ax=function(e){var n=St(),a=i.toRefs(e),r=a.value,o=a.modelValue,l=a.popupVisible,s=ot(r,o,e.defaultValue,e.onChange),c=Ce(s,2),d=c[0],u=c[1],f=Rt(l,!1,e.onPopupVisibleChange,"popupVisible"),v=Ce(f,2),h=v[0],g=v[1],p=zX(e,u,h,g),m=p.cascaderContext,y=p.statusContext,b=i.computed(function(){return!!(e.filterable||pe(e.filter))}),w=function(){var P=m.value,I=P.inputVal,D=P.treeStore,L=P.setTreeNodes;pX(I,D,L,e.filter)},C=function(){var P=m.value,I=P.value,D=P.treeStore,L=y.expend;mX(D,I,L),D.replaceChecked(bx(I))};i.watch(function(){return e.options},function(){var k=e.options,P=e.keys,I=P===void 0?{}:P,D=e.checkStrictly,L=e.lazy,O=e.load,S=e.valueMode,_=y.treeStore;if(!(!k.length&&!_)){if(_)_.reload(k),_.refreshNodes();else{var A=new Tx({keys:ou(ou({},I),{},{children:Ae(I.children)?I.children:"children"}),checkable:!0,expandMutex:!0,expandParent:!0,lazy:L,load:O,valueMode:S,checkStrictly:D,onLoad:function(){i.nextTick(function(){A.refreshNodes(),w()})}});A.append(k),y.treeStore=A}C(),w()}},{immediate:!0,deep:!0}),i.watch(function(){var k=e.checkStrictly,P=e.lazy,I=e.load,D=e.valueMode;return JSON.stringify({valueMode:D,checkStrictly:k,lazy:P,load:I})},function(){var k=y.treeStore;if(k){var P=e.checkStrictly,I=e.lazy,D=e.load,L=e.valueMode,O={checkStrictly:P,disabled:n,load:D,lazy:I,valueMode:L};k.setConfig(O)}},{immediate:!0}),i.watch(d,function(){var k=m.value,P=k.setValue,I=k.multiple,D=k.valueType;oX(d.value,m.value)?P(I?[]:"","invalid-value"):y.scopeVal=I?[]:"",Ev(d)||(y.scopeVal=iX(d.value,D,I)),y.treeStore&&(C(),w())},{immediate:!0}),i.watch(function(){return h.value&&b.value},function(k){var P=m.value.setInputVal;k&&P("")}),i.watch(function(){return y.inputVal},function(){w()});var x=function(P){var I=[];return P.forEach(function(D){var L,O=(L=y.treeStore)===null||L===void 0?void 0:L.getNodes(D);O&&O[0]&&I.push(O[0].data)}),I};return{cascaderContext:m,isFilterable:b,innerValue:d,getCascaderItems:x}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Rx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Mo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rx(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rx(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var HX=i.defineComponent({name:"TCascader",props:Mo({},Fr),setup:function(e,n){var a=n.slots,r=ae("cascader"),o=ae(),l=lt(),s=l.STATUS,c=ae("cascader__popup"),d=Re("cascader"),u=d.globalConfig,f=St(),v=mn(),h=Pe(),g=Ax(e),p=g.cascaderContext,m=g.innerValue,y=g.isFilterable,b=g.getCascaderItems,w=i.computed(function(){return e.multiple?rX(p.value):mx(p.value)}),C=i.computed(function(){return yx(p.value.treeNodes)}),x=i.computed(function(){var O;return p.value.visible&&!e.multiple&&mx(p.value)||((O=e.placeholder)!==null&&O!==void 0?O:u.value.placeholder)}),k=function(){if(e.suffixIcon||a.suffixIcon)return h("suffixIcon");var S=p.value,_=S.visible,A=S.disabled;return i.createVNode(fi,{overlayClassName:lX(o.value,s.value,p.value),isActive:_,disabled:A},null)},P=i.computed(function(){var O=m.value instanceof Array?m.value:[m.value],S=e.multiple&&e.minCollapsedNum?O.slice(0,e.minCollapsedNum):m.value,_=b(O);return{value:m.value,selectedOptions:_,onClose:function(E){xx(p.value,E,e.onRemove)},displayValue:S}}),I=function(){return h("valueDisplay",{params:P.value})},D=function(){var S=h("label");return e.multiple?S:S?i.createVNode("div",{class:"".concat(o.value,"-tag-input__prefix")},[S]):null},L=i.computed(function(){return[r.value,e.multiple?"".concat(r.value,"--multiple"):"".concat(r.value,"--single")]});return function(){var O,S=p.value,_=S.setVisible,A=S.visible,E=S.inputVal,R=S.setInputVal;return i.createVNode(Do,i.mergeProps({class:L.value,value:w.value,inputValue:A?E:"",popupVisible:A,keys:e.keys,allowInput:y.value,"min-collapsed-num":e.minCollapsedNum,"collapsed-items":e.collapsedItems,readonly:v.value,disabled:f.value,clearable:e.clearable,placeholder:x.value,multiple:e.multiple,loading:e.loading,status:e.status,tips:e.tips,borderless:e.borderless,label:D,valueDisplay:I,prefixIcon:e.prefixIcon,suffix:e.suffix,suffixIcon:function(){return k()},popupProps:Mo(Mo({},e.popupProps),{},{overlayInnerStyle:C.value.length&&!e.loading?{width:"auto"}:"",overlayClassName:[c.value,(O=e.popupProps)===null||O===void 0?void 0:O.overlayClassName]}),inputProps:Mo({size:e.size},e.inputProps),tagInputProps:Mo({size:e.size},e.tagInputProps),tagProps:Mo({},e.tagProps),onInputChange:function(F,M){var $,W;y.value&&(R("".concat(F)),e==null||($=e.selectInputProps)===null||$===void 0||(W=$.onInputChange)===null||W===void 0||W.call($,F,M))},onTagChange:function(F,M){var $,W;M.trigger!=="enter"&&(xx(p.value,M.index,e.onRemove),e==null||($=e.selectInputProps)===null||$===void 0||(W=$.onTagChange)===null||W===void 0||W.call($,F,M))},onPopupVisibleChange:function(F,M){var $,W;f.value||(_(F,M),e==null||($=e.selectInputProps)===null||$===void 0||(W=$.onPopupVisibleChange)===null||W===void 0||W.call($,F,M))},onBlur:function(F,M){var $,W,H;($=e.onBlur)===null||$===void 0||$.call(e,{value:p.value.value,inputValue:M.inputValue||"",e:M.e}),e==null||(W=e.selectInputProps)===null||W===void 0||(H=W.onBlur)===null||H===void 0||H.call(W,F,M)},onFocus:function(F,M){var $,W,H;($=e.onFocus)===null||$===void 0||$.call(e,{value:p.value.value,e:M.e}),e==null||(W=e.selectInputProps)===null||W===void 0||(H=W.onFocus)===null||H===void 0||H.call(W,F,M)},onClear:function(F){var M,$;gX(p.value),e==null||(M=e.selectInputProps)===null||M===void 0||($=M.onClear)===null||$===void 0||$.call(M,F)}},gn(e.selectInputProps,["onTagChange","onInputChange","onPopupVisibleChange","onBlur","onFocus","onClear"])),{label:a.label,suffix:a.suffix,prefixIcon:a.prefixIcon,panel:function(){return i.createVNode(i.Fragment,null,[h("panelTopContent"),i.createVNode(Sx,{option:e.option,empty:e.empty,visible:A,trigger:e.trigger,loading:e.loading,loadingText:e.loadingText,cascaderContext:p.value},{option:a.option,empty:a.empty,loadingText:a.loadingText}),h("panelBottomContent")])},collapsedItems:a.collapsedItems})}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Dx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function WX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dx(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dx(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var UX=i.defineComponent({name:"TCascaderPanel",props:WX({},Fr),setup:function(e,n){var a=n.slots,r=Ax(e),o=r.cascaderContext;return function(){return i.createVNode(Sx,{trigger:e.trigger,cascaderContext:o.value,empty:e.empty},{empty:a.empty,option:a.option,loadingText:a.loadingText})}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var KX=be(HX),YX=be(UX);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var jx={exports:{}};(function(t,e){(function(n,a){t.exports=a()})(nn,function(){return function(n,a){var r=a.prototype,o=r.format;r.format=function(l){var s=this,c=this.$locale();if(!this.isValid())return o.bind(this)(l);var d=this.$utils(),u=(l||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(f){switch(f){case"Q":return Math.ceil((s.$M+1)/3);case"Do":return c.ordinal(s.$D);case"gggg":return s.weekYear();case"GGGG":return s.isoWeekYear();case"wo":return c.ordinal(s.week(),"W");case"w":case"ww":return d.s(s.week(),f==="w"?1:2,"0");case"W":case"WW":return d.s(s.isoWeek(),f==="W"?1:2,"0");case"k":case"kk":return d.s(String(s.$H===0?24:s.$H),f==="k"?1:2,"0");case"X":return Math.floor(s.$d.getTime()/1e3);case"x":return s.$d.getTime();case"z":return"["+s.offsetName()+"]";case"zzz":return"["+s.offsetName("long")+"]";default:return f}});return o.bind(this)(u)}}})})(jx);var Mx=jx.exports,Fx={exports:{}};(function(t,e){(function(n,a){t.exports=a()})(nn,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},a=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,r=/\d\d/,o=/\d\d?/,l=/\d*[^-_:/,()\s\d]+/,s={},c=function(m){return(m=+m)+(m>68?1900:2e3)},d=function(m){return function(y){this[m]=+y}},u=[/[+-]\d\d:?(\d\d)?|Z/,function(p){(this.zone||(this.zone={})).offset=function(m){if(!m||m==="Z")return 0;var y=m.match(/([+-]|\d\d)/g),b=60*y[1]+(+y[2]||0);return b===0?0:y[0]==="+"?-b:b}(p)}],f=function(m){var y=s[m];return y&&(y.indexOf?y:y.s.concat(y.f))},v=function(m,y){var b,w=s.meridiem;if(w){for(var C=1;C<=24;C+=1)if(m.indexOf(w(C,0,y))>-1){b=C>12;break}}else b=m===(y?"pm":"PM");return b},h={A:[l,function(p){this.afternoon=v(p,!1)}],a:[l,function(p){this.afternoon=v(p,!0)}],S:[/\d/,function(p){this.milliseconds=100*+p}],SS:[r,function(p){this.milliseconds=10*+p}],SSS:[/\d{3}/,function(p){this.milliseconds=+p}],s:[o,d("seconds")],ss:[o,d("seconds")],m:[o,d("minutes")],mm:[o,d("minutes")],H:[o,d("hours")],h:[o,d("hours")],HH:[o,d("hours")],hh:[o,d("hours")],D:[o,d("day")],DD:[r,d("day")],Do:[l,function(p){var m=s.ordinal,y=p.match(/\d+/);if(this.day=y[0],m)for(var b=1;b<=31;b+=1)m(b).replace(/\[|\]/g,"")===p&&(this.day=b)}],M:[o,d("month")],MM:[r,d("month")],MMM:[l,function(p){var m=f("months"),y=(f("monthsShort")||m.map(function(b){return b.slice(0,3)})).indexOf(p)+1;if(y<1)throw new Error;this.month=y%12||y}],MMMM:[l,function(p){var m=f("months").indexOf(p)+1;if(m<1)throw new Error;this.month=m%12||m}],Y:[/[+-]?\d+/,d("year")],YY:[r,function(p){this.year=c(p)}],YYYY:[/\d{4}/,d("year")],Z:u,ZZ:u};function g(p){var m,y;m=p,y=s&&s.formats;for(var b=(p=m.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(D,L,O){var S=O&&O.toUpperCase();return L||y[O]||n[O]||y[S].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(_,A,E){return A||E.slice(1)})})).match(a),w=b.length,C=0;C<w;C+=1){var x=b[C],k=h[x],P=k&&k[0],I=k&&k[1];b[C]=I?{regex:P,parser:I}:x.replace(/^\[|\]$/g,"")}return function(D){for(var L={},O=0,S=0;O<w;O+=1){var _=b[O];if(typeof _=="string")S+=_.length;else{var A=_.regex,E=_.parser,R=D.slice(S),N=A.exec(R)[0];E.call(L,N),D=D.replace(N,"")}}return function(F){var M=F.afternoon;if(M!==void 0){var $=F.hours;M?$<12&&(F.hours+=12):$===12&&(F.hours=0),delete F.afternoon}}(L),L}}return function(p,m,y){y.p.customParseFormat=!0,p&&p.parseTwoDigitYear&&(c=p.parseTwoDigitYear);var b=m.prototype,w=b.parse;b.parse=function(C){var x=C.date,k=C.utc,P=C.args;this.$u=k;var I=P[1];if(typeof I=="string"){var D=P[2]===!0,L=P[3]===!0,O=D||L,S=P[2];L&&(S=P[2]),s=this.$locale(),!D&&S&&(s=y.Ls[S]),this.$d=function(R,N,F){try{if(["x","X"].indexOf(N)>-1)return new Date((N==="X"?1e3:1)*R);var M=g(N)(R),$=M.year,W=M.month,H=M.day,K=M.hours,z=M.minutes,B=M.seconds,q=M.milliseconds,Y=M.zone,X=new Date,T=H||($||W?1:X.getDate()),j=$||X.getFullYear(),U=0;$&&!W||(U=W>0?W-1:X.getMonth());var J=K||0,Z=z||0,Q=B||0,ee=q||0;return Y?new Date(Date.UTC(j,U,T,J,Z,Q,ee+60*Y.offset*1e3)):F?new Date(Date.UTC(j,U,T,J,Z,Q,ee)):new Date(j,U,T,J,Z,Q,ee)}catch{return new Date("")}}(x,I,k),this.init(),S&&S!==!0&&(this.$L=this.locale(S).$L),O&&x!=this.format(I)&&(this.$d=new Date("")),s={}}else if(I instanceof Array)for(var _=I.length,A=1;A<=_;A+=1){P[1]=I[A-1];var E=y.apply(this,P);if(E.isValid()){this.$d=E.$d,this.$L=E.$L,this.init();break}A===_&&(this.$d=new Date(""))}else w.call(this,C)}}})})(Fx);var Fo=Fx.exports;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var qX=G1,Lx=1/0,GX=17976931348623157e292;function XX(t){if(!t)return t===0?t:0;if(t=qX(t),t===Lx||t===-Lx){var e=t<0?-1:1;return e*GX}return t===t?t:0}var $x=XX,JX=$x;function ZX(t){var e=JX(t),n=e%1;return e===e?n?e-n:e:0}var Bx=ZX;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var zx={exports:{}};(function(t,e){(function(n,a){t.exports=a()})(nn,function(){return function(n,a){a.prototype.isoWeeksInYear=function(){var r=this.isLeapYear(),o=this.endOf("y").day();return o===4||r&&o===5?53:52}}})})(zx);var QX=zx.exports,Hx={exports:{}};(function(t,e){(function(n,a){t.exports=a()})(nn,function(){return function(n,a){a.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})})(Hx);var VX=Hx.exports;function eJ(t){if(t==null)throw new TypeError("Cannot destructure "+t)}function Rv(){return Rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Rv.apply(null,arguments)}var Wx={exports:{}};(function(t,e){(function(n,a){t.exports=a()})(nn,function(){return function(n,a,r){a.prototype.isBetween=function(o,l,s,c){var d=r(o),u=r(l),f=(c=c||"()")[0]==="(",v=c[1]===")";return(f?this.isAfter(d,s):!this.isBefore(d,s))&&(v?this.isBefore(u,s):!this.isAfter(u,s))||(f?this.isBefore(d,s):!this.isAfter(d,s))&&(v?this.isAfter(u,s):!this.isBefore(u,s))}}})})(Wx);var tJ=Wx.exports,Ux={exports:{}};(function(t,e){(function(n,a){t.exports=a()})(nn,function(){var n="week",a="year";return function(r,o,l){var s=o.prototype;s.week=function(c){if(c===void 0&&(c=null),c!==null)return this.add(7*(c-this.week()),"day");var d=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var u=l(this).startOf(a).add(1,a).date(d),f=l(this).endOf(n);if(u.isBefore(f))return 1}var v=l(this).startOf(a).date(d).startOf(n).subtract(1,"millisecond"),h=this.diff(v,n,!0);return h<0?l(this).startOf("week").week():Math.ceil(h)},s.weeks=function(c){return c===void 0&&(c=null),this.week(c)}}})})(Ux);var nJ=Ux.exports,Kx={exports:{}};(function(t,e){(function(n,a){t.exports=a()})(nn,function(){return function(n,a){a.prototype.weekYear=function(){var r=this.month(),o=this.week(),l=this.year();return o===1&&r===11?l+1:r===0&&o>=52?l-1:l}}})})(Kx);var aJ=Kx.exports,Yx={exports:{}};(function(t,e){(function(n,a){t.exports=a()})(nn,function(){return function(n,a,r){var o=a.prototype,l=function(v){return v&&(v.indexOf?v:v.s)},s=function(v,h,g,p,m){var y=v.name?v:v.$locale(),b=l(y[h]),w=l(y[g]),C=b||w.map(function(k){return k.slice(0,p)});if(!m)return C;var x=y.weekStart;return C.map(function(k,P){return C[(P+(x||0))%7]})},c=function(){return r.Ls[r.locale()]},d=function(v,h){return v.formats[h]||function(g){return g.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(p,m,y){return m||y.slice(1)})}(v.formats[h.toUpperCase()])},u=function(){var v=this;return{months:function(g){return g?g.format("MMMM"):s(v,"months")},monthsShort:function(g){return g?g.format("MMM"):s(v,"monthsShort","months",3)},firstDayOfWeek:function(){return v.$locale().weekStart||0},weekdays:function(g){return g?g.format("dddd"):s(v,"weekdays")},weekdaysMin:function(g){return g?g.format("dd"):s(v,"weekdaysMin","weekdays",2)},weekdaysShort:function(g){return g?g.format("ddd"):s(v,"weekdaysShort","weekdays",3)},longDateFormat:function(g){return d(v.$locale(),g)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.localeData=function(){return u.bind(this)()},r.localeData=function(){var f=c();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return r.weekdays()},weekdaysShort:function(){return r.weekdaysShort()},weekdaysMin:function(){return r.weekdaysMin()},months:function(){return r.months()},monthsShort:function(){return r.monthsShort()},longDateFormat:function(h){return d(f,h)},meridiem:f.meridiem,ordinal:f.ordinal}},r.months=function(){return s(c(),"months")},r.monthsShort=function(){return s(c(),"monthsShort","months",3)},r.weekdays=function(f){return s(c(),"weekdays",null,null,f)},r.weekdaysShort=function(f){return s(c(),"weekdaysShort","weekdays",3,f)},r.weekdaysMin=function(f){return s(c(),"weekdaysMin","weekdays",2,f)}}})})(Yx);var rJ=Yx.exports,qx={exports:{}};(function(t,e){(function(n,a){t.exports=a()})(nn,function(){var n="month",a="quarter";return function(r,o){var l=o.prototype;l.quarter=function(d){return this.$utils().u(d)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(d-1))};var s=l.add;l.add=function(d,u){return d=Number(d),this.$utils().p(u)===a?this.add(3*d,n):s.bind(this)(d,u)};var c=l.startOf;l.startOf=function(d,u){var f=this.$utils(),v=!!f.u(u)||u;if(f.p(d)===a){var h=this.quarter()-1;return v?this.month(3*h).startOf(n).startOf("day"):this.month(3*h+2).endOf(n).endOf("day")}return c.bind(this)(d,u)}}})})(qx);var iJ=qx.exports,oJ=Af,lJ=sf,sJ=Bx,cJ=Math.ceil,uJ=Math.max;function dJ(t,e,n){(n?lJ(t,e,n):e===void 0)?e=1:e=uJ(sJ(e),0);var a=t==null?0:t.length;if(!a||e<1)return[];for(var r=0,o=0,l=Array(cJ(a/e));r<a;)l[o++]=oJ(t,r,r+=e);return l}var lu=dJ;function Gx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Xx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gx(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gx(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}ve.extend(nJ),ve.extend(aJ),ve.extend(rJ),ve.extend(iJ),ve.extend(Mx),ve.extend(Fo),ve.extend(tJ);function fJ(t){return t&&t[0].toUpperCase().concat(t.substring(1,t.length))}function vJ(t){var e=t.year,n=t.month;return new Date(e,n,1)}function Jx(t){var e=t.year,n=t.month;return new Date(e,n+1,0).getDate()}function hJ(t){var e=t.year,n=t.month;return new Date(e,n,Jx({year:e,month:n}))}function Dv(t,e){return t.getFullYear()===e.getFullYear()}function gJ(t,e){return Dv(t,e)&&ve(t).quarter()===ve(e).quarter()}function jv(t,e){return Dv(t,e)&&t.getMonth()===e.getMonth()}function pJ(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"zh-cn";return jv(t,e)&&ve(t).locale(n).week()===ve(e).locale(n).week()}function mJ(t,e){return jv(t,e)&&t.getDate()===e.getDate()}function Zx(t,e){var n=t.getTime(),a=e.getTime();return n<a?-1:n>a?1:0}function La(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"date",a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"zh-cn",r={isSameYear:Dv,isSameQuarter:gJ,isSameMonth:jv,isSameWeek:pJ,isSameDate:mJ};return r["isSame".concat(fJ(n))](t,e,a)}function Lo(t,e,n){return e&&Zx(t,e)===-1||n&&Zx(t,n)===1}function su(){var t=new Date;return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0)}function cu(t,e){return ve(t).subtract(e,"month").toDate()}function uu(t,e){return ve(t).add(e,"month").toDate()}function Qx(t,e){var n=t.year,a=t.month,r=e.firstDayOfWeek,o=e.showWeekOfYear,l=o===void 0?!1:o,s=e.disableDate,c=s===void 0?function(){return!1}:s,d=e.minDate,u=e.maxDate,f=e.dayjsLocale,v=f===void 0?"zh-cn":f,h=e.cancelRangeSelectLimit,g=h===void 0?!1:h,p=vJ({year:n,month:a}),m=hJ({year:n,month:a}),y=Jx({year:n,month:a}),b=[],w=1,C=su();for(w;w<=y;w++){var x=new Date(n,a,w);b.push({text:w,active:!1,value:x,disabled:pe(c)&&c(x)||!g&&Lo(x,d,u),now:La(C,x),firstDayOfMonth:w===1,lastDayOfMonth:w===y,type:"current-month",dayjsObj:ve(x).locale(v)})}if(p.getDay()!==r)for(p.setDate(0);b.unshift({text:p.getDate().toString(),active:!1,value:new Date(p),disabled:pe(c)&&c(p)||!g&&Lo(p,d,u),additional:!0,type:"prev-month",dayjsObj:ve(p).locale(v)}),p.setDate(p.getDate()-1),p.getDay()!==Math.abs(r+6)%7;);for(var k=42;b.length<k;)m.setDate(m.getDate()+1),b.push({text:m.getDate(),active:!1,value:new Date(m),disabled:pe(c)&&c(m)||!g&&Lo(m,d,u),additional:!0,type:"next-month",dayjsObj:ve(m).locale(v)});var P=lu(b,7);return l&&P.forEach(function(I){I.unshift(Xx(Xx({},I[0]),{},{active:!1,value:I[0].value,text:ve(I[0].value).locale(v).week(),dayjsObj:ve(I[0].value).locale(v)}))}),P}function yJ(t,e){for(var n=e.disableDate,a=n===void 0?function(){return!1}:n,r=e.minDate,o=e.maxDate,l=e.quarterLocal,s=e.dayjsLocale,c=s===void 0?"zh-cn":s,d=e.cancelRangeSelectLimit,u=d===void 0?!1:d,f=[],v=su(),h=1;h<=4;h++){var g=ve(new Date(t,0)).quarter(h).toDate();f.push({value:g,now:La(g,v,"quarter"),disabled:pe(a)&&a(g)||!u&&Lo(g,r,o),active:!1,text:l[h-1],dayjsObj:ve(g).locale(c)})}return lu(f,4)}function bJ(t,e){for(var n=e.disableDate,a=n===void 0?function(){return!1}:n,r=e.minDate,o=e.maxDate,l=e.dayjsLocale,s=l===void 0?"zh-cn":l,c=e.cancelRangeSelectLimit,d=c===void 0?!1:c,u=parseInt((t/10).toString(),10)*10,f=u+9,v=[],h=su(),g=u;g<=f;g++){var p=new Date(g,1);v.push({value:p,now:La(p,h,"year"),disabled:pe(a)&&a(p)||!d&&Lo(p,r,o),active:!1,text:"".concat(p.getFullYear()),dayjsObj:ve(p).locale(s)})}return lu(v,3)}function wJ(t,e){for(var n=e.disableDate,a=n===void 0?function(){return!1}:n,r=e.minDate,o=e.maxDate,l=e.monthLocal,s=e.dayjsLocale,c=s===void 0?"zh-cn":s,d=e.cancelRangeSelectLimit,u=d===void 0?!1:d,f=[],v=su(),h=0;h<=11;h++){var g=new Date(t,h);f.push({value:g,now:La(g,v,"month"),disabled:pe(a)&&a(g)||!u&&Lo(g,r,o),active:!1,text:l[g.getMonth()],dayjsObj:ve(g).locale(c)})}return lu(f,3)}function CJ(t,e){var n=Rv({},(eJ(e),e)),a=n.start,r=n.end,o=n.hoverStart,l=n.hoverEnd,s=n.type,c=s===void 0?"date":s,d=n.isRange,u=d===void 0?!1:d,f=n.value,v=n.multiple,h=v===void 0?!1:v;return c==="week"?t:u?t.map(function(g){return g.map(function(p){var m=p,y=p.value,b=a&&La(a,y,c),w=o&&La(o,y,c),C=r&&La(r,y,c),x=l&&La(l,y,c);return m.active=(b||C)&&!m.additional,a&&r&&(m.highlight=ve(y).isBetween(a,r,c,"[]")&&!m.additional,m.startOfRange=b,m.endOfRange=C),o&&l&&(m.hoverHighlight=ve(y).isBetween(o,l,c,"[]")&&!m.additional,m.hoverStartOfRange=w,m.hoverEndOfRange=x),m})}):t.map(function(g){return g.map(function(p){var m=p;return h?m.active=f.some(function(y){return La(ve(y).toDate(),m.value)}):m.active=a&&La(p.value,a,c)&&!m.additional,m})})}function Mv(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return t.replace(/\W?Y{2,4}|\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?y{2,4}/g,"").trim()}function $o(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=t.match(/[ap]m/i)||[""],n=/\d{1,2}(:\d{1,2})?(:\d{1,2})?(:\d{1,3})?/,a=t.match(n)||["0:0:0:0"],r=a[0].split(":"),o=Ce(r,4),l=o[0],s=l===void 0?0:l,c=o[1],d=c===void 0?0:c,u=o[2],f=u===void 0?0:u,v=o[3],h=v===void 0?0:v;return{hours:+s,minutes:+d,seconds:+f,milliseconds:+h,meridiem:e[0]}}function xJ(t,e){return e==="time-stamp"?new Date(t):ve(t,e).toDate()}ve.extend(QX),ve.extend(VX);var ls="HH:mm:ss";function We(t,e,n,a){if(t===""||t===null)return ve();var r=t;if(/[w|W]/g.test(e)){Ae(r)||(r=ve(r).locale("zh-cn").format(e));var o=r.split(/[-/.\s]/)[0],l=r.split(/[-/.\s]/)[1],s=e.split(/[-/.\s]/)[1],c=ve(o,"YYYY").locale("zh-cn").startOf("year");(c.day()>4||c.day()===0)&&(c=c.add(1,"week"));for(var d=ve(o,"YYYY").locale("zh-cn").isoWeeksInYear(),u=0;u<=d;u+=1){var f=c.add(u,"week");if(n==="start"&&(f=f.subtract(5,"day")),f.format(s)===l)return f}}if(/Q/g.test(e)){Ae(r)||(r=ve(r).locale("zh-cn").format(e));for(var v=r.split(/[-/.\s]/)[0],h=r.split(/[-/.\s]/)[1],g=e.split(/[-/.\s]/)[1],p=ve(v,"YYYY").startOf("year"),m=0;m<4;m+=1){var y=p.add(m,"quarter");if(y.format(g)===h)return y}}var b=ve(r,e).isValid()?ve(r,e):ve(r);return b.isValid()?b:(He.error("DatePicker",`Check whether the format、value format is valid.
 value: '`.concat(t,"', format: '").concat(e,"'")),ve())}function SJ(t){var e=t.newDate,n=t.format,a=t.dayjsLocale,r=t.targetFormat,o=t.autoSwap;if(!e||!Array.isArray(e))return[];var l=e.map(function(s){return s&&We(s,n).locale(a)});return o&&l[0]&&l[1]&&l[0].toDate().getTime()>l[1].toDate().getTime()&&(l=[l[1],l[0]]),l.some(function(s){return s&&!s.isValid()})?(He.error("DatePicker",`Check whether the value、format、valueType format is valid.
format: '`.concat(n,"' value: '").concat(e,"' valueType: '").concat(r,"'")),[]):r==="time-stamp"?l.map(function(s){return s&&s.toDate().getTime()}):r==="Date"?l.map(function(s){return s&&s.toDate()}):l.map(function(s){return s&&s.format(r||n)})}function OJ(t){var e=t.newDate,n=t.format,a=t.targetFormat,r=t.dayjsLocale;if(!e)return"";var o=We(e,n).locale(r);return o.isValid()?a==="time-stamp"?o.toDate().getTime():a==="Date"?o.toDate():o.format(a||n):(He.error("DatePicker",`Check whether the format、value format is valid.
format: '`.concat(n,"' value: '").concat(e,"'")),"")}function rn(t,e){return Array.isArray(t)?t.every(function(n){return n===""?!0:ve(n,e).isValid()||ve(n).isValid()}):t===""?!0:ve(t,e).isValid()||ve(t).isValid()}function Qe(t,e){var n=e.format,a=e.targetFormat,r=e.dayjsLocale,o=r===void 0?"zh-cn":r,l=e.autoSwap,s;return Array.isArray(t)?s=SJ({newDate:t,format:n,dayjsLocale:o,targetFormat:a,autoSwap:l}):s=OJ({newDate:t,format:n,dayjsLocale:o,targetFormat:a}),s}function Vx(t,e){if(t&&e){var n=t.split(":"),a=e.split(":");return n.slice(0,a.length).join(":")}return t}function Bo(t,e,n,a){var r,o=Array.isArray(t)?t:[t];return a=Array.isArray(a)?a:[a,a],o=o.map(function(l,s){return l?ve(l,typeof l=="string"?e:void 0).format(n):Vx(a[s],n)}),o=o.length?o:a.map(function(l){return Vx(l,n)}),Array.isArray(t)?o:(r=o)===null||r===void 0?void 0:r[0]}function wa(t){var e=t.mode,n=e===void 0?"date":e,a=t.format,r=t.valueType,o=t.enableTimePicker;return n==="year"?{format:a||"YYYY",valueType:r||a||"YYYY",timeFormat:ls}:n==="month"?{format:a||"YYYY-MM",valueType:r||a||"YYYY-MM",timeFormat:ls}:n==="quarter"?{format:a||"YYYY-[Q]Q",valueType:r||a||"YYYY-[Q]Q",timeFormat:ls}:n==="week"?{format:a||"gggg-wo",valueType:r||a||"gggg-wo",timeFormat:ls}:n==="date"?{format:a||"YYYY-MM-DD".concat(o?" HH:mm:ss":""),valueType:r||a||"YYYY-MM-DD".concat(o?" HH:mm:ss":""),timeFormat:Mv(a||"YYYY-MM-DD".concat(o?" HH:mm:ss":""))||ls}:(He.error("DatePicker","Invalid mode: ".concat(n)),{})}function du(t){var e=t.value,n=t.mode,a=n===void 0?"date":n,r=t.format,o=t.timeFormat,l=o===void 0?"HH:mm:ss":o,s=t.enableTimePicker,c={year:[ve().year(),ve().year()],month:[ve().month(),ve().month()],time:[ve().format(l),ve().format(l)]};return a==="year"?c.year[1]+=10:a==="month"||a==="quarter"?c.year[1]+=1:(a==="date"||a==="week")&&!s&&(c.month[0]===11?(c.year[1]+=1,c.month[1]=0):c.month[1]+=1),!e||!Array.isArray(e)||!e.length?c:{year:e.map(function(d){return We(d,r).year()}),month:e.map(function(d){return We(d,r).month()}),time:e.map(function(d){return We(d,r).format(l)})}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function eS(t){var e=i.toRefs(t),n=e.value,a=e.modelValue,r=ot(n,a,t.defaultValue,t.onChange),o=Ce(r,2),l=o[0],s=o[1],c=i.computed(function(){return wa({mode:t.mode,format:t.format,enableTimePicker:t.enableTimePicker})});t.enableTimePicker&&(Mv(c.value.format)||console.error("format: ".concat(c.value.format," 不规范，包含时间选择必须要有时间格式化 HH:mm:ss")));var d=i.ref(Bo(l.value,c.value.format,c.value.timeFormat,t.defaultTime)),u=i.ref(We(l.value,c.value.format).month()),f=i.ref(We(l.value,c.value.format).year()),v=i.ref(Qe(l.value,{format:c.value.format}));return i.watchEffect(function(){if(!l.value){v.value="";return}rn(l.value,c.value.format)&&(v.value=Qe(l.value,{format:c.value.format}),d.value=Bo(l.value,c.value.format,c.value.timeFormat,t.defaultTime))}),{year:f,month:u,value:l,time:d,cacheValue:v,onChange:s}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function tS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function fu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tS(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tS(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function kJ(t){var e=ae("date-picker"),n=Ve({CalendarIcon:ry}),a=n.CalendarIcon,r=St(),o=Pe(),l=i.ref(),s=eS(t),c=s.value,d=s.onChange,u=s.time,f=s.month,v=s.year,h=s.cacheValue,g=i.computed(function(){return wa({mode:t.mode,format:t.format,valueType:t.valueType,enableTimePicker:t.enableTimePicker})}),p=i.ref(!1),m=i.ref(!1),y=i.ref(Qe(c.value,{format:g.value.format})),b=i.computed(function(){return fu(fu({},t.inputProps),{},{size:t.size,ref:l,prefixIcon:function(){return o("prefixIcon")},readonly:!t.allowInput,suffixIcon:function(){return o("suffixIcon")||i.createVNode(a,null,null)},class:[G({},"".concat(e.value,"__input--placeholder"),m.value)],onClear:function(x){var k;x==null||(k=x.e)===null||k===void 0||k.stopPropagation(),p.value=!1,d==null||d("",{dayjsValue:ve(),trigger:"clear"})},onBlur:function(x,k){var P;(P=t.onBlur)===null||P===void 0||P.call(t,{value:x,e:k.e})},onFocus:function(x,k){var P,I=k.e;(P=t.onFocus)===null||P===void 0||P.call(t,{value:c.value,e:I})},onChange:function(x){if(y.value=x,!!rn(x,g.value.format)){h.value=x;var k=We(x,g.value.format).month(),P=We(x,g.value.format).year(),I=Bo(x,g.value.format,g.value.timeFormat,t.defaultTime);!Number.isNaN(P)&&(v.value=P),!Number.isNaN(k)&&(f.value=k),!Number.isNaN(I)&&(u.value=I)}},onEnter:function(x){if(!x){d("",{dayjsValue:ve(),trigger:"enter"}),p.value=!1;return}!rn(x,g.value.format)&&!rn(c.value,g.value.format)||(p.value=!1,rn(x,g.value.format)?d==null||d(Qe(x,{format:g.value.format,targetFormat:g.value.valueType}),{dayjsValue:We(x,g.value.format),trigger:"enter"}):rn(c.value,g.value.format)?y.value=Qe(c.value,{format:g.value.format}):y.value="")}})}),w=i.computed(function(){var C,x,k;return fu(fu({expandAnimation:!0},gn(t.popupProps,"on-visible-change")),{},{disabled:r.value,overlayInnerStyle:(C=(x=t.popupProps)===null||x===void 0?void 0:x.overlayInnerStyle)!==null&&C!==void 0?C:{width:"auto"},overlayClassName:[(k=t.popupProps)===null||k===void 0?void 0:k.overlayClassName,"".concat(e.value,"__panel-container")],onVisibleChange:function(I,D){var L,O,S,_;if(!r.value){if((L=t.popupProps)===null||L===void 0||(O=L.onVisibleChange)===null||O===void 0||O.call(L,I,D),(S=t.popupProps)===null||S===void 0||(_=S["on-visible-change"])===null||_===void 0||_.call(S,I,D),D.trigger==="trigger-element-click"){p.value=!0;return}p.value=I}}})});return i.watch(c,function(C){if(!C){y.value="";return}rn(C,g.value.format)&&(y.value=Qe(C,{format:g.value.format}))}),{year:v,month:f,value:c,time:u,inputValue:y,popupVisible:p,inputProps:b,popupProps:w,inputRef:l,cacheValue:h,isHoverCell:m,onChange:d}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Un={allowInput:Boolean,borderless:Boolean,clearable:Boolean,defaultTime:{type:String,default:"00:00:00"},disableDate:{type:[Object,Array,Function]},disabled:{type:Boolean,default:void 0},enableTimePicker:Boolean,firstDayOfWeek:{type:Number,validator:function(e){return e?[1,2,3,4,5,6,7].includes(e):!0}},format:{type:String,default:void 0},inputProps:{type:Object},label:{type:[String,Function]},mode:{type:String,default:"date",validator:function(e){return e?["year","quarter","month","week","date"].includes(e):!0}},needConfirm:{type:Boolean,default:!0},placeholder:{type:[String,Array],default:void 0},popupProps:{type:Object},prefixIcon:{type:Function},presets:{type:Object},presetsPlacement:{type:String,default:"bottom",validator:function(e){return e?["left","top","right","bottom"].includes(e):!0}},selectInputProps:{type:Object},size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},status:{type:String,default:"default",validator:function(e){return e?["default","success","warning","error"].includes(e):!0}},suffixIcon:{type:Function},timePickerProps:{type:Object},tips:{type:[String,Function]},value:{type:[String,Number,Array,Date],default:void 0},modelValue:{type:[String,Number,Array,Date],default:void 0},defaultValue:{type:[String,Number,Array,Date],default:""},valueDisplay:{type:[String,Function]},valueType:{type:String,default:""},onBlur:Function,onChange:Function,onConfirm:Function,onFocus:Function,onPick:Function,onPresetClick:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var PJ=i.defineComponent({name:"TDatePickerHeader",props:{mode:{type:String,default:"date"},year:Number,month:Number,onMonthChange:Function,onYearChange:Function,onJumperClick:Function},setup:function(e){var n=Re("classPrefix"),a=n.classPrefix,r=ae("date-picker__header"),o=Re("datePicker"),l=o.globalConfig,s=i.ref(f(e.year)),c=i.computed(function(){return e.mode==="date"||e.mode==="week"}),d=i.computed(function(){var y;return((y=s.value.find(function(b){return b.value-e.year<=9&&b.value-e.year>=0}))===null||y===void 0?void 0:y.value)||e.year}),u=i.computed(function(){return l.value.months.map(function(y,b){return{label:y,value:b}})});function f(y){var b=[];if(e.mode==="year")for(var w=y%10,C=y-w-100,x=y-w+100,k=C;k<=x;k+=10)b.push({label:"".concat(k," - ").concat(k+9),value:k+9});else{b.push({label:"".concat(y),value:y});for(var P=1;P<=10;P++)b.push({label:"".concat(y+P),value:y+P}),b.unshift({label:"".concat(y-P),value:y-P})}return b}function v(y,b){var w=[];if(e.mode==="year"){var C=y%10;if(b==="add")for(var x=y-C+10;x<=y-C+50;x+=10)w.push({label:"".concat(x," - ").concat(x+9),value:x});else for(var k=y-C-1;k>y-C-50;k-=10)w.unshift({label:"".concat(k-9," - ").concat(k),value:k})}else if(b==="add")for(var P=y+1;P<=y+10;P++)w.push({label:"".concat(P),value:P});else for(var I=y-1;I>y-10;I--)w.unshift({label:"".concat(I),value:I});return w}var h=i.computed(function(){return{year:{prev:l.value.preDecade,current:l.value.now,next:l.value.nextDecade},month:{prev:l.value.preYear,current:l.value.now,next:l.value.nextYear},date:{prev:l.value.preMonth,current:l.value.now,next:l.value.nextMonth}}});function g(y){var b=y.e;b.target.scrollTop===0?p(b):b.target.scrollTop===b.target.scrollHeight-b.target.clientHeight&&m(b)}function p(y){var b;y==null||(b=y.stopPropagation)===null||b===void 0||b.call(y);var w=s.value[0].value,C=v(w,"reduce");s.value=[].concat(he(C),he(s.value))}function m(y){var b;y==null||(b=y.stopPropagation)===null||b===void 0||b.call(y);var w=s.value.slice(-1)[0].value,C=v(w,"add");s.value=[].concat(he(s.value),he(C))}return i.watch(function(){return e.mode},function(){s.value=f(e.year)}),function(){return i.createVNode("div",{class:r.value},[i.createVNode("div",{class:"".concat(r.value,"-controller")},[c.value&&i.createVNode(pi,{class:"".concat(r.value,"-controller-month"),value:e.month,options:u.value,onChange:function(b){var w;return(w=e.onMonthChange)===null||w===void 0?void 0:w.call(e,b)},popupProps:{attach:function(b){return b.parentNode},overlayClassName:"".concat(r.value,"-controller-month-popup")}},null),i.createVNode(pi,{class:"".concat(r.value,"-controller-year"),value:e.mode==="year"?d.value:e.year,options:s.value,onChange:function(b){var w;return(w=e.onYearChange)===null||w===void 0?void 0:w.call(e,b)},popupProps:{onScroll:g,attach:function(b){return b.parentNode},overlayClassName:"".concat(r.value,"-controller-year-popup")},panelTopContent:function(){return i.createVNode("div",{class:"".concat(a.value,"-select-option"),onClick:p},[i.createTextVNode("...")])},panelBottomContent:function(){return i.createVNode("div",{class:"".concat(a.value,"-select-option"),onClick:m},[i.createTextVNode("...")])}},null)]),i.createVNode(tx,{tips:h.value[e.mode],size:"small",onChange:e.onJumperClick},null)])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var _J=i.defineComponent({name:"TDatePickerCell",props:{time:String,text:[String,Number],value:Date,active:Boolean,highlight:Boolean,disabled:Boolean,startOfRange:Boolean,endOfRange:Boolean,hoverHighlight:Boolean,hoverStartOfRange:Boolean,hoverEndOfRange:Boolean,additional:Boolean,now:Boolean,firstDayOfMonth:Boolean,lastDayOfMonth:Boolean,onClick:Function,onMouseEnter:Function,dayjsObj:cf.exports.Dayjs},setup:function(e){var n=ae("date-picker__cell"),a=i.computed(function(){var l;return[n.value,(l={},G(G(G(G(G(G(G(G(G(G(l,"".concat(n.value,"--now"),e.now),"".concat(n.value,"--active"),e.active),"".concat(n.value,"--disabled"),e.disabled),"".concat(n.value,"--highlight"),e.highlight),"".concat(n.value,"--hover-highlight"),e.hoverHighlight),"".concat(n.value,"--active-start"),e.startOfRange),"".concat(n.value,"--active-end"),e.endOfRange),"".concat(n.value,"--hover-start"),e.hoverStartOfRange),"".concat(n.value,"--hover-end"),e.hoverEndOfRange),"".concat(n.value,"--additional"),e.additional),G(G(l,"".concat(n.value,"--first-day-of-month"),e.firstDayOfMonth),"".concat(n.value,"--last-day-of-month"),e.lastDayOfMonth))]});function r(l){var s;if(!e.disabled){if(e.time){var c=$o(e.time),d=c.hours,u=c.minutes,f=c.seconds,v=c.milliseconds,h=c.meridiem,g=d;/am/i.test(h)&&g===12&&(g-=12),/pm/i.test(h)&&g<12&&(g+=12),e.value.setHours(g),e.value.setMinutes(u),e.value.setSeconds(f),e.value.setMilliseconds(v)}(s=e.onClick)===null||s===void 0||s.call(e,e.value,{e:l})}}function o(){var l;if(!e.disabled){if(e.time){var s=$o(e.time),c=s.hours,d=s.minutes,u=s.seconds,f=s.milliseconds,v=s.meridiem,h=c;/am/i.test(v)&&h===12&&(h-=12),/pm/i.test(v)&&h<12&&(h+=12),e.value.setHours(h),e.value.setMinutes(d),e.value.setSeconds(u),e.value.setMilliseconds(f)}(l=e.onMouseEnter)===null||l===void 0||l.call(e,e.value)}}return function(){return i.createVNode("td",{class:a.value,onClick:r,onMouseenter:o},[i.createVNode("div",{class:"".concat(n.value,"-inner")},[e.text])])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function nS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function IJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nS(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nS(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var NJ=i.defineComponent({name:"TDatePickerTable",props:{mode:{type:String,default:"date"},value:[String,Number,Array,Date],format:String,firstDayOfWeek:Number,data:Array,time:String,onCellClick:Function,onCellMouseEnter:Function,onCellMouseLeave:Function},setup:function(e){var n=ae("date-picker__table"),a=Re("datePicker"),r=a.globalConfig,o=r.value.dayjsLocale,l=i.computed(function(){for(var d=[],u=e.firstDayOfWeek-1,f=r.value.weekdays.length;d.length<f;)d.push(r.value.weekdays[u]),u=(u+f+1)%f;return e.mode==="week"&&d.unshift(r.value.weekAbbreviation),d}),s=i.computed(function(){return e.mode==="date"||e.mode==="week"}),c=function(u,f,v){if(e.mode!=="week"||!u)return{};if(Ie(u)){var h,g,p,m;if(!u.length)return{};var y=u.map(function(A){return A&&We(A,f)}),b=Ce(y,2),w=b[0],C=b[1],x=w&&w.year(),k=w==null||(h=w.locale)===null||h===void 0||(h=h.call(w,o))===null||h===void 0||(g=h.week)===null||g===void 0?void 0:g.call(h),P=C&&C.year(),I=C==null||(p=C.locale)===null||p===void 0||(p=p.call(C,o))===null||p===void 0||(m=p.week)===null||m===void 0?void 0:m.call(p),D=We(v,f),L=D.year(),O=D.week(),S=L===x&&O===k||L===P&&O===I,_=L>=x&&L<=P&&O>k&&O<I;return G(G({},"".concat(n.value,"-").concat(e.mode,"-row--active"),S),"".concat(n.value,"-").concat(e.mode,"-row--range"),_)}return G({},"".concat(n.value,"-").concat(e.mode,"-row--active"),We(u,f).locale(o).week()===We(v,f).locale(o).week())};return function(){return i.createVNode("div",{class:n.value,onMouseleave:function(u){var f;return(f=e.onCellMouseLeave)===null||f===void 0?void 0:f.call(e,{e:u})}},[i.createVNode("table",null,[s.value&&i.createVNode("thead",null,[i.createVNode("tr",null,[l.value.map(function(d,u){return i.createVNode("th",{key:u},[d])})])]),i.createVNode("tbody",null,[e.data.map(function(d,u){return i.createVNode("tr",{key:u,class:IJ(G({},"".concat(n.value,"-").concat(e.mode,"-row"),!0),c(e.value,e.format,d[0].value))},[d.map(function(f,v){return i.createVNode(_J,i.mergeProps(f,{key:v,time:e.time,onClick:e.onCellClick,onMouseEnter:e.onCellMouseEnter}),null)})])})])])])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var vu="am",hu="pm",aS=[vu,hu],ss=[void 0,void 0],TJ=[1,1,1],EJ="HH:mm:ss",At=function(t){return t.hour="hour",t.minute="minute",t.second="second",t.milliSecond="millisecond",t.meridiem="meridiem",t}(At||{}),AJ=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,rS=/[h]{1}/;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Fv={allowInput:Boolean,borderless:Boolean,clearable:Boolean,disableTime:{type:Function},disabled:{type:Boolean,default:void 0},format:{type:String,default:"HH:mm:ss"},hideDisabledTime:{type:Boolean,default:!0},inputProps:{type:Object},label:{type:[String,Function]},placeholder:{type:String,default:void 0},popupProps:{type:Object},presets:{type:Object},selectInputProps:{type:Object},size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},status:{type:String,default:"default",validator:function(e){return e?["default","success","warning","error"].includes(e):!0}},steps:{type:Array,default:function(){return[1,1,1]}},tips:{type:[String,Function]},value:{type:String,default:void 0},modelValue:{type:String,default:void 0},defaultValue:{type:String,default:""},valueDisplay:{type:[String,Function]},onBlur:Function,onChange:Function,onClose:Function,onFocus:Function,onInput:Function,onOpen:Function,onPick:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function iS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Ca(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iS(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iS(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var gu={type:Boolean,default:!0,validator:function(e){return Ht(e)}},RJ=function(){return{disabled:Ca(Ca({},gu),{default:!1}),isFocus:Ca(Ca({},gu),{default:!1}),value:{type:String,default:""},format:{type:String,default:"HH:mm:ss"},steps:Ca({type:Array},{default:[1,1,1]}),isShowPanel:Ca(Ca({},gu),{default:!0}),activeIndex:{type:Number},presets:{type:Object},hideDisabledTime:Ca({},Fv.hideDisabledTime),disableTime:{type:Function},isFooterDisplay:Ca({},gu)}},DJ=function(){return{format:{type:String,default:"HH:mm:ss"},cols:{type:Array,default:function(){return[At.hour,At.minute,At.second]}},value:{type:String,default:""},range:{type:Array,default:function(){return[]}},steps:Ca({type:Array},{default:[1,1,1]}),hideDisabledTime:Ca({},Fv.hideDisabledTime),disableTime:{type:Function},localeMeridiems:{type:Array}}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */ve.extend(Mx),ve.extend(Fo);function pu(t,e){return ve(t,e).format(e)===t}function oS(t,e){return ve(t,e).format(e)}function jJ(t,e,n){return n<=1?e:t.sort(function(a,r){return Math.abs(e+1-a)-Math.abs(e+1-r)})[0]}function MJ(t){var e=[],n=At.meridiem,a=At.hour,r=At.minute,o=At.second,l=At.milliSecond,s=t.match(AJ);return s.forEach(function(c){switch(c){case"H":case"HH":case"h":case"hh":e.push(a);break;case"a":case"A":e.push(n);break;case"m":case"mm":e.push(r);break;case"s":case"ss":e.push(o);break;case"SSS":e.push(l);break}}),e}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var FJ=Math.ceil,LJ=Math.max;function $J(t,e,n,a){for(var r=-1,o=LJ(FJ((e-t)/(n||1)),0),l=Array(o);o--;)l[a?o:++r]=t,t+=n;return l}var BJ=$J,zJ=BJ,HJ=sf,Lv=$x;function WJ(t){return function(e,n,a){return a&&typeof a!="number"&&HJ(e,n,a)&&(n=a=void 0),e=Lv(e),n===void 0?(n=e,e=0):n=Lv(n),a=a===void 0?e<n?1:-1:Lv(a),zJ(e,n,a,t)}}var UJ=WJ,KJ=UJ,YJ=KJ(),lS=YJ,qJ=9007199254740991,GJ=Math.floor;function XJ(t,e){var n="";if(!t||e<1||e>qJ)return n;do e%2&&(n+=t),e=GJ(e/2),e&&(t+=t);while(e);return n}var JJ=XJ,ZJ=Hm,QJ=ZJ("length"),VJ=QJ,sS="\\ud800-\\udfff",eZ="\\u0300-\\u036f",tZ="\\ufe20-\\ufe2f",nZ="\\u20d0-\\u20ff",aZ=eZ+tZ+nZ,rZ="\\ufe0e\\ufe0f",iZ="["+sS+"]",$v="["+aZ+"]",Bv="\\ud83c[\\udffb-\\udfff]",oZ="(?:"+$v+"|"+Bv+")",cS="[^"+sS+"]",uS="(?:\\ud83c[\\udde6-\\uddff]){2}",dS="[\\ud800-\\udbff][\\udc00-\\udfff]",lZ="\\u200d",fS=oZ+"?",vS="["+rZ+"]?",sZ="(?:"+lZ+"(?:"+[cS,uS,dS].join("|")+")"+vS+fS+")*",cZ=vS+fS+sZ,uZ="(?:"+[cS+$v+"?",$v,uS,dS,iZ].join("|")+")",hS=RegExp(Bv+"(?="+Bv+")|"+uZ+cZ,"g");function dZ(t){for(var e=hS.lastIndex=0;hS.test(t);)++e;return e}var fZ=dZ,vZ=VJ,hZ=kc,gZ=fZ;function pZ(t){return hZ(t)?gZ(t):vZ(t)}var gS=pZ,pS=JJ,mZ=$m,yZ=e0,bZ=kc,wZ=gS,CZ=l0,xZ=Math.ceil;function SZ(t,e){e=e===void 0?" ":mZ(e);var n=e.length;if(n<2)return n?pS(e,t):e;var a=pS(e,xZ(t/wZ(e)));return bZ(e)?yZ(CZ(a),0,t).join(""):a.slice(0,t)}var OZ=SZ,kZ=OZ,PZ=gS,_Z=Bx,IZ=Tr;function NZ(t,e,n){t=IZ(t),e=_Z(e);var a=e?PZ(t):0;return e&&a<e?kZ(e-a,n)+t:t}var mS=NZ;function yS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function bS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yS(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yS(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}ve.extend(Fo);var ur=[At.hour,At.minute,At.second,At.milliSecond],TZ={top:15,bottom:21},EZ=i.defineComponent({name:"TTimePickerPanelCol",props:bS(bS({},DJ()),{},{position:String,triggerScroll:Boolean,onChange:Function,resetTriggerScroll:Function,isShowPanel:Boolean}),setup:function(e){var n=Re("timePicker"),a=n.globalConfig,r=ae("time-picker__panel"),o=lt(),l=o.STATUS,s=i.toRefs(e),c=s.steps,d=s.value,u=s.format,f=s.position,v=s.triggerScroll,h=i.ref([]),g=i.ref(),p=i.ref(null),m=i.reactive({0:null,1:null,2:null,3:null,4:null,5:null}),y=i.computed(function(){var O=!!c.value.filter(function(S){return Number(S)>1}).length;return d.value?ve(d.value,u.value):O?ve().hour(0).minute(0).second(0):ve()});i.watch(function(){return y.value},function(){y.value&&d.value&&D(!0)}),i.watch(function(){return v.value},function(){v.value&&D(!0)}),i.onMounted(function(){h.value=MJ(u.value)});var b=function(){var S,_=(S=p.value)===null||S===void 0?void 0:S.querySelector("div");return _?{offsetHeight:parseFloat(getComputedStyle(_).height),margin:parseFloat(getComputedStyle(_).marginTop)}:{offsetHeight:0,margin:0}},w=function(S,_){var A=ur.indexOf(S);if(A!==-1){var E,R=[y.value.hour(),y.value.minute(),y.value.second(),y.value.millisecond()];return R[A]=Number(_),!((E=e.disableTime)!==null&&E!==void 0&&(E=E.call.apply(E,[e].concat(R,[{partial:f.value||"start"}])))!==null&&E!==void 0&&(E=E[S])!==null&&E!==void 0&&E.includes(Number(_)))}return!0},C=function(S){var _=0;if(ur.includes(S)){var A=ur.indexOf(S),E=c.value[A]||1;S===At.hour?_=rS.test(u.value)?11:23:S===At.milliSecond?_=999:_=59;var R=lS(0,_+1,Number(E)).map(function(N){return mS(String(N),2,"0")})||[];return e.hideDisabledTime&&e.disableTime?R.filter(function(N){var F,M=[y.value.hour(),y.value.minute(),y.value.second(),y.value.millisecond()];return M[A]=Number(N),!((F=e.disableTime)!==null&&F!==void 0&&(F=F.call.apply(F,[e].concat(M,[{partial:f.value||"start"}])))!==null&&F!==void 0&&(F=F[S])!==null&&F!==void 0&&F.includes(Number(N)))}):R}return aS},x=function(S,_){S===At.hour&&/[h]{1}/.test(u.value)&&(_%=12);var A=C(S).indexOf(mS(String(_),2,"0")),E=b(),R=E.offsetHeight,N=E.margin,F=R+N,M=Math.abs(Math.max(0,A)*F);return M},k=function(S,_,A){var E,R,N,F;if(e.isShowPanel){var M=(((E=m[_])===null||E===void 0?void 0:E.scrollTop)||0)+TZ.top,$=b(),W=$.offsetHeight,H=$.margin,K=W+H,z=Math.abs(Math.round(M/K+.5)),B=aS[Math.min(z-1,1)].toLowerCase();if(Number.isNaN(z)&&(z=1),ur.includes(S)){var q=59;S===At.hour?q=/[h]{1}/.test(u.value)?11:23:S===At.milliSecond&&(q=999);var Y=ur.indexOf(S),X=lS(0,q+1,Number(c.value[Y])||1);N=jJ(X,Number(C(S)[Math.min(z-1,q+1,X.length-1)]),Number(c.value[Y])||1),Number.isNaN(N)&&(N=X[X.length-1]),S===At.hour&&h.value.includes(At.meridiem)&&y.value.hour()>=12&&(N=Number(N)+12)}else N=B;var T=x(S,N);if(!(!ve(y.value).isValid()||d.value&&!ve(d.value,u.value,!0).isValid())){if(ur.includes(S)){var j,U;w(S,N)?F=(j=(U=y.value)[S])===null||j===void 0?void 0:j.call(U,N).format(u.value):F=y.value.format(u.value)}else{var J=y.value.hour();B===vu&&J>=12?F=y.value.hour(J-12).format(u.value):B===hu&&J<12?F=y.value.hour(J+12).format(u.value):F=y.value.format(u.value)}if(F!==d.value&&((R=e.onChange)===null||R===void 0||R.call(e,F,A)),T!==M){var Z,Q=m[h.value.indexOf(S)];if(!Q||Q.scrollTop===T)return;(Z=Q.scrollTo)===null||Z===void 0||Z.call(Q,{top:T,behavior:"smooth"})}}}},P=function(S,_,A){var E,R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"auto",N=x(S,_),F=m[A];!F||F.scrollTop===N||!w(S,_)||(E=F.scrollTo)===null||E===void 0||E.call(F,{top:N,behavior:R})},I=function(S,_,A,E){if(w(S,_))if(ur.includes(S))S===At.hour&&y.value.format("a")===hu&&h.value.includes(At.meridiem)&&(_=Number(_)+12),P(S,_,A,"smooth");else{var R=y.value.hour();if(_===vu&&R>=12){var N;(N=e.onChange)===null||N===void 0||N.call(e,y.value.hour(R-12).format(u.value),E)}else if(_===hu&&R<12){var F;(F=e.onChange)===null||F===void 0||F.call(e,y.value.hour(R+12).format(u.value),E)}}},D=function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,_=d.value&&!S?"smooth":"auto",A=!!c.value.filter(function(E){return Number(E)>1}).length;i.nextTick(function(){h.value.forEach(function(E,R){if(!A||A&&d.value){var N,F;P(E,ur.includes(E)?(N=(F=y.value)[E])===null||N===void 0?void 0:N.call(F):y.value.format("a"),R,_)}else{var M;P(E,(M=C(E))===null||M===void 0?void 0:M[0],R,_)}})}),e.resetTriggerScroll()},L=function(S,_){var A,E,R;if(S===At.meridiem){var N=y.value.format("a");return N===_}return R=(A=(E=y.value)[S])===null||A===void 0?void 0:A.call(E),S===At.hour&&/[h]{1}/.test(u.value)&&(R%=12),R===Number(_)};return function(){var O,S,_,A;return i.createVNode("div",{class:"".concat(r.value,"-body"),ref:g},[i.createVNode("div",{class:"".concat(r.value,"-body-active-mask"),ref:p},[(O=(S=h.value).map)===null||O===void 0?void 0:O.call(S,function(E,R){return i.createVNode("div",{key:"".concat(E,"_").concat(R)},null)})]),(_=(A=h.value).map)===null||_===void 0?void 0:_.call(A,function(E,R){return i.createVNode("ul",{key:"".concat(E,"_").concat(R),ref:function(F){return m[R]=F},class:"".concat(r.value,"-body-scroll"),onScroll:ar(function(N){return k(E,R,N)},50)},[C(E).map(function(N){return i.createVNode("li",{key:N,class:["".concat(r.value,"-body-scroll-item"),G(G({},l.value.disabled,!w(E,N)),l.value.current,L(E,N))],onClick:function(M){return I(E,N,R,M)}},[ur.includes(E)?rS.test(u.value)&&E===At.hour&&N==="00"?"12":N:a.value[N===vu?"anteMeridiem":"postMeridiem"]])})])})])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function wS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function CS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wS(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wS(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function AZ(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!i.isVNode(t)}ve.extend(Fo);var mu=i.defineComponent({name:"TTimePickerPanel",props:CS(CS({},RJ()),{},{isFooterDisplay:Boolean,handleConfirmClick:Function,onChange:Function}),setup:function(e){var n=Re("timePicker"),a=n.globalConfig,r=ae("time-picker__panel"),o=i.toRefs(e),l=o.steps,s=o.isFooterDisplay,c=o.isShowPanel,d=i.ref(!1),u=i.ref(),f=i.computed(function(){return!!l.value.filter(function(y){return Number(y)>1}).length}),v=i.computed(function(){var y=f.value,b=ve(e.value,e.format);return e.value&&b.isValid()?b.format(e.format):ve().hour(0).minute(0).second(0).format(e.format)}),h=function(){i.nextTick(function(){d.value=!0})},g=function(){d.value=!1},p=function(b){var w=typeof b=="function"?b():b;if(typeof e.activeIndex=="number")if(Array.isArray(w)){var C;(C=e.onChange)===null||C===void 0||C.call(e,w[e.activeIndex])}else He.error("TimePicker","preset: ".concat(e.presets," 预设值必须是数组!"));else{var x;(x=e.onChange)===null||x===void 0||x.call(e,w)}},m=function(){return Kt(e.presets)?f.value?null:i.createVNode(Ec,{theme:"primary",variant:"text",size:"small",onClick:function(){var w;return(w=e.onChange)===null||w===void 0?void 0:w.call(e,ve().format(e.format))}},{default:function(){return[a.value.now]}}):Object.keys(e.presets||[]).map(function(b){return i.createVNode(Ec,{key:b,theme:"primary",size:"small",variant:"text",onClick:function(){return p(e.presets[b])}},AZ(b)?b:{default:function(){return[b]}})})};return i.onMounted(function(){h()}),i.watch(function(){return c.value},function(){h()}),function(){return i.createVNode("div",{class:r.value},[i.createVNode("div",{class:"".concat(r.value,"-section-body")},[i.createVNode(EZ,i.mergeProps(e,{ref:u,format:e.format||EJ,steps:e.steps||TJ,value:ve(e.value,e.format).isValid()?e.value:v.value,triggerScroll:d.value,onChange:e.onChange,resetTriggerScroll:g,isShowPanel:e.isShowPanel}),null)]),s.value?i.createVNode("div",{class:"".concat(r.value,"-section-footer")},[i.createVNode(Ec,{theme:"primary",variant:"base",disabled:!e.value,onClick:function(){var b;return(b=e.handleConfirmClick)===null||b===void 0?void 0:b.call(e,v.value)},size:"small"},{default:function(){return[a.value.confirm]}}),m()]):null])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function xS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function RZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xS(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xS(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var yu=i.defineComponent({name:"TPanelContent",props:{mode:String,format:String,enableTimePicker:Boolean,timePickerProps:{type:Object,default:function(){return{}}},year:Number,month:Number,tableData:Array,time:String,firstDayOfWeek:Number,partial:String,popupVisible:Boolean,onYearChange:Function,onMonthChange:Function,onJumperClick:Function,onCellMouseEnter:Function,onCellClick:Function,onCellMouseLeave:Function,onTimePickerChange:Function,value:[String,Number,Array,Date]},setup:function(e){var n=ae("date-picker__panel"),a=wa({mode:e.mode,format:e.format,enableTimePicker:e.enableTimePicker}),r=a.timeFormat,o="00:00:00";return function(){return i.createVNode("div",{class:"".concat(n.value,"-content")},[i.createVNode("div",{class:"".concat(n.value,"-").concat(e.mode)},[i.createVNode(PJ,{mode:e.mode,year:e.year,month:e.month,onMonthChange:function(s){var c;return(c=e.onMonthChange)===null||c===void 0?void 0:c.call(e,s,{partial:e.partial})},onYearChange:function(s){var c;return(c=e.onYearChange)===null||c===void 0?void 0:c.call(e,s,{partial:e.partial})},onJumperClick:function(s){var c,d=s.trigger;return(c=e.onJumperClick)===null||c===void 0?void 0:c.call(e,{trigger:d,partial:e.partial})}},null),i.createVNode(NJ,{mode:e.mode,data:e.tableData,time:e.time,value:e.value,format:e.format,firstDayOfWeek:e.firstDayOfWeek,onCellClick:function(s,c){var d,u=c.e;return(d=e.onCellClick)===null||d===void 0?void 0:d.call(e,s,{e:u,partial:e.partial})},onCellMouseEnter:function(s){var c;return(c=e.onCellMouseEnter)===null||c===void 0?void 0:c.call(e,s,{partial:e.partial})},onCellMouseLeave:e.onCellMouseLeave},null)]),e.enableTimePicker&&i.createVNode("div",{class:"".concat(n.value,"-time")},[i.createVNode("div",{class:"".concat(n.value,"-time-viewer")},[e.time||o]),i.createVNode(mu,RZ({key:e.partial,isShowPanel:e.popupVisible,format:r,value:e.time||o,onChange:e.onTimePickerChange},e.timePickerProps),null)])])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function SS(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!i.isVNode(t)}var DZ=i.defineComponent({name:"TDatePickerTable",props:{enableTimePicker:Boolean,presetsPlacement:String,presets:Object,needConfirm:{type:Boolean,default:!0},selectedValue:[Date,String,Number],onPresetClick:Function,onConfirmClick:Function},setup:function(e){var n=ae("date-picker__footer"),a=ae("date-picker__presets"),r=Re("datePicker"),o=r.t,l=r.globalConfig,s=i.computed(function(){return[n.value,"".concat(n.value,"--").concat(e.presetsPlacement)]});return function(){var c;return i.createVNode("div",{class:s.value},[i.createVNode("div",{class:a.value},[e.presets&&Object.keys(e.presets).map(function(d){return i.createVNode(vt,{key:d,size:"small",variant:"text",onClick:function(f){var v;return(v=e.onPresetClick)===null||v===void 0?void 0:v.call(e,e.presets[d],{e:f,preset:G({},d,e.presets[d])})}},SS(d)?d:{default:function(){return[d]}})})]),e.enableTimePicker&&e.needConfirm&&i.createVNode(vt,{disabled:!e.selectedValue,size:"small",theme:"primary",onClick:function(u){var f;return(f=e.onConfirmClick)===null||f===void 0?void 0:f.call(e,{e:u})}},SS(c=o(l.value.confirm))?c:{default:function(){return[c]}})])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var bu=i.defineComponent({name:"TExtraContent",props:{presets:Object,enableTimePicker:Boolean,presetsPlacement:String,needConfirm:{type:Boolean,default:!0},onPresetClick:Function,onConfirmClick:Function,selectedValue:[String,Number,Array,Date]},setup:function(e){var n=i.computed(function(){return e.enableTimePicker&&e.needConfirm||e.presets});return function(){return n.value?i.createVNode(DZ,{presets:e.presets,onPresetClick:e.onPresetClick,enableTimePicker:e.enableTimePicker,onConfirmClick:e.onConfirmClick,presetsPlacement:e.presetsPlacement,selectedValue:e.selectedValue,needConfirm:e.needConfirm},null):null}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function zv(t){var e,n=Re("datePicker"),a=n.globalConfig,r={minDate:t.minDate,maxDate:t.maxDate,disableDate:t.disableDate,firstDayOfWeek:(e=t.firstDayOfWeek)!==null&&e!==void 0?e:a.value.firstDayOfWeek,monthLocal:a.value.months,quarterLocal:a.value.quarters,showWeekOfYear:t.mode==="week",dayjsLocale:a.value.dayjsLocale,cancelRangeSelectLimit:t.cancelRangeSelectLimit},o=[];return t.mode==="date"?o=Qx({year:t.year,month:t.month},r):t.mode==="week"?o=Qx({year:t.year,month:t.month},r):t.mode==="quarter"?o=yJ(t.year,r):t.mode==="month"?o=wJ(t.year,r):t.mode==="year"&&(o=bJ(t.year,r)),CJ(o,{start:t.start,end:t.end,hoverStart:t.hoverStart,hoverEnd:t.hoverEnd,type:t.mode,isRange:t.isRange,value:t.value,multiple:t.multiple})}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function OS(t){return{disableDate:function(n){return!jZ({disableDate:t.disableDate,format:t.format,mode:t.mode,value:n})},minDate:Le(t.disableDate)&&"before"in t.disableDate?new Date(t.disableDate.before):t.start,maxDate:Le(t.disableDate)&&"after"in t.disableDate?new Date(t.disableDate.after):t.end}}function jZ(t){if(!t.disableDate)return!0;var e=!0;if(pe(t.disableDate))return!t.disableDate(t.value);if(Ie(t.disableDate)){var n=!1,a=t.disableDate.map(function(v){return ve(v,t.format)});return a.forEach(function(v){v.isSame(ve(t.value))&&(n=!0)}),!n}if(t.disableDate.from&&t.disableDate.to){var r=ve(new Date(t.disableDate.from)),o=ve(new Date(t.disableDate.to));return!ve(t.value).isBetween(r,o,t.mode,"[]")}var l=t.disableDate.before?new Date(t.disableDate.before):null,s=t.disableDate.after?new Date(t.disableDate.after):null;if(s&&l){var c=ve(new Date(l)),d=ve(new Date(s));e=ve(t.value).isBetween(c,d,t.mode,"[]")}else if(l){var u=ve(new Date(l));e=!ve(t.value).isBefore(u,t.mode)}else if(s){var f=ve(new Date(s));e=!ve(t.value).isAfter(f,t.mode)}return e}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function kS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function MZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kS(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kS(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var PS=i.defineComponent({name:"TSinglePanel",props:{disableDate:[Object,Array,Function],mode:{type:String,default:"date"},format:String,presetsPlacement:{type:String,default:"bottom"},value:[String,Number,Array,Date],timePickerProps:Object,presets:Object,enableTimePicker:Boolean,firstDayOfWeek:Number,year:Number,month:Number,time:String,popupVisible:Boolean,needConfirm:{type:Boolean,default:!0},onPanelClick:Function,onCellClick:Function,onCellMouseEnter:Function,onCellMouseLeave:Function,onJumperClick:Function,onConfirmClick:Function,onPresetClick:Function,onYearChange:Function,onMonthChange:Function,onTimePickerChange:Function},setup:function(e){var n=ae("date-picker__panel"),a=Re("datePicker"),r=a.globalConfig,o=i.computed(function(){var u;return(u=wa({mode:e.mode,format:e.format,enableTimePicker:e.enableTimePicker}))===null||u===void 0?void 0:u.format}),l=i.computed(function(){return OS({format:o.value,mode:e.mode,disableDate:e.disableDate})}),s=i.computed(function(){return zv(MZ({year:e.year,month:e.month,mode:e.mode,start:e.value?We(e.value,o.value).toDate():void 0,firstDayOfWeek:e.firstDayOfWeek||r.value.firstDayOfWeek},l.value))}),c=i.computed(function(){return{format:o.value,value:e.value,mode:e.mode,year:e.year,month:e.month,firstDayOfWeek:e.firstDayOfWeek||r.value.firstDayOfWeek,tableData:s.value,popupVisible:e.popupVisible,enableTimePicker:e.enableTimePicker,timePickerProps:e.timePickerProps,time:e.time,onMonthChange:e.onMonthChange,onYearChange:e.onYearChange,onJumperClick:e.onJumperClick,onCellClick:e.onCellClick,onCellMouseEnter:e.onCellMouseEnter,onCellMouseLeave:e.onCellMouseLeave,onTimePickerChange:e.onTimePickerChange}}),d=i.computed(function(){return{presets:e.presets,enableTimePicker:e.enableTimePicker,presetsPlacement:e.presetsPlacement,onPresetClick:e.onPresetClick,onConfirmClick:e.onConfirmClick,selectedValue:e.value,needConfirm:e.needConfirm}});return function(){return i.createVNode("div",{class:[n.value,G({},"".concat(n.value,"--direction-row"),["left","right"].includes(e.presetsPlacement))],onClick:function(f){var v;return(v=e.onPanelClick)===null||v===void 0?void 0:v.call(e,{e:f})}},[["top","left"].includes(e.presetsPlacement)?i.createVNode(bu,d.value,null):null,i.createVNode(yu,c.value,null),["bottom","right"].includes(e.presetsPlacement)?i.createVNode(bu,d.value,null):null])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var FZ=Ia,LZ=Ln,$Z="[object Date]";function BZ(t){return LZ(t)&&FZ(t)==$Z}var zZ=BZ,HZ=zZ,WZ=oo,_S=ti.exports,IS=_S&&_S.isDate,UZ=IS?WZ(IS):HZ,KZ=UZ;function NS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function YZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NS(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NS(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var qZ=i.defineComponent({name:"TDatePicker",props:YZ({},Un),setup:function(e){var n=ae("date-picker"),a=kJ(e),r=a.inputValue,o=a.popupVisible,l=a.inputProps,s=a.popupProps,c=a.isHoverCell,d=a.cacheValue,u=a.value,f=a.year,v=a.month,h=a.time,g=a.inputRef,p=a.onChange,m=St(),y=Pe(),b=Re("datePicker"),w=b.globalConfig,C=i.computed(function(){return wa({mode:e.mode,format:e.format,valueType:e.valueType,enableTimePicker:e.enableTimePicker})}),x=i.computed(function(){return{value:u.value,displayValue:r.value}});i.watch(o,function(R){var N;if(!e.needConfirm&&e.enableTimePicker&&!R){var F=Qe(r.value,{format:C.value.format});F?p==null||p(Qe(r.value,{format:C.value.format,targetFormat:C.value.valueType}),{dayjsValue:We(r.value,C.value.format),trigger:"confirm"}):r.value=Qe(u.value,{format:C.value.format})}var M=u.value&&!KZ(u.value)&&!["week","quarter"].includes(e.mode)?xJ(u.value,(N=C.value)===null||N===void 0?void 0:N.valueType):u.value;d.value=Qe(M,{format:C.value.valueType,targetFormat:C.value.format}),r.value=Qe(M,{format:C.value.valueType,targetFormat:C.value.format}),R?(f.value=We(u.value,C.value.valueType).year(),v.value=We(u.value,C.value.format).month(),h.value=Bo(u.value,C.value.format,C.value.timeFormat,e.defaultTime)):c.value=!1});function k(R){c.value=!0,r.value=Qe(R,{format:C.value.format})}function P(){c.value=!1,r.value=Qe(d.value,{format:C.value.format})}function I(R){var N;c.value=!1,e.mode==="date"&&(f.value=R.getFullYear(),v.value=R.getMonth()),e.enableTimePicker?d.value=Qe(R,{format:C.value.format}):(p==null||p(Qe(R,{format:C.value.format,targetFormat:C.value.valueType}),{dayjsValue:We(R,C.value.format),trigger:"pick"}),o.value=!1),(N=e.onPick)===null||N===void 0||N.call(e,R)}function D(R){var N=R.trigger,F={date:1,week:1,month:12,quarter:12,year:120},M=F[e.mode]||0,$=new Date(f.value,v.value),W=null;N==="prev"?W=cu($,M):N==="current"?W=new Date:N==="next"&&(W=uu($,M));var H=W.getFullYear(),K=W.getMonth();f.value=H,v.value=K}function L(R){var N;h.value=R;var F=$o(R),M=F.hours,$=F.minutes,W=F.seconds,H=F.milliseconds,K=F.meridiem,z=M;/am/i.test(K)&&z===12&&(z-=12),/pm/i.test(K)&&z<12&&(z+=12);var B=ve(r.value,C.value.format).isValid()?ve(r.value,C.value.format):ve(),q=B.hour(z).minute($).second(W).millisecond(H).toDate();r.value=Qe(q,{format:C.value.format}),d.value=Qe(q,{format:C.value.format}),(N=e.onPick)===null||N===void 0||N.call(e,q)}function O(R){var N=R.e,F=Qe(r.value,{format:C.value.format});if(F){var M;e==null||(M=e.onConfirm)===null||M===void 0||M.call(e,{date:ve(F).toDate(),e:N}),p==null||p(Qe(r.value,{format:C.value.format,targetFormat:C.value.valueType}),{dayjsValue:We(r.value,C.value.format),trigger:"confirm"})}else r.value=Qe(u.value,{format:C.value.format});o.value=!1}function S(R){var N=pe(R)?R():R;p==null||p(Qe(N,{format:C.value.format,targetFormat:C.value.valueType}),{dayjsValue:We(N,C.value.format),trigger:"preset"}),o.value=!1}function _(R){f.value=R}function A(R){v.value=R}var E=i.computed(function(){return{value:d.value,year:f.value,month:v.value,format:C.value.format,mode:e.mode,presets:e.presets,time:h.value,disableDate:e.disableDate,firstDayOfWeek:e.firstDayOfWeek,timePickerProps:e.timePickerProps,enableTimePicker:e.enableTimePicker,presetsPlacement:e.presetsPlacement,popupVisible:o.value,needConfirm:e.needConfirm,onCellClick:I,onCellMouseEnter:k,onCellMouseLeave:P,onJumperClick:D,onConfirmClick:O,onPresetClick:S,onYearChange:_,onMonthChange:A,onTimePickerChange:L,onPanelClick:function(){var N,F;return(N=g.value)===null||N===void 0||(F=N.focus)===null||F===void 0?void 0:F.call(N)}}});return function(){return i.createVNode("div",{class:n.value},[i.createVNode(Do,i.mergeProps({borderless:e.borderless,disabled:m.value,value:r.value,label:e.label,status:e.status,tips:e.tips,clearable:e.clearable,popupProps:s.value,inputProps:l.value,placeholder:e.placeholder||w.value.placeholder[e.mode],popupVisible:o.value,valueDisplay:function(){return y("valueDisplay",{params:x.value})},needConfirm:e.needConfirm},e.selectInputProps,{panel:function(){return i.createVNode(PS,E.value,null)}}),null)])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var GZ={defaultTime:{type:String,default:"00:00:00"},onCellClick:Function,onChange:Function,onConfirm:Function,onMonthChange:Function,onPanelClick:Function,onPresetClick:Function,onTimeChange:Function,onYearChange:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function TS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function XZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TS(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TS(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var JZ=i.defineComponent({name:"TDatePickerPanel",props:XZ({value:Un.value,defaultValue:Un.defaultValue,modelValue:Un.modelValue,disabled:Un.disabled,disableDate:Un.disableDate,enableTimePicker:Un.enableTimePicker,firstDayOfWeek:Un.firstDayOfWeek,format:Un.format,mode:Un.mode,presets:Un.presets,presetsPlacement:Un.presetsPlacement,timePickerProps:Un.timePickerProps},GZ),setup:function(e){var n=eS(e),a=n.cacheValue,r=n.value,o=n.year,l=n.month,s=n.time,c=n.onChange,d=i.computed(function(){return wa({mode:e.mode,format:e.format,enableTimePicker:e.enableTimePicker})});function u(b,w){var C,x=w.e;(C=e.onCellClick)===null||C===void 0||C.call(e,{date:b,e:x}),e.mode==="date"&&(o.value=b.getFullYear(),l.value=b.getMonth()),e.enableTimePicker?a.value=Qe(b,{format:d.value.format}):c==null||c(Qe(b,{format:d.value.format}),{dayjsValue:We(b,d.value.format),trigger:"pick"})}function f(b){var w=b.trigger,C={prev:"arrow-previous",next:"arrow-next"},x={date:1,week:1,month:12,quarter:12,year:120},k=x[e.mode]||0,P=new Date(o.value,l.value),I=null;w==="prev"?I=cu(P,k):w==="current"?I=new Date:w==="next"&&(I=uu(P,k));var D=I.getFullYear(),L=I.getMonth();if(o.value!==D){var O;(O=e.onYearChange)===null||O===void 0||O.call(e,{year:D,date:ve(r.value).toDate(),trigger:w==="current"?"today":"year-".concat(C[w])})}if(l.value!==L){var S;(S=e.onMonthChange)===null||S===void 0||S.call(e,{month:L,date:ve(r.value).toDate(),trigger:w==="current"?"today":"month-".concat(C[w])})}o.value=D,l.value=L}function v(b){var w;s.value=b;var C=$o(b),x=C.hours,k=C.minutes,P=C.seconds,I=C.milliseconds,D=C.meridiem,L=x;/am/i.test(D)&&L===12&&(L-=12),/pm/i.test(D)&&L<12&&(L+=12);var O=ve(a.value,d.value.format).isValid()?ve(a.value,d.value.format):ve(),S=O.hour(L).minute(k).second(P).millisecond(I).toDate();a.value=Qe(S,{format:d.value.format}),(w=e.onTimeChange)===null||w===void 0||w.call(e,{time:b,date:ve(r.value).toDate(),trigger:"time-hour"})}function h(b){var w,C=b.e;c==null||c(Qe(a.value,{format:d.value.format}),{dayjsValue:We(a.value,d.value.format),trigger:"confirm"}),(w=e.onConfirm)===null||w===void 0||w.call(e,{date:ve(a.value).toDate(),e:C})}function g(b,w){var C,x=pe(b)?b():b;c==null||c(Qe(x,{format:d.value.format}),{dayjsValue:We(x,d.value.format),trigger:"preset"}),(C=e.onPresetClick)===null||C===void 0||C.call(e,w)}function p(b){var w;o.value=b,(w=e.onYearChange)===null||w===void 0||w.call(e,{year:o.value,date:ve(r.value).toDate(),trigger:"year-select"})}function m(b){var w;l.value=b,(w=e.onMonthChange)===null||w===void 0||w.call(e,{month:l.value,date:ve(r.value).toDate(),trigger:"month-select"})}var y=i.computed(function(){return{value:a.value,year:o.value,month:l.value,mode:e.mode,format:d.value.format,presets:e.presets,time:s.value,disableDate:e.disableDate,firstDayOfWeek:e.firstDayOfWeek,timePickerProps:e.timePickerProps,enableTimePicker:e.enableTimePicker,presetsPlacement:e.presetsPlacement,popupVisible:!0,panelClick:e.onPanelClick,onCellClick:u,onJumperClick:f,onConfirmClick:h,onPresetClick:g,onYearChange:p,onMonthChange:m,onTimePickerChange:v}});return function(){return i.createVNode(PS,y.value,null)}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Nn={allowInput:Boolean,borderless:Boolean,cancelRangeSelectLimit:Boolean,clearable:Boolean,defaultTime:{type:Array,default:function(){return["00:00:00","23:59:59"]}},disableDate:{type:[Object,Array,Function]},disabled:{type:Boolean,default:void 0},enableTimePicker:Boolean,firstDayOfWeek:{type:Number,validator:function(e){return e?[1,2,3,4,5,6,7].includes(e):!0}},format:{type:String,default:""},label:{type:[String,Function]},mode:{type:String,default:"date",validator:function(e){return e?["year","quarter","month","week","date"].includes(e):!0}},needConfirm:{type:Boolean,default:!0},panelPreselection:{type:Boolean,default:!0},placeholder:{type:[String,Array]},popupProps:{type:Object},prefixIcon:{type:Function},presets:{type:Object},presetsPlacement:{type:String,default:"bottom",validator:function(e){return e?["left","top","right","bottom"].includes(e):!0}},rangeInputProps:{type:Object},separator:{type:String,default:""},size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},status:{type:String,default:"default",validator:function(e){return e?["default","success","warning","error"].includes(e):!0}},suffixIcon:{type:Function},timePickerProps:{type:Object},tips:{type:[String,Function]},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array,default:function(){return[]}},valueType:{type:String,validator:function(e){return e?["time-stamp","Date","YYYY","YYYY-MM","YYYY-MM-DD","YYYY-MM-DD HH","YYYY-MM-DD HH:mm","YYYY-MM-DD HH:mm:ss","YYYY-MM-DD HH:mm:ss:SSS"].includes(e):!0}},onBlur:Function,onChange:Function,onConfirm:Function,onFocus:Function,onInput:Function,onPick:Function,onPresetClick:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var ZZ={activeIndex:{type:Number},borderless:Boolean,clearable:Boolean,disabled:{type:Boolean,default:void 0},format:{type:[Array,Function]},inputProps:{type:[Object,Array]},label:{type:[String,Function]},placeholder:{type:[String,Array]},prefixIcon:{type:Function},readonly:{type:Boolean,default:void 0},separator:{type:[String,Function],default:"-"},showClearIconOnEmpty:Boolean,size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},status:{type:String,default:"default",validator:function(e){return e?["default","success","warning","error"].includes(e):!0}},suffix:{type:[String,Function]},suffixIcon:{type:Function},tips:{type:[String,Function]},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array,default:function(){return[]}},onBlur:Function,onChange:Function,onClear:Function,onClick:Function,onEnter:Function,onFocus:Function,onMouseenter:Function,onMouseleave:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function ES(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function AS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ES(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ES(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Hv(t){return Ie(t)?t:[t,t]}var RS=i.defineComponent({name:"TRangeInput",inheritAttrs:!1,props:ZZ,setup:function(e,n){var a=n.expose,r=n.attrs,o=i.toRefs(e),l=o.value,s=o.modelValue,c=lt(),d=c.STATUS,u=c.SIZE,f=ae(),v=ae("range-input"),h=Ve({CloseCircleFilledIcon:xo}),g=h.CloseCircleFilledIcon,p=Pe(),m=St(),y=mn(),b=i.ref(!1),w=i.ref(!1),C=i.computed(function(){return Hv(e.format)}),x=i.computed(function(){return Hv(e.inputProps)}),k=i.computed(function(){return Hv(e.placeholder)}),P=ot(l,s,e.defaultValue,e.onChange),I=Ce(P,2),D=I[0],L=I[1],O=i.computed(function(){var $,W,H;return String(($=((W=D.value)===null||W===void 0?void 0:W[0])||((H=D.value)===null||H===void 0?void 0:H[1]))!==null&&$!==void 0?$:"")}),S=i.computed(function(){var $;return(e.clearable&&(($=O.value)===null||$===void 0?void 0:$.length)&&!m.value||e.showClearIconOnEmpty)&&w.value}),_={firstInputRef:i.ref(),secondInputRef:i.ref()};function A($){var W;(W=e.onClear)===null||W===void 0||W.call(e,$),L(["",""],AS(AS({},$),{},{trigger:"clear",position:"all"}))}function E($,W){var H;(H=e.onEnter)===null||H===void 0||H.call(e,$,W)}function R($,W){var H;b.value=!0,(H=e.onFocus)===null||H===void 0||H.call(e,$,W)}function N($,W){var H;b.value=!1,(H=e.onBlur)===null||H===void 0||H.call(e,$,W)}function F($){var W;w.value=!0,e==null||(W=e.onMouseenter)===null||W===void 0||W.call(e,{e:$})}function M($){var W;w.value=!1,e==null||(W=e.onMouseleave)===null||W===void 0||W.call(e,{e:$})}return a({firstInputElement:_.firstInputRef.value,secondInputElement:_.secondInputRef.value,focus:function(W){var H,K=W||{},z=K.position,B=z===void 0?"first":z;(H=_["".concat(B,"InputRef")].value)===null||H===void 0||H.focus()},blur:function(W){var H,K=W||{},z=K.position,B=z===void 0?"first":z;(H=_["".concat(B,"InputRef")].value)===null||H===void 0||H.blur()},select:function(W){var H,K=W||{},z=K.position,B=z===void 0?"first":z;(H=_["".concat(B,"InputRef")].value)===null||H===void 0||H.select()}}),function(){var $,W,H=p("label"),K=p("prefixIcon"),z=p("suffix"),B=p("suffixIcon"),q=p("tips"),Y=p("separator"),X=i.createVNode("div",i.mergeProps(r,{class:[v.value,G(G(G(G(G(G(G(G(G({},u.value[e.size],e.size!=="medium"),d.value.disabled,m.value),d.value.focused,b.value),d.value.success,e.status==="success"),d.value.warning,e.status==="warning"),d.value.error,e.status==="error"),"".concat(v.value,"--prefix"),K||H),"".concat(v.value,"--suffix"),z||B),"".concat(v.value,"--borderless"),e.borderless)],onMouseenter:F,onMouseleave:M}),[i.createVNode("div",{class:"".concat(v.value,"__inner")},[K&&i.createVNode("div",{class:"".concat(v.value,"__prefix")},[K]),H?i.createVNode("div",{class:"".concat(v.value,"__prefix")},[H]):null,i.createVNode(ga,i.mergeProps({ref:_.firstInputRef,class:"".concat(v.value,"__inner-left"),inputClass:G({},"".concat(f.value,"-is-focused"),e.activeIndex===0),placeholder:k.value[0],disabled:m.value,readonly:y.value,format:C.value[0],value:($=D.value)===null||$===void 0?void 0:$[0],onClick:function(U){var J,Z=U.e;return(J=e.onClick)===null||J===void 0?void 0:J.call(e,{e:Z,position:"first"})},onClear:function(){return L([],{position:"first",trigger:"input"})},onEnter:function(U,J){var Z,Q=J.e;return E([U,(Z=D.value)===null||Z===void 0?void 0:Z[1]],{e:Q,position:"first"})},onFocus:function(U,J){var Z,Q=J.e;return R([U,(Z=D.value)===null||Z===void 0?void 0:Z[1]],{e:Q,position:"first"})},onBlur:function(U,J){var Z,Q=J.e;return N([U,(Z=D.value)===null||Z===void 0?void 0:Z[1]],{e:Q,position:"first"})},onChange:function(U,J){var Z,Q=J.e;return L([U,(Z=D.value)===null||Z===void 0?void 0:Z[1]],{e:Q,position:"first",trigger:"input"})}},x.value[0]),null),i.createVNode("div",{class:"".concat(v.value,"__inner-separator")},[Y]),i.createVNode(ga,i.mergeProps({ref:_.secondInputRef,class:"".concat(v.value,"__inner-right"),inputClass:G({},"".concat(f.value,"-is-focused"),e.activeIndex===1),placeholder:k.value[1],disabled:m.value,readonly:y.value,format:C.value[1],value:(W=D.value)===null||W===void 0?void 0:W[1],onClick:function(U){var J,Z=U.e;return(J=e.onClick)===null||J===void 0?void 0:J.call(e,{e:Z,position:"second"})},onClear:function(){return L([],{position:"second",trigger:"input"})},onEnter:function(U,J){var Z,Q=J.e;return E([(Z=D.value)===null||Z===void 0?void 0:Z[0],U],{e:Q,position:"second"})},onFocus:function(U,J){var Z,Q=J.e;return R([(Z=D.value)===null||Z===void 0?void 0:Z[0],U],{e:Q,position:"second"})},onBlur:function(U,J){var Z,Q=J.e;return N([(Z=D.value)===null||Z===void 0?void 0:Z[0],U],{e:Q,position:"second"})},onChange:function(U,J){var Z,Q=J.e;return L([(Z=D.value)===null||Z===void 0?void 0:Z[0],U],{e:Q,position:"second",trigger:"input"})}},x.value[1]),null),z?i.createVNode("div",{class:"".concat(v.value,"__suffix")},[z]):null,(B||S.value)&&i.createVNode("span",{class:"".concat(v.value,"__suffix ").concat(v.value,"__suffix-icon")},[S.value?i.createVNode(g,{class:"".concat(v.value,"__suffix-clear"),onClick:A},null):B])])]),T=["".concat(v.value,"__tips"),"".concat(f.value,"-tips"),"".concat(f.value,"-is-").concat(e.status)];return i.createVNode(i.Fragment,null,[X,q&&i.createVNode("div",{class:T},[q])])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var QZ={autoWidth:Boolean,disabled:Boolean,inputValue:{type:Array,default:void 0},defaultInputValue:{type:Array},label:{type:[String,Function]},panel:{type:[String,Function]},popupProps:{type:Object},popupVisible:Boolean,rangeInputProps:{type:Object},readonly:{type:Boolean,default:void 0},status:{type:String,default:"default",validator:function(e){return e?["default","success","warning","error"].includes(e):!0}},tips:{type:[String,Function]},onInputChange:Function,onPopupVisibleChange:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function DS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function jS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DS(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DS(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var VZ=i.defineComponent({name:"TRangeInputPopup",props:QZ,setup:function(e){var n=ae("range-input-popup"),a=MC(e),r=a.tOverlayInnerStyle,o=a.innerPopupVisible,l=a.onInnerPopupVisibleChange,s=i.computed(function(){return[n.value,G({},"".concat(n.value,"--visible"),e.popupVisible||o.value)]});return function(){return i.createVNode("div",{class:s.value},[i.createVNode(Bn,i.mergeProps({hideEmptyPopup:!0,content:e.panel,trigger:"click",placement:"bottom-left",disabled:e.disabled,visible:e.popupVisible||o.value},jS({overlayInnerStyle:r.value,onVisibleChange:l},e.popupProps)),{default:function(){return[i.createVNode(RS,jS({value:e.inputValue,onChange:e.onInputChange,disabled:e.disabled,label:e.label,status:e.status,tips:e.tips},e.rangeInputProps),null)]}})])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var eQ=be(RS),Wv=be(VZ);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function MS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function wu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MS(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MS(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var FS=i.defineComponent({name:"TRangePanel",props:{hoverValue:Array,activeIndex:Number,isFirstValueSelected:Boolean,disableDate:[Object,Array,Function],mode:{type:String,default:"date"},format:String,presetsPlacement:{type:String,default:"bottom"},value:Array,timePickerProps:Object,presets:Object,popupVisible:Boolean,enableTimePicker:Boolean,panelPreselection:Boolean,firstDayOfWeek:Number,year:Array,month:Array,time:Array,cancelRangeSelectLimit:Boolean,onClick:Function,onCellClick:Function,onCellMouseEnter:Function,onCellMouseLeave:Function,onJumperClick:Function,onConfirmClick:Function,onPresetClick:Function,onYearChange:Function,onMonthChange:Function,onTimePickerChange:Function},setup:function(e){var n=ae("date-range-picker__panel"),a=Re("datePicker"),r=a.globalConfig,o=i.computed(function(){var f;return(f=wa({mode:e.mode,format:e.format,enableTimePicker:e.enableTimePicker}))===null||f===void 0?void 0:f.format}),l=!e.panelPreselection&&e.value.length===2,s=i.computed(function(){return OS({format:o.value,mode:e.mode,disableDate:e.disableDate,start:e.isFirstValueSelected&&e.activeIndex===1?new Date(We(e.value[0],o.value,"start").toDate().setHours(0,0,0)):void 0,end:e.isFirstValueSelected&&e.activeIndex===0?new Date(We(e.value[1],o.value).toDate().setHours(23,59,59)):void 0})}),c=i.computed(function(){return zv(wu(wu({isRange:!0,start:e.value[0]?We(e.value[0],o.value).toDate():void 0,end:e.value[1]?We(e.value[1],o.value).toDate():void 0,hoverStart:!l&&e.hoverValue[0]?We(e.hoverValue[0],o.value).toDate():void 0,hoverEnd:!l&&e.hoverValue[1]?We(e.hoverValue[1],o.value).toDate():void 0,year:e.year[0],month:e.month[0],mode:e.mode,firstDayOfWeek:e.firstDayOfWeek||r.value.firstDayOfWeek},s.value),{},{cancelRangeSelectLimit:e.cancelRangeSelectLimit}))}),d=i.computed(function(){return zv(wu(wu({isRange:!0,start:e.value[0]?We(e.value[0],o.value).toDate():void 0,end:e.value[1]?We(e.value[1],o.value).toDate():void 0,hoverStart:!l&&e.hoverValue[0]?We(e.hoverValue[0],o.value).toDate():void 0,hoverEnd:!l&&e.hoverValue[1]?We(e.hoverValue[1],o.value).toDate():void 0,year:e.year[1],month:e.month[1],mode:e.mode,firstDayOfWeek:e.firstDayOfWeek||r.value.firstDayOfWeek},s.value),{},{cancelRangeSelectLimit:e.cancelRangeSelectLimit}))}),u=i.computed(function(){return{format:o.value,mode:e.mode,firstDayOfWeek:e.firstDayOfWeek||r.value.firstDayOfWeek,popupVisible:e.popupVisible,enableTimePicker:e.enableTimePicker,timePickerProps:e.timePickerProps,onMonthChange:e.onMonthChange,onYearChange:e.onYearChange,onJumperClick:e.onJumperClick,onCellClick:e.onCellClick,onCellMouseEnter:e.onCellMouseEnter,onCellMouseLeave:e.onCellMouseLeave,onTimePickerChange:e.onTimePickerChange}});return function(){return i.createVNode("div",{class:[n.value,G({},"".concat(n.value,"--direction-row"),["left","right"].includes(e.presetsPlacement))],onClick:function(v){var h;return(h=e.onClick)===null||h===void 0?void 0:h.call(e,{e:v})}},[["top","left"].includes(e.presetsPlacement)?i.createVNode(bu,{presets:e.presets,selectedValue:e.value[e.activeIndex],enableTimePicker:e.enableTimePicker,onPresetClick:e.onPresetClick,onConfirmClick:e.onConfirmClick,presetsPlacement:e.presetsPlacement},null):null,i.createVNode("div",{class:"".concat(n.value,"-content-wrapper")},[e.enableTimePicker?i.createVNode(yu,i.mergeProps({key:"start",partial:e.activeIndex?"end":"start",year:e.activeIndex?e.year[1]:e.year[0],month:e.activeIndex?e.month[1]:e.month[0],time:e.activeIndex?e.time[1]:e.time[0],value:e.value,tableData:e.activeIndex?d.value:c.value},u.value),null):[i.createVNode(yu,i.mergeProps({key:"startPanel",partial:"start",year:e.year[0],month:e.month[0],time:e.time[e.activeIndex],value:e.value,tableData:c.value},u.value),null),i.createVNode(yu,i.mergeProps({key:"endPanel",partial:"end",year:e.year[1],month:e.month[1],time:e.time[e.activeIndex],value:e.value,tableData:d.value},u.value),null)]]),["bottom","right"].includes(e.presetsPlacement)?i.createVNode(bu,{presets:e.presets,selectedValue:e.value[e.activeIndex],enableTimePicker:e.enableTimePicker,onPresetClick:e.onPresetClick,onConfirmClick:e.onConfirmClick,presetsPlacement:e.presetsPlacement},null):null])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function LS(t){var e=i.toRefs(t),n=e.value,a=e.modelValue,r=ot(n,a,t.defaultValue,t.onChange),o=Ce(r,2),l=o[0],s=o[1],c=i.computed(function(){return wa({mode:t.mode,format:t.format,valueType:t.valueType,enableTimePicker:t.enableTimePicker})});t.enableTimePicker&&(Mv(c.value.format)||console.error("format: ".concat(c.value.format," 不规范，包含时间选择必须要有时间格式化 HH:mm:ss"))),Ie(l.value)?rn(l.value,c.value.format)||console.error("value: ".concat(l.value," is invalid dateTime! Check whether the value is consistent with format: ").concat(c.value.format)):console.error("typeof value: ".concat(l.value," must be Array!"));var d=i.ref(!1),u=i.ref(du({value:l.value,mode:t.mode,format:c.value.format,timeFormat:c.value.timeFormat}).time),f=i.ref(du({value:l.value,mode:t.mode,format:c.value.format,enableTimePicker:t.enableTimePicker}).month),v=i.ref(du({value:l.value,mode:t.mode,format:c.value.format}).year),h=i.ref(Qe(l.value,{format:c.value.format}));return i.watchEffect(function(){if(!l.value){h.value=[];return}rn(l.value,c.value.format)&&(h.value=Qe(l.value,{format:c.value.valueType,targetFormat:c.value.format}),u.value=Bo(l.value,c.value.format,c.value.timeFormat,t.defaultTime))}),{year:v,month:f,value:l,time:u,isFirstValueSelected:d,cacheValue:h,onChange:s}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function $S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Cu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$S(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$S(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var BS={first:"start",second:"end"};function tQ(t){var e=ae("date-range-picker"),n=Re("datePicker"),a=n.globalConfig,r=Ve({CalendarIcon:ry}),o=r.CalendarIcon,l=Pe(),s=i.ref(!1),c=i.ref(),d=LS(t),u=d.value,f=d.onChange,v=d.time,h=d.month,g=d.year,p=d.cacheValue,m=d.isFirstValueSelected,y=i.computed(function(){return wa({mode:t.mode,format:t.format,valueType:t.valueType,enableTimePicker:t.enableTimePicker})}),b=i.ref(!1),w=i.ref(!1),C=i.ref(0),x=i.ref(Qe(t.value,{format:y.value.format})),k=i.computed(function(){return Cu(Cu({},t.rangeInputProps),{},{size:t.size,ref:c,borderless:t.borderless,clearable:t.clearable,prefixIcon:function(){return l("prefixIcon")},readonly:!t.allowInput,separator:t.separator||a.value.rangeSeparator,placeholder:t.placeholder||a.value.placeholder[t.mode],activeIndex:b.value?C.value:void 0,suffixIcon:function(){return l("suffixIcon")||i.createVNode(o,null,null)},class:G({},"".concat(e.value,"__input--placeholder"),w.value),onClick:function(D){var L=D.position;C.value=L==="first"?0:1},onClear:function(D){var L=D.e;L.stopPropagation(),b.value=!1,f==null||f([],{dayjsValue:[],trigger:"clear"})},onBlur:function(D,L){var O,S=L.e,_=L.position;(O=t.onBlur)===null||O===void 0||O.call(t,{value:D,partial:BS[_],e:S})},onFocus:function(D,L){var O,S=L.e,_=L.position;(O=t.onFocus)===null||O===void 0||O.call(t,{value:D,partial:BS[_],e:S}),C.value=_==="first"?0:1},onChange:function(D,L){if(L.e,L.position,x.value=D,!!rn(D,y.value.format)){p.value=D;var O=[],S=[],_=[];D.forEach(function(A){O.push(We(A,y.value.format).year()),S.push(We(A,y.value.format).month()),_.push(We(A,y.value.format).format(y.value.timeFormat))}),g.value=O,h.value=S,v.value=_}},onEnter:function(D){!rn(D,y.value.format)&&!rn(u.value,y.value.format)||(b.value=!1,rn(D,y.value.format)?f==null||f(Qe(D,{format:y.value.format,targetFormat:y.value.valueType,autoSwap:!0}),{dayjsValue:D.map(function(L){return We(L,y.value.format)}),trigger:"enter"}):rn(u.value,y.value.format)?x.value=Qe(u.value,{format:y.value.format}):x.value=[])}})}),P=i.computed(function(){var I,D,L;return Cu(Cu({expandAnimation:!0},gn(t.popupProps,"on-visible-change")),{},{overlayInnerStyle:(I=(D=t.popupProps)===null||D===void 0?void 0:D.overlayInnerStyle)!==null&&I!==void 0?I:{width:"auto"},overlayClassName:[(L=t.popupProps)===null||L===void 0?void 0:L.overlayClassName,"".concat(e.value,"__panel-container")],onVisibleChange:function(S,_){var A,E,R,N;if((A=t.popupProps)===null||A===void 0||(E=A.onVisibleChange)===null||E===void 0||E.call(A,S,_),(R=t.popupProps)===null||R===void 0||(N=R["on-visible-change"])===null||N===void 0||N.call(R,S,_),_.trigger==="trigger-element-click"){var F={0:"first",1:"second"};c.value.focus({position:F[C.value]}),b.value=!0;return}b.value=S}})});return i.watch(u,function(I){if(!I){x.value=[];return}rn(I,y.value.format)&&(x.value=Qe(I,{format:y.value.valueType,targetFormat:y.value.format}))},{immediate:!0}),i.watch(C,function(I){var D,L;if(!s.value){s.value=!0;return}if(b.value){var O={0:"first",1:"second"};(D=c.value)===null||D===void 0||(L=D.focus)===null||L===void 0||L.call(D,{position:O[I]})}},{immediate:!0}),{year:g,month:h,value:u,time:v,inputValue:x,popupVisible:b,rangeInputProps:k,popupProps:P,isHoverCell:w,activeIndex:C,isFirstValueSelected:m,cacheValue:p,onChange:f}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function xu(t,e,n,a){var r=e,o=n;return t===0&&r[1]<=r[0]&&(a?r[1]=r[0]+1:(r[1]=r[0],o[1]<=o[0]&&(o[1]=o[0]+1,o[1]===12&&(o[1]=0,r=[r[0],r[1]+1])))),t===1&&r[0]>=r[1]&&(a?r[0]=r[1]-1:(r[0]=r[1],o[0]>=o[1]&&(o[0]=o[1]-1,o[0]===-1&&(o[0]=11,r=[r[0]-1,r[1]])))),{nextYear:r,nextMonth:o}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function zS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function nQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zS(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zS(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var aQ=i.defineComponent({name:"TDateRangePicker",props:nQ({},Nn),setup:function(e,n){var a=n.slots,r=ae("date-range-picker"),o=tQ(e),l=o.inputValue,s=o.popupVisible,c=o.rangeInputProps,d=o.popupProps,u=o.value,f=o.year,v=o.month,h=o.time,g=o.cacheValue,p=o.activeIndex,m=o.isHoverCell,y=o.isFirstValueSelected,b=o.onChange,w=St(),C=i.computed(function(){return wa({mode:e.mode,enableTimePicker:e.enableTimePicker,format:e.format,valueType:e.valueType})}),x=i.ref(!1);i.watch(s,function(R){if(R)if(x.value=!1,g.value=Qe(u.value||[],{format:C.value.valueType,targetFormat:C.value.format}),h.value=Bo(u.value||[ve().format(C.value.timeFormat),ve().format(C.value.timeFormat)],C.value.format,C.value.timeFormat,e.defaultTime),u.value.length)if(u.value.length===2&&!e.enableTimePicker){var $=u.value.map(function(W){return We(W,C.value.format).month()});f.value=u.value.map(function(W){return We(W,C.value.valueType).year()}),f.value[0]===f.value[1]&&$[0]===$[1]&&($[0]===11?$[0]-=1:$[1]+=1),v.value=$,(e.mode==="month"||e.mode==="quarter")&&f.value[0]===f.value[1]&&(f.value=[f.value[0],f.value[0]+1])}else f.value=u.value.map(function(W){return We(W,C.value.format).year()}),f.value.length===1&&(f.value=[f.value[0],f.value[0]]),v.value=u.value.map(function(W){return We(W,C.value.format).month()}),v.value.length===1&&(v.value=[v.value[0],Math.min(v.value[0]+1,11)]);else{var N=du({value:u.value,mode:e.mode,format:C.value.format,enableTimePicker:e.enableTimePicker}),F=N.year,M=N.month;f.value=F,v.value=M}else p.value=0,m.value=!1,y.value=!1,l.value=Qe(u.value,{format:C.value.valueType,targetFormat:C.value.format})});function k(R){m.value=!0;var N=he(l.value);N[p.value]=Qe(R,{format:C.value.format}),l.value=N}function P(){m.value=!1,l.value=g.value}function I(R,N){var F,M=N.e;(F=e.onPick)===null||F===void 0||F.call(e,R,{e:M,partial:p.value?"end":"start"}),m.value=!1,x.value=!0;var $=he(l.value);if($[p.value]=Qe(R,{format:C.value.format}),g.value=$,l.value=$,!e.enableTimePicker){var W=$.findIndex(function(K){return!K||!rn(K,C.value.format)});if(W===-1&&$.length===2&&(!y.value&&We($[0],C.value.format).isAfter(We($[1],C.value.format))?($[p.value?0:1]="",g.value=$,l.value=$):b==null||b(Qe($,{format:C.value.format,targetFormat:C.value.valueType,autoSwap:!0}),{dayjsValue:$.map(function(K){return We(K,C.value.format)}),trigger:"pick"})),y.value)s.value=!1;else{var H=W;H===-1&&(H=p.value?0:1),p.value=H,y.value=!0}}}function D(R){var N=R.trigger,F=R.partial,M=F==="start"?0:1,$={date:1,week:1,month:12,quarter:12,year:120},W=$[e.mode]||0,H=new Date(f.value[M],v.value[M]),K=null;N==="prev"?K=cu(H,W):N==="current"?K=new Date:N==="next"&&(K=uu(H,W));var z=he(f.value);z[M]=K.getFullYear();var B=he(v.value);B[M]=K.getMonth();var q=["year","quarter","month"].includes(e.mode),Y=xu(M,z,B,q);z=Y.nextYear,B=Y.nextMonth,f.value=z,v.value=B}function L(R){var N=$o(R),F=N.hours,M=N.minutes,$=N.seconds,W=N.milliseconds,H=N.meridiem,K=he(l.value),z=l.value[p.value],B=ve(z,C.value.format).isValid()?ve(z,C.value.format):ve().year(f.value[p.value]).month(v.value[p.value]),q=F;/am/i.test(H)&&q===12&&(q-=12),/pm/i.test(H)&&q<12&&(q+=12);var Y=B.hour(q).minute(M).second($).millisecond(W).toDate();K[p.value]=Y;var X=he(h.value);X[p.value]=R,h.value=X,x.value=!0,l.value=Qe(K,{format:C.value.format}),g.value=Qe(K,{format:C.value.format})}function O(R){var N=R.e,F=he(l.value),M=F.findIndex(function(H){return!H||!rn(H,C.value.format)});if(M===-1&&F.length===2)if(!y.value&&We(F[0],C.value.format).isAfter(We(F[1],C.value.format)))F[p.value?0:1]="",g.value=F,l.value=F;else{var $;e==null||($=e.onConfirm)===null||$===void 0||$.call(e,{date:F.map(function(H){return ve(H).toDate()}),e:N,partial:p.value?"end":"start"}),b==null||b(Qe(F,{format:C.value.format,targetFormat:C.value.valueType,autoSwap:!0}),{dayjsValue:F.map(function(H){return We(H,C.value.format)}),trigger:"confirm"})}if(!y.value||F.length===1){var W=M;W===-1&&(W=p.value?0:1),p.value=W,y.value=!0}else F.length===2&&(s.value=!1)}function S(R,N){var F=R;if(pe(R)&&(F=R()),!Ie(F))console.error("preset: ".concat(R," 预设值必须是数组!"));else{var M;b==null||b(Qe(F,{format:C.value.format,targetFormat:C.value.valueType,autoSwap:!0}),{dayjsValue:F.map(function($){return We($,C.value.format)}),trigger:"preset"}),s.value=!1,(M=e.onPresetClick)===null||M===void 0||M.call(e,N)}}function _(R,N){var F=N.partial,M=F==="start"?0:1;e.enableTimePicker&&(M=p.value);var $=he(f.value),W=he(v.value);$[M]=R;var H=["year","quarter","month"].includes(e.mode),K=xu(M,$,W,H);$=K.nextYear,W=K.nextMonth,f.value=$,H||(v.value=W)}function A(R,N){var F=N.partial,M=F==="start"?0:1;e.enableTimePicker&&(M=p.value);var $=he(v.value);if($[M]=R,f.value[0]===f.value[1]){if(M===0&&$[1]<=$[0]&&($[1]=$[0]+1,$[1]===12)){var W,H;$[1]=0,f.value=[(W=f.value)===null||W===void 0?void 0:W[0],((H=f.value)===null||H===void 0?void 0:H[1])+1]}if(M===1&&($[0]=Math.min($[0],$[1]),$[0]>=$[1]&&($[0]-=1,$[0]===-1))){var K,z;$[0]=11,f.value=[((K=f.value)===null||K===void 0?void 0:K[0])-1,(z=f.value)===null||z===void 0?void 0:z[1]]}}v.value=$}var E=i.computed(function(){return{hoverValue:m.value?l.value:[],value:x.value?g.value:u.value,isFirstValueSelected:y.value,activeIndex:p.value,year:f.value,month:v.value,format:C.value.format,mode:e.mode,presets:e.presets,time:h.value,disableDate:e.disableDate,firstDayOfWeek:e.firstDayOfWeek,timePickerProps:e.timePickerProps,enableTimePicker:e.enableTimePicker,presetsPlacement:e.presetsPlacement,popupVisible:s.value,panelPreselection:e.panelPreselection,cancelRangeSelectLimit:e.cancelRangeSelectLimit,onCellClick:I,onCellMouseEnter:k,onCellMouseLeave:P,onJumperClick:D,onConfirmClick:O,onPresetClick:S,onYearChange:_,onMonthChange:A,onTimePickerChange:L}});return function(){return i.createVNode("div",{class:r.value},[i.createVNode(Wv,{disabled:w.value,label:e.label,status:e.status,tips:e.tips||a.tips,inputValue:l.value,popupProps:d.value,rangeInputProps:c.value,popupVisible:s.value,panel:function(){return i.createVNode(FS,E.value,null)}},null)])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var rQ={defaultTime:{type:Array,default:function(){return["00:00:00","23:59:59"]}},onCellClick:Function,onChange:Function,onConfirm:Function,onMonthChange:Function,onPanelClick:Function,onPresetClick:Function,onTimeChange:Function,onYearChange:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function HS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function iQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HS(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HS(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var oQ=i.defineComponent({name:"TDateRangePickerPanel",props:iQ({value:Nn.value,defaultValue:Nn.defaultValue,modelValue:Nn.modelValue,disabled:Nn.disabled,disableDate:Nn.disableDate,enableTimePicker:Nn.enableTimePicker,firstDayOfWeek:Nn.firstDayOfWeek,format:Nn.format,mode:Nn.mode,presets:Nn.presets,presetsPlacement:Nn.presetsPlacement,timePickerProps:Nn.timePickerProps,panelPreselection:Nn.panelPreselection},rQ),setup:function(e){var n=LS(e),a=n.value,r=n.year,o=n.month,l=n.time,s=n.cacheValue,c=n.isFirstValueSelected,d=n.onChange,u=i.computed(function(){return wa({mode:e.mode,enableTimePicker:e.enableTimePicker,format:e.format})}),f=i.ref(!1),v=i.ref(!1),h=i.ref([]),g=i.computed(function(){return c.value?1:0});function p(D){v.value=!0;var L=he(h.value);L[g.value]=Qe(D,{format:u.value.format}),h.value=L}function m(){v.value=!1,h.value=s.value}function y(D,L){var O,S=L.e;(O=e.onCellClick)===null||O===void 0||O.call(e,{e:S,partial:g.value?"end":"start",date:a.value.map(function(A){return ve(A).toDate()})}),v.value=!1,f.value=!0;var _=he(s.value);_[g.value]=Qe(D,{format:u.value.format}),s.value=_,!e.enableTimePicker&&(_.length===2&&c.value?(d==null||d(Qe(_,{format:u.value.format,autoSwap:!0}),{dayjsValue:_.map(function(A){return We(A,u.value.format)}),trigger:"pick"}),c.value=!1):c.value=!0)}function b(D){var L=D.trigger,O=D.partial,S=O==="start"?0:1,_={prev:"arrow-previous",next:"arrow-next"},A={date:1,week:1,month:12,quarter:12,year:120},E=A[e.mode]||0,R=new Date(r.value[S],o.value[S]),N=null;L==="prev"?N=cu(R,E):L==="current"?N=new Date:L==="next"&&(N=uu(R,E));var F=he(r.value);F[S]=N.getFullYear();var M=he(o.value);M[S]=N.getMonth();var $=["year","quarter","month"].includes(e.mode),W=xu(S,F,M,$);if(F=W.nextYear,M=W.nextMonth,r.value.some(function(z){return!F.includes(z)})){var H;(H=e.onYearChange)===null||H===void 0||H.call(e,{partial:O,year:F[S],date:a.value.map(function(z){return ve(z).toDate()}),trigger:L==="current"?"today":"year-".concat(_[L])})}if(o.value.some(function(z){return!M.includes(z)})){var K;(K=e.onMonthChange)===null||K===void 0||K.call(e,{partial:O,month:M[S],date:a.value.map(function(z){return ve(z).toDate()}),trigger:L==="current"?"today":"month-".concat(_[L])})}r.value=F,o.value=M}function w(D){var L,O=$o(D),S=O.hours,_=O.minutes,A=O.seconds,E=O.milliseconds,R=O.meridiem,N=he(s.value),F=s.value[g.value],M=ve(F,u.value.format).isValid()?ve(F,u.value.format):ve().year(r.value[g.value]).month(o.value[g.value]),$=S;/am/i.test(R)&&$===12&&($-=12),/pm/i.test(R)&&$<12&&($+=12);var W=M.hour($).minute(_).second(A).millisecond(E).toDate();N[g.value]=W;var H=he(l.value);H[g.value]=D,l.value=H,f.value=!0,s.value=Qe(N,{format:u.value.format}),(L=e.onTimeChange)===null||L===void 0||L.call(e,{time:D,date:a.value.map(function(K){return We(K,u.value.format).toDate()}),partial:g.value?"end":"start",trigger:"time-hour"})}function C(D){var L,O=D.e,S=he(s.value);S.length===2&&c.value?(d==null||d(Qe(S,{format:u.value.format,autoSwap:!0}),{dayjsValue:S.map(function(_){return We(_,u.value.format)}),trigger:"confirm"}),r.value=S.map(function(_){return ve(_,u.value.format).year()}),o.value=S.map(function(_){return ve(_,u.value.format).month()}),c.value=!1):c.value=!0,(L=e.onConfirm)===null||L===void 0||L.call(e,{date:a.value.map(function(_){return ve(_).toDate()}),e:O})}function x(D,L){var O=D;if(pe(D)&&(O=D()),!Ie(O))console.error("preset: ".concat(D," 预设值必须是数组!"));else{var S;d==null||d(Qe(O,{format:u.value.format,autoSwap:!0}),{dayjsValue:O.map(function(_){return We(_,u.value.format)}),trigger:"preset"}),(S=e.onPresetClick)===null||S===void 0||S.call(e,L)}}function k(D,L){var O,S=L.partial,_=S==="start"?0:1;e.enableTimePicker&&(_=g.value);var A=he(r.value);A[_]=D;var E=he(o.value),R=["year","quarter","month"].includes(e.mode),N=xu(_,A,E,R);A=N.nextYear,E=N.nextMonth,r.value=A,R||(o.value=E),(O=e.onYearChange)===null||O===void 0||O.call(e,{partial:S,year:A[_],date:a.value.map(function(F){return ve(F).toDate()}),trigger:"year-select"})}function P(D,L){var O,S=L.partial,_=S==="start"?0:1;e.enableTimePicker&&(_=g.value);var A=he(o.value);if(A[_]=D,r.value[0]===r.value[1]){if(_===0&&A[1]<=A[0]&&(A[1]=A[0]+1,A[1]===12)){var E,R;A[1]=0,r.value=[(E=r.value)===null||E===void 0?void 0:E[0],((R=r.value)===null||R===void 0?void 0:R[1])+1]}if(_===1&&(A[0]=Math.min(A[0],A[1]),A[0]>=A[1]&&(A[0]-=1,A[0]===-1))){var N,F;A[0]=11,r.value=[((N=r.value)===null||N===void 0?void 0:N[0])-1,(F=r.value)===null||F===void 0?void 0:F[1]]}}o.value=A,(O=e.onMonthChange)===null||O===void 0||O.call(e,{partial:S,month:A[_],date:a.value.map(function(M){return ve(M).toDate()}),trigger:"month-select"})}var I=i.computed(function(){return{hoverValue:v.value?h.value:[],value:f.value?s.value:a.value,activeIndex:g.value,year:r.value,month:o.value,mode:e.mode,format:u.value.format,presets:e.presets,time:l.value,disableDate:e.disableDate,firstDayOfWeek:e.firstDayOfWeek,timePickerProps:e.timePickerProps,enableTimePicker:e.enableTimePicker,presetsPlacement:e.presetsPlacement,panelPreselection:e.panelPreselection,popupVisible:!0,panelClick:e.onPanelClick,onCellClick:y,onCellMouseEnter:p,onCellMouseLeave:m,onJumperClick:b,onConfirmClick:C,onPresetClick:x,onYearChange:k,onMonthChange:P,onTimePickerChange:w}});return function(){return i.createVNode(FS,I.value,null)}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var lQ=be(qZ),sQ=be(JZ),cQ=be(aQ),uQ=be(oQ);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var dQ=cC;function fQ(t,e,n){return t==null?t:dQ(t,e,n)}var bi=fQ;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Uv={exports:{}},zo={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;for(var o in r)typeof a[o]>"u"&&(a[o]=r[o]);return a}t.exports=e.default,t.exports.default=e.default})(zo,zo.exports),function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=g;var n=a(zo.exports);function a(p){return p&&p.__esModule?p:{default:p}}function r(p,m){return s(p)||l(p,m)||d(p,m)||o()}function o(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l(p,m){var y=p==null?null:typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(y!=null){var b,w,C,x,k=[],P=!0,I=!1;try{if(C=(y=y.call(p)).next,m!==0)for(;!(P=(b=C.call(y)).done)&&(k.push(b.value),k.length!==m);P=!0);}catch(D){I=!0,w=D}finally{try{if(!P&&y.return!=null&&(x=y.return(),Object(x)!==x))return}finally{if(I)throw w}}return k}}function s(p){if(Array.isArray(p))return p}function c(p,m){var y=typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(!y){if(Array.isArray(p)||(y=d(p))||m){y&&(p=y);var b=0,w=function(){};return{s:w,n:function(){return b>=p.length?{done:!0}:{done:!1,value:p[b++]}},e:function(I){throw I},f:w}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var C=!0,x=!1,k;return{s:function(){y=y.call(p)},n:function(){var I=y.next();return C=I.done,I},e:function(I){x=!0,k=I},f:function(){try{!C&&y.return!=null&&y.return()}finally{if(x)throw k}}}}function d(p,m){if(p){if(typeof p=="string")return u(p,m);var y=Object.prototype.toString.call(p).slice(8,-1);if(y==="Object"&&p.constructor&&(y=p.constructor.name),y==="Map"||y==="Set")return Array.from(p);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return u(p,m)}}function u(p,m){(m==null||m>p.length)&&(m=p.length);for(var y=0,b=new Array(m);y<m;y++)b[y]=p[y];return b}var f={format:"YYYY/MM/DD",delimiters:["/","-"],strictMode:!1};function v(p){return/(^(y{4}|y{2})[.\/-](m{1,2})[.\/-](d{1,2})$)|(^(m{1,2})[.\/-](d{1,2})[.\/-]((y{4}|y{2})$))|(^(d{1,2})[.\/-](m{1,2})[.\/-]((y{4}|y{2})$))/gi.test(p)}function h(p,m){for(var y=[],b=Math.min(p.length,m.length),w=0;w<b;w++)y.push([p[w],m[w]]);return y}function g(p,m){if(typeof m=="string"?m=(0,n.default)({format:m},f):m=(0,n.default)(m,f),typeof p=="string"&&v(m.format)){var y=m.delimiters.find(function(E){return m.format.indexOf(E)!==-1}),b=m.strictMode?y:m.delimiters.find(function(E){return p.indexOf(E)!==-1}),w=h(p.split(b),m.format.toLowerCase().split(y)),C={},x=c(w),k;try{for(x.s();!(k=x.n()).done;){var P=r(k.value,2),I=P[0],D=P[1];if(I.length!==D.length)return!1;C[D.charAt(0)]=I}}catch(E){x.e(E)}finally{x.f()}var L=C.y;if(L.startsWith("-"))return!1;if(C.y.length===2){var O=parseInt(C.y,10);if(isNaN(O))return!1;var S=new Date().getFullYear()%100;O<S?L="20".concat(C.y):L="19".concat(C.y)}var _=C.m;C.m.length===1&&(_="0".concat(C.m));var A=C.d;return C.d.length===1&&(A="0".concat(C.d)),new Date("".concat(L,"-").concat(_,"-").concat(A,"T00:00:00.000Z")).getUTCDate()===+C.d}return m.strictMode?!1:Object.prototype.toString.call(p)==="[object Date]"&&isFinite(p)}t.exports=e.default,t.exports.default=e.default}(Uv,Uv.exports);var vQ=Il(Uv.exports),Kv={exports:{}},wi={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;function n(r){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},n(r)}function a(r){var o=typeof r=="string"||r instanceof String;if(!o){var l=n(r);throw r===null?l="null":l==="object"&&(l=r.constructor.name),new TypeError("Expected a string but received a ".concat(l))}}t.exports=e.default,t.exports.default=e.default})(wi,wi.exports);var Yv={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=a(wi.exports);function a(l){return l&&l.__esModule?l:{default:l}}function r(l){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},r(l)}function o(l,s){(0,n.default)(l);var c,d;r(s)==="object"?(c=s.min||0,d=s.max):(c=arguments[1],d=arguments[2]);var u=encodeURI(l).split(/%..|./).length-1;return u>=c&&(typeof d>"u"||u<=d)}t.exports=e.default,t.exports.default=e.default})(Yv,Yv.exports);var Su={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var n=r(wi.exports),a=r(zo.exports);function r(s){return s&&s.__esModule?s:{default:s}}var o={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1,ignore_max_length:!1};function l(s,c){(0,n.default)(s),c=(0,a.default)(c,o),c.allow_trailing_dot&&s[s.length-1]==="."&&(s=s.substring(0,s.length-1)),c.allow_wildcard===!0&&s.indexOf("*.")===0&&(s=s.substring(2));var d=s.split("."),u=d[d.length-1];return c.require_tld&&(d.length<2||!c.allow_numeric_tld&&!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(u)||/\s/.test(u))||!c.allow_numeric_tld&&/^\d+$/.test(u)?!1:d.every(function(f){return!(f.length>63&&!c.ignore_max_length||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(f)||/[\uff01-\uff5e]/.test(f)||/^-|-$/.test(f)||!c.allow_underscores&&/_/.test(f))})}t.exports=e.default,t.exports.default=e.default})(Su,Su.exports);var Ou={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=d;var n=a(wi.exports);function a(u){return u&&u.__esModule?u:{default:u}}var r="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",o="(".concat(r,"[.]){3}").concat(r),l=new RegExp("^".concat(o,"$")),s="(?:[0-9a-fA-F]{1,4})",c=new RegExp("^("+"(?:".concat(s,":){7}(?:").concat(s,"|:)|")+"(?:".concat(s,":){6}(?:").concat(o,"|:").concat(s,"|:)|")+"(?:".concat(s,":){5}(?::").concat(o,"|(:").concat(s,"){1,2}|:)|")+"(?:".concat(s,":){4}(?:(:").concat(s,"){0,1}:").concat(o,"|(:").concat(s,"){1,3}|:)|")+"(?:".concat(s,":){3}(?:(:").concat(s,"){0,2}:").concat(o,"|(:").concat(s,"){1,4}|:)|")+"(?:".concat(s,":){2}(?:(:").concat(s,"){0,3}:").concat(o,"|(:").concat(s,"){1,5}|:)|")+"(?:".concat(s,":){1}(?:(:").concat(s,"){0,4}:").concat(o,"|(:").concat(s,"){1,6}|:)|")+"(?::((?::".concat(s,"){0,5}:").concat(o,"|(?::").concat(s,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");function d(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(0,n.default)(u),f=String(f),f?f==="4"?l.test(u):f==="6"?c.test(u):!1:d(u,4)||d(u,6)}t.exports=e.default,t.exports.default=e.default})(Ou,Ou.exports),function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=y;var n=s(wi.exports),a=s(Yv.exports),r=s(Su.exports),o=s(Ou.exports),l=s(zo.exports);function s(b){return b&&b.__esModule?b:{default:b}}var c={allow_display_name:!1,allow_underscores:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[],host_whitelist:[]},d=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,u=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,f=/^[a-z\d]+$/,v=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,h=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A1-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,g=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,p=254;function m(b){var w=b.replace(/^"(.+)"$/,"$1");if(!w.trim())return!1;var C=/[\.";<>]/.test(w);if(C){if(w===b)return!1;var x=w.split('"').length===w.split('\\"').length;if(!x)return!1}return!0}function y(b,w){if((0,n.default)(b),w=(0,l.default)(w,c),w.require_display_name||w.allow_display_name){var C=b.match(d);if(C){var x=C[1];if(b=b.replace(x,"").replace(/(^<|>$)/g,""),x.endsWith(" ")&&(x=x.slice(0,-1)),!m(x))return!1}else if(w.require_display_name)return!1}if(!w.ignore_max_length&&b.length>p)return!1;var k=b.split("@"),P=k.pop(),I=P.toLowerCase();if(w.host_blacklist.includes(I)||w.host_whitelist.length>0&&!w.host_whitelist.includes(I))return!1;var D=k.join("@");if(w.domain_specific_validation&&(I==="gmail.com"||I==="googlemail.com")){D=D.toLowerCase();var L=D.split("+")[0];if(!(0,a.default)(L.replace(/\./g,""),{min:6,max:30}))return!1;for(var O=L.split("."),S=0;S<O.length;S++)if(!f.test(O[S]))return!1}if(w.ignore_max_length===!1&&(!(0,a.default)(D,{max:64})||!(0,a.default)(P,{max:254})))return!1;if(!(0,r.default)(P,{require_tld:w.require_tld,ignore_max_length:w.ignore_max_length,allow_underscores:w.allow_underscores})){if(!w.allow_ip_domain)return!1;if(!(0,o.default)(P)){if(!P.startsWith("[")||!P.endsWith("]"))return!1;var _=P.slice(1,-1);if(_.length===0||!(0,o.default)(_))return!1}}if(D[0]==='"')return D=D.slice(1,D.length-1),w.allow_utf8_local_part?g.test(D):v.test(D);for(var A=w.allow_utf8_local_part?h:u,E=D.split("."),R=0;R<E.length;R++)if(!A.test(E[R]))return!1;return!(w.blacklisted_chars&&D.search(new RegExp("[".concat(w.blacklisted_chars,"]+"),"g"))!==-1)}t.exports=e.default,t.exports.default=e.default}(Kv,Kv.exports);var hQ=Il(Kv.exports),qv={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=y;var n=l(wi.exports),a=l(Su.exports),r=l(Ou.exports),o=l(zo.exports);function l(b){return b&&b.__esModule?b:{default:b}}function s(b,w){return v(b)||f(b,w)||d(b,w)||c()}function c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d(b,w){if(b){if(typeof b=="string")return u(b,w);var C=Object.prototype.toString.call(b).slice(8,-1);if(C==="Object"&&b.constructor&&(C=b.constructor.name),C==="Map"||C==="Set")return Array.from(b);if(C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return u(b,w)}}function u(b,w){(w==null||w>b.length)&&(w=b.length);for(var C=0,x=new Array(w);C<w;C++)x[C]=b[C];return x}function f(b,w){var C=b==null?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(C!=null){var x,k,P,I,D=[],L=!0,O=!1;try{if(P=(C=C.call(b)).next,w!==0)for(;!(L=(x=P.call(C)).done)&&(D.push(x.value),D.length!==w);L=!0);}catch(S){O=!0,k=S}finally{try{if(!L&&C.return!=null&&(I=C.return(),Object(I)!==I))return}finally{if(O)throw k}}return D}}function v(b){if(Array.isArray(b))return b}var h={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_port:!1,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,allow_fragments:!0,allow_query_components:!0,validate_length:!0},g=/^\[([^\]]+)\](?::([0-9]+))?$/;function p(b){return Object.prototype.toString.call(b)==="[object RegExp]"}function m(b,w){for(var C=0;C<w.length;C++){var x=w[C];if(b===x||p(x)&&x.test(b))return!0}return!1}function y(b,w){if((0,n.default)(b),!b||/[\s<>]/.test(b)||b.indexOf("mailto:")===0||(w=(0,o.default)(w,h),w.validate_length&&b.length>=2083)||!w.allow_fragments&&b.includes("#")||!w.allow_query_components&&(b.includes("?")||b.includes("&")))return!1;var C,x,k,P,I,D,L,O;if(L=b.split("#"),b=L.shift(),L=b.split("?"),b=L.shift(),L=b.split("://"),L.length>1){if(C=L.shift().toLowerCase(),w.require_valid_protocol&&w.protocols.indexOf(C)===-1)return!1}else{if(w.require_protocol)return!1;if(b.slice(0,2)==="//"){if(!w.allow_protocol_relative_urls)return!1;L[0]=b.slice(2)}}if(b=L.join("://"),b==="")return!1;if(L=b.split("/"),b=L.shift(),b===""&&!w.require_host)return!0;if(L=b.split("@"),L.length>1){if(w.disallow_auth||L[0]===""||(x=L.shift(),x.indexOf(":")>=0&&x.split(":").length>2))return!1;var S=x.split(":"),_=s(S,2),A=_[0],E=_[1];if(A===""&&E==="")return!1}P=L.join("@"),D=null,O=null;var R=P.match(g);if(R?(k="",O=R[1],D=R[2]||null):(L=P.split(":"),k=L.shift(),L.length&&(D=L.join(":"))),D!==null&&D.length>0){if(I=parseInt(D,10),!/^[0-9]+$/.test(D)||I<=0||I>65535)return!1}else if(w.require_port)return!1;return w.host_whitelist?m(k,w.host_whitelist):k===""&&!w.require_host?!0:!(!(0,r.default)(k)&&!(0,a.default)(k,w)&&(!O||!(0,r.default)(O,6))||(k=k||O,w.host_blacklist&&m(k,w.host_blacklist)))}t.exports=e.default,t.exports.default=e.default})(qv,qv.exports);var gQ=Il(qv.exports);function WS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function US(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WS(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WS(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function KS(t){var e=Object.prototype.toString.call(t),n={Date:"[object Date]"};return e===n.Date?!1:Le(t)?kn(t):["",void 0,null].includes(t)}var pQ={date:vQ,url:gQ,email:hQ,required:function(e){return!KS(e)},whitespace:function(e){return!(/^\s+$/.test(e)||e==="")},boolean:function(e){return Ht(e)},max:function(e,n){return nt(e)?e<=n:ri(e)<=n},min:function(e,n){return nt(e)?e>=n:ri(e)>=n},len:function(e,n){return ri(String(e))===n},number:function(e){return nt(e)},enum:function(e,n){return n.includes(e)},idcard:function(e){return/^(\d{18,18}|\d{15,15}|\d{17,17}x)$/i.test(e)},telnumber:function(e){return/^1[3-9]\d{9}$/.test(e)},pattern:function(e,n){return n.test(e)},validator:function(e,n){return n(e)}};function mQ(t,e){return Gv.apply(this,arguments)}function Gv(){return Gv=Et(qe.mark(function t(e,n){var a,r,o,l,s,c,d;return qe.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:a={result:!0},r=Object.keys(n),s=0;case 3:if(!(s<r.length)){f.next=15;break}if(c=r[s],!(!n.required&&KS(e)&&!n.validator)){f.next=7;break}return f.abrupt("return",a);case 7:if(d=pQ[c],!(d&&(n[c]||n[c]===0))){f.next=12;break}return o=n[c]===!0?void 0:n[c],l=d,f.abrupt("break",15);case 12:s++,f.next=3;break;case 15:if(!l){f.next=23;break}return f.next=18,l(e,o);case 18:if(a=f.sent,!Ht(a)){f.next=21;break}return f.abrupt("return",US(US({},n),{},{result:a}));case 21:if(!Le(a)){f.next=23;break}return f.abrupt("return",a);case 23:return f.abrupt("return",a);case 24:case"end":return f.stop()}},t)})),Gv.apply(this,arguments)}function Xv(t,e){return Jv.apply(this,arguments)}function Jv(){return Jv=Et(qe.mark(function t(e,n){var a,r;return qe.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return a=n.map(function(s){return mQ(e,s)}),l.next=3,Promise.all(a);case 3:return r=l.sent,l.abrupt("return",r);case 5:case"end":return l.stop()}},t)})),Jv.apply(this,arguments)}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var yQ={for:{type:String,default:""},help:{type:[String,Function]},label:{type:[String,Function],default:""},labelAlign:{type:String,validator:function(e){return e?["left","right","top"].includes(e):!0}},labelWidth:{type:[String,Number]},name:{type:String,default:""},requiredMark:{type:Boolean,default:void 0},rules:{type:Array},showErrorMessage:{type:Boolean,default:void 0},status:{type:String,default:""},statusIcon:{type:[Boolean,Function],default:void 0},successBorder:Boolean,tips:{type:[String,Function]}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function bQ(t,e){return t.replace(/\${(.*?)}/g,function(n,a){return e[a.trim()]||""})}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function YS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Zv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YS(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YS(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function qS(t,e){return e?"".concat(t,"__").concat(e).replace(/(\[|\]\.)/g,"_"):""}var wQ=i.defineComponent({name:"TFormItem",props:Zv({},yQ),setup:function(e,n){var a=n.slots,r=Pe(),o=Xw(),l=Re("form"),s=l.globalConfig,c=Ve({CheckCircleFilledIcon:er,CloseCircleFilledIcon:xo,ErrorCircleFilledIcon:Ea}),d=c.CheckCircleFilledIcon,u=c.CloseCircleFilledIcon,f=c.ErrorCircleFilledIcon,v=i.inject(Jw,void 0),h=ae(),g=ae("form-item"),p=i.computed(function(){var re,ce,se=(re=(ce=e.requiredMark)!==null&&ce!==void 0?ce:v==null?void 0:v.requiredMark)!==null&&re!==void 0?re:s.value.requiredMark,ue=W.value.filter(function(ye){return ye.required}).length>0;return se??ue}),m=i.computed(function(){return a.label||e.label}),y=i.computed(function(){return!!(v!=null&&v.colon&&m.value)}),b=ae("form__label"),w=i.computed(function(){return li(e.labelAlign)?v==null?void 0:v.labelAlign:e.labelAlign}),C=i.computed(function(){return li(e.labelWidth)?v==null?void 0:v.labelWidth:e.labelWidth}),x=i.computed(function(){return[o.value.label,G(G(G(G({},"".concat(b.value,"--required"),p.value),"".concat(b.value,"--top"),m.value&&(w.value==="top"||!C.value)),"".concat(b.value,"--left"),w.value==="left"&&C.value),"".concat(b.value,"--right"),w.value==="right"&&C.value)]}),k=function(){if(Number(C.value)!==0){var ce={};return C.value&&w.value!=="top"&&(nt(C.value)?ce={width:"".concat(C.value,"px")}:ce={width:C.value}),i.createVNode("div",{class:x.value,style:ce},[i.createVNode("label",{for:e.for||null},[r("label")]),y.value&&s.value.colonText])}},P=function(){var ce=function(ge){return i.createVNode("span",{class:o.value.status},[i.createVNode(ge,null,null)])},se=S.value;if(A.value===or.SUCCESS)return ce(d);if(se!=null&&se[0]){var ue=se[0].type||"error",ye={error:u,warning:f}[ue]||d;return ce(ye)}return null},I=function(){var ce=e.statusIcon;if(ce!==!1){var se=r("statusIcon",{defaultNode:P()});if(se)return i.createVNode("span",{class:o.value.status},[se]);if(se!==!1&&(se=v==null?void 0:v.renderContent("statusIcon",{defaultNode:P(),params:e}),se))return se}},D=i.computed(function(){if(!J.value)return"";if(A.value===or.SUCCESS)return e.successBorder?[o.value.success,o.value.successBorder].join(" "):o.value.success;if(S.value.length){var re=S.value[0].type||"error";return re==="error"?o.value.error:o.value.warning}}),L=i.computed(function(){return[o.value.controls,D.value]}),O=i.computed(function(){var re={};return C.value&&w.value!=="top"&&(nt(C.value)?re={marginLeft:"".concat(C.value,"px")}:re={marginLeft:C.value}),re}),S=i.ref([]),_=i.ref([]),A=i.ref(or.TO_BE_VALIDATED),E=i.ref(!1),R=i.ref(!1),N=function(){R.value=!1,S.value=[],_.value=[],A.value=or.TO_BE_VALIDATED},F=function(){var ce=Object.prototype.toString.call(we(v==null?void 0:v.data,e.name)),se;return ce==="[object String]"&&(se=""),ce==="[object Array]"&&(se=[]),ce==="[object Object]"&&(se={}),se},M=function(){var re=Et(qe.mark(function ce(){var se,ue=arguments;return qe.wrap(function(me){for(;;)switch(me.prev=me.next){case 0:if(se=ue.length>0&&ue[0]!==void 0?ue[0]:v==null?void 0:v.resetType,e.name){me.next=3;break}return me.abrupt("return");case 3:return se==="empty"?bi(v==null?void 0:v.data,e.name,F()):se==="initial"&&bi(v==null?void 0:v.data,e.name,Y.value),me.next=6,i.nextTick();case 6:E.value?R.value=!0:N();case 7:case"end":return me.stop()}},ce)}));return function(){return re.apply(this,arguments)}}(),$=i.computed(function(){var re;return(re=v==null?void 0:v.errorMessage)!==null&&re!==void 0?re:s.value.errorMessage}),W=i.computed(function(){var re;if((re=e.rules)!==null&&re!==void 0&&re.length)return e.rules;if(!e.name)return[];var ce="".concat(e.name).lastIndexOf(".")||-1,se="".concat(e.name).slice(ce+1);return we(v==null?void 0:v.rules,e.name)||we(v==null?void 0:v.rules,se)||[]}),H=function(){var re=Et(qe.mark(function ce(se){var ue,ye;return qe.wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:if(ye={successList:[],errorList:[],rules:[],resultList:[],allowSetValue:!1},ye.rules=se==="all"?W.value:W.value.filter(function(xe){return(xe.trigger||"change")===se}),!(W.value.length&&!((ue=ye.rules)!==null&&ue!==void 0&&ue.length))){ge.next=4;break}return ge.abrupt("return",ye);case 4:return ye.allowSetValue=!0,ge.next=7,Xv(q.value,ye.rules);case 7:return ye.resultList=ge.sent,ye.errorList=ye.resultList.filter(function(xe){return xe.result!==!0}).map(function(xe){return Object.keys(xe).forEach(function(le){if(!xe.message&&$.value[le]){var ie=Ae(e.label)?e.label:e.name;xe.message=bQ($.value[le],{name:ie,validate:xe[le]})}}),xe}),ye.successList=ye.resultList.filter(function(xe){return xe.result===!0&&xe.message&&xe.type==="success"}),ge.abrupt("return",ye);case 11:case"end":return ge.stop()}},ce)}));return function(se){return re.apply(this,arguments)}}(),K=function(){var re=Et(qe.mark(function ce(se,ue){var ye,me,ge,xe,le,ie;return qe.wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return E.value=!0,U.value=ue,de.next=4,H(se);case 4:return ye=de.sent,me=ye.successList,ge=ye.errorList,xe=ye.rules,le=ye.resultList,ie=ye.allowSetValue,ie&&(_.value=me,S.value=ge),xe.length&&(A.value=ge.length?or.FAIL:or.SUCCESS),R.value&&N(),E.value=!1,de.abrupt("return",G({},e.name,ge.length===0?!0:le));case 15:case"end":return de.stop()}},ce)}));return function(se,ue){return re.apply(this,arguments)}}(),z=function(){var re=Et(qe.mark(function ce(se){var ue,ye,me;return qe.wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:return xe.next=2,H(se);case 2:return ue=xe.sent,ye=ue.errorList,me=ue.resultList,xe.abrupt("return",G({},e.name,ye.length===0?!0:me));case 6:case"end":return xe.stop()}},ce)}));return function(se){return re.apply(this,arguments)}}(),B=function(ce){!ce&&!Ie(ce)||(ce.length===0&&(S.value=[],A.value=or.SUCCESS),S.value=ce.map(function(se){return Zv(Zv({},se),{},{result:!1})}),A.value=or.FAIL)},q=i.computed(function(){return(v==null?void 0:v.data)&&we(v==null?void 0:v.data,e.name)}),Y=i.ref(void 0),X=i.toRefs(e),T=X.name,j=i.reactive({name:T,resetHandler:N,resetField:M,validate:K,validateOnly:z,setValidateMessage:B});i.onMounted(function(){Y.value=On(q.value),v==null||v.children.push(j)}),i.onBeforeUnmount(function(){v&&(v.children=v==null?void 0:v.children.filter(function(re){return re!==j}))}),i.watch(q,Et(qe.mark(function re(){return qe.wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return se.next=2,K("change");case 2:case"end":return se.stop()}},re)})),{deep:!0}),i.watch(function(){return[e.name,JSON.stringify(e.rules)].join(",")},function(){K("change")});var U=i.ref(void 0),J=i.computed(function(){return Ht(U.value)?U.value:Ht(e.showErrorMessage)?e.showErrorMessage:v==null?void 0:v.showErrorMessage}),Z=i.computed(function(){return[o.value.formItem,qS(g.value,e.name),G(G({},o.value.formItemWithHelp,Q.value),o.value.formItemWithExtra,ee.value)]}),Q=i.computed(function(){var re=r("help");return re?i.createVNode("div",{class:o.value.help},[re]):null}),ee=i.computed(function(){var re,ce=function(ye){return i.createVNode("div",{class:o.value.extra,title:ye},[ye])},se=S.value;return J.value&&se!==null&&se!==void 0&&(re=se[0])!==null&&re!==void 0&&re.message?ce(se[0].message):_.value.length?ce(_.value[0].message):null}),ne=i.computed(function(){var re=r("tips");if(!re)return null;var ce=["".concat(g.value,"-tips"),"".concat(h.value,"-tips"),"".concat(h.value,"-is-").concat(e.status||"default")];return i.createVNode("div",{class:ce},[re])}),V=function(){var re=Et(qe.mark(function ce(){return qe.wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.next=2,K("blur");case 2:case"end":return ue.stop()}},ce)}));return function(){return re.apply(this,arguments)}}();return i.provide(yv,{handleBlur:V}),function(){return i.createVNode("div",{class:Z.value},[k(),i.createVNode("div",{class:L.value,style:O.value},[i.createVNode("div",{class:o.value.controlsContent},[r("default"),I()]),Q.value,ne.value,ee.value])])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var CQ={colon:Boolean,data:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:void 0},errorMessage:{type:Object},formControlledComponents:{type:Array},id:{type:String,default:void 0},labelAlign:{type:String,default:"right",validator:function(e){return e?["left","right","top"].includes(e):!0}},labelWidth:{type:[String,Number],default:"100px"},layout:{type:String,default:"vertical",validator:function(e){return e?["vertical","inline"].includes(e):!0}},preventSubmitDefault:{type:Boolean,default:!0},readonly:{type:Boolean,default:void 0},requiredMark:{type:Boolean,default:void 0},resetType:{type:String,default:"empty",validator:function(e){return e?["empty","initial"].includes(e):!0}},rules:{type:Object},scrollToFirstError:{type:String,validator:function(e){return e?["","smooth","auto"].includes(e):!0}},showErrorMessage:{type:Boolean,default:!0},statusIcon:{type:[Boolean,Function],default:void 0},submitWithWarningMessage:Boolean,onReset:Function,onSubmit:Function,onValidate:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function GS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function xQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GS(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GS(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var SQ=i.defineComponent({name:"TForm",props:xQ({},CQ),setup:function(e,n){var a=n.expose,r=Pe(),o=i.toRefs(e),l=o.disabled,s=o.readonly;i.provide("formDisabled",{disabled:l}),i.provide("formReadonly",{readonly:s});var c=i.ref(null),d=i.ref([]),u=i.toRefs(e),f=u.showErrorMessage,v=u.labelWidth,h=u.labelAlign,g=u.data,p=u.colon,m=u.requiredMark,y=u.rules,b=u.errorMessage,w=u.resetType;i.provide(Jw,i.reactive({showErrorMessage:f,labelWidth:v,labelAlign:h,data:g,colon:p,requiredMark:m,rules:y,errorMessage:b,resetType:w,children:d,renderContent:r}));var C=ae("form"),x=Xw(),k=i.computed(function(){return[x.value.form,G({},"".concat(C.value,"-inline"),e.layout==="inline")]}),P=ae("form-item"),I=function(K){if(Ht(K))return"";var z=Object.keys(K),B=Ce(z,1),q=B[0];if(e.scrollToFirstError){var Y=qS(P.value,q);D(Y)}var X=K[q];return Ie(X)?X.filter(function(T){return!T.result})[0].message:""},D=function(K){var z=c.value.getElementsByClassName(K),B=Ce(z,1),q=B[0],Y=e.scrollToFirstError;Y&&q&&q.scrollIntoView({behavior:Y})},L=function(K,z){return!z||!Ie(z)?!0:z.indexOf("".concat(K))!==-1},O=function(K){var z=K.reduce(function(B,q){return Object.assign(B||{},q)},{});return Object.keys(z).forEach(function(B){z[B]===!0&&delete z[B]}),kn(z)?!0:z},S=function(){var H=Et(qe.mark(function K(z){var B,q,Y,X,T,j,U,J,Z,Q;return qe.wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return q=z||{},Y=q.fields,X=q.trigger,T=X===void 0?"all":X,j=q.showErrorMessage,U=d.value.filter(function(V){return pe(V.validate)&&L(String(V.name),Y)}).map(function(V){return V.validate(T,j)}),ne.next=4,Promise.all(U);case 4:return J=ne.sent,Z=O(J),Q=I(Z),(B=e.onValidate)===null||B===void 0||B.call(e,{validateResult:Z,firstError:Q}),ne.abrupt("return",Z);case 9:case"end":return ne.stop()}},K)}));return function(z){return H.apply(this,arguments)}}(),_=function(){var H=Et(qe.mark(function K(z){var B,q,Y,X,T,j;return qe.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return B=z||{},q=B.fields,Y=B.trigger,X=Y===void 0?"all":Y,T=d.value.filter(function(Z){return pe(Z.validateOnly)&&L(String(Z.name),q)}).map(function(Z){return Z.validateOnly(X)}),J.next=4,Promise.all(T);case 4:return j=J.sent,J.abrupt("return",O(j));case 6:case"end":return J.stop()}},K)}));return function(z){return H.apply(this,arguments)}}(),A=i.ref(),E=function(K){e.preventSubmitDefault&&K&&(K.preventDefault(),K.stopPropagation()),S(A.value).then(function(z){var B;(B=e.onSubmit)===null||B===void 0||B.call(e,{validateResult:z,firstError:I(z),e:K})}),A.value=void 0},R=function(){var H=Et(qe.mark(function K(z){return qe.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:A.value=z,mM(c.value);case 2:case"end":return q.stop()}},K)}));return function(z){return H.apply(this,arguments)}}(),N=i.ref(),F=function(K){var z;e.preventSubmitDefault&&K&&(K.preventDefault(),K.stopPropagation()),d.value.filter(function(B){var q;return pe(B.resetField)&&L(String(B.name),(q=N.value)===null||q===void 0?void 0:q.fields)}).forEach(function(B){var q;return B.resetField((q=N.value)===null||q===void 0?void 0:q.type)}),N.value=void 0,(z=e.onReset)===null||z===void 0||z.call(e,{e:K})},M=function(K){N.value=K,c.value.reset()},$=function(K){d.value.forEach(function(z){pe(z.resetHandler)&&L(String(z.name),K)&&z.resetHandler()})},W=function(K){var z=Object.keys(K);if(z.length){var B=d.value.filter(function(q){return pe(q.setValidateMessage)&&z.includes("".concat(q.name))}).map(function(q){return q.setValidateMessage(K[q.name])});Promise.all(B)}};return a({validate:S,submit:R,reset:M,clearValidate:$,setValidateMessage:W,validateOnly:_}),function(){return i.createVNode("form",{ref:c,class:k.value,onSubmit:function(K){return E(K)},onReset:function(K){return F(K)}},[r("default")])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var OQ=be(SQ),kQ=be(wQ);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var XS={allowUncheck:Boolean,checked:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},defaultChecked:Boolean,default:{type:[String,Function]},disabled:{type:Boolean,default:void 0},label:{type:[String,Function]},name:{type:String,default:""},readonly:{type:Boolean,default:void 0},value:{type:[String,Number,Boolean],default:void 0},onChange:Function,onClick:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var JS=Symbol("RadioGroupProvide"),ZS=Symbol("RadioButtonProvide");/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function QS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function PQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QS(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QS(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function _Q(t){var e={};return Object.keys(t).forEach(function(n){Kt(t[n])||(e[n]=t[n])}),e}var Qv=i.defineComponent({name:"TRadio",inheritAttrs:!1,props:PQ({},XS),setup:function(e,n){var a=n.attrs,r=i.ref(),o=i.toRefs(e),l=o.checked,s=o.modelValue,c=ot(l,s,e.defaultChecked,e.onChange,"checked"),d=Ce(c,2),u=d[0],f=d[1],v=i.computed(function(){return h?e.value===h.value:u.value}),h=i.inject(JS,void 0),g=i.computed(function(){return!!(e.allowUncheck||h!=null&&h.allowUncheck)}),p=function(N){N.stopPropagation()},m=function(N){var F;if(!(x.value||k.value)&&((F=e.onClick)===null||F===void 0||F.call(e,{e:N}),!(v.value&&!g.value)))if(h){var M=v.value&&g.value?void 0:e.value;h.setValue(M,{e:N,name:h.name})}else{var $=g.value?!v.value:!0;f($,{e:N})}},y=i.computed(function(){return _Q({focus:a.onFocus,blur:a.onBlur,keydown:a.onKeydown,keyup:a.onKeyup,keypresss:a.onKeypresss})}),b=i.computed(function(){var R=[].concat(he(Object.keys(y.value)),["input","change"]).map(function(N){return"on".concat(N[0].toUpperCase()).concat(N.slice(1))});return vv(a,R)}),w=i.computed(function(){return h==null?void 0:h.disabled}),C=i.computed(function(){return h==null?void 0:h.readonly}),x=St({afterDisabled:w}),k=mn({afterReadonly:C}),P=i.computed(function(){return{name:h?h.name:e.name,checked:v.value,disabled:x.value,readonly:k.value,value:e.value}}),I=lt(),D=I.STATUS,L=i.inject(ZS,void 0),O=ae("radio-button"),S=ae("radio"),_=i.computed(function(){return L?O.value:S.value}),A=i.computed(function(){return["".concat(_.value),G(G({},D.value.checked,P.value.checked),D.value.disabled,P.value.disabled)]}),E=ft();return function(){return i.createVNode("label",i.mergeProps({ref:r,class:A.value},b.value,{tabindex:x.value?void 0:"0",onClick:m}),[i.createVNode("input",i.mergeProps({type:"radio",class:"".concat(_.value,"__former")},y.value,P.value,{onClick:p,tabindex:"-1","data-value":Ae(e.value)?"'".concat(e.value,"'"):e.value,"data-allow-uncheck":g.value||void 0}),null),i.createVNode("span",{class:"".concat(_.value,"__input")},null),i.createVNode("span",{class:"".concat(_.value,"__label")},[E("default","label")])])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var IQ=ar,NQ=Le,TQ="Expected a function";function EQ(t,e,n){var a=!0,r=!0;if(typeof t!="function")throw new TypeError(TQ);return NQ(n)&&(a="leading"in n?!!n.leading:a,r="trailing"in n?!!n.trailing:r),IQ(t,e,{leading:a,maxWait:e,trailing:r})}var Ci=EQ;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var AQ={allowUncheck:Boolean,disabled:{type:Boolean,default:void 0},name:{type:String,default:""},options:{type:Array},readonly:{type:Boolean,default:void 0},size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},value:{type:[String,Number,Boolean],default:void 0},modelValue:{type:[String,Number,Boolean],default:void 0},defaultValue:{type:[String,Number,Boolean]},variant:{type:String,default:"outline",validator:function(e){return e?["outline","primary-filled","default-filled"].includes(e):!0}},onChange:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function RQ(t,e){var n=function(r){var o=nu.test(r.key)||nu.test(r.code);if(o){r.preventDefault();var l=r.target.querySelector("input");if(!l)return;var s=l.dataset;if(l.checked&&s.allowUncheck)e(void 0,{e:r});else{var c=isNaN(Number(s.value))?s.value:Number(s.value);c=Ae(c)&&{true:!0,false:!1}[c]||c,c=Ae(c)&&c[0]==="'"?c.replace(/'/g,""):c,e(c,{e:r})}}};i.onMounted(function(){pt(t.value,"keydown",n)}),i.onBeforeMount(function(){rt(t.value,"keydown",n)})}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var DQ=["window"],jQ=typeof window<"u"?window:void 0;function MQ(t){var e,n=i.unref(t);return(e=n==null?void 0:n.$el)!==null&&e!==void 0?e:n}function FQ(t){return i.getCurrentScope()?(i.onScopeDispose(t),!0):!1}function VS(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=n.window,r=a===void 0?jQ:a,o=Er(n,DQ),l,s=r&&"MutationObserver"in r,c=function(){l&&(l.disconnect(),l=void 0)},d=i.watch(function(){return MQ(t)},function(f){c(),s&&r&&f&&(l=new MutationObserver(e),l.observe(f,o))},{immediate:!0}),u=function(){c(),d()};return FQ(u),{isSupported:s,stop:u}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function eO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Vv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eO(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eO(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var LQ=i.defineComponent({name:"TRadioGroup",props:Vv({},AQ),setup:function(e){var n=i.toRefs(e),a=n.value,r=n.modelValue,o=ot(a,r,e.defaultValue,e.onChange),l=Ce(o,2),s=l[0],c=l[1],d=i.ref(),u=ae("radio-button"),f=lt(),v=f.STATUS,h=f.SIZE;RQ(d,c);var g=i.computed(function(){return".".concat(u.value,".").concat(v.value.checked)}),p=i.ref({width:"0px",height:"0px",left:"0px",top:"0px","transition-property":"none"}),m=function(){var _=document.createElement("div");_.setAttribute("style","position: absolute; visibility: hidden;"),_.appendChild(d.value.cloneNode(!0)),document.body.appendChild(_);var A=_.querySelector(g.value),E=A.offsetWidth,R=A.offsetHeight,N=A.offsetLeft,F=A.offsetTop;p.value=Vv(Vv({},p.value),{},{width:"".concat(E,"px"),height:"".concat(R,"px"),left:"".concat(N,"px"),top:"".concat(F,"px")}),document.body.removeChild(_)},y=function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(e.variant!=="outline"){var A=d.value.querySelector(g.value),E=_?"none":"all";if(!A){p.value={"transition-property":E,width:"0px",height:"9px",left:"0px",top:"0px"};return}var R=A.offsetWidth,N=A.offsetHeight,F=A.offsetLeft,M=A.offsetTop;R?p.value={"transition-property":E,width:"".concat(R,"px"),height:"".concat(N,"px"),left:"".concat(F,"px"),top:"".concat(M,"px")}:m()}},b;i.watch(s,Et(qe.mark(function S(){return qe.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,i.nextTick();case 2:y();case 3:case"end":return A.stop()}},S)}))),i.onMounted(function(){y(!0),To(d,Ci(Et(qe.mark(function _(){return qe.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,i.nextTick();case 2:y();case 3:case"end":return E.stop()}},_)})),300));var S=d.value.querySelector("".concat(g.value," .").concat(u.value,"__label"));S&&(b=VS(S,function(_){_.forEach(function(A){A.type==="characterData"&&y()})},{attributes:!0,childList:!0,characterData:!0,subtree:!0}))}),i.onUnmounted(function(){var S;(S=b)===null||S===void 0||S.stop()});var w=i.toRefs(e),C=w.name,x=w.disabled,k=w.readonly;i.provide(JS,i.reactive({name:C,disabled:x,readonly:k,value:s,allowUncheck:e.allowUncheck,setValue:c}));var P=ae("radio-group"),I=va(),D=function(){if(e.variant.includes("filled")&&!li(s.value))return i.createVNode("div",{style:p.value,class:"".concat(P.value,"__bg-block")},null)},L=function(){var _;return(_=e.options)===null||_===void 0?void 0:_.map(function(A){var E=A;return(nt(A)||Ae(A))&&(E={value:A,label:A.toString()}),i.createVNode(Qv,{key:"radio-group-options-".concat(E.value,"-").concat(Math.random()),name:e.name,checked:s.value===E.value,disabled:"disabled"in E?E.disabled:e.disabled,value:E.value},{default:function(){return[pe(E.label)?E.label(i.h):E.label]}})})},O=i.computed(function(){return["".concat(P.value),h.value[e.size],G(G(G({},"".concat(P.value,"__outline"),e.variant==="outline"),"".concat(P.value,"--filled"),e.variant.includes("filled")),"".concat(P.value,"--primary-filled"),e.variant==="primary-filled")]});return function(){return i.createVNode("div",{ref:d,class:O.value},[I("default")||L(),D()])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function tO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function eh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tO(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tO(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function $Q(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!i.isVNode(t)}var BQ=i.defineComponent({name:"TRadioButton",inheritAttrs:!1,props:eh({},XS),setup:function(e,n){var a=n.attrs;i.provide(ZS,i.reactive({}));var r=i.computed(function(){var l=eh(eh({},e),vv(a,Object.keys(a).filter(function(s){return s.startsWith("on")})));return l}),o=ft();return function(){var l;return i.createVNode(Qv,r.value,$Q(l=o("default","label"))?l:{default:function(){return[l]}})}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var nO=be(Qv),ku=be(LQ),th=be(BQ);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var zQ={disabled:{type:Boolean,default:void 0},inputNumberProps:{type:[Boolean,Object],default:!1},label:{type:[String,Boolean,Function],default:!0},layout:{type:String,default:"horizontal",validator:function(e){return e?["vertical","horizontal"].includes(e):!0}},marks:{type:[Object,Array]},max:{type:Number,default:100},min:{type:Number,default:0},range:Boolean,showStep:Boolean,step:{type:Number,default:1},tooltipProps:{type:Object},value:{type:[Number,Array],default:void 0},modelValue:{type:[Number,Array],default:void 0},defaultValue:{type:[Number,Array],default:0},onChange:Function,onChangeEnd:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var nh=function(e,n){return n?{top:"calc(".concat(100-e,"% - 1px)")}:{left:"".concat(e,"%")}},aO=function(e,n){return n==="first"?e instanceof Array?e[0]:e:e instanceof Array?e[1]:0},HQ=function(e,n){if(!e)return String(n);if(Ae(e)){var a=String(n);try{var r=/\${value}%/g,o=r.test(e);if(o)a=e.replace(r,String(n));else throw a=e,new Error}catch{console.warn("fail to parse label prop, please pass string such as '${value}%'")}return a}return e};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function rO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Ho(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rO(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rO(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var WQ={visible:!1,trigger:"hover",showArrow:!0,overlayInnerStyle:void 0,overlayClassName:void 0,attach:"body",theme:"default"},UQ=function(e){var n=i.ref(),a=i.computed({get:function(){return!!e.value.tooltipProps},set:function(d){return d}}),r=i.ref(Ho({},WQ)),o=function(d){a.value&&(r.value.visible=d)},l=Pe(),s=i.computed(function(){var c=e.value,d=c.vertical,u=c.tooltipProps,f=c.label,v=c.value,h=c.position,g=c.range,p=d?"right":"top",m=function(){return f===!0?String(v):typeof f=="string"?HQ(f,v):l("label",{params:g?{value:v,position:h}:{value:v}})}();return u instanceof Object?(u!=null&&u.placement||(r.value.placement=p),u.content&&(m=u.content),Ho(Ho(Ho({},r.value),u),{},{content:m})):Ho(Ho({},r.value),{},{placement:p,content:m})});return{tooltipRef:n,tooltipProps:s,toggleTooltip:o,showTooltip:a}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var iO=Symbol("sliderProps");/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var ah=i.defineComponent({name:"TSliderButton",props:{value:{type:[Number],default:0},vertical:{type:Boolean,default:!1},tooltipProps:{type:[Boolean,Object],default:!0},label:{type:[String,Boolean,Function]},range:{type:Boolean,default:!1},position:{type:String}},emits:["input","mouseup"],setup:function(e,n){var a=ae("slider__button"),r=i.computed(function(){return e}),o=UQ(r),l=o.tooltipRef,s=o.tooltipProps,c=o.toggleTooltip,d=o.showTooltip,u=i.inject(iO),f=i.ref(),v=i.ref(!1),h=i.reactive({dragging:!1,isClick:!1,startX:0,startY:0,startPos:0,newPos:null}),g=i.computed(function(){return Number(u.max)-Number(u.min)}),p=i.computed(function(){return"".concat((e.value-u.min)/g.value*100,"%")}),m=i.computed(function(){return u.step}),y=i.computed(function(){return e.vertical?{bottom:p.value}:{left:p.value}});i.watchEffect(function(){u.toggleDragging(h.dragging)});var b=function(S){var _=S;if(!(_===null||Number.isNaN(_))){_>100?_=100:_<0&&(_=0);var A=100*m.value/g.value,E=Math.round(_/A),R=E*A*g.value*.01;R+=u.min,R=Number(parseFloat("".concat(R)).toFixed(u.precision)),n.emit("input",R),i.nextTick(function(){var N,F;l.value&&((N=(F=l.value).updatePopper)===null||N===void 0||N.call(F))})}},w=function(){f.value.focus(),c(!0)},C=function(){h.dragging||c(!1)},x=function(S){h.dragging=!0,h.isClick=!0;var _=S.type,A=S.clientY,E=S.clientX;if(_==="touchstart"){var R=S.touches,N=[R[0].clientY,R[0].clientX];A=N[0],E=N[1]}e.vertical?h.startY=A:h.startX=E,h.startPos=parseFloat(p.value),h.newPos=h.startPos},k=function(S){var _=S;if(h.dragging){v.value=!0,h.isClick=!1,u!=null&&u.resetSize&&pe(u==null?void 0:u.resetSize)&&u.resetSize();var A=0,E=u.sliderSize;e.vertical?A=h.startY-_.clientY:A=_.clientX-h.startX,A=A/E*100,h.newPos=h.startPos+A,b(h.newPos)}},P=function(){h.dragging&&(setTimeout(function(){h.dragging=!1,c(!1),h.isClick||b(h.newPos),v.value&&n.emit("mouseup"),v.value=!1},0),window.removeEventListener("mousemove",k),window.removeEventListener("touchmove",k),window.removeEventListener("mouseup",P),window.removeEventListener("touchend",P),window.removeEventListener("contextmenu",P))};function I(O){u.disabled||(O.preventDefault(),x(O),window.addEventListener("mousemove",k),window.addEventListener("mouseup",P),window.addEventListener("touchmove",k),window.addEventListener("touchend",P),window.addEventListener("contextmenu",P))}var D=function(S){if(!u.disabled){var _=m.value/g.value*100;S==="sub"&&(_=-_),h.newPos=parseFloat(p.value)+_,b(h.newPos)}},L=function(S){var _=S.code;S.preventDefault(),(_==="ArrowDown"||_==="ArrowLeft")&&D("sub"),(_==="ArrowUp"||_==="ArrowRight")&&D("add")};return n.expose({setPosition:b}),function(){return i.createVNode("div",{ref:f,class:"".concat(a.value,"-wrapper"),style:y.value,tabindex:"0","show-tooltip":d.value,disabled:u.disabled,onmouseenter:w,onmouseleave:C,onmousedown:I,onTouchstart:I,onfocus:w,onblur:C,onKeydown:L},[i.createVNode(pn,i.mergeProps({ref:l,hideEmptyPopup:!0,disabled:!d.value},s.value),{default:function(){return[i.createVNode("div",{class:[a.value,G({},"".concat(a.value,"--dragging"),h.dragging)]},null)]}})])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var KQ=i.defineComponent({name:"TSliderMark",props:{mark:{type:[Object,Array,String,Number]},point:{type:Number},onClickMarkPoint:{type:Function,default:function(){}}},setup:function(e){var n=ae("slider__mark"),a=function(o){var l;o.stopPropagation(),e==null||(l=e.onClickMarkPoint)===null||l===void 0||l.call(e,e.point)};return function(){return i.createVNode("div",{class:"".concat(n.value,"-text"),onClick:a},[e.mark])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var YQ=function(e){var n=e.value.prefixName,a=i.computed(function(){var o=e.value;if(!o.marks)return[];var l=[];if(Ie(o.marks)){var s=On(o.marks).sort(function(u,f){return u-f}),c=Math.max.apply(Math,he(s).concat([o.max])),d=Math.min.apply(Math,he(s).concat([o.min]));d<o.min&&He.errorOnce("TSlider","marks min value should >= props min"),c>o.max&&He.errorOnce("TSlider","marks max value should <= props max"),s.forEach(function(u){l.push({point:u,position:(u-d)/(c-d)*100,mark:u})})}else Object.keys(o.marks).map(parseFloat).sort(function(u,f){return u-f}).filter(function(u){return u<=o.max&&u>=o.min}).forEach(function(u){var f={point:u,position:(u-o.min)*100/(o.max-o.min),mark:o.marks[u]};l.push(f)});return l}),r=function(l){return a.value.length?i.createVNode("div",null,[i.createVNode("div",{class:"".concat(n,"__stops")},[a.value.map(function(s,c){return s.position===0||s.position===100?null:i.createVNode("div",{class:"".concat(n,"__stop ").concat(n,"__mark-stop"),style:nh(s.position,e.value.vertical),key:c},null)})]),i.createVNode("div",{class:"".concat(n,"__mark")},[a.value.map(function(s,c){return i.createVNode(KQ,{mark:s.mark,point:s.point,key:c,style:nh(s.position,e.value.vertical),onClickMarkPoint:l},null)})])]):null};return r};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function oO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function lO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oO(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oO(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var qQ=function(e){var n=e.value.prefixName,a=i.computed(function(){var l,s={format:void 0,placeholder:"",theme:"column",decimalPlaces:((l=e.value.step.toString().split(".")[1])===null||l===void 0?void 0:l.length)||0},c=e.value;if(!Ht(c.inputNumberProps)){var d,u=(d=c.inputNumberProps)===null||d===void 0?void 0:d.theme;s=lO(lO({},s),gn(c.inputNumberProps,"onChange")),["column","row","normal"].includes(u)&&(s.theme=u)}return s}),r=i.computed(function(){return["".concat(n,"__input"),{"is-vertical":e.value.vertical}]}),o=function(s,c){var d=function(f,v){var h,g;f!==void 0&&!isNaN(f)&&c(f),(h=e.value)===null||h===void 0||(h=h.inputNumberProps)===null||h===void 0||(g=h.onChange)===null||g===void 0||g.call(h,f,v)};return i.createVNode(ts,i.mergeProps(a.value,{class:r.value,value:s,step:e.value.step,onChange:d,disabled:e.value.disabled,min:e.value.min,max:e.value.max}),null)};return o};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function sO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function GQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sO(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sO(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var XQ=i.defineComponent({name:"TSlider",model:{prop:"value",event:"change"},props:GQ({},zQ),setup:function(e){var n=St(),a=ae("slider"),r=lt(),o=r.STATUS,l=i.toRefs(e),s=l.value,c=l.modelValue,d=ot(s,c,e.defaultValue,e.onChange),u=Ce(d,2),f=u[0],v=u[1],h=i.ref(),g=i.ref(),p=i.ref(),m=i.ref(),y=i.ref(aO(f.value,"first")),b=i.ref(aO(f.value,"second")),w=i.ref(!1),C=i.ref(1),x=i.computed(function(){return e.layout==="vertical"}),k=i.computed(function(){return["".concat(a.value,"__container"),{"is-vertical":x.value}]}),P=i.computed(function(){return["".concat(a.value),G(G(G({"is-vertical":x.value},"".concat(a.value,"--with-input"),e.inputNumberProps),"".concat(a.value,"--vertical"),x.value),o.value.disabled,n.value)]}),I=i.computed(function(){return["".concat(a.value,"__rail"),{"show-input":e.inputNumberProps,disabled:n.value}]}),D=i.computed(function(){return x.value?{height:"100%"}:{}}),L=i.computed(function(){var ee=e.range?"".concat(100*(S.value-e.min)/O.value,"%"):"0%",ne=e.range?_.value-S.value:y.value-e.min,V="".concat(100*ne/O.value,"%");return x.value?{height:V,bottom:ee}:{width:V,left:ee}}),O=i.computed(function(){return e.max-e.min}),S=i.computed(function(){return Math.min(y.value,b.value)}),_=i.computed(function(){return Math.max(y.value,b.value)}),A=i.computed(function(){if(!e.showStep||e.min>e.max)return[];if(e.step===0)return console.warn("[Element Warn][Slider]step should not be 0."),[];for(var ee=O.value/e.step,ne=100*e.step/O.value,V=[],re=1;re<ee;re++)V.push(re*ne);if(e.range){var ce=V.filter(function(se){return se<100*(S.value-e.min)/O.value||e.step>100*(_.value-e.max)/O.value});return ce}return V.filter(function(se){return se>100*(y.value-e.min)/O.value})}),E=i.computed(function(){var ee=[e.min,e.max,e.step].map(function(ne){var V="".concat(ne).split(".");return V[1]?V[1].length:0});return Math.max.apply(null,ee)}),R=function(ne){var V=[e.min,e.max],re=V[0],ce=V[1];if(re>ce){console.warn("[Slider] max should be greater than min.");return}if(e.range&&Ie(ne)){var se=[Math.min.apply(Math,he(ne)),Math.max.apply(Math,he(ne))],ue=se[0],ye=se[1];ue>ce&&(ue=y.value),ue<re&&(ue=re),ye<re&&(ye=b.value),ye>ce&&(ye=ce);var me=[ue,ye];return y.value=me[0],b.value=me[1],[ue,ye]}var ge=ne;return ge<re&&(ge=re),ge>ce&&(ge=ce),ge},N=function(ne){var V=ne;V===void 0&&(e.range?V=[y.value,b.value]:V=y.value);var re=R(V);v(re)},F=function(){g.value&&(C.value=g.value["client".concat(x.value?"Height":"Width")])},M=i.ref(!1),$=function(){var ne;e.range?(Ie(f.value)?(y.value=Math.max(e.min||0,f.value[0]),b.value=Math.min(e.max||100,f.value[1])):(y.value=e.min||0,b.value=e.max||100),ne="".concat(y.value,"-").concat(b.value)):(nt(f.value)?y.value=Math.min(e.max,Math.max(e.min,f.value)):y.value=e.min,ne=String(y.value)),h.value&&h.value.setAttribute("aria-valuetext",ne),F(),window.addEventListener("resize",F)},W=function(ne){var V=ne*O.value/100;if(V=e.min+V,!e.range&&p.value){p.value.setPosition(ne);return}var re;Math.abs(S.value-V)<Math.abs(_.value-V)?re=y.value<b.value?"button1":"button2":re=y.value>b.value?"button1":"button2",re==="button1"&&p.value&&p.value.setPosition(ne),re==="button2"&&m.value&&m.value.setPosition(ne)},H=function(){var ne=e.range?[y.value,b.value]:y.value;return R(ne)},K=function(ne){var V;if(!(n.value||w.value)&&g.value){F();var re=0;if(x.value){var ce=g.value.getBoundingClientRect().bottom;re=(ce-ne.clientY)/C.value*100,W(re)}else{var se=g.value.getBoundingClientRect().left;re=(ne.clientX-se)/C.value*100,W(re)}var ue=H();(V=e.onChangeEnd)===null||V===void 0||V.call(e,ue)}},z=function(ne){var V;if(!(n.value||w.value)){F();var re=Number(ne/O.value*100);W(re),N(ne);var ce=H();(V=e.onChangeEnd)===null||V===void 0||V.call(e,ce)}};i.watch(function(){return f.value},function(ee){if(w.value!==!0)if(Ie(ee)&&e.range){var ne=Ce(ee,2);y.value=ne[0],b.value=ne[1]}else y.value=ee}),i.watch([y,b,w],function(ee,ne){ee[0]!==ne[0]&&(e.range?N([S.value,_.value]):N(y.value)),ee[1]!==ne[1]&&e.range&&N([S.value,_.value]),ee[2]!==ne[2]&&ee[2]===!1&&$()}),i.onMounted(function(){$(),M.value=!0}),i.onBeforeUnmount(function(){window.removeEventListener("resize",F)});var B=i.computed(function(){return{max:e.max,min:e.min,marks:e.marks,vertical:x.value,prefixName:a.value}}),q=YQ(B),Y=i.computed(function(){return{max:e.max,min:e.min,inputNumberProps:e.inputNumberProps,step:e.step,prefixName:a.value,vertical:x.value,disabled:n.value}}),X=qQ(Y),T=function(){var ne=R(y.value),V=function(ue){y.value=R(ue)},re=R(b.value),ce=function(ue){b.value=R(ue)};return i.createVNode("div",{class:["".concat(a.value,"__input-container"),{"is-vertical":x.value}]},[X(ne,V),e.range&&i.createVNode("div",{class:"".concat(a.value,"__center-line")},null),e.range&&X(re,ce)])},j=function(ne){w.value=ne},U=i.toRefs(e),J=U.min,Z=U.max,Q=U.step;return i.provide(iO,i.reactive({min:J,max:Z,step:Q,dragging:w,toggleDragging:j,precision:E,disabled:n,resetSize:F,sliderSize:C})),function(){return i.createVNode("div",{class:k.value,ref:h},[i.createVNode("div",{class:P.value,role:"slider","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-orientation":e.layout,"aria-disabled":n.value,"tooltip-props":e.tooltipProps},[i.createVNode("div",{class:I.value,style:D.value,onClick:K,ref:g},[i.createVNode("div",{class:"".concat(a.value,"__track"),style:L.value},null),i.createVNode(ah,{vertical:x.value,value:y.value,ref:p,disabled:n.value,range:e.range,position:"start","tooltip-props":e.tooltipProps,label:e.label,onInput:function(ne){y.value=ne},onMouseup:function(){var ne,V=H();(ne=e.onChangeEnd)===null||ne===void 0||ne.call(e,V)}},null),e.range&&i.createVNode(ah,{vertical:x.value,value:b.value,ref:m,disabled:n.value,label:e.label,range:e.range,position:"end","tooltip-props":e.tooltipProps,onInput:function(ne){b.value=ne},onMouseup:function(){var ne,V=H();(ne=e.onChangeEnd)===null||ne===void 0||ne.call(e,V)}},null),e.showStep&&i.createVNode("div",{class:"".concat(a.value,"__stops")},[A.value.map(function(ee,ne){return ee.position===0||ee.position===100?null:i.createVNode("div",{class:"".concat(a.value,"__stop"),key:ne,style:nh(ee,x.value)},null)})]),q(z)])]),M.value&&e.inputNumberProps&&T()])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var JQ=be(XQ),ZQ=be(ah);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var QQ={beforeChange:{type:Function},customValue:{type:Array},disabled:{type:Boolean,default:void 0},label:{type:[Array,Function],default:function(){return[]}},loading:Boolean,size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},value:{type:[String,Number,Boolean],default:void 0},modelValue:{type:[String,Number,Boolean],default:void 0},defaultValue:{type:[String,Number,Boolean]},onChange:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function cO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function VQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cO(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cO(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var eV=i.defineComponent({name:"TSwitch",props:VQ({},QQ),setup:function(e,n){var a=n.slots,r=St(),o=ae("switch"),l=lt(),s=l.STATUS,c=l.SIZE,d=i.toRefs(e),u=d.value,f=d.modelValue,v=ot(u,f,e.defaultValue,e.onChange),h=Ce(v,2),g=h[0],p=h[1],m=i.computed(function(){return e.customValue&&e.customValue.length>0?e.customValue[0]:!0}),y=i.computed(function(){return e.customValue&&e.customValue.length>1?e.customValue[1]:!1});function b(I){var D=g.value===m.value?y.value:m.value;p(D,{e:I})}function w(I){if(!(r.value||e.loading)){if(!e.beforeChange){b(I);return}Promise.resolve(e.beforeChange()).then(function(D){D&&b(I)}).catch(function(D){throw new Error("Switch: some error occurred: ".concat(D))})}}var C=i.computed(function(){return["".concat(o.value),c.value[e.size],G(G(G({},s.value.disabled,r.value),s.value.loading,e.loading),s.value.checked,g.value===m.value||e.modelValue===m.value)]}),x=i.computed(function(){return["".concat(o.value,"__handle"),G(G({},s.value.disabled,r.value),s.value.loading,e.loading)]}),k=i.computed(function(){return["".concat(o.value,"__content"),c.value[e.size],G({},s.value.disabled,r.value)]});i.watch(g,function(I){if(e.customValue&&e.customValue.length&&!e.customValue.includes(I))throw new Error("value is not in ".concat(JSON.stringify(e.customValue)))},{immediate:!0});var P=i.computed(function(){if(pe(e.label))return e.label(i.h,{value:g.value});if(Ae(e.label))return e.label;if(Ie(e.label)&&e.label.length){var I=g.value===m.value?e.label[0]:e.label[1];if(!I)return;if(Ae(I))return I;if(pe(I))return I(i.h)}return a.label?a.label({value:g.value}):null});return function(){var I,D;return e.loading?D=i.createVNode(an,{size:"small"},null):P.value&&(I=P.value),i.createVNode("div",{class:C.value,disabled:r.value,onClick:w},[i.createVNode("span",{class:x.value},[D]),i.createVNode("div",{class:k.value},[I])])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var tV=be(eV);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var ia,nV=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow-y:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important
`,aV=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function rV(t){if(!(typeof window>"u"||!t)){var e=window.getComputedStyle(t),n=e.getPropertyValue("box-sizing")||e.getPropertyValue("-moz-box-sizing")||e.getPropertyValue("-webkit-box-sizing"),a=parseFloat(e.getPropertyValue("padding-bottom"))+parseFloat(e.getPropertyValue("padding-top")),r=parseFloat(e.getPropertyValue("border-bottom-width"))+parseFloat(e.getPropertyValue("border-top-width")),o=aV.map(function(l){return"".concat(l,":").concat(e.getPropertyValue(l))}).join(";");return{sizingStyle:o,paddingSize:a,borderSize:r,boxSizing:n}}}function uO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;ia||(ia=document.createElement("textarea"),document.body.appendChild(ia));var a=rV(t),r=a.paddingSize,o=a.borderSize,l=a.boxSizing,s=a.sizingStyle;ia.setAttribute("style","".concat(s,";").concat(nV)),ia.value=t.value||t.placeholder||"";var c=ia.scrollHeight,d={};l==="border-box"?c+=o:l==="content-box"&&(c-=r),ia.value="";var u=ia.scrollHeight-r;if(e!==null){var f=u*e;l==="border-box"&&(f=f+r+o),c=Math.max(f,c),d.minHeight="".concat(f,"px")}if(n!==null){var v=u*n;l==="border-box"&&(v=v+r+o),c=Math.min(v,c)}return d.height="".concat(c,"px"),ia.parentNode&&ia.parentNode.removeChild(ia),ia=null,d}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var iV={allowInputOverMax:Boolean,autofocus:Boolean,autosize:{type:[Boolean,Object],default:!1},disabled:{type:Boolean,default:void 0},maxcharacter:{type:Number},maxlength:{type:[String,Number]},name:{type:String,default:""},placeholder:{type:String,default:void 0},readonly:{type:Boolean,default:void 0},status:{type:String,default:"default",validator:function(e){return e?["default","success","warning","error"].includes(e):!0}},tips:{type:[String,Function]},value:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultValue:{type:[String,Number]},onBlur:Function,onChange:Function,onFocus:Function,onKeydown:Function,onKeypress:Function,onKeyup:Function,onValidate:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function dO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function oV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dO(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dO(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function fO(t){var e={};return Object.keys(t).forEach(function(n){Kt(t[n])||(e[n]=t[n])}),e}var lV=i.defineComponent({name:"TTextarea",inheritAttrs:!1,props:oV({},iV),setup:function(e,n){var a=n.attrs,r=n.expose,o=ae(),l=ae("textarea"),s=i.computed(function(){return"".concat(l.value,"__tips")}),c=i.computed(function(){return"".concat(l.value,"__limit")}),d=i.toRefs(e),u=d.value,f=d.modelValue,v=ot(u,f,e.defaultValue,e.onChange),h=Ce(v,2),g=h[0],p=h[1],m=St(),y=mn(),b=i.ref({}),w=i.ref(),C=i.ref(!1),x=i.ref(!1),k=function(){var T;return(T=w.value)===null||T===void 0?void 0:T.focus()},P=function(){var T;return(T=w.value)===null||T===void 0?void 0:T.blur()},I=function(){var T;if(e.autosize===!0)b.value=uO(w.value);else if(e.autosize&&Je(e.autosize)==="object"){var j=e.autosize,U=j.minRows,J=j.maxRows;b.value=uO(w.value,U,J)}else a.rows?b.value={height:"auto",minHeight:"auto"}:a.style&&(T=w.value)!==null&&T!==void 0&&(T=T.style)!==null&&T!==void 0&&T.height&&(b.value={height:w.value.style.height})},D=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",j=w.value,U=String(T);j&&j.value!==U&&(j.value=U,g.value=U)},L=function(T){var j=T.target,U=j.value;if(e.maxcharacter&&e.maxcharacter>=0){var J=ri(U,e.maxcharacter);U=Je(J)==="object"&&J.characters}!x.value&&p(U,{e:T}),i.nextTick(function(){return D(U)}),I()},O=function(T){L(T)},S=function(){x.value=!0},_=function(T){x.value=!1,L(T)},A=function(T,j){var U;if(!m.value){var J="on".concat(T[0].toUpperCase()).concat(T.slice(1));(U=e[J])===null||U===void 0||U.call(e,g.value,{e:j})}},E=function(T){A("keydown",T)},R=function(T){A("keyup",T)},N=function(T){A("keypress",T)},F=function(T){var j;I(),!m.value&&(C.value=!0,(j=e.onFocus)===null||j===void 0||j.call(e,g.value,{e:T}))},M=i.inject(yv,void 0),$=function(T){var j;T.target&&(I(),C.value=!1,(j=e.onBlur)===null||j===void 0||j.call(e,g.value,{e:T}),M==null||M.handleBlur())},W=i.computed(function(){return[l.value,G(G({},"".concat(o.value,"-is-disabled"),m.value),"".concat(o.value,"-is-readonly"),y.value)]}),H=i.computed(function(){return fO({autofocus:e.autofocus,disabled:m.value,readonly:y.value,placeholder:e.placeholder,maxlength:!e.allowInputOverMax&&e.maxlength||void 0,name:e.name||void 0})}),K=i.computed(function(){var X=ri(String(g.value||""));return Je(X)==="object"?X.length:X}),z=i.computed(function(){return{value:[void 0,null].includes(g.value)?void 0:String(g.value),status:e.status,maxlength:Number(e.maxlength),maxcharacter:e.maxcharacter,allowInputOverMax:e.allowInputOverMax,onValidate:e.onValidate}}),B=Zw(z),q=B.tStatus;i.watch(function(){return g.value},function(){return I()}),i.watch(w,function(X){X&&I()}),i.watch(function(){return e.autofocus},function(X){X&&w.value.focus()}),i.watch(b,function(X){var T=a.style;ai(w.value,fc(T,X))}),i.watch(g,function(){i.nextTick(function(){return I()})}),i.watch(function(){return e.autosize},I,{deep:!0}),r({focus:k,blur:P}),i.onMounted(function(){I()});var Y=Pe();return function(){var X,T=fO({onFocus:F,onBlur:$,onKeydown:E,onKeyup:R,onKeypress:N}),j=lt(),U=j.STATUS,J=i.computed(function(){return["".concat(l.value,"__inner"),G(G(G(G({},"".concat(o.value,"-is-").concat(q.value),q.value),U.value.disabled,m.value),U.value.focused,C.value),"".concat(o.value,"-resize-none"),Je(e.autosize)==="object"),"narrow-scrollbar"]}),Z=Y("tips"),Q=Z&&i.createVNode("div",{class:"".concat(s.value," ").concat(l.value,"__tips--").concat(e.status||"normal")},[Z]),ee=e.maxcharacter&&i.createVNode("span",{class:c.value},["".concat(K.value,"/").concat(e.maxcharacter)])||!e.maxcharacter&&e.maxlength&&i.createVNode("span",{class:c.value},["".concat(g.value?(X=String(g.value))===null||X===void 0?void 0:X.length:0,"/").concat(e.maxlength)]);return i.createVNode("div",i.mergeProps({class:W.value},vv(a,["style"])),[i.createVNode("textarea",i.mergeProps({onInput:O,onCompositionstart:S,onCompositionend:_,ref:w,value:g.value,class:J.value},T,H.value),null),Q||ee?i.createVNode("div",{class:["".concat(l.value,"__info_wrapper"),G({},"".concat(l.value,"__info_wrapper_align"),!Q)]},[Q,ee]):null])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var sV=be(lV);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function vO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function cV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vO(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vO(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var uV="TTransfer",oa="source",Kn="target";function xi(t){return Ie(t)?{source:t[0],target:t[1]}:{source:t,target:t}}function Wo(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=n.isTreeMode,r=a===void 0?!1:a,o=n.include,l=o===void 0?!0:o,s=n.remainValue,c=s===void 0?[]:s;if(r){var d=[];if(t)for(var u=0;u<t.length;u++){var f=t[u],v=e.includes(f.value);if(!(!l&&v))if(f.children&&f.children.length>0){var h=Wo(f.children,e,{isTreeMode:r,include:l});d=d.concat(h)}else(l&&v||!l&&!v)&&d.push(f.value)}return d}return t.filter(function(g){if(!g)return!1;var p=e.includes(g.value);return(l&&p||!l&&!p)&&(!g.disabled||c.includes(g.value))}).map(function(g){return g.value})}function hO(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=t.map(function(r,o){var l,s=(e==null?void 0:e.label)||"label",c=(e==null?void 0:e.value)||"value",d=(e==null?void 0:e.disabled)||"disabled";if(Kt(r[s]))throw new Error("".concat(s," is not in DataOption ").concat(JSON.stringify(r)));if(Kt(r[c]))throw new Error("".concat(c," is not in DataOption ").concat(JSON.stringify(r)));var u={label:r[s],value:r[c],key:"key__value_".concat(r[c],"_index_").concat(o),disabled:(l=r[d])!==null&&l!==void 0?l:!1,data:r};return n&&r.children&&(u.children=hO(r.children,e,!0)),u});return a}function dV(t,e,n){return e.includes(t.value)?n:!1}function gO(t,e,n){var a;return t?e.includes(t.value)?n:(a=t.children)!==null&&a!==void 0&&a.length?t.children.some(function(r){return gO(r,e,n)}):!n:!n}function pO(t,e,n,a){t.forEach(function(r){var o;dV(r,n,a)?(o=On(r),e.push(o)):gO(r,n,a)&&(o=cV({},r),delete o.children,e.push(o),r.children&&(o.children=[],pO(r.children,o.children,n,a),o.children.length===0&&delete o.children))})}function mO(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!a)return n?e.map(function(o){return t.find(function(l){return l.value===o})}).filter(function(o){return!!o}):t.filter(function(o){var l=e.includes(o.value);return!l});var r=[];return pO(t,r,e,n),r}function yO(t){var e=0;return t.forEach(function(n){n.children&&n.children.length>0?e+=yO(n.children):e+=1}),e}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var fV=i.defineComponent({name:"TTransferSearch",props:{value:{type:String,default:""},search:{type:[Boolean,Object],default:!1},placeholder:{type:String,default:""},onChange:Function},setup:function(e){var n=ae(),a=Ve({SearchIcon:wB}),r=a.SearchIcon,o=function(c,d){var u,f=d.e,v=d.trigger;(u=e.onChange)===null||u===void 0||u.call(e,{value:c,e:f,trigger:v})},l=Je(e.search)==="object"?e.search:{clearable:!0};return function(){return i.createVNode("div",{class:"".concat(n.value,"-transfer__search-wrapper")},[i.createVNode(ga,i.mergeProps(l,{defaultValue:e.value,onChange:o,placeholder:e.placeholder}),{default:function(){return[i.createVNode(r,{slot:"suffix-icon"},null)]}})])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function vV(t,e,n){var a=i.ref(null),r=i.ref(null),o=i.ref(null),l=function(v){var h=Number(v.target.dataset.index);a.value=h},s=function(v){if(v.preventDefault(),v.currentTarget){var h=v.currentTarget,g=Number(h.dataset.index),p=h.offsetHeight,m=v.clientY-h.getBoundingClientRect().top,y=.3,b=p*y;if(r.value=g,r.value===a.value){o.value="";return}m<b?o.value="top":m>p-b?o.value="bottom":o.value="center"}},c=function(){o.value="",r.value=null},d=function(){a.value=null,r.value=null,o.value=""},u=function(v){v.preventDefault();var h=a.value,g=r.value;if(a.value=null,r.value=null,o.value="",h!==g){var p=he(t.value),m=e.value[h].value,y=e.value[g].value,b=p.indexOf(m),w=p.indexOf(y);p.splice(b,1),h<g&&(w-=1),o.value==="bottom"&&(w+=1),p.splice(w,0,m),n==null||n(p,[m,y])}};return{onDragStart:l,onDragEnd:d,onDrop:u,onDragOver:s,onDragLeave:c}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var hV=io;function gV(t,e){return function(n,a){if(n==null)return n;if(!hV(n))return t(n,a);for(var r=n.length,o=e?r:-1,l=Object(n);(e?o--:++o<r)&&a(l[o],o,l)!==!1;);return n}}var pV=gV,mV=T0,yV=pV,bV=yV(mV),wV=bV,CV=wV;function xV(t,e){var n=[];return CV(t,function(a,r,o){e(a,r,o)&&n.push(a)}),n}var SV=xV,OV=pf,kV=SV,PV=Nc,_V=Ie;function IV(t,e){var n=_V(t)?OV:kV;return n(t,PV(e))}var NV=IV;function bO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Pu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bO(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bO(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function _u(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!i.isVNode(t)}var TV={checkboxProps:{type:Object,default:function(){return{}}},dataSource:{type:Array,default:function(){return[]}},listType:{type:String,default:"target"},title:{type:[String,Function]},checkedValue:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},search:{type:[Boolean,Object],default:!1},transferItem:Function,empty:{type:[Function,String]},pagination:[Boolean,Object],footer:[Function,String],checkAll:Boolean,isTreeMode:{type:Boolean,default:!1},onCheckedChange:Function,onPageChange:Function,onScroll:Function,onSearch:Function,onDataChange:Function,draggable:Boolean,currentValue:{type:Array}},EV=i.defineComponent({name:"TTransferList",props:Pu({},TV),setup:function(e){var n=ae(),a=i.toRefs(e),r=a.currentValue,o=Re("transfer"),l=o.t,s=o.globalConfig,c=i.ref(""),d=i.ref(1),u=i.ref(0),f=i.computed(function(){var W=e.pagination;return(W==null?void 0:W.current)||d.value||(W==null?void 0:W.defaultCurrent)}),v=i.computed(function(){var W=e.pagination;return(W==null?void 0:W.pageSize)||u.value||(W==null?void 0:W.defaultPageSize)}),h=i.computed(function(){var W=e.dataSource.some(function(H){return H.children&&H.children.length});return W?L(e.dataSource,c.value):e.dataSource.filter(function(H){var K=H&&H.label.toString();return K.toLowerCase().indexOf(c.value.toLowerCase())>-1})}),g=i.computed(function(){return h.value&&h.value.length||0}),p=i.computed(function(){var W=h.value;if(!e.pagination||v.value===0)return W;var H=(f.value-1)*v.value,K=f.value*v.value;return W=W.slice(H,K),W}),m=i.computed(function(){var W={totalContent:!1,pageSizeOptions:[]};return Je(e.pagination)==="object"?Pu(Pu(Pu({},W),e.pagination),{},{size:"small",theme:"simple",current:f.value,total:g.value,pageSize:v.value}):{}}),y=vV(r,p,e.onDataChange),b=y.onDragStart,w=y.onDragEnd,C=y.onDrop,x=y.onDragOver,k=y.onDragLeave,P=i.computed(function(){var W=Wo(e.dataSource,[],{isTreeMode:e.isTreeMode,include:!1});return e.checkedValue.length>0&&(e.isTreeMode?W.every(function(H){return e.checkedValue.includes(H)}):(e.search?h.value:e.dataSource).every(function(H){return H.disabled||e.checkedValue.includes(H.value)}))}),I=i.computed(function(){return!P.value&&e.checkedValue.length>0}),D=i.computed(function(){return yO(e.dataSource)});i.watch(D,function(W){if(W<=(f.value-1)*v.value){var H=Math.ceil(W/v.value);d.value=H}});var L=function(H,K){var z=NV(On(H),function(B){return!!(B.label.toLowerCase().includes(K.toLowerCase())||B.children&&B.children.length>0&&(B.children=L(B.children,K),B.children.length>0))});return z},O=function(H){var K;(K=e.onPageChange)===null||K===void 0||K.call(e,H),d.value=H.current,u.value=H.pageSize},S=function(H){var K;(K=e.onCheckedChange)===null||K===void 0||K.call(e,H)},_=function(H){if(H){var K=Wo(e.search?h.value:e.dataSource,[],{isTreeMode:e.isTreeMode,include:!1});S(K)}else S([])},A=function(H){var K;(K=e.onScroll)===null||K===void 0||K.call(e,H)},E=function(H){var K,z={query:H.value,type:e.listType,e:H.e,trigger:H.trigger};c.value=H.value,(K=e.onSearch)===null||K===void 0||K.call(e,z)},R=va(),N=function(){var H=e.title&&Ae(e.title)?i.createVNode("template",null,[e.title]):null,K=R("title",{defaultNode:H,params:{type:e.listType}});return i.createVNode("span",null,[K])},F=function(){var H=e.draggable&&e.listType===Kn,K=null;if(H){var B;K=i.createVNode(rs,{value:e.checkedValue,onChange:S},_u(B=p.value.map(function(q,Y){var X;return i.createVNode("div",{draggable:H,onDragend:w,onDragstart:b,onDragover:x,onDragleave:k,onDrop:C,"data-index":Y},[i.createVNode(Fa,i.mergeProps({disabled:e.disabled||q.disabled,value:q.value,needRipple:!0,class:["".concat(n.value,"-transfer__list-item"),e.checkedValue.includes(q.value)?"".concat(n.value,"-is-checked"):""],key:q.key},e.checkboxProps),_u(X=R("transferItem",{defaultNode:i.createVNode("span",null,[q.label]),params:{data:q.data,index:Y,type:e.listType}}))?X:{default:function(){return[X]}})])}))?B:{default:function(){return[B]}})}else{var z;K=i.createVNode(rs,{value:e.checkedValue,onChange:S},_u(z=p.value.map(function(q,Y){var X;return i.createVNode(Fa,i.mergeProps({disabled:e.disabled||q.disabled,value:q.value,needRipple:!0,class:["".concat(n.value,"-transfer__list-item"),e.checkedValue.includes(q.value)?"".concat(n.value,"-is-checked"):""],key:q.key},e.checkboxProps),_u(X=R("transferItem",{defaultNode:i.createVNode("span",null,[q.label]),params:{data:q.data,index:Y,type:e.listType}}))?X:{default:function(){return[X]}})}))?z:{default:function(){return[z]}})}return i.createVNode("div",{class:["".concat(n.value,"-transfer__list-content"),"narrow-scrollbar"],onScroll:A},[R("tree",{defaultNode:K,params:{data:p.value,value:e.checkedValue,onChange:S}})])},M=function(){var H=e.empty||l(s.value.empty),K=Ae(H)?i.createVNode("span",null,[H]):null;return i.createVNode("div",{class:"".concat(n.value,"-transfer__empty")},[R("empty",{defaultNode:K,params:{type:e.listType}})])},$=function(){var H=Ae(e.footer)?i.createVNode("div",{class:"".concat(n.value,"-transfer__footer")},[e.footer]):null;return R("footer",{defaultNode:H,params:{type:e.listType}})};return function(){return i.createVNode("div",{class:["".concat(n.value,"-transfer__list"),"".concat(n.value,"-transfer__list-").concat(e.listType)]},[i.createVNode("div",{class:"".concat(n.value,"-transfer__list-header")},[i.createVNode("div",null,[e.checkAll&&i.createVNode(Fa,{disabled:e.disabled||!e.dataSource.length,checked:P.value,indeterminate:I.value,onChange:_},null),i.createVNode("span",null,[l(s.value.title,{checked:e.checkedValue.length,total:D.value})])]),N()]),i.createVNode("div",{class:["".concat(n.value,"-transfer__list-body"),e.search?"".concat(n.value,"-transfer__list--with-search"):""]},[e.search&&i.createVNode(fV,{searchValue:c.value,placeholder:l(s.value.placeholder),onChange:E,disabled:e.disabled,search:e.search},null),p.value.length>0?F():M()]),e.pagination&&v.value>0&&g.value>0&&i.createVNode("div",{class:"".concat(n.value,"-transfer__list-pagination")},[i.createVNode(Nv,i.mergeProps(m.value,{onChange:O}),null)]),$()])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var wO={checkboxProps:{type:Object},checked:{type:Array,default:void 0},defaultChecked:{type:Array,default:function(){return[]}},data:{type:Array,default:function(){return[]}},direction:{type:String,default:"both",validator:function(e){return e?["left","right","both"].includes(e):!0}},disabled:{type:[Boolean,Array],default:void 0},empty:{type:[String,Array,Function],default:""},footer:{type:[Array,Function]},keys:{type:Object},operation:{type:[Array,Function]},pagination:{type:[Object,Array]},search:{type:[Boolean,Object,Array],default:!1},showCheckAll:{type:[Boolean,Array],default:!0},targetDraggable:Boolean,targetSort:{type:String,default:"original",validator:function(e){return e?["original","push","unshift"].includes(e):!0}},title:{type:[Array,Function],default:function(){return[]}},transferItem:{type:Function},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array,default:function(){return[]}},onChange:Function,onCheckedChange:Function,onPageChange:Function,onScroll:Function,onSearch:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var AV=i.defineComponent({name:"TTransferOperations",props:{leftDisabled:{type:Boolean,required:!0},rightDisabled:{type:Boolean,required:!0},operation:wO.operation},emits:["moveToRight","moveToLeft"],setup:function(e,n){var a=n.slots,r=n.emit,o=ae(),l=Ve({ChevronRightIcon:Rr,ChevronLeftIcon:Co}),s=l.ChevronRightIcon,c=l.ChevronLeftIcon,d=function(){r("moveToRight")},u=function(){r("moveToLeft")},f=function(){return i.createVNode(s,null,null)},v=function(){return i.createVNode(c,null,null)},h=function(m){return pe(e.operation)||m==="right"&&e.operation&&pe(e.operation[0])||m==="left"&&e.operation&&pe(e.operation[1])||a.operation?null:m==="left"?v:f},g=function(m,y){if(pe(a.operation))return a.operation({direction:y});if(pe(e.operation)){var b=e.operation;return b(m,{direction:y})}var w;if(Ie(e.operation)){var C=Ce(e.operation,2),x=C[0],k=C[1];w=y==="right"?k:x}else w="";return w};return function(){var p,m,y,b;return i.createVNode("div",{class:"".concat(o.value,"-transfer__operations")},[i.createVNode(vt,{variant:"outline",size:"small",shape:Ae((p=e.operation)===null||p===void 0?void 0:p[1])?"rectangle":"square",key:e.rightDisabled?"right-outline":"right-base",disabled:e.rightDisabled,onClick:d,icon:h("right")},{default:function(){return[a.operation||(m=e.operation)!==null&&m!==void 0&&m[1]?g(i.h,"right"):null]}}),i.createVNode(vt,{variant:"outline",size:"small",shape:Ae((y=e.operation)===null||y===void 0?void 0:y[0])?"rectangle":"square",key:e.rightDisabled?"left-outline":"left-base",disabled:e.leftDisabled,onClick:u,icon:h("left")},{default:function(){return[a.operation||(b=e.operation)!==null&&b!==void 0&&b[0]?g(i.h,"left"):null]}})])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function CO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function RV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CO(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CO(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function DV(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!i.isVNode(t)}var jV=i.defineComponent({name:uV,props:RV({},wO),setup:function(e,n){var a=n.slots,r=St(),o=ae(),l=i.toRefs(e),s=l.value,c=l.modelValue,d=l.checked,u=ot(s,c,e.defaultValue,e.onChange),f=Ce(u,2),v=f[0],h=f[1],g=Rt(d,e.defaultChecked,e.onCheckedChange,"checked"),p=Ce(g,1),m=p[0],y=i.computed(function(){return v.value}),b=i.computed(function(){var X=a.tree;return pe(X)}),w=i.computed(function(){return e.direction==="right"}),C=i.computed(function(){return e.direction==="left"}),x=i.computed(function(){return hO(e.data,e.keys,b.value)}),k=i.computed(function(){return mO(x.value,y.value,!1,b.value)}),P=i.computed(function(){return mO(x.value,y.value,!0,b.value)}),I=i.computed(function(){return G(G({},oa,Wo(k.value,m.value,{isTreeMode:b.value})),Kn,Wo(P.value,m.value,{isTreeMode:b.value}))}),D=i.computed(function(){return!!a.footer||!!e.footer}),L=i.computed(function(){return!!e.pagination&&!a.content}),O=i.computed(function(){return!!e.search}),S=i.computed(function(){var X=e.footer||"";return xi(X)}),_=i.computed(function(){return xi(e.empty)}),A=i.computed(function(){return xi(e.search)}),E=i.computed(function(){return xi(e.showCheckAll)}),R=i.computed(function(){return xi(r.value)}),N=i.computed(function(){return xi(e.title)}),F=i.computed(function(){return xi(e.pagination)}),M=function(T,j){var U,J=j===oa?T:I.value[oa],Z=j===Kn?T:I.value[Kn],Q=[].concat(he(J),he(Z)),ee={checked:Q,sourceChecked:J,targetChecked:Z,type:j};m.value=Q,(U=e.onCheckedChange)===null||U===void 0||U.call(e,ee)},$=function(T){var j=JSON.parse(JSON.stringify(y.value)),U,J=T===Kn?I.value[oa]:I.value[Kn];if(T===oa)U=j.filter(function(ee){return!J.includes(ee)});else if(e.targetSort==="original"){var Z=x.value.reduce(function(ee,ne){return j.includes(ne.value)&&ne.disabled?ee.concat(ne.value):ee},[]);U=Wo(x.value,j.concat(J),{isTreeMode:b.value,remainValue:Z})}else e.targetSort==="unshift"?U=J.concat(j):U=j.concat(J);M([],T===oa?Kn:oa);var Q={type:T,movedValue:J};h(U,Q)},W=function(){$(Kn)},H=function(){$(oa)},K=function(T,j){var U,J=T.target,Z=J.scrollHeight-J.scrollTop-J.clientHeight,Q={e:T,bottomDistance:Z,type:j};(U=e.onScroll)===null||U===void 0||U.call(e,Q)},z=function(T){var j;(j=e.onSearch)===null||j===void 0||j.call(e,T)},B=function(T,j){var U;(U=e.onPageChange)===null||U===void 0||U.call(e,T,{type:j})},q=function(T,j){h(T,{type:Kn,movedValue:j})},Y=function(T){var j=Ma(a,["title","empty","footer","operation","transferItem","default","tree"]);return i.createVNode(EV,{checkboxProps:e.checkboxProps,transferItem:e.transferItem,"list-type":T,title:N.value[T],"data-source":T===oa?k.value:P.value,"checked-value":I.value[T],disabled:R.value[T],search:A.value[T],pagination:F.value[T],"check-all":E.value[T],footer:S.value[T],empty:_.value[T],onCheckedChange:function(J){return M(J,T)},onScroll:function(J){return K(J,T)},onSearch:z,onPageChange:function(J){return B(J,T)},isTreeMode:b.value,onDataChange:q,currentValue:y.value,draggable:e.targetDraggable&&T===Kn},DV(j)?j:{default:function(){return[j]}})};return function(){return i.createVNode("div",{class:["".concat(o.value,"-transfer"),O.value?"".concat(o.value,"-transfer__search"):"",D.value?"".concat(o.value,"-transfer__footer"):"",L.value?"".concat(o.value,"-transfer__pagination"):"",b.value?"".concat(o.value,"-transfer--with-tree"):""]},[Y(oa),i.createVNode(AV,{leftDisabled:R.value[Kn]||w.value||I.value[Kn].length===0,rightDisabled:R.value[oa]||C.value||I.value[oa].length===0,operation:e.operation,onMoveToRight:W,onMoveToLeft:H},{operation:a.operation}),Y(Kn)])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var MV=be(jV);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function xO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Iu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xO(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xO(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}ve.extend(Fo);var FV=i.defineComponent({name:"TTimePicker",props:Iu({},Fv),setup:function(e){var n=Pe(),a=Re("timePicker"),r=a.globalConfig,o=ae("time-picker"),l=lt(),s=l.STATUS,c=Ve({TimeIcon:Bb}),d=c.TimeIcon,u=i.ref(""),f=i.ref(!1),v=i.toRefs(e),h=v.value,g=v.modelValue,p=ot(h,g,e.defaultValue,e.onChange),m=Ce(p,2),y=m[0],b=m[1],w=St(),C=i.toRefs(e),x=C.allowInput,k=C.format,P=i.computed(function(){return["".concat(o.value,"__group"),G({},s.value.focused,f.value)]}),I=function(R,N){var F,M;f.value=R,R?(F=e.onOpen)===null||F===void 0||F.call(e,N):(M=e.onClose)===null||M===void 0||M.call(e,N)},D=function(R){var N=R.e;N.stopPropagation(),u.value=null,b(null)},L=function(R){u.value=R},O=function(R,N){var F;if(x.value){var M=pu(u.value,k.value);M&&b(oS(u.value,k.value))}(F=e.onBlur)===null||F===void 0||F.call(e,{value:R,inputValue:N.inputValue,e:N.e})},S=function(){var R=pu(u.value,k.value);R&&b(u.value),f.value=!1},_=function(R,N){var F;u.value=R,(F=e.onPick)===null||F===void 0||F.call(e,R,{e:N})},A=i.computed(function(){var E;return{value:f.value?u.value:(E=y.value)!==null&&E!==void 0?E:void 0}});return i.watch(function(){return f.value},function(){var E;u.value=f.value&&(E=y.value)!==null&&E!==void 0?E:""}),function(){var E,R;return i.createVNode("div",{class:o.value},[i.createVNode(Do,i.mergeProps({onFocus:e.onFocus,onClear:D,borderless:e.borderless,disabled:w.value,clearable:e.clearable,allowInput:x.value,class:P.value,label:e.label,suffixIcon:function(){return i.createVNode(d,null,null)},popupVisible:f.value,onInputChange:L,onBlur:O,onPopupVisibleChange:I,placeholder:y.value?void 0:e.placeholder||r.value.placeholder,value:f.value?u.value:(E=y.value)!==null&&E!==void 0?E:void 0,inputValue:f.value?u.value:(R=y.value)!==null&&R!==void 0?R:void 0,inputProps:Iu(Iu({},e.inputProps),{},{size:e.size}),popupProps:Iu({overlayInnerStyle:{width:"auto",padding:0}},e.popupProps),status:e.status,tips:e.tips,valueDisplay:function(){return n("valueDisplay",{params:A.value})}},e.selectInputProps,{panel:function(){return i.createVNode(mu,{steps:e.steps,format:k.value,value:u.value,isFooterDisplay:!0,isShowPanel:f.value,disableTime:e.disableTime,onChange:_,hideDisabledTime:e.hideDisabledTime,handleConfirmClick:S,presets:e.presets},null)}}),null)])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var LV={allowInput:Boolean,autoSwap:{type:Boolean,default:!0},borderless:Boolean,clearable:Boolean,disableTime:{type:Function},disabled:{type:[Boolean,Array],default:void 0},format:{type:String,default:"HH:mm:ss"},hideDisabledTime:{type:Boolean,default:!0},label:{type:[String,Function]},placeholder:{type:[String,Array],default:void 0},popupProps:{type:Object},presets:{type:Object},rangeInputProps:{type:Object},size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},status:{type:String,default:"default",validator:function(e){return e?["default","success","warning","error"].includes(e):!0}},steps:{type:Array,default:function(){return[1,1,1]}},tips:{type:[String,Function]},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array},onBlur:Function,onChange:Function,onFocus:Function,onInput:Function,onPick:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function SO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Nu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SO(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}ve.extend(Fo);var $V=i.defineComponent({name:"TTimeRangePicker",props:Nu(Nu({},LV),{},{rangeInputProps:Object,popupProps:Object}),setup:function(e){var n=ae("time-range-picker"),a=Re("timePicker"),r=a.globalConfig,o=lt(),l=o.STATUS,s=Ve({TimeIcon:Bb}),c=s.TimeIcon,d=St(),u=i.ref(void 0),f=i.ref(ss),v=i.ref(!1),h=i.computed(function(){return["".concat(n.value,"__group"),G({},l.value.focused,v.value)]}),g=i.toRefs(e),p=g.value,m=g.modelValue,y=g.allowInput,b=g.format,w=ot(p,m,e.defaultValue,e.onChange),C=Ce(w,2),x=C[0],k=C[1],P=function(F,M){if(M.trigger==="trigger-element-click"){v.value=!0;return}v.value=F},I=function(F){var M=F.e;M.stopPropagation(),f.value=ss,k(null)},D=function(F){var M=F.position;u.value=M==="first"?0:1},L=function(F,M){if(Ie(F))f.value=F;else if(u.value===0){var $;f.value=[F,($=f.value[1])!==null&&$!==void 0?$:F]}else{var W;f.value=[(W=f.value[0])!==null&&W!==void 0?W:F,F]}R(F,M)},O=function(F,M){var $,W=M.e;if(y.value){var H=pu(f.value[u.value],b.value);if(H){var K,z,B=oS(f.value[u.value],b.value);u.value===0?f.value=[B,(K=f.value[1])!==null&&K!==void 0?K:B]:f.value=[(z=f.value[0])!==null&&z!==void 0?z:B,B]}}($=e.onBlur)===null||$===void 0||$.call(e,{value:F,e:W})},S=function(F,M){var $,W=M.e,H=M.position;f.value=F,($=e.onInput)===null||$===void 0||$.call(e,{value:x.value,e:W,position:H==="first"?"start":"end"})},_=function(){var F=!f.value.find(function(M){return!pu(M,b.value)});F&&k(f.value),e.autoSwap&&E(),v.value=!1},A=function(F,M){var $,W=M.e,H=M.position;($=e.onFocus)===null||$===void 0||$.call(e,{value:F,e:W,position:H==="first"?"start":"end"})},E=function(){var F=Ce(f.value,2),M=F[0],$=F[1],W=ve(M,e.format),H=ve($,e.format);W.isAfter(H,"second")?k([f.value[1],f.value[0]]):k([f.value[0],f.value[1]])},R=function(F,M){var $,W=[],H;if(Ie(F))W=F,H={e:M};else if(u.value===0){var K;W=[F,(K=f.value[1])!==null&&K!==void 0?K:F],H={e:M,position:"start"}}else{var z;W=[(z=f.value[0])!==null&&z!==void 0?z:F,F],H={e:M,position:"end"}}($=e.onPick)===null||$===void 0||$.call(e,W,H)};return i.watch(function(){return v.value},function(){var N;f.value=v.value&&(N=x.value)!==null&&N!==void 0?N:ss,v.value||(u.value=void 0)}),function(){var N,F;return i.createVNode("div",{class:n.value},[i.createVNode(Wv,{disabled:d.value,popupVisible:v.value,popupProps:Nu({overlayInnerStyle:{width:"auto",padding:0},onVisibleChange:P},e.popupProps),onInputChange:S,inputValue:v.value?f.value:(N=x.value)!==null&&N!==void 0?N:ss,rangeInputProps:Nu({size:e.size,clearable:e.clearable,class:h.value,value:v.value?f.value:(F=x.value)!==null&&F!==void 0?F:void 0,placeholder:e.placeholder||[r.value.placeholder,r.value.placeholder],borderless:e.borderless,suffixIcon:function(){return i.createVNode(c,null,null)},onClear:I,onClick:D,onFocus:A,onBlur:O,readonly:!y.value,activeIndex:u.value},e.rangeInputProps),label:e.label,status:e.status,tips:e.tips,panel:function(){return i.createVNode(mu,{steps:e.steps,format:b.value,isShowPanel:v.value,disableTime:e.disableTime,hideDisabledTime:e.hideDisabledTime,isFooterDisplay:!0,value:f.value[u.value||0],onChange:L,onPick:R,handleConfirmClick:_,position:u.value===0?"start":"end",activeIndex:u.value,presets:e.presets},null)}},null)])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var BV=be(FV),zV=be($V),HV=be(mu);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function WV(t,e,n){var a=i.computed(function(){return Math.max(n.rowHeight||48,48)}),r=i.ref(!1),o=i.computed(function(){return(n==null?void 0:n.type)==="lazy"&&!r.value}),l=!Na&&window.requestAnimationFrame||function(c){return setTimeout(c,16.6)},s=function(){r.value||l(function(){r.value=!0})};return i.onMounted(function(){(n==null?void 0:n.type)==="lazy"&&i.nextTick(function(){var c=Math.max(10,n.bufferSize||10),d=a.value*c;as(e.value,t.value,s,d)})}),{hasLazyLoadHolder:o,tRowHeight:a}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var UV=Fl;function KV(t,e,n){for(var a=-1,r=t.length;++a<r;){var o=t[a],l=e(o);if(l!=null&&(s===void 0?l===l&&!UV(l):n(l,s)))var s=l,c=o}return c}var OO=KV;function YV(t,e){return t>e}var qV=YV,GV=OO,XV=qV,JV=co;function ZV(t){return t&&t.length?GV(t,JV,XV):void 0}var QV=ZV;function VV(t,e){return t<e}var eee=VV,tee=OO,nee=eee,aee=co;function ree(t){return t&&t.length?tee(t,aee,nee):void 0}var iee=ree;function oee(t,e){for(var n,a=-1,r=t.length;++a<r;){var o=e(t[a]);o!==void 0&&(n=n===void 0?o:n+o)}return n}var lee=oee,see=lee,cee=co;function uee(t){return t&&t.length?see(t,cee):0}var Tu=uee,rh=function(e,n){var a,r,o=i.ref([]),l=i.ref((((a=n.value.data)===null||a===void 0?void 0:a.length)||0)*(((r=n.value.scroll)===null||r===void 0?void 0:r.rowHeight)||50)),s=i.ref(0),c=[],d=i.ref(0),u=i.ref(0),f=i.ref([0,15]),v=i.computed(function(){var k,P,I=n.value.scroll;return I?{bufferSize:I.bufferSize||10,isFixedRowHeight:(k=I.isFixedRowHeight)!==null&&k!==void 0?k:!1,rowHeight:I.rowHeight||47,threshold:I.threshold||100,type:I.type,fixedRows:(P=I.fixedRows)!==null&&P!==void 0?P:[0,0]}:{}}),h=i.computed(function(){var k=n.value.data;return v.value.type==="virtual"&&v.value.threshold<k.length});function g(){for(var k,P,I=(k=(P=e.value)===null||P===void 0?void 0:P.scrollTop)!==null&&k!==void 0?k:0,D=v.value.fixedRows[0],L=[],O=0,S=-1,_=-1,A=0,E=0,R=n.value.data.length;E<R;E++){var N,F=(N=c[E])!==null&&N!==void 0?N:v.value.rowHeight;if(A=A+F,A>I&&S===-1&&(S=E,S-v.value.bufferSize>0&&(O=A-F-Tu(L))),S===-1&&(L.push(F),L.length>v.value.bufferSize&&L.shift()),_===-1&&(A>d.value+I||E===n.value.data.length-1)&&(_=E),S!==-1&&_!==-1)break}var M=QV([S-v.value.bufferSize,0]),$=iee([_+v.value.bufferSize,n.value.data.length]),W=Tu(c.slice(0,Math.min(M,D)));return{startIndex:M,endIndex:$,translateY:O-W}}var p=Ci(function(){var k=g(),P=k.startIndex,I=k.endIndex,D=k.translateY,L=v.value.fixedRows,O=Ce(L,2),S=O[0],_=O[1],A=S?n.value.data.slice(0,S):[];S&&P<S&&(A=A.slice(0,P));var E=_?n.value.data.slice(n.value.data.length-_):[],R=I-n.value.data.length+1+(_??0);_&&R>0&&(E=E.slice(R)),f.value.join()!==[P,I].join()&&P>=0&&(l.value=D,o.value=A.concat(n.value.data.slice(P,I),E),f.value=[P,I])},100),m=function(P){var I;if(!(!h.value||!P||v.value.isFixedRowHeight||!e.value)){var D=((I=P.ref.value)===null||I===void 0?void 0:I.getBoundingClientRect().height)||v.value.rowHeight,L=P.data.VIRTUAL_SCROLL_INDEX;if(c[L]!==D){var O=D-c[L];c[L]=D,s.value=s.value+O}}},y=function(){h.value&&p()},b=function(P){var I=Ce(P,1),D=I[0].contentRect,L=16;Math.abs(D.width-u.value)>L&&e.value&&(e.value.scrollTop=0,l.value=0),u.value=D.width,d.value=D.height},w=function(P){P.forEach(function(I,D){I.VIRTUAL_SCROLL_INDEX=D})},C=function(P){var I=P.index,D=P.top,L=D===void 0?0:D,O=P.behavior,S=Tu(c.slice(0,I+1))-L;e.value.scrollTo({top:S,behavior:O||"auto"})},x=function(P){if(C(P),!v.value.isFixedRowHeight)var I,D=(I=P.time)!==null&&I!==void 0?I:60,L=setTimeout(function(){C(P),clearTimeout(L)},D)};return To(i.computed(function(){return h.value?e.value:void 0}),b),i.watch(function(){return[he(n.value.data),v.value,h.value,e.value]},function(){if(!(!h.value||!e.value)){var k=n.value.data;if(w(k),d.value=e.value.getBoundingClientRect().height,c.length!==n.value.data.length){var P=Array.from(c);P.length=n.value.data.length,P.fill(v.value.rowHeight||47),c=P}s.value=Tu(c),f.value=[0,0],p()}},{immediate:!0}),i.watch(function(){return d.value},function(){p()}),{visibleData:o,translateY:l,scrollHeight:s,isVirtualScroll:h,handleScroll:y,handleRowMounted:m,scrollToElement:x}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var dee={default:void 0},fee={name:"TTreeNode",inject:{onDrag:dee}};function vee(t){return be(t)}function kO(t){return VN.h}function hee(t){return t.$slots}function ih(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"value",a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"defaultValue",r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"onChange",o=e.modelValue,l;return n==="value"?l=ot(e[n],o,t[a],t[r],n):l=Rt(e[n],t[a],t[r],n),l}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var oh=function(t){return t[t.Before=-1]="Before",t[t.Inside=0]="Inside",t[t.After=1]="After",t}(oh||{});function gee(t){var e=t.treeItemRef,n=i.reactive({isDragOver:!1,isDragging:!1,dropPosition:0}),a=function(v){var h,g=e.value;if(g){var p=g==null||(h=g.getBoundingClientRect)===null||h===void 0?void 0:h.call(g),m=window.scrollY+p.top,y=v.pageY,b=p.height/4,w=y-m;w<b?n.dropPosition=-1:w<p.height-b?n.dropPosition=0:n.dropPosition=1}},r=function(v,h){var g,p,m,y,b,w=t.node,C=t.treeScope,x=C.drag;if(x)switch(v){case"dragStart":n.isDragging=!0,n.dropPosition=0,(g=x.handleDragStart)===null||g===void 0||g.call(x,{node:w,dragEvent:h});break;case"dragEnd":n.isDragging=!1,n.isDragOver=!1,n.dropPosition=0,u.cancel(),(p=x.handleDragEnd)===null||p===void 0||p.call(x,{node:w,dragEvent:h});break;case"dragOver":n.isDragOver=!0,u(h),(m=x.handleDragOver)===null||m===void 0||m.call(x,{node:w,dragEvent:h});break;case"dragLeave":n.isDragOver=!1,n.dropPosition=0,u.cancel(),(y=x.handleDragLeave)===null||y===void 0||y.call(x,{node:w,dragEvent:h});break;case"drop":(b=x.handleDrop)===null||b===void 0||b.call(x,{node:w,dropPosition:n.dropPosition,dragEvent:h}),n.isDragOver=!1,u.cancel();break}},o=function(v){var h=t.node;if(h.isDraggable()){v.stopPropagation(),r("dragStart",v);try{var g;(g=v.dataTransfer)===null||g===void 0||g.setData("text/plain","")}catch{}}},l=function(v){var h=t.node;h.isDraggable()&&(v.stopPropagation(),r("dragEnd",v))},s=function(v){var h=t.node;h.isDraggable()&&(v.stopPropagation(),v.preventDefault(),r("dragOver",v))},c=function(v){var h=t.node;h.isDraggable()&&(v.stopPropagation(),r("dragLeave",v))},d=function(v){var h=t.node;h.isDraggable()&&(v.stopPropagation(),v.preventDefault(),r("drop",v))},u=Ci(function(f){a(f)});return{dragStates:n,handleDragStart:o,handleDragEnd:l,handleDragOver:s,handleDragLeave:c,handleDrop:d}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function PO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function pee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PO(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PO(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Uo(t,e,n){var a=Ta("on-".concat(n));n.replace(/^on/,"").toLowerCase();for(var r=arguments.length,o=new Array(r>3?r-3:0),l=3;l<r;l++)o[l-3]=arguments[l];typeof t[a]=="function"&&t[a].apply(t,o)}function _O(t,e){for(var n=[],a=t;a&&a.parentNode&&(n.push(a),a!==e);)a=a.parentNode;return n}function mee(t,e,n){var a=_O(e,n);return a.map(function(r){var o={name:t,value:(r==null?void 0:r.getAttribute(t))||"",el:r};return o}).filter(function(r){return r.value})}function yee(t,e,n){var a=mee(t,e,n),r=a.pop()||null;return r}function bee(t,e,n){var a=_O(e,n),r=a.some(function(o){return o.classList.contains(t)});return r}function Eu(t,e){var n=null,a=null,r=pee({},e);if(typeof t=="function"){var o;a=t(r.createElement,(o=r.node)===null||o===void 0?void 0:o.getModel())}else typeof t=="string"&&(a=t);return(typeof a=="string"||a)&&(n=a),n}function wee(t){return typeof t=="string"||typeof t=="number"}function dr(t,e){var n=null,a=null;return typeof e=="string"||typeof e=="number"?a=e:e&&wee(e.value)&&(a=e.value),n=t.getNode(a),n}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Cee(t){var e=t.props,n=t.context,a=t.scope,r=t.store,o=null,l=function(h){var g=h.dragEvent,p=h.node;o=p;var m={node:p.getModel(),e:g};Uo(e,n,"drag-start",m)},s=function(h){var g=h.dragEvent,p=h.node;o=p;var m={node:p.getModel(),e:g};Uo(e,n,"drag-end",m)},c=function(h){var g=h.dragEvent,p=h.node,m={node:p.getModel(),e:g};Uo(e,n,"drag-over",m)},d=function(h){var g=h.dragEvent,p=h.node,m={node:p.getModel(),e:g};Uo(e,n,"drag-leave",m)},u=function(h){var g,p=h.dragEvent,m=h.node,y=h.dropPosition;if(!(m.value===o.value||m.getParents().some(function(C){return C.value===o.value}))){var b={dropNode:m.getModel(),dragNode:o.getModel(),dropPosition:y,e:p};if(((g=e.allowDrop)===null||g===void 0?void 0:g.call(e,b))!==!1){var w=r.getNodes();w.some(function(C){return C.value===m.value?(y===oh.Inside?o.appendTo(r,C):y===oh.Before?m.insertBefore(o):m.insertAfter(o),!0):!1}),Uo(e,n,"drop",b)}}},f={handleDragStart:l,handleDragEnd:s,handleDragOver:c,handleDragLeave:d,handleDrop:u};return a.drag=f,{drag:f}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function IO(t){var e=t,n=e.store,a=ae("tree").value,r=Ce(t.vmValue,2),o=r[0],l=r[1],s=Ce(t.vmActived,2),c=s[0],d=s[1],u=Ce(t.vmExpanded,2),f=u[0],v=u[1],h=function(C,x){var k=dr(n,C),P=e.mouseEvent,I={node:k.getModel(),e:P,trigger:"setItem"};if(P){I.trigger="node-click";var D=P.target,L=P.currentTarget;bee("".concat(a,"__icon"),D,L)&&(I.trigger="icon-click")}var O=k.setExpanded(x,{directly:!0});return v(O,I),I.trigger!=="setItem"&&n.replaceExpanded(f.value||[]),O},g=function(C){var x=dr(n,C);if(x.children)return h(x,!x.isExpanded())},p=function(C,x){var k=dr(n,C),P=e.mouseEvent,I={node:k.getModel(),e:P,trigger:"setItem"};P&&(I.trigger="node-click");var D=k.setActived(x,{isAction:I.trigger==="node-click",directly:!0});return d(D,I),I.trigger!=="setItem"&&n.replaceActived(c.value||[]),D},m=function(C){var x=dr(n,C);return p(x,!x.isActived())},y=function(C,x,k){var P=dr(n,C),I=k==null?void 0:k.e,D={node:P.getModel(),e:I,trigger:"setItem"};I&&(D.trigger="node-click");var L=P.setChecked(x,{isAction:D.trigger==="node-click",directly:!0});return l(L,D),D.trigger!=="setItem"&&n.replaceChecked(o.value||[]),L},b=function(C,x){var k=dr(n,C);if(k.isIndeterminate()){var P=k.hasEnableUnCheckedChild();return y(k,P,x)}return y(k,!k.isChecked(),x)};return{setExpanded:h,toggleExpanded:g,setActived:p,toggleActived:m,setChecked:y,toggleChecked:b}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function xee(t,e){var n=i.toRefs(t),a=i.ref(null),r=t.treeScope,o=r.store,l=o.privateMap.get(t.itemKey),s={stateId:t.stateId,props:t,context:e,treeScope:r,refProps:n,node:l,treeItemRef:a};return{state:s}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function NO(t){var e=t.context,n=ae().value,a=function(s,c){var d=t.node,u=new Event("change"),f={event:u,node:d};e.emit("change",f,c)},r=!1,o=function(s){var c,d,u=t.node,f=t.treeScope,v=f.treeProps,h=v===void 0?{}:v,g=h.expandOnClickNode,p=s.target,m=u.children&&g&&(p.className==="".concat(n,"-checkbox__input")||p.tagName.toLowerCase()==="input");if(!(r||m)){r=!0,setTimeout(function(){r=!1}),g&&u.children&&((c=p.className)===null||c===void 0||(d=c.indexOf)===null||d===void 0?void 0:d.call(c,"".concat(n,"-tree__label")))!==-1&&s.preventDefault();var y={mouseEvent:s,event:s,node:u,path:u.getPath()};e.emit("click",y)}};return{handleChange:a,handleClick:o}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function See(t){var e=ae().value,n=ae("tree").value,a=function(s){var c=Ve({CaretRightSmallIcon:h$}),d=c.CaretRightSmallIcon;return i.createVNode(d,null,null)},r=function(s){s.preventDefault()},o=function(s){var c=t.node,d=t.treeScope,u=d.scopedSlots,f=(d==null?void 0:d.treeProps)||{},v=f.icon,h=!1,g=null;v===!0?u!=null&&u.icon?g=u.icon({node:c==null?void 0:c.getModel()}):c.vmIsLeaf?g="":(h=!0,g=a(),c.loading&&c.expanded&&(g=i.createVNode(an,null,null))):v&&(g=Eu(v,{createElement:s,node:c}));var p=i.createVNode("span",{class:["".concat(n,"__icon"),"".concat(e,"-folder-icon"),h?"".concat(n,"__icon--default"):""],trigger:"expand",ignore:"active",onmousedown:r},[g]);return p};return{renderIcon:o}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function TO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function EO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TO(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TO(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Oee(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!i.isVNode(t)}function kee(t){var e=ae().value,n=ae("tree").value,a=NO(t),r=a.handleChange,o=function(s){var c=t.node,d=t.treeScope,u=d.scopedSlots,f=d.treeProps,v=f===void 0?{}:f,h=v.label,g=v.expandOnClickNode,p=(v==null?void 0:v.checkProps)||{},m=null;h===!0?u!=null&&u.label?m=u.label({node:c==null?void 0:c.getModel()}):m=c.label||"":m=Eu(h,{createElement:s,node:c});var y=["".concat(n,"__label"),G({},"".concat(e,"-is-active"),c.isActivable()?c.actived:!1)],b=i.computed(function(){var P,I=Array.isArray(c.children)&&((P=c.children)===null||P===void 0?void 0:P.length)>0,D=Ht(c.children)&&c.children,L=I||D;return g&&L});if(c.vmCheckable){var w=!1;c.vmIsLocked&&!c.vmIsRest&&(w=!0),c.isDisabled()&&(w=!0);var C=EO(EO({},p),{},{disabled:w}),x=function(){return m}();m=i.createVNode(Fa,{class:y,checked:c.checked,indeterminate:c.indeterminate,disabled:w,name:String(c.value),onChange:r,stopLabelTrigger:b.value,ignore:v.expandOnClickNode?"active":"expand,active",props:C},Oee(m)?m:{default:function(){return[x]}})}else{var k=i.createVNode("span",{style:"position: relative"},[m]);m=c.isActivable()?i.createVNode("span",{key:"1",ref:"label",class:y,title:c.label},[k]):i.createVNode("span",{key:"2",class:y,title:c.label},[k])}return m};return{renderLabel:o}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Pee(t){var e=ae("tree").value,n=function(r){var o=t.node,l=t.treeScope,s=l.scopedSlots,c=(l==null?void 0:l.treeProps)||{},d=c.line,u=!!c.icon,f=null;if(d===!0){if(s!=null&&s.line)f=s.line({node:o==null?void 0:o.getModel()});else if(o.parent&&o.tree){var v=o.vmIsLeaf,h=o.vmIsFirst,g=o.level,p=[];p.push("".concat(e,"__line")),(v||!u)&&p.push("".concat(e,"__line--leaf")),h&&u&&p.push("".concat(e,"__line--first"));var m=[],y=o.getParents();y.pop(),y.forEach(function(w,C){w.vmIsLast||m.push("calc(-".concat(C+1," * var(--space)) 0 var(--color)"))});var b={"--level":g?String(g):void 0,"box-shadow":m.join(",")};f=i.createVNode("span",{class:p,style:b},null)}}else f=Eu(d,{createElement:r,node:o});return f};return{renderLine:n}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function _ee(t){var e=ae("tree").value,n=function(r){var o=t.node,l=t.treeScope,s=l.scopedSlots,c=(l==null?void 0:l.treeProps)||{},d=c.operations,u=null;return s!=null&&s.operations?u=s.operations({node:o==null?void 0:o.getModel()}):u=Eu(d,{createElement:r,node:o}),u&&(u=i.createVNode("span",{class:"".concat(e,"__operations"),ignore:"active,expand"},[u])),u};return{renderOperations:n}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function AO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Iee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AO(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AO(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Nee(t){var e=t.treeScope,n=t.treeItemRef,a=e.virtualConfig,r=e.treeContentRef,o=e.scrollProps,l=ae().value,s=ae("tree").value,c=NO(t),d=c.handleClick,u=See(t),f=u.renderIcon,v=kee(t),h=v.renderLabel,g=Pee(t),p=g.renderLine,m=_ee(t),y=m.renderOperations,b=gee(t),w=b.dragStates,C=b.handleDragStart,x=b.handleDragEnd,k=b.handleDragOver,P=b.handleDragLeave,I=b.handleDrop,D=WV(r,n,i.reactive(Iee({},o==null?void 0:o.value))),L=D.hasLazyLoadHolder,O=D.tRowHeight;function S(){var N=t.node,F=a==null?void 0:a.isVirtualScroll.value;if(F)var M=setTimeout(function(){a.handleRowMounted({ref:n,data:N}),clearTimeout(M)},100)}i.onMounted(function(){S()}),i.onUpdated(function(){S()});var _=function(){var F=t.node,M=F.level,$="--level: ".concat(M,";"),W="".concat($);return W},A=function(){var F=t.node,M=w.isDragOver,$=w.isDragging,W=w.dropPosition,H=[];return H.push("".concat(s,"__item")),H.push(G(G(G({},"".concat(s,"__item--open"),F.expanded),"".concat(l,"-is-active"),F.isActivable()?F.actived:!1),"".concat(l,"-is-disabled"),F.isDisabled())),H.push(G({},"".concat(s,"__item--draggable"),F.isDraggable())),F.visible?H.push("".concat(s,"__item--visible")):H.push("".concat(s,"__item--hidden")),F.vmIsLocked&&H.push("".concat(s,"__item--locked")),F.vmIsRest&&H.push("".concat(s,"__item--matched")),H.push(G(G(G(G({},"".concat(s,"__item--dragging"),$),"".concat(s,"__item--tip-top"),M&&W<0),"".concat(s,"__item--tip-bottom"),M&&W>0),"".concat(s,"__item--tip-highlight"),!$&&M&&W===0)),H},E=function(F){var M=[],$=f(F),W=p(F);W&&M.push(W),$&&M.push($);var H=h(F);H&&M.push(H);var K=y(F);return K&&M.push(K),M},R=function(F){var M=t.node,$=t.props;if(!M)return null;var W=M.level,H=M.value,K=_(),z=A(),B=t;B.stateId=$.stateId;var q=i.createVNode("div",{ref:"treeItemRef",class:z,"data-value":H,"data-level":W,style:K,onClick:function(X){return d(X)},draggable:M.isDraggable(),onDragstart:function(X){return C(X)},onDragend:function(X){return x(X)},onDragover:function(X){return k(X)},onDragleave:function(X){return P(X)},onDrop:function(X){return I(X)}},[L.value?[i.createVNode("div",null,null)]:E(F)]);return q};return{hasLazyLoadHolder:L,tRowHeight:O,renderItemNode:R}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function RO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function DO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RO(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RO(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var Tee={stateId:{type:String},itemKey:{type:String},rowIndex:{type:Number},treeScope:{type:Object}},Eee=i.defineComponent(DO(DO({props:Tee},fee),{},{setup:function(e,n){var a=xee(e,n),r=a.state,o=r.treeItemRef;i.ref();var l=Nee(r),s=l.renderItemNode;return{treeItemRef:o,renderItemNode:s}},render:function(e){var n=kO();return typeof this.renderItemNode=="function"?this.renderItemNode(n):null}}));/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Aee(t){var e=t,n=e.props,a=e.context,r=IO(t),o=r.toggleExpanded,l=r.toggleActived,s=r.toggleChecked,c=function(f){var v=f.mouseEvent,h=f.event,g=f.node;if(!(!g||!v)){e.mouseEvent=v;var p=n.expandOnClickNode,m=!n.disabled&&!g.disabled&&g.isActivable();["trigger","ignore"].forEach(function(b){var w=yee(b,h.target,h.currentTarget),C=(w==null?void 0:w.value)||"";C.indexOf("expand")>=0&&(b==="trigger"?p=!0:b==="ignore"&&(p=!1)),C.indexOf("active")>=0&&b==="ignore"&&(m=!1)}),p&&o(g),m&&l(g);var y={node:g.getModel(),e:v};Uo(n,a,"click",y),e.mouseEvent=null}},d=function(f,v){var h=n.disabled,g=f.node;!g||h||g.disabled||!g.isCheckable()||s(g,v)};return{handleChange:d,handleClick:c}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Ree(t){var e=t.store,n=t.scope,a=t.allNodes,r=t.nodes,o=t.virtualConfig,l=Aee(t),s=l.handleClick,c=l.handleChange,d=i.ref(!1),u=new Map,f=function(){a.value=e.getNodes()},v=function(){var y=o==null?void 0:o.isVirtualScroll.value;if(!y){var b=[],w=!1;a.value.forEach(function(C){C.visible&&(w=!0,u.set(C.value,C.value)),u.has(C.value)&&b.push(C)}),u.forEach(function(C){e.getNode(C)||u.delete(C)}),r.value=b,d.value=!w}},h=function(){var y=o==null?void 0:o.isVirtualScroll.value;if(y){var b=o.visibleData.value;r.value=b,d.value=b.length<=0}},g=function(y,b,w,C){var x=b.VIRTUAL_SCROLL_INDEX||w,k=b[cr],P=i.createVNode(Eee,{key:k,rowIndex:x,stateId:C,itemKey:k,treeScope:n,onClick:s,onChange:c},null);return P},p=function(y){var b="render-".concat(new Date().getTime()),w=r.value.map(function(C,x){return g(y,C,x,b)});return w};return i.watch(a,v),i.watch(o.visibleData,h),f(),v(),h(),e.emitter.on("update",f),{nodesEmpty:d,renderTreeNodes:p}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function jO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function lh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jO(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jO(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Dee(t){var e=t,n=e.props,a=e.context,r=e.allNodes,o=e.nodes,l=e.scope,s=e.treeContentRef,c=e.isScrolling,d=i.computed(function(){return lh({rowHeight:34},n.scroll)});l.scrollProps=d;var u=i.computed(function(){var b=r.value.filter(function(w){return w.visible});return{data:b,scroll:d.value}}),f=rh(s,u);l.virtualConfig=f,e.virtualConfig=f,i.onMounted(function(){var b=f==null?void 0:f.isVirtualScroll.value;b&&f.handleScroll()});var v=function(w){var C;(C=n.onScroll)===null||C===void 0||C.call(n,{e:w}),a.emit("scroll",{e:w})},h=null,g=function(){c.value=!0,h&&(clearTimeout(h),h=null),h=setTimeout(function(){h=null,c.value=!1},100)},p=0,m=function(w){g();var C=f==null?void 0:f.isVirtualScroll.value,x=w.target||w.srcElement,k=x.scrollTop;p!==k?C&&(f.handleScroll(),o.value=f.visibleData.value):p=0,p=k,v(w)},y=function(w){var C=w.index;if(!C&&C!==0){var x;if(!w.key){He.error("Tree","scrollToElement: one of `index` or `key` must exist.");return}if(C=(x=r.value)===null||x===void 0?void 0:x.findIndex(function(k){return[we(k.data,"key"),we(k.data,"value")].includes(w.key)}),C<0){He.error("Tree","".concat(w.key," does not exist in data, check `key` or `data` please."));return}}f.scrollToElement(lh(lh({},w),{},{index:C-1}))};return{treeContentRef:s,onInnerVirtualScroll:m,virtualConfig:f,scrollToElement:y}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function jee(t,e){var n=i.ref(),a=i.ref([]),r=i.ref([]),o=i.ref(!1),l=i.toRefs(t),s=ih(t,l,"value","defaultValue","onChange","change"),c=ih(t,l,"actived","defaultActived","onActive","active"),d=ih(t,l,"expanded","defaultExpanded","onExpand","expand");function u(v){f.store=v,f.scope.store=v,r.value=v.getNodes()}var f={props:t,context:e,store:null,treeContentRef:n,nodes:a,allNodes:r,isScrolling:o,mouseEvent:null,virtualConfig:null,scope:{store:null,treeContentRef:n,treeProps:t,scopedSlots:{},virtualConfig:null},setStore:u,refProps:l,vmValue:s,vmActived:c,vmExpanded:d};return{state:f}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Mee(t){var e=t.props,n=t.context,a=t.refProps,r=e.valueMode,o=e.filter,l=e.keys,s=new Tx({valueMode:r,filter:o}),c=t.vmValue[0],d=t.vmActived[0],u=t.vmExpanded[0],f=function(){var x=Ma(e,["expandAll","expandLevel","expandMutex","expandParent","activable","activeMultiple","disabled","disableCheck","checkable","draggable","checkStrictly","load","lazy","valueMode","filter","allowFoldNodeOnFilter"]);s.setConfig(x)},v=function(){var x=e.expandParent;if(Array.isArray(u.value)){var k=new Map;u.value.forEach(function(I){if(k.set(I,!0),x){var D=s.getNode(I);D&&D.getModel().getParents().forEach(function(L){k.set(L.value,!0)})}});var P=Array.from(k.keys());s.setExpanded(P)}},h=!1,g=null,p=function(){if(e.allowFoldNodeOnFilter&&h)if(h=!1,e.filter){g||(g=s.getExpanded());var x=[],k=s.getNodes();k.forEach(function(P){P.vmIsLocked&&x.push(P.value)}),s.setExpanded(x)}else g&&(s.replaceExpanded(g),g=null)},m=function(x,k){e.allowFoldNodeOnFilter&&(h=x!==k)},y=function(x){var k=x.node,P={node:k.getModel()};Array.isArray(c.value)&&c.value.length>0&&s.replaceChecked(c.value),Array.isArray(u.value)&&u.value.length>0&&s.replaceExpanded(u.value),Array.isArray(d.value)&&d.value.length>0&&s.replaceActived(d.value),e!=null&&e.onLoad&&(e==null||e.onLoad(P)),n.emit("load",P)},b=function(x){s.reload(x||[]),s.refreshNodes(),Array.isArray(c.value)&&s.setChecked(c.value),v(),Array.isArray(d.value)&&s.setActived(d.value),s.refreshState()};function w(){s.setConfig({keys:l}),f(),s.append(e.data||[]),s.refreshNodes(),Array.isArray(c.value)&&s.setChecked(c.value),v(),Array.isArray(d.value)&&s.setActived(d.value),s.emitter.on("load",y),s.emitter.on("update",p)}return w(),t.setStore(s),i.watch(function(){return he(c.value||[])},function(C){s.replaceChecked(C)}),i.watch(function(){return he(u.value||[])},function(C){s.replaceExpanded(C)}),i.watch(function(){return he(d.value||[])},function(C){s.replaceActived(C)}),i.watch(a.filter,function(C,x){m(C,x)}),i.watch(a.keys,function(C){s.setConfig({keys:C})}),{store:s,rebuild:b,checkFilterExpand:m,updateStoreConfig:f,updateExpanded:v,expandFilterPath:p}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Au(t){return t&&(isNaN(Number(t))?t:"".concat(t,"px"))}function Fee(t){var e=t.props,n=ae("tree").value,a=ae().value,r=t.virtualConfig,o=t.isScrolling,l=t.refProps,s=l.height,c=l.maxHeight,d=i.computed(function(){var h=[n],g=e.disabled,p=e.hover,m=e.transition,y=e.checkable,b=e.draggable,w=e.expandOnClickNode,C=e.scroll;g&&h.push("".concat(a,"-is-disabled")),p&&h.push("".concat(n,"--hoverable")),y&&h.push("".concat(n,"--checkable")),b&&h.push("".concat(n,"--draggable")),m&&h.push("".concat(n,"--transition")),w&&h.push("".concat(n,"--block-node"));var x=r==null?void 0:r.isVirtualScroll.value;return x?(h.push("".concat(n,"__vscroll")),o.value&&h.push("".concat(n,"--scrolling"))):C&&C.type==="lazy"&&h.push("".concat(n,"__lazyload")),h}),u=i.computed(function(){return{height:Au(s.value),maxHeight:Au(c.value),overflowY:Au(s.value)||Au(c.value)?"auto":void 0}}),f=i.computed(function(){var h=r==null?void 0:r.isVirtualScroll.value,g=h?r==null?void 0:r.translateY.value:0,p="translateY(".concat(g,"px)"),m={transform:p,"-ms-transform":p,"-moz-transform":p,"-webkit-transform":p};return m}),v=i.computed(function(){var h=r==null?void 0:r.isVirtualScroll.value,g=h?r==null?void 0:r.translateY.value:0,p="translate(0, ".concat(g,"px)");return{transform:p,"-ms-transform":p,"-moz-transform":p,"-webkit-transform":p}});return{treeClasses:d,treeContentStyles:u,scrollStyles:f,cursorStyles:v}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Lee={activable:Boolean,activeMultiple:Boolean,actived:{type:Array,default:void 0},defaultActived:{type:Array},allowDrop:{type:Function},allowFoldNodeOnFilter:Boolean,checkProps:{type:Object},checkStrictly:Boolean,checkable:Boolean,data:{type:Array,default:function(){return[]}},disableCheck:{type:[Boolean,Function],default:!1},disabled:Boolean,draggable:Boolean,empty:{type:[String,Function],default:""},expandAll:Boolean,expandLevel:{type:Number,default:0},expandMutex:Boolean,expandOnClickNode:Boolean,expandParent:Boolean,expanded:{type:Array,default:void 0},defaultExpanded:{type:Array,default:function(){return[]}},filter:{type:Function},height:{type:[String,Number]},hover:Boolean,icon:{type:[Boolean,Function],default:!0},keys:{type:Object},label:{type:[String,Boolean,Function],default:!0},lazy:{type:Boolean,default:!0},line:{type:[Boolean,Function],default:!1},load:{type:Function},maxHeight:{type:[String,Number]},operations:{type:Function},scroll:{type:Object},transition:{type:Boolean,default:!0},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array,default:function(){return[]}},valueMode:{type:String,default:"onlyLeaf",validator:function(e){return e?["onlyLeaf","parentFirst","all"].includes(e):!0}},onActive:Function,onChange:Function,onClick:Function,onDragEnd:Function,onDragLeave:Function,onDragOver:Function,onDragStart:Function,onDrop:Function,onExpand:Function,onLoad:Function,onScroll:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function MO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function sh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MO(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function $ee(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!i.isVNode(t)}var Bee=i.defineComponent({name:"TTree",model:{prop:"value",event:"change"},props:sh({},Lee),setup:function(e,n){var a=Re("tree"),r=a.t,o=a.global,l=ae(),s=ae("tree"),c=jee(e,n),d=c.state,u=d.treeContentRef,f=d.isScrolling,v=Mee(d),h=v.store,g=v.updateStoreConfig,p=v.rebuild;Cee(d);var m=IO(d),y=m.setActived,b=m.setExpanded,w=m.setChecked,C=Dee(d),x=C.onInnerVirtualScroll,k=C.virtualConfig,P=C.scrollToElement,I=Ree(d),D=I.renderTreeNodes,L=I.nodesEmpty,O=Fee(d),S=O.treeClasses,_=O.treeContentStyles,A=O.scrollStyles,E=O.cursorStyles;return{t:r,global:o,classPrefix:l,componentName:s,state:d,store:h,treeClasses:S,treeContentRef:u,rebuild:p,updateStoreConfig:g,setActived:y,setExpanded:b,setChecked:w,renderTreeNodes:D,nodesEmpty:L,isScrolling:f,onInnerVirtualScroll:x,treeContentStyles:_,scrollStyles:A,cursorStyles:E,virtualConfig:k,scrollToElement:P,scrollTo:P}},watch:{data:function(e){this.rebuild(e)}},methods:{refresh:function(){this.store.refreshState()},setItem:function(e,n){var a=this,r=this.store.getNode(e),o=n,l=Object.keys(o);r&&o&&(["expanded","actived","checked"].forEach(function(s){if(l.includes(s)){var c=o[s];delete o[s];var d="set".concat(Pc(s)),u=a[d];pe(u)&&u.call(a,r,c)}}),r.set(o))},getItem:function(e){var n=this.store.getNode(e);return n==null?void 0:n.getModel()},getItems:function(e){var n=this.store.getNodes(e);return n.map(function(a){return a.getModel()})},appendTo:function(e,n){var a=this.store,r=[];Array.isArray(n)?r=n:r=[n],r.forEach(function(o){var l=(o==null?void 0:o.value)||"",s=dr(a,l);s?a.appendNodes(e,s):a.appendNodes(e,o)})},insertBefore:function(e,n){var a=this.store,r=(n==null?void 0:n.value)||"",o=dr(a,r);o?a.insertBefore(e,o):a.insertBefore(e,n)},insertAfter:function(e,n){var a=this.store,r=(n==null?void 0:n.value)||"",o=dr(a,r);o?a.insertAfter(e,o):a.insertAfter(e,n)},remove:function(e){return this.store.remove(e)},getIndex:function(e){return this.store.getNodeIndex(e)},getParent:function(e){var n=this.store.getParent(e);return n==null?void 0:n.getModel()},getParents:function(e){var n=this.store.getParents(e);return n.map(function(a){return a.getModel()})},getPath:function(e){var n=this.store.getNode(e),a=[];return n&&(a=n.getPath().map(function(r){return r.getModel()})),a},getTreeData:function(e){var n=[];if(e){var a=this.store.getNode(e);if(!a)return[];n=this.store.getNodes(e)}else n=this.store.getNodes();var r={},o=[];return n.forEach(function(l){var s=l.value,c=sh(sh({},l.data),{},{value:s});c.children!==!0&&delete c.children,r[s]=c;var d=l.getParent();if(!d)o.push(c);else{var u=r[d.value];u?(Array.isArray(u.children)||(u.children=[]),u.children.push(c)):o.push(c)}}),o}},render:function(e){var n,a,r,o,l=this.state,s=this.treeClasses,c=this.updateStoreConfig,d=this.renderTreeNodes,u=this.nodesEmpty,f=this.isScrolling,v=this.virtualConfig,h=this.treeContentStyles,g=this.scrollStyles,p=this.cursorStyles,m=kO(),y=l.scope,b=l.allNodes,w=l.refProps;y.scopedSlots=hee(this),c();var C=d(m),x=this.componentName,k=v.isVirtualScroll.value,P=null;if(u){var I=!this.empty&&!this.$slots.empty,D=I?this.t(this.global.empty):Yt(this,"empty");P=i.createVNode("div",{class:"".concat(x,"__empty")},[D])}else C.length<=0&&(P=i.createVNode("div",null,null));var L=this.$props,O=L.transition,S=null;!O||k&&f?S=i.createVNode("div",{class:"".concat(x,"__list"),style:g},[C]):S=i.createVNode(i.TransitionGroup,{tag:"div",class:"".concat(x,"__list"),"enter-active-class":"".concat(x,"__item--enter-active"),"leave-active-class":"".concat(x,"__item--leave-active"),style:g},$ee(C)?C:{default:function(){return[C]}});var _=((n=(a=b.value)===null||a===void 0?void 0:a.filter(function(N){return N.visible}).length)!==null&&n!==void 0?n:0)*((r=(o=w.scroll.value)===null||o===void 0?void 0:o.rowHeight)!==null&&r!==void 0?r:34),A={width:"1px",height:"1px",opacity:0,pointerEvents:"none",position:"absolute",left:0,top:"".concat(_,"px")},E=i.createVNode("div",{style:A},null),R=i.createVNode("div",{class:s,ref:"treeContentRef",onScroll:this.onInnerVirtualScroll,style:h},[k&&i.createVNode("div",{class:"".concat(x,"__vscroll-cursor"),style:p},null),P||S,k&&E]);return R}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var FO=vee(Bee);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var zee={autoWidth:Boolean,borderless:Boolean,clearable:Boolean,collapsedItems:{type:Function},data:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:void 0},empty:{type:[String,Function],default:""},filter:{type:Function},filterable:Boolean,inputProps:{type:Object},inputValue:{type:[String,Number],default:void 0},defaultInputValue:{type:[String,Number]},keys:{type:Object},loading:Boolean,loadingText:{type:[String,Function],default:""},max:{type:Number,default:0},minCollapsedNum:{type:Number,default:0},multiple:Boolean,placeholder:{type:String,default:void 0},popupProps:{type:Object},popupVisible:{type:Boolean,default:void 0},prefixIcon:{type:Function},readonly:{type:Boolean,default:void 0},selectInputProps:{type:Object},size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},suffix:{type:[String,Function]},suffixIcon:{type:Function},tagProps:{type:Object},treeProps:{type:Object},value:{type:[String,Number,Object,Array],default:void 0},modelValue:{type:[String,Number,Object,Array],default:void 0},defaultValue:{type:[String,Number,Object,Array]},valueDisplay:{type:Function},valueType:{type:String,default:"value",validator:function(e){return e?["value","object"].includes(e):!0}},onBlur:Function,onChange:Function,onClear:Function,onFocus:Function,onInputChange:Function,onPopupVisibleChange:Function,onRemove:Function,onSearch:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function LO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Si(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LO(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LO(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var Hee=i.defineComponent({name:"TTreeSelect",props:zee,setup:function(e,n){var a=n.slots,r=n.expose,o=Pe(),l=va(),s=ae(),c=Re("treeSelect"),d=c.globalConfig,u=St(),f=mn(),v=i.ref(null),h=i.ref([]),g=i.ref([]),p=i.ref(null),m=i.ref(0),y=i.toRefs(e),b=y.value,w=y.modelValue,C=y.popupVisible,x=y.inputValue,k=ot(b,w,e.defaultValue,e.onChange),P=Ce(k,2),I=P[0],D=P[1],L=Rt(C,!1,e.onPopupVisibleChange,"popupVisible"),O=Ce(L,2),S=O[0],_=O[1],A=Rt(x,e.defaultInputValue,e.onInputChange,"inputValue"),E=Ce(A,2),R=E[0],N=E[1];i.watch(I,Et(qe.mark(function le(){return qe.wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return oe.next=2,re();case 2:e.multiple||(h.value=p.value?[p.value.value]:[]);case 3:case"end":return oe.stop()}},le)}))),i.watch(function(){return e.data},Et(qe.mark(function le(){return qe.wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return oe.next=2,re();case 2:me();case 3:case"end":return oe.stop()}},le)})),{deep:!0});var F=i.computed(function(){var le=R.value||"";return le===""?null:function(ie){if(pe(e.filter)){var oe=e.filter(String(le),ie);if(Ht(oe))return oe}return ie.data[q.value].indexOf(le)>=0}}),M=i.computed(function(){return u.value||e.disabled}),$=i.computed(function(){var le;return S.value&&((le=p.value)===null||le===void 0?void 0:le.label)||e.placeholder||d.value.placeholder}),W=i.computed(function(){return["".concat(s.value,"-select__dropdown"),"narrow-scrollbar"]}),H=i.computed(function(){return{small:"s",medium:"m",large:"l"}[e.size]}),K=i.computed(function(){return e.valueType==="object"}),z=i.computed(function(){return e.multiple?K.value?Ie(I.value)?I.value.map(function(le){return le.value}):[]:Ie(I.value)?I.value.map(function(le){return le}):[]:[]}),B=i.computed(function(){return e.multiple&&!!e.max&&Ie(I.value)&&e.max<=I.value.length}),q=i.computed(function(){var le;return!kn(e.treeProps)&&!kn(e.treeProps.keys)?e.treeProps.keys.label||"label":((le=e.keys)===null||le===void 0?void 0:le.label)||"label"}),Y=i.computed(function(){var le;return!kn(e.treeProps)&&!kn(e.treeProps.keys)?e.treeProps.keys.value||"value":((le=e.keys)===null||le===void 0?void 0:le.value)||"value"}),X=i.computed(function(){var le;return!kn(e.treeProps)&&!kn(e.treeProps.keys)?e.treeProps.keys.children||"children":((le=e.keys)===null||le===void 0?void 0:le.children)||"children"});i.onMounted(Et(qe.mark(function le(){return qe.wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:if(!(!I.value&&e.defaultValue)){oe.next=3;break}return oe.next=3,T(e.defaultValue,null,"uncheck");case 3:K.value?h.value=Ie(I.value)?I.value.map(function(de){return de.value}):[I.value.value]:h.value=Ie(I.value)?I.value:[I.value],re();case 5:case"end":return oe.stop()}},le)})));var T=function(ie,oe,de){D(ie,{node:oe,trigger:de}),re()},j=function(ie){var oe,de=e.multiple?[]:"";h.value=[],T(de,null,"clear"),(oe=e.onClear)===null||oe===void 0||oe.call(e,{e:ie.e})},U=function(ie,oe){var de=ie;K.value&&(de=ie.map(ue)),T(de,oe.node,"check")},J=function(ie,oe){if(e.multiple||_(!1,oe),!e.multiple&&I.value!==oe.node.data[Y.value]){var de=ie;if(K.value){var Te=kn(ie)?"":ie[0];de=ue(Te)}else de=kn(ie)?"":ie[0];T(de,oe.node,"check"),h.value=ie}},Z=function(ie){g.value=ie},Q=function(){re()},ee=function(ie){var oe;if(!S.value){var de;(de=e.onSearch)===null||de===void 0||de.call(e,String(ie));return}N(ie),(oe=e.onSearch)===null||oe===void 0||oe.call(e,String(ie))},ne=function(ie,oe){var de,Te=oe.trigger,Se=oe.index;["tag-remove","backspace"].includes(Te)&&Ie(I.value)&&I.value.splice(Se,1),(de=e.onRemove)===null||de===void 0||de.call(e,{value:ie,data:null,e:oe&&oe.e}),T(I.value,null,Te)},V=function(ie,oe){_(ie,oe),ie&&oe.trigger==="trigger-element-click"&&N("")},re=function(){var le=Et(qe.mark(function ie(){return qe.wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return de.next=2,I.value;case 2:e.multiple?e.multiple?Ie(I.value)?p.value=se():p.value=[]:p.value=null:I.value||I.value===0?p.value=ce():p.value="";case 3:case"end":return de.stop()}},ie)}));return function(){return le.apply(this,arguments)}}(),ce=function(){var ie=K.value?I.value.value:I.value;return ue(ie)},se=function(){return I.value.map(function(ie){var oe=K.value?ie.value:ie;return ue(oe)})},ue=function(ie){if(v.value){var oe=v.value.getItem(ie);if(oe)return Si(Si({},oe.data),{},{label:oe.data[q.value],value:oe.data[Y.value]})}var de=ye(e.data,ie);return de||{label:ie,value:ie}},ye=function(ie,oe){for(var de=0,Te=ie.length;de<Te;de++){var Se=ie[de];if(Se[Y.value]===oe)return Si(Si({},Se),{},{label:Se[q.value],value:Se[Y.value]});if(Se!=null&&Se[X.value]){var Oe=ye(Se==null?void 0:Se[X.value],oe);if(!li(Oe))return Oe}}return null},me=function(){m.value+=1},ge=function(){return i.withDirectives(i.createVNode(FO,i.mergeProps({ref:v,key:m.value,value:he(z.value),hover:!0,keys:e.keys,data:e.data,activable:!e.multiple,checkable:e.multiple,disabled:M.value||B.value,size:e.size,filter:F.value,icon:!F.value,actived:h.value,expanded:g.value,activeMultiple:e.multiple,onChange:U,onActive:J,onExpand:Z,onLoad:Q,expandOnClickNode:!1},e.treeProps),{empty:function(){return l("empty",{defaultNode:i.createVNode("div",{class:"".concat(s.value,"-select__empty")},[d.value.empty])})}}),[[i.vShow,!e.loading]])},xe=function(){return i.createVNode(fi,{isActive:S.value,disabled:e.disabled,overlayClassName:G(G({},"".concat(s.value,"-fake-arrow--highlight"),S.value),"".concat(s.value,"-fake-arrow--disable"),e.disabled)},null)};return r({treeRef:v}),function(){return i.createVNode(Do,i.mergeProps({class:"".concat(s.value,"-tree-select"),value:p.value,inputValue:S.value?R.value:"",popupVisible:S.value,disabled:M.value,multiple:e.multiple,loading:e.loading,clearable:e.clearable,autoWidth:e.autoWidth,borderless:e.borderless,readonly:f.value,placeholder:$.value,allowInput:e.filterable||pe(e.filter),minCollapsedNum:e.minCollapsedNum,"collapsed-items":e.collapsedItems,popupProps:Si({overlayClassName:W.value},e.popupProps),inputProps:Si({size:e.size},e.inputProps),tagInputProps:{size:e.size},tagProps:Si({maxWidth:300},e.tagProps),label:function(){return o("prefixIcon")},suffix:e.suffix,suffixIcon:function(){return e.suffixIcon||a.suffixIcon?o("suffixIcon"):xe()},onClear:j,onBlur:function(ie,oe){var de;(de=e.onBlur)===null||de===void 0||de.call(e,{value:I.value,e:oe.e})},onFocus:function(ie,oe){var de;(de=e.onFocus)===null||de===void 0||de.call(e,{value:I.value,e:oe.e})},valueDisplay:function(){return o("valueDisplay",{params:e.multiple?{value:p.value,onClose:function(oe){var de=p.value.map(function(Te){return Te.value});ne(de,{trigger:"tag-remove",index:oe,item:de[oe]})}}:{value:p.value||G(G({},q.value,""),Y.value,void 0)}})},onInputChange:ee,onTagChange:ne,onPopupVisibleChange:V},e.selectInputProps),{suffix:a.suffix,panel:function(){return i.createVNode("div",{class:["".concat(s.value,"-select__dropdown-inner"),"".concat(s.value,"-select__dropdown-inner--size-").concat(H.value)]},[o("panelTopContent"),i.withDirectives(i.createVNode("p",{class:["".concat(s.value,"-select-loading-tips"),"".concat(s.value,"-select__right-icon-polyfill")]},[l("loadingText",{defaultNode:i.createVNode("div",{class:"".concat(s.value,"-select__empty")},[d.value.loadingText])})]),[[i.vShow,e.loading&&!M.value]]),ge(),o("panelBottomContent")])},collapsedItems:a.collapsedItems})}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Wee=be(Hee);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Ko={borderless:Boolean,clearable:Boolean,closeBtn:{type:[String,Boolean,Function],default:!0},colorModes:{type:Array,default:function(){return["monochrome","linear-gradient"]}},disabled:Boolean,enableAlpha:Boolean,enableMultipleGradient:{type:Boolean,default:!0},format:{type:String,default:"RGB",validator:function(e){return e?["RGB","RGBA","HSL","HSLA","HSB","HSV","HSVA","HEX","CMYK","CSS"].includes(e):!0}},inputProps:{type:Object},multiple:Boolean,popupProps:{type:Object},recentColors:{type:Array,default:void 0},defaultRecentColors:{type:Array,default:function(){return[]}},selectInputProps:{type:Object},showPrimaryColorPreview:{type:Boolean,default:!0},size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},swatchColors:{type:Array},value:{type:String,default:void 0},modelValue:{type:String,default:void 0},defaultValue:{type:String,default:""},onChange:Function,onPaletteBarChange:Function,onRecentColorsChange:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var $O=100,ch={monochrome:"单色","linear-gradient":"渐变"},Uee="#001F97",BO="linear-gradient(90deg, rgba(241,29,0,1) 0%, rgba(73,106,220,1) 100%);",Kee=["#ECF2FE","#D4E3FC","#BBD3FB","#96BBF8","#699EF5","#4787F0","#266FE8","#0052D9","#0034B5","#001F97","#FDECEE","#F9D7D9","#F8B9BE","#F78D94","#F36D78","#E34D59","#C9353F","#B11F26","#951114","#680506","#FEF3E6","#F9E0C7","#F7C797","#F2995F","#ED7B2F","#D35A21","#BA431B","#9E3610","#842B0B","#5A1907","#E8F8F2","#BCEBDC","#85DBBE","#48C79C","#00A870","#078D5C","#067945","#056334","#044F2A","#033017"],zO=230,HO=168,WO=186,uh=176;/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Yee=["HEX","RGB","HSL","HSV","CMYK","CSS"];/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var qee="color-picker",xa=function(e){var n=ae(qee);return i.computed(function(){return n.value})};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function UO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function KO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UO(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UO(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Gee(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!i.isVNode(t)}var Xee=i.defineComponent({name:"PanelHeader",props:KO(KO({},Ko),{},{mode:{type:String,default:"color"},togglePopup:{type:Function},onModeChange:{type:Function,default:function(){return function(){}}}}),setup:function(e){var n=xa(),a=i.ref(e.mode),r=function(l){return e.onModeChange(l)};return i.watch(function(){return e.mode},function(o){return a.value=o}),{baseClassName:n,modeValue:a,handleModeChange:r}},render:function(){var e,n,a,r=this;if(((n=this.colorModes)===null||n===void 0?void 0:n.length)===1)return null;var o=this.baseClassName;return i.createVNode("div",{class:"".concat(o,"__head")},[i.createVNode("div",{class:"".concat(o,"__mode")},[((a=this.colorModes)===null||a===void 0?void 0:a.length)===1?ch[this.colorModes[0]]:i.createVNode(ku,{variant:"default-filled",size:"small",modelValue:r.modeValue,"onUpdate:modelValue":function(s){return r.modeValue=s},onChange:this.handleModeChange},Gee(e=Object.keys(ch).map(function(l){return i.createVNode(th,{key:l,value:l},{default:function(){return[ch[l]]}})}))?e:{default:function(){return[e]}})])])}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Jee=function(e,n,a){var r=0,o=0,l=0,s=0,c=parseInt("".concat(e).replace(/\s/g,""),10),d=parseInt("".concat(n).replace(/\s/g,""),10),u=parseInt("".concat(a).replace(/\s/g,""),10);if(c===0&&d===0&&u===0)return s=1,[0,0,0,1];r=1-c/255,o=1-d/255,l=1-u/255;var f=Math.min(r,Math.min(o,l));return r=(r-f)/(1-f),o=(o-f)/(1-f),l=(l-f)/(1-f),s=f,[r,o,l,s]},Zee=function(e,n,a,r){var o=e/100,l=n/100,s=a/100,c=r/100;o=o*(1-c)+c,l=l*(1-c)+c,s=s*(1-c)+c;var d=1-o,u=1-l,f=1-s;return d=Math.round(255*d),u=Math.round(255*u),f=Math.round(255*f),{r:d,g:u,b:f}},Qee=/cmyk\((\d+%?),(\d+%?),(\d+%?),(\d+%?)\)/,Ru=function(e){return Math.max(0,Math.min(255,parseInt(e,10)))},Vee=function(e){if(/cmyk/i.test(e)){var n=e.replace(/\s/g,""),a=n.match(Qee),r=Ru(a[1]),o=Ru(a[2]),l=Ru(a[3]),s=Ru(a[4]),c=Zee(r,o,l,s),d=c.r,u=c.g,f=c.b;return"rgb(".concat(d,", ").concat(u,", ").concat(f,")")}return e};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Yo=function(e,n){for(var a="",r=0;r<e.length;r++)Ae(e[r])?a+=e[r]:a+=e[r].source;return new RegExp(a,n)},ete=function(){var e="gi",n=/(?:[+-]?\d*\.?\d+)(?:deg|grad|rad|turn)/,a=/to\s+((?:(?:left|right|top|bottom)(?:\s+(?:top|bottom|left|right))?))/,r=/\s*,\s*/,o=/#(?:[a-f0-9]{6}|[a-f0-9]{3})/,l=/\(\s*(?:\d{1,3}\s*,\s*){2}\d{1,3}\s*\)/,s=/\(\s*(?:\d{1,3}\s*,\s*){2}\d{1,3}\s*,\s*\d*\.?\d+\)/,c=/(?:[+-]?\d*\.?\d+)(?:%|[a-z]+)?/,d=/[_a-z-][_a-z0-9-]*/,u=Yo(["(?:",o,"|","(?:rgb|hsl)",l,"|","(?:rgba|hsla)",s,"|",d,")"],""),f=Yo([u,"(?:\\s+",c,"(?:\\s+",c,")?)?"],""),v=Yo(["(?:",f,r,")*",f],""),h=Yo(["(?:(",n,")|",a,")"],""),g=Yo(["(?:(",h,")",r,")?(",v,")"],e),p=Yo(["\\s*(",u,")","(?:\\s+","(",c,"))?","(?:",r,"\\s*)?"],e);return{gradientSearch:g,colorStopSearch:p}},tte=function(e,n){var a,r,o;e.gradientSearch.lastIndex=0;var l=e.gradientSearch.exec(n);if(!kf(l))for(a={original:l[0],colorStopList:[]},l[1]&&(a.line=l[1]),l[2]&&(a.angle=l[2]),l[3]&&(a.sideCorner=l[3]),e.colorStopSearch.lastIndex=0,r=e.colorStopSearch.exec(l[4]);!kf(r);)o={color:r[1]},r[2]&&(o.position=r[2]),a.colorStopList.push(o),r=e.colorStopSearch.exec(l[4]);return a},nte=ete(),YO=/.*gradient\s*\(((?:\([^)]*\)|[^)(]*)*)\)/gim,qO=function(e){return YO.lastIndex=0,YO.exec(e)},ate={top:0,right:90,bottom:180,left:270,"top left":225,"left top":225,"top right":135,"right top":135,"bottom left":315,"left bottom":315,"bottom right":45,"right bottom":45},Du=function(e){var n=qO(e);if(!n)return!1;var a={points:[],degree:0},r=tte(nte,n[1]);if(r.original.trim()!==n[1].trim())return!1;var o=r.colorStopList.map(function(s){var c=s.color,d=s.position,u=Object.create(null);return u.color=Ee(c).toRgbString(),u.left=parseFloat(d),u});a.points=o;var l=parseInt(r.angle,10);return Number.isNaN(l)&&(l=ate[r.sideCorner]||90),a.degree=l,a};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var dh;function GO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function XO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GO(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var Zt=Math.round,fh=function(e){return Ee(e).toRgb()},rte=function(e){return Ee(e).toHsv()},ite=function(e){return Ee(e).toHsl()},ju=function(e){var n=e.points,a=e.degree,r=n.sort(function(o,l){return o.left-l.left}).map(function(o){return"".concat(o.color," ").concat(Math.round(o.left*100)/100,"%")});return"linear-gradient(".concat(a,"deg,").concat(r.join(","),")")},ote=function(){return(1+Math.random()*4294967295).toString(16)},JO=function(e,n){return{id:ote(),left:e,color:n}},Sa=function(){function t(e){rr(this,t),G(this,"states",{s:100,v:100,h:100,a:1}),G(this,"originColor",void 0),G(this,"isGradient",void 0),G(this,"gradientStates",{colors:[],degree:0,selectedId:null,css:""}),this.update(e)}return ir(t,[{key:"update",value:function(n){if(n!==this.originColor){var a=Du(n);if(this.isGradient&&!a){var r=Ee(n).toHsv();this.states=r,this.updateCurrentGradientColor();return}this.originColor=n,this.isGradient=!1;var o=n;if(a){var l,s;this.isGradient=!0;var c=a,d=c.points.map(function(u){return JO(u.left,u.color)});this.gradientStates={colors:d,degree:c.degree,selectedId:((l=d[0])===null||l===void 0?void 0:l.id)||null},this.gradientStates.css=this.linearGradient,o=(s=this.gradientSelectedPoint)===null||s===void 0?void 0:s.color}this.updateStates(o)}}},{key:"saturation",get:function(){return this.states.s},set:function(n){this.states.s=Math.max(0,Math.min(100,n)),this.updateCurrentGradientColor()}},{key:"value",get:function(){return this.states.v},set:function(n){this.states.v=Math.max(0,Math.min(100,n)),this.updateCurrentGradientColor()}},{key:"hue",get:function(){return this.states.h},set:function(n){this.states.h=Math.max(0,Math.min(360,n)),this.updateCurrentGradientColor()}},{key:"alpha",get:function(){return this.states.a},set:function(n){this.states.a=Math.max(0,Math.min(1,Math.round(n*100)/100)),this.updateCurrentGradientColor()}},{key:"rgb",get:function(){var n=fh(this.states),a=n.r,r=n.g,o=n.b;return"rgb(".concat(Zt(a),", ").concat(Zt(r),", ").concat(Zt(o),")")}},{key:"rgba",get:function(){var n=fh(this.states),a=n.r,r=n.g,o=n.b,l=n.a;return"rgba(".concat(Zt(a),", ").concat(Zt(r),", ").concat(Zt(o),", ").concat(l,")")}},{key:"hsv",get:function(){var n=this.getHsva(),a=n.h,r=n.s,o=n.v;return"hsv(".concat(a,", ").concat(r,"%, ").concat(o,"%)")}},{key:"hsva",get:function(){var n=this.getHsva(),a=n.h,r=n.s,o=n.v,l=n.a;return"hsva(".concat(a,", ").concat(r,"%, ").concat(o,"%, ").concat(l,")")}},{key:"hsl",get:function(){var n=this.getHsla(),a=n.h,r=n.s,o=n.l;return"hsl(".concat(a,", ").concat(r,"%, ").concat(o,"%)")}},{key:"hsla",get:function(){var n=this.getHsla(),a=n.h,r=n.s,o=n.l,l=n.a;return"hsla(".concat(a,", ").concat(r,"%, ").concat(o,"%, ").concat(l,")")}},{key:"hex",get:function(){return Ee(this.states).toHexString()}},{key:"hex8",get:function(){return Ee(this.states).toHex8String()}},{key:"cmyk",get:function(){var n=this.getCmyk(),a=n.c,r=n.m,o=n.y,l=n.k;return"cmyk(".concat(a,", ").concat(r,", ").concat(o,", ").concat(l,")")}},{key:"css",get:function(){return this.isGradient?this.linearGradient:this.rgba}},{key:"linearGradient",get:function(){var n=this.gradientColors,a=this.gradientDegree;return ju({points:n,degree:a})}},{key:"gradientColors",get:function(){return this.gradientStates.colors},set:function(n){this.gradientStates.colors=n,this.gradientStates.css=this.linearGradient}},{key:"gradientSelectedId",get:function(){return this.gradientStates.selectedId},set:function(n){var a;n!==this.gradientSelectedId&&(this.gradientStates.selectedId=n,this.updateStates((a=this.gradientSelectedPoint)===null||a===void 0?void 0:a.color))}},{key:"gradientDegree",get:function(){return this.gradientStates.degree},set:function(n){this.gradientStates.degree=Math.max(0,Math.min(360,n)),this.gradientStates.css=this.linearGradient}},{key:"gradientSelectedPoint",get:function(){var n=this.gradientColors,a=this.gradientSelectedId;return n.find(function(r){return r.id===a})}},{key:"getFormatsColorMap",value:function(){return{HEX:this.hex,CMYK:this.cmyk,RGB:this.rgb,RGBA:this.rgba,HSL:this.hsl,HSLA:this.hsla,HSV:this.hsv,HSVA:this.hsva,CSS:this.css,HEX8:this.hex8}}},{key:"updateCurrentGradientColor",value:function(){var n=this.isGradient,a=this.gradientColors,r=this.gradientSelectedId,o=a.length,l=this.gradientSelectedPoint;if(!n||o===0||!l)return!1;var s=a.findIndex(function(d){return d.id===r}),c=XO(XO({},l),{},{color:this.rgba});return a.splice(s,1,c),this.gradientColors=a.slice(),this}},{key:"updateStates",value:function(n){var a=Ee(Vee(n)),r=a.toHsv();this.states=r}},{key:"getRgba",value:function(){var n=fh(this.states),a=n.r,r=n.g,o=n.b,l=n.a;return{r:Zt(a),g:Zt(r),b:Zt(o),a:l}}},{key:"getCmyk",value:function(){var n=this.getRgba(),a=n.r,r=n.g,o=n.b,l=Jee(a,r,o),s=Ce(l,4),c=s[0],d=s[1],u=s[2],f=s[3];return{c:Zt(c*100),m:Zt(d*100),y:Zt(u*100),k:Zt(f*100)}}},{key:"getHsva",value:function(){var n=rte(this.states),a=n.h,r=n.s,o=n.v,l=n.a;return a=Zt(a),r=Zt(r*100),o=Zt(o*100),l*=1,{h:a,s:r,v:o,a:l}}},{key:"getHsla",value:function(){var n=ite(this.states),a=n.h,r=n.s,o=n.l,l=n.a;return a=Zt(a),r=Zt(r*100),o=Zt(o*100),l*=1,{h:a,s:r,l:o,a:l}}},{key:"equals",value:function(n){return Ee.equals(this.rgba,n)}}],[{key:"isValid",value:function(n){return Du(n)?!0:Ee(n).isValid()}},{key:"hsva2color",value:function(n,a,r,o){return Ee({h:n,s:a,v:r,a:o}).toHsvString()}},{key:"hsla2color",value:function(n,a,r,o){return Ee({h:n,s:a,l:r,a:o}).toHslString()}},{key:"rgba2color",value:function(n,a,r,o){return Ee({r:n,g:a,b:r,a:o}).toHsvString()}},{key:"hex2color",value:function(n,a){var r=Ee(n);return r.setAlpha(a),r.toHexString()}},{key:"object2color",value:function(n,a){if(a==="CMYK"){var r=n.c,o=n.m,l=n.y,s=n.k;return"cmyk(".concat(r,", ").concat(o,", ").concat(l,", ").concat(s,")")}var c=Ee(n,{format:a});return c.toRgbString()}}])}();dh=Sa,G(Sa,"isGradientColor",function(t){return!!qO(t)}),G(Sa,"compare",function(t,e){var n=dh.isGradientColor(t),a=dh.isGradientColor(e);if(n&&a){var r=ju(Du(t)),o=ju(Du(e));return r===o}return!n&&!a?Ee.equals(t,e):!1});var lte=["alpha","css","hex","hex8","hsl","hsla","hsv","hsva","rgb","rgba","saturation","value","isGradient"],ZO=function(e){if(!e)return null;var n=Object.create(null);return lte.forEach(function(a){return n[a]=e[a]}),e.isGradient&&(n.linearGradient=e.linearGradient),n};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function QO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function VO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QO(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QO(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function ste(t,e){cte(t,e),e.add(t)}function cte(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function qo(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var ute={start:function(e,n){},drag:function(e,n){},end:function(e,n){}},Oi=new WeakSet,ek=function(){function t(e,n){rr(this,t),ste(this,Oi),G(this,"dragging",!1),G(this,"$el",void 0),G(this,"props",void 0),G(this,"handles",void 0),this.$el=e,this.props=VO(VO({},ute),n),this.handles={start:qo(Oi,this,dte).bind(this),drag:qo(Oi,this,fte).bind(this),end:qo(Oi,this,vte).bind(this)},this.$el.addEventListener("mousedown",this.handles.start,!1)}return ir(t,[{key:"destroy",value:function(){this.$el.removeEventListener("mousedown",this.handles.start,!1),window.removeEventListener("mousemove",this.handles.drag,!1),window.removeEventListener("mouseup",this.handles.end,!1),window.removeEventListener("contextmenu",this.handles.end,!1)}}])}();function dte(t){this.dragging||(window.addEventListener("mousemove",this.handles.drag,!1),window.addEventListener("mouseup",this.handles.end,!1),window.addEventListener("contextmenu",this.handles.end,!1),this.dragging=!0,this.props.start(qo(Oi,this,vh).call(this,t),t))}function fte(t){this.dragging&&this.props.drag(qo(Oi,this,vh).call(this,t),t)}function vte(t){var e=this;setTimeout(function(){e.dragging=!1,e.props.end(qo(Oi,e,vh).call(e,t),t)},0),window.removeEventListener("mousemove",this.handles.drag,!1),window.removeEventListener("mouseup",this.handles.end,!1),window.removeEventListener("contextmenu",this.handles.end,!1)}function vh(t){var e=this.$el.getBoundingClientRect(),n=t,a=n.clientX-e.left,r=n.clientY-e.top;return{y:Math.min(Math.max(0,r),e.height),x:Math.min(Math.max(0,a),e.width)}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var cs={disabled:Boolean,color:{type:Object},onChange:{type:Function,default:function(){return function(){}}}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function nk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tk(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tk(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var hte=["delete","backspace"],gte=i.defineComponent({name:"LinearGradient",inheritAttrs:!1,props:nk(nk({},cs),{},{enableMultipleGradient:{type:Boolean,default:!0}}),setup:function(e){var n=xa(),a=lt(),r=a.STATUS,o=r.value,l=i.ref(null),s=i.reactive({left:0,width:uh}),c=i.ref(!1),d=i.ref(!1),u=i.ref(e.color.gradientDegree),f=i.ref(e.color.gradientSelectedId),v=i.ref(On(e.color.gradientColors));i.watch(function(){return e.color.gradientDegree},function(P){return u.value=P}),i.watch(function(){return e.color.gradientSelectedId},function(P){return f.value=P}),i.watch(function(){return e.color.gradientColors},function(P){v.value=On(P)},{deep:!0});var h=function(I,D,L){e.disabled||e.onChange({key:I,payload:D,addUsedColor:L})},g=function(I){e.disabled||I===e.color.gradientDegree||(u.value=I,h("degree",I,!0))},p=function(I){e.disabled||(f.value=I,h("selectedId",I))},m=function(I,D){e.disabled||(v.value=I,h("colors",I,D))},y=function(I){var D=v.value.findIndex(function(S){return S.id===f.value});if(D!==-1){var L=v.value[D];I=Math.max(0,Math.min(s.width,I));var O=I/s.width*100;v.value.splice(D,1,{color:L.color,left:O,id:L.id}),m(v.value)}},b=function(I){var D=l.value.getBoundingClientRect();s.left=D.left,s.width=D.width||uh,!(c.value||e.disabled)&&(d.value=!1,c.value=!0,p(I),l.value.focus(),window.addEventListener("mousemove",w,!1),window.addEventListener("mouseup",C,!1),window.addEventListener("contextmenu",C,!1))},w=function(I){if(!(!c.value||e.disabled)){var D=I.clientX-s.left;d.value=!0,y(D)}},C=function(){c.value&&(setTimeout(function(){c.value=!1},0),d.value&&(m(v.value,!0),d.value=!1),window.removeEventListener("mousemove",w,!1),window.removeEventListener("mouseup",C,!1),window.removeEventListener("contextmenu",C,!1))},x=function(I){if(!e.disabled){var D=v.value,L=D.findIndex(function(_){return _.id===f.value}),O=D.length;if(hte.includes(I.key.toLocaleLowerCase())&&O>2&&L>=0&&L<=O-1){D.splice(L,1),D[L]||(L=D[L+1]?L+1:D[L-1]?L-1:0);var S=D[L];m(D,!0),p(S==null?void 0:S.id)}}},k=function(I){if(!(e.disabled||!e.enableMultipleGradient)){var D=I.clientX-s.left;D=Math.max(0,Math.min(s.width,D));var L=D/s.width*100,O=JO(L,e.color.rgba);v.value.push(O),m(v.value,!0),p(O.id)}};return i.onMounted(function(){var P=l.value.getBoundingClientRect();s.left=P.left,s.width=P.width||uh}),i.onBeforeUnmount(function(){window.removeEventListener("mousemove",w,!1),window.removeEventListener("mouseup",C,!1),window.removeEventListener("contextmenu",C,!1)}),{baseClassName:n,statusClassNames:o,refSlider:l,degree:u,selectedId:f,colors:v,handleDegreeChange:g,handleStart:b,handleMove:w,handleEnd:C,handleKeyup:x,handleThumbBarClick:k}},render:function(){var e=this,n=this.color,a=n.linearGradient,r=n.gradientColors,o=this.colors,l=this.selectedId,s=this.degree,c=this.disabled,d=this.baseClassName,u=this.statusClassNames,f=ju({points:r,degree:90});return i.createVNode("div",{class:"".concat(d,"__gradient")},[i.createVNode("div",{class:"".concat(d,"__gradient-slider")},[i.createVNode("div",{class:["".concat(d,"__slider"),"".concat(d,"--bg-alpha")],onKeyup:this.handleKeyup,tabindex:0,ref:"refSlider"},[i.createVNode("ul",{class:"gradient-thumbs",onClick:this.handleThumbBarClick,style:{background:f}},[o.map(function(v){var h="".concat(Math.round(v.left*100)/100,"%");return i.createVNode("li",{class:["".concat(d,"__thumb"),"gradient-thumbs__item",l===v.id?u.active:""],key:v.id,title:"".concat(v.color," ").concat(h),style:{color:v.color,left:h},onClick:function(p){return p.stopPropagation()},onMousedown:function(){return e.handleStart(v.id)}},[i.createVNode("span",{class:["gradient-thumbs__item-inner","".concat(d,"--bg-alpha")]},null)])})])])]),i.createVNode("div",{class:"".concat(d,"__gradient-degree"),title:"".concat(s,"deg")},[i.createVNode(ts,{size:"small",theme:"normal",min:0,max:360,step:1,format:function(h){return"".concat(h,"°")},modelValue:e.degree,"onUpdate:modelValue":function(h){return e.degree=h},onBlur:this.handleDegreeChange,onEnter:this.handleDegreeChange,disabled:c},null)]),i.createVNode("div",{class:["".concat(d,"__gradient-preview"),"".concat(d,"--bg-alpha")]},[i.createVNode("span",{class:"preview-inner",style:{background:a}},null)])])}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function pte(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ak(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ak(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var mte=i.defineComponent({name:"SaturationPanel",props:pte({},cs),setup:function(e){var n=xa(),a=i.ref(null),r=i.ref(null),o=i.ref(null),l=i.reactive({width:zO,height:HO}),s=i.computed(function(){var v=e.color,h=v.saturation,g=v.value,p=l.width,m=l.height,y=Math.round((1-g)*m),b=Math.round(h*p);return{color:e.color.rgb,left:"".concat(b,"px"),top:"".concat(y,"px")}}),c=function(h){var g=l.width,p=l.height,m=h.x,y=h.y,b=Math.round(m/g*100),w=Math.round((1-y/p)*100);return{saturation:b,value:w}},d=function(h,g){if(!e.disabled){var p=c(h),m=p.saturation,y=p.value;e.onChange({saturation:m/100,value:y/100,addUsedColor:g})}},u=function(h){e.disabled||i.nextTick(function(){d(h,!0)})},f=i.computed(function(){return"hsl(".concat(e.color.hue,", 100%, 50%)")});return i.onMounted(function(){l.width=a.value.offsetWidth||zO,l.height=a.value.offsetHeight||HO,o.value=new ek(a.value,{start:function(){l.width=a.value.offsetWidth,l.height=a.value.offsetHeight},drag:function(h){d(h)},end:u})}),i.onBeforeUnmount(function(){o.value.destroy()}),{baseClassName:n,refThumb:r,refPanel:a,styles:s,panelBackground:f}},render:function(){var e=this.baseClassName,n=this.styles,a=this.panelBackground;return i.createVNode("div",{class:["".concat(e,"__saturation")],ref:"refPanel",style:{background:a}},[i.createVNode("span",{class:["".concat(e,"__thumb")],role:"slider",tabindex:0,ref:"refThumb",style:n},null)])}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function ik(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rk(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rk(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var ok=i.defineComponent({name:"ColorSlider",props:ik(ik({},cs),{},{className:{type:String,default:""},value:{type:Number,default:0},maxValue:{type:Number,default:360},railStyle:{type:Object},type:{type:String,default:"hue"}}),setup:function(e){var n=xa(),a=i.ref(null),r=i.ref(null),o=i.ref(null),l=i.reactive({width:WO}),s=i.computed(function(){var u=l.width;if(u){var f=Math.round(e.value/e.maxValue*100);return{left:"".concat(f,"%"),color:e.color.rgb}}}),c=function(f,v){if(!e.disabled){var h=l.width,g=f.x,p=Math.round(g/h*e.maxValue*100)/100;e.onChange(p,v)}},d=function(f){e.disabled||c(f,!0)};return i.onMounted(function(){l.width=a.value.offsetWidth||WO,o.value=new ek(a.value,{start:function(){l.width=a.value.offsetWidth},drag:function(f){c(f)},end:d})}),i.onBeforeUnmount(function(){o.value.destroy()}),{baseClassName:n,refThumb:r,refPanel:a,styles:s}},render:function(){var e=this.baseClassName,n=this.className,a=this.railStyle,r=this.styles,o=this.type,l=this.color,s={background:"linear-gradient(90deg, rgba(0,0,0,.0) 0%, rgba(0,0,0,.0) 93%, ".concat(l.rgb," 93%, ").concat(l.rgb," 100%)")};return i.createVNode("div",{class:["".concat(e,"__slider-wrapper"),"".concat(e,"__slider-wrapper--").concat(o,"-type")]},[o==="alpha"&&i.createVNode("div",{className:"".concat(e,"__slider-padding"),style:s},null),i.createVNode("div",{class:["".concat(e,"__slider"),n],ref:"refPanel"},[i.createVNode("div",{class:"".concat(e,"__rail"),style:a},null),i.createVNode("span",{class:["".concat(e,"__thumb")],role:"slider",tabindex:0,ref:"refThumb",style:r},null)])])}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function yte(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lk(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lk(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var bte=i.defineComponent({name:"HueSlider",inheritAttrs:!1,props:yte({},cs),setup:function(){var e=xa();return{baseClassName:e}},render:function(){return i.createVNode(ok,{class:"".concat(this.baseClassName,"__hue"),color:this.color,value:this.color.hue,onChange:this.onChange,disabled:this.disabled,type:"hue"},null)}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var wte=i.defineComponent({name:"AlphaSlider",inheritAttrs:!1,props:{color:{type:Object},disabled:{type:Boolean,default:!1},onChange:{type:Function,default:function(){return function(){}}}},setup:function(e){var n=xa(),a=function(l,s){e.onChange(l/100,s)},r=i.computed(function(){return{background:"linear-gradient(to right, rgba(0, 0, 0, 0), ".concat(e.color.rgb,")")}});return{baseClassName:n,railStyle:r,handleChange:a}},render:function(){var e=this.baseClassName;return i.createVNode(ok,{class:["".concat(e,"__alpha"),"".concat(e,"--bg-alpha")],color:this.color,value:this.color.alpha*100,onChange:this.handleChange,"rail-style":this.railStyle,"max-value":100,disabled:this.disabled,type:"alpha"},null)}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Cte={RGB:[{key:"r",min:0,max:255,type:"inputNumber"},{key:"g",min:0,max:255,type:"inputNumber"},{key:"b",min:0,max:255,type:"inputNumber"}],HSV:[{key:"h",min:0,max:360,type:"inputNumber"},{key:"s",min:0,max:100,type:"inputNumber"},{key:"v",min:0,max:100,type:"inputNumber"}],HSL:[{key:"h",min:0,max:360,type:"inputNumber"},{key:"s",min:0,max:100,type:"inputNumber"},{key:"l",min:0,max:100,type:"inputNumber"}],CMYK:[{key:"c",min:0,max:255,type:"inputNumber"},{key:"m",min:0,max:255,type:"inputNumber"},{key:"y",min:0,max:255,type:"inputNumber"},{key:"k",min:0,max:255,type:"inputNumber"}],CSS:[{key:"css",type:"input",flex:3}],HEX:[{key:"hex",type:"input",flex:3}]};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function hh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sk(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sk(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var xte=i.defineComponent({name:"FormatInputs",inheritAttrs:!1,props:hh(hh({},Ko),{},{color:{type:Object},onInputChange:{type:Function,default:function(){return function(){}}}}),setup:function(e){var n=i.computed(function(){var d=he(Cte[e.format]);return e.enableAlpha&&d.push({type:"inputNumber",key:"a",min:0,max:100,format:function(f){return"".concat(f,"%")},flex:1.15}),d}),a=i.reactive({}),r=i.reactive({}),o=function(u){var f=e.color;return u==="encode"?{HSV:f.getHsva(),HSL:f.getHsla(),RGB:f.getRgba(),CMYK:f.getCmyk(),CSS:{css:f.css},HEX:{hex:f.hex}}:{HSV:Sa.object2color(a,"HSV"),HSL:Sa.object2color(a,"HSL"),RGB:Sa.object2color(a,"RGB"),CMYK:Sa.object2color(a,"CMYK"),CSS:a.css,HEX:a.hex}},l=function(){var u=e.format,f=e.color,v=o("encode")[u];v.a=Math.round(f.alpha*100),Object.keys(v).forEach(function(h){a[h]=v[h],r[h]=v[h]})};l();var s=Ci(l,100);i.watch(function(){var d=e.color,u=d.saturation,f=d.hue,v=d.value,h=d.alpha,g=d.css;return[u,f,v,h,g,e.format]},s);var c=function(u,f){if(f!==r[u]){var v=o("decode")[e.format];e.onInputChange(v,a.a/100,u,f)}};return{modelValue:a,inputConfigs:n,handleChange:c}},render:function(){var e=this,n=hh({},this.inputProps||{});return i.createVNode("div",{class:"input-group"},[this.inputConfigs.map(function(a){return i.createVNode("div",{class:"input-group__item",key:a.key,style:{flex:a.flex||1}},[a.type==="input"?i.createVNode(ga,i.mergeProps(n,{align:"center",size:"small",disabled:e.disabled,modelValue:e.modelValue[a.key],"onUpdate:modelValue":function(o){return e.modelValue[a.key]=o},maxlength:e.format==="HEX"?9:void 0,title:e.modelValue[a.key],onBlur:function(o){return e.handleChange(a.key,o)},onEnter:function(o){return e.handleChange(a.key,o)}}),null):i.createVNode(ts,i.mergeProps(n,{align:"center",size:"small",disabled:e.disabled,modelValue:e.modelValue[a.key],"onUpdate:modelValue":function(o){return e.modelValue[a.key]=o},title:e.modelValue[a.key],min:a.min,max:a.max,step:1,format:a.format,theme:"normal",onBlur:function(o){return e.handleChange(a.key,o)},onEnter:function(o){return e.handleChange(a.key,o)}}),null)])})])}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Ste=jf,Ote=Ste(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),kte=Ote;function ck(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function ki(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ck(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ck(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Pte(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!i.isVNode(t)}var _te=i.defineComponent({name:"FormatPanel",inheritAttrs:!1,props:ki(ki({},Ko),{},{color:{type:Object},onModeChange:{type:Function,default:function(){return function(){}}},onInputChange:{type:Function,default:function(){return function(){}}}}),setup:function(e){var n=xa(),a=i.ref(e.format);i.watch(function(){return[e.format]},function(){return a.value=e.format});var r=function(l){a.value=l,e.onModeChange(l)};return{formatModel:a,baseClassName:n,handleModeChange:r}},render:function(){var e=this,n,a=he(Yee),r=this.baseClassName,o=this.handleModeChange,l=ki(ki({},this.$props),{},{format:this.formatModel}),s=ki({},this.selectInputProps||{});return i.createVNode("div",{class:"".concat(r,"__format")},[i.createVNode("div",{class:"".concat(r,"__format--item")},[i.createVNode(pi,{size:"small",class:"".concat(r,"__format-mode-select"),selectInputProps:ki({},s),popupProps:ki({overlayClassName:"".concat(r,"__select-options")},s.popupProps),modelValue:e.formatModel,"onUpdate:modelValue":function(d){return e.formatModel=d},onChange:o},Pte(n=a.map(function(c){return i.createVNode(QC,{key:c,value:c,label:kte(c),style:{fontSize:"12px"}},null)}))?n:{default:function(){return[n]}})]),i.createVNode("div",{class:"".concat(r,"__format--item")},[i.createVNode(xte,l,null)])])}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function uk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function dk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uk(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uk(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var fk=i.defineComponent({name:"SwatchesPanel",props:dk(dk({},cs),{},{colors:{type:Array,default:function(){return[]}},title:{type:String,default:"系统色彩"},editable:{type:Boolean,default:!1},onSetColor:{type:Function,default:function(){return function(){}}},handleAddColor:{type:Function,default:function(){return function(){}}}}),setup:function(e){var n=xa(),a=Ve({DeleteIcon:Hf,AddIcon:Ac}),r=a.DeleteIcon,o=a.AddIcon,l=lt(),s=l.STATUS,c=s.value,d=i.ref(!1),u=function(m){d.value=m},f=function(m){return e.onSetColor(m)},v=function(m){return Sa.compare(m,e.color.css)},h=i.computed(function(){return e.colors.findIndex(function(p){return v(p)})}),g=function(){var m=e.colors,y=h.value;y!==-1&&(m.splice(y,1),e.onChange(m),u(!1))};return{baseClassName:n,DeleteIcon:r,AddIcon:o,statusClassNames:c,selectedColorIndex:h,visiblePopConfirm:d,setVisiblePopConfirm:u,handleClick:f,isEqualCurrentColor:v,handleRemoveColor:g}},render:function(){var e=this,n=this.baseClassName,a=this.DeleteIcon,r=this.AddIcon,o=this.statusClassNames,l=this.title,s=this.editable,c="".concat(n,"__swatches"),d=function(){return s?i.createVNode("div",{class:"".concat(c,"--actions")},[i.createVNode("span",{role:"button",class:"".concat(n,"__icon"),onClick:function(){return e.handleAddColor()}},[i.createVNode(r,null,null)]),e.colors.length>0?i.createVNode("span",{role:"button",class:"".concat(n,"__icon"),onClick:function(){return e.handleRemoveColor()}},[i.createVNode(a,null,null)]):null]):null};return i.createVNode("div",{class:c},[i.createVNode("h3",{class:"".concat(c,"--title")},[i.createVNode("span",null,[l]),d()]),i.createVNode("ul",{class:["".concat(c,"--items"),"narrow-scrollbar"]},[this.colors.map(function(u){return i.createVNode("li",{class:["".concat(c,"--item"),e.isEqualCurrentColor(u)&&s?o.active:""],title:u,key:u,onClick:function(){e.disabled||e.handleClick(u)}},[i.createVNode("div",{class:["".concat(c,"--color"),"".concat(n,"--bg-alpha")]},[i.createVNode("span",{class:"".concat(c,"--inner"),style:{background:u}},null)])])})])])}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function vk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function hk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vk(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vk(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var gk=i.defineComponent({name:"ColorPanel",props:hk(hk({},Ko),{},{togglePopup:{type:Function}}),setup:function(e){var n,a=xa(),r=lt(),o=r.STATUS,l=Re("colorPicker"),s=l.t,c=l.globalConfig,d=o.value,u=i.toRefs(e),f=u.value,v=u.modelValue,h=u.recentColors,g=ot(f,v,e.defaultValue,e.onChange),p=Ce(g,2),m=p[0],y=p[1],b=i.computed(function(){return C.value?BO:Uee}),w=i.ref(((n=e.colorModes)===null||n===void 0?void 0:n.length)===1?e.colorModes[0]:"monochrome"),C=i.computed(function(){return w.value==="linear-gradient"}),x=i.ref(new Sa(m.value||b.value)),k=function(){return x.value.update(m.value||b.value)},P=i.ref(x.value.isGradient?"CSS":"RGB"),I=Rt(h,e.defaultRecentColors,e.onRecentColorsChange,"recentColors"),D=Ce(I,2),L=D[0],O=D[1],S=function(){return w.value==="linear-gradient"?x.value.linearGradient:x.value.getFormatsColorMap()[e.format]||x.value.css},_=function(){if(!(L.value===null||L.value===!1)){var B=On(L.value)||[],q=x.value.isGradient?x.value.linearGradient:x.value.rgba,Y=B.indexOf(q);Y>-1&&B.splice(Y,1),B.unshift(q),B.length>$O&&(B.length=$O),A(B)}},A=function(B){O(B)},E=function(B){y(S(),{color:ZO(x.value),trigger:B||"palette-saturation-brightness"})};i.watch(function(){return[e.defaultValue,e.enableAlpha]},k),i.watch(function(){return m.value},function(z){z!==S()&&(k(),w.value=x.value.isGradient?"linear-gradient":"monochrome")});var R=function(B){w.value=B,B==="linear-gradient"?x.value.update(x.value.gradientColors.length>0?x.value.linearGradient:BO):x.value.update(x.value.rgba),E()},N=function(B){return P.value=B},F=function(B){var q=B.saturation,Y=B.value,X=x.value,T=X.saturation,j=X.value,U="palette-saturation-brightness";if(Y!==j&&q!==T)x.value.saturation=q,x.value.value=Y,U="palette-saturation-brightness";else if(q!==T)x.value.saturation=q,U="palette-saturation";else if(Y!==j)x.value.value=Y,U="palette-brightness";else return;x.value.update(x.value.rgba),E(U)},M=function(B){var q;x.value.hue=B,E("palette-hue-bar"),(q=e.onPaletteBarChange)===null||q===void 0||q.call(e,{color:ZO(x.value)})},$=function(B){x.value.alpha=B,E("palette-alpha-bar")},W=function(B,q){x.value.update(B),x.value.alpha=q,E("input")},H=function(B){var q=B.key,Y=B.payload,X="palette-saturation-brightness";switch(q){case"degree":x.value.gradientDegree=Y,X="input";break;case"selectedId":x.value.gradientSelectedId=Y;break;case"colors":x.value.gradientColors=Y;break}E(X)},K=function(B,q){var Y=Sa.isGradientColor(q);Y?e.colorModes.includes("linear-gradient")?(w.value="linear-gradient",x.value.update(q),x.value.updateCurrentGradientColor()):console.warn("该模式不支持渐变色"):w.value==="linear-gradient"?(x.value.updateStates(q),x.value.updateCurrentGradientColor()):x.value.update(q),E()};return{baseClassName:a,statusClassNames:d,t:s,globalConfig:c,color:x,mode:w,formatModel:P,recentlyUsedColors:L,isGradient:C,addRecentlyUsedColor:_,handleModeChange:R,handleSatAndValueChange:F,handleHueChange:M,handleAlphaChange:$,handleGradientChange:H,handleSetColor:K,handleFormatModeChange:N,handleInputChange:W,handleRecentlyUsedColorsChange:A}},render:function(){var e,n=this,a=this.t,r=this.baseClassName,o=this.statusClassNames,l=this.globalConfig,s=this.swatchColors,c=this.showPrimaryColorPreview,d=this.isGradient,u={color:this.color,disabled:this.disabled},f=this.recentlyUsedColors!==null&&this.recentlyUsedColors!==!1,v=s;v===void 0&&(v=he(Kee));var h=((e=v)===null||e===void 0?void 0:e.length)>0,g=function(){return!h&&!f?null:i.createVNode(i.Fragment,null,[i.createVNode("div",{class:"".concat(r,"__swatches-wrap")},[f?i.createVNode(fk,i.mergeProps(u,{title:a(l.recentColorTitle),editable:!0,colors:n.recentlyUsedColors,handleAddColor:n.addRecentlyUsedColor,onSetColor:function(y){return n.handleSetColor("used",y)},onChange:n.handleRecentlyUsedColorsChange}),null):null,h?i.createVNode(fk,i.mergeProps(u,{title:a(l.swatchColorTitle),colors:v,onSetColor:function(y){return n.handleSetColor("system",y)}}),null):null])])};return i.createVNode("div",{class:["".concat(r,"__panel"),this.disabled?o.disabled:!1]},[i.createVNode(Xee,i.mergeProps(this.$props,{mode:this.mode,onModeChange:this.handleModeChange}),null),i.createVNode("div",{class:["".concat(r,"__body")]},[d?i.createVNode(gte,i.mergeProps(u,{onChange:this.handleGradientChange,enableMultipleGradient:this.enableMultipleGradient}),null):null,i.createVNode(mte,i.mergeProps(u,{onChange:this.handleSatAndValueChange}),null),i.createVNode("div",{class:["".concat(r,"__sliders-wrapper")]},[i.createVNode("div",{class:["".concat(r,"__sliders")]},[i.createVNode(bte,i.mergeProps(u,{onChange:this.handleHueChange}),null),this.enableAlpha?i.createVNode(wte,i.mergeProps(u,{onChange:this.handleAlphaChange}),null):null]),c?i.createVNode("div",{class:["".concat(r,"__sliders-preview"),"".concat(r,"--bg-alpha")]},[i.createVNode("span",{class:"".concat(r,"__sliders-preview-inner"),style:{background:d?this.color.linearGradient:this.color.rgba}},null)]):null]),i.createVNode(_te,i.mergeProps(this.$props,{color:this.color,format:this.formatModel,onModeChange:this.handleFormatModeChange,onInputChange:this.handleInputChange}),null),g()])])}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Ite=fo,Nte=Nc,Tte=uC,Ete=yf;function Ate(t,e){if(t==null)return{};var n=Ite(Ete(t),function(a){return[a]});return e=Nte(e),Tte(t,n,function(a,r){return e(a,r[0])})}var Rte=Ate;function pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function gh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pk(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pk(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var Dte=i.defineComponent({name:"TColorPickerPanel",inheritAttrs:!1,props:gh({},Ko),setup:function(e,n){var a=n.attrs,r=i.computed(function(){return Rte(gh(gh({},e),a),function(l){return l!==void 0})}),o=ae();return function(){return i.createVNode(gk,i.mergeProps(r.value,{popupProps:null,"close-btn":!1,class:"".concat(o.value,"-is-inline")}),null)}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var jte=i.defineComponent({name:"DefaultTrigger",inheritAttrs:!1,props:{color:{type:String,default:""},disabled:{type:Boolean,default:!1},borderless:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},inputProps:{type:Object,default:function(){return{autoWidth:!0}}},onTriggerChange:{type:Function,default:function(){return function(){}}},size:{type:String,default:"medium"}},setup:function(e){var n=xa(),a=i.ref(e.color),r=lt(),o=r.SIZE;i.watch(function(){return[e.color]},function(){return a.value=e.color});var l=function(c){c!==e.color&&(c&&!Sa.isValid(c)?a.value=e.color:a.value=c,e.onTriggerChange(a.value))};return{baseClassName:n,value:a,handleChange:l,sizeClassNames:o}},render:function(){var e=this,n=this.baseClassName,a=this.sizeClassNames,r={label:function(){return i.createVNode("div",{class:["".concat(n,"__trigger--default__color"),"".concat(n,"--bg-alpha")]},[i.createVNode("span",{class:["color-inner",G({},a[e.size],e.size!=="medium")],style:{background:e.value}},null)])}};return i.createVNode(ga,i.mergeProps({borderless:this.borderless,clearable:this.clearable,size:this.size,modelValue:e.value,"onUpdate:modelValue":function(l){return e.value=l},disabled:this.disabled,onBlur:this.handleChange},this.inputProps),r)}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Mu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mk(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var Mte=i.defineComponent({name:"TColorPicker",props:Mu({},Ko),setup:function(e){var n=xa(),a=i.ref(!1),r=function(p){return a.value=p},o=i.toRefs(e),l=o.value,s=o.modelValue,c=ot(l,s,e.defaultValue,e.onChange),d=Ce(c,2),u=d[0],f=d[1],v=i.ref(),h=function(){if(e.disabled)return null;var p=Mu({},e);return delete p.onChange,i.createVNode(gk,i.mergeProps(p,{disabled:e.disabled,value:u.value,togglePopup:r,onChange:function(y,b){return f(y,b)}}),null)};return{baseClassName:n,innerValue:u,visible:a,refTrigger:v,renderPopupContent:h,setVisible:r,setInnerValue:f}},render:function(){var e=this,n=this.popupProps,a=this.baseClassName,r=Mu(Mu({placement:"bottom-left"},n||{}),{},{trigger:"click",attach:"body",overlayClassName:[a],visible:this.visible,overlayInnerStyle:{padding:0},onVisibleChange:function(l,s){s.trigger==="document"&&e.setVisible(!1)}});return i.createVNode(Bn,i.mergeProps(r,{content:this.renderPopupContent}),{default:function(){return[i.createVNode("div",{class:"".concat(a,"__trigger"),onClick:function(){return e.setVisible(!e.visible)},ref:"refTrigger"},[jF(e,"default",i.createVNode(jte,{borderless:e.borderless,color:e.innerValue,disabled:e.disabled,clearable:e.clearable,"input-props":e.inputProps,onTriggerChange:e.setInnerValue,size:e.size},null))])]}})}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Fte=be(Dte),Lte=be(Mte);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var $te={alt:{type:String,default:""},content:{type:[String,Function]},default:{type:[String,Function]},hideOnLoadFailed:Boolean,icon:{type:Function},image:{type:String,default:""},imageProps:{type:Object},shape:{type:String,default:"circle",validator:function(e){return e?["circle","round"].includes(e):!0}},size:{type:String,default:""},onError:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Bte={alt:{type:String,default:""},error:{type:[String,Function]},fallback:{type:String,default:""},fit:{type:String,default:"fill",validator:function(e){return e?["contain","cover","fill","none","scale-down"].includes(e):!0}},gallery:Boolean,lazy:Boolean,loading:{type:[String,Function]},overlayContent:{type:[String,Function]},overlayTrigger:{type:String,default:"always",validator:function(e){return e?["always","hover"].includes(e):!0}},placeholder:{type:[String,Function]},position:{type:String,default:"center"},referrerpolicy:{type:String,default:"strict-origin-when-cross-origin",validator:function(e){return e?["no-referrer","no-referrer-when-downgrade","origin","origin-when-cross-origin","same-origin","strict-origin","strict-origin-when-cross-origin","unsafe-url"].includes(e):!0}},shape:{type:String,default:"square",validator:function(e){return e?["circle","round","square"].includes(e):!0}},src:{type:[String,Object]},srcset:{type:Object},onError:Function,onLoad:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var zte=i.defineComponent({name:"TImage",props:Bte,setup:function(e){var n=i.ref(null),a=i.ref(null),r=null,o=i.toRefs(e),l=o.src,s=Pe();i.onMounted(function(){var E;if((E=a.value)!==null&&E!==void 0&&E.complete&&!e.lazy&&b(),!(!e.lazy||!n.value)){var R=as(n.value,null,p,0);r=R}}),i.onUnmounted(function(){n.value&&r&&r.unobserve(n.value)});var c=Re("image"),d=c.classPrefix,u=c.globalConfig,f=i.ref(l.value);i.watch([l,u],function(E){var R=Ce(E,2),N=R[0],F=R[1],M=F||{},$=M.replaceImageSrc,W=pe($)?$(e):N;W===f.value&&f.value||(f.value=W)},{immediate:!0});var v=Uc(f),h=v.previewUrl;i.watch([h],function(){w.value=!1,m.value=!1});var g=i.ref(!e.lazy),p=function(){g.value=!0},m=i.ref(!1),y=function(R){var N;m.value=!0,(N=e.onLoad)===null||N===void 0||N.call(e,{e:R})},b=function(){var R=new Event("load");Object.defineProperty(R,"target",{value:a.value,enumerable:!0}),y(R)},w=i.ref(!1),C=function(R){var N;w.value=!0,(N=e.onError)===null||N===void 0||N.call(e,{e:R}),e.fallback&&(f.value=e.fallback,w.value=!1)},x=i.computed(function(){return e.overlayTrigger==="hover"}),k=i.computed(function(){return["".concat(d.value,"-image"),"".concat(d.value,"-image--fit-").concat(e.fit),"".concat(d.value,"-image--position-").concat(e.position)]}),P=i.ref(!x.value),I=function(){x.value&&(P.value=!P.value)},D=function(){var R=s("placeholder");return R?i.createVNode("div",{class:"".concat(d.value,"-image__placeholder")},[R]):null},L=function(){return e.gallery?i.createVNode("div",{class:"".concat(d.value,"-image__gallery-shadow")},null):null},O=function(){var R=A("overlayContent");return R?i.createVNode("div",{class:["".concat(d.value,"-image__overlay-content"),!P.value&&"".concat(d.value,"-image__overlay-content--hidden")]},[R]):null};function S(){return i.createVNode("picture",null,[Object.entries(e.srcset).map(function(E){var R=Ce(E,2),N=R[0],F=R[1];return i.createVNode("source",{type:N,srcset:F},null)}),_()])}function _(){var E=Ae(f.value)?f.value:h.value;return i.createVNode("img",{ref:a,src:E,onError:C,onLoad:y,class:k.value,alt:e.alt,referrerpolicy:e.referrerpolicy},null)}var A=va();return function(){return i.createVNode("div",i.mergeProps({ref:n,class:["".concat(d.value,"-image__wrapper"),"".concat(d.value,"-image__wrapper--shape-").concat(e.shape),e.gallery&&"".concat(d.value,"-image__wrapper--gallery"),x.value&&"".concat(d.value,"-image__wrapper--need-hover")],onMouseenter:I,onMouseleave:I},gn(e,["src","alt","fit","position","shape","placeholder","loading","error","overlayTrigger","overlayContent","lazy","gallery","onLoad","onError"])),[D(),L(),(w.value||!g.value)&&i.createVNode("div",{class:"".concat(d.value,"-image")},null),!(w.value||!g.value)&&(e.srcset&&Object.keys(e.srcset).length?S():_()),!(w.value||!g.value)&&!m.value&&i.createVNode("div",{class:"".concat(d.value,"-image__loading")},[s("loading")||i.createVNode(qf,{direction:"vertical",size:8,align:"center"},{default:function(){return[i.createVNode(fb,{size:"24px"},null),Ae(e.loading)?e.loading:u.value.loadingText]}})]),w.value&&i.createVNode("div",{class:"".concat(d.value,"-image__error")},[A("error",{defaultNode:i.createVNode(qf,{direction:"vertical",size:8,align:"center"},{default:function(){return[i.createVNode(cb,{size:"24px"},null),Ae(e.error)?e.error:u.value.errorText]}})})]),O()])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var $a=be(zte);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function ph(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yk(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yk(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var bk=i.defineComponent({name:"TAvatar",props:$te,setup:function(e){var n=ae("avatar"),a=ft(),r=Pe(),o=lt(),l=o.SIZE,s=i.inject("avatarGroup",void 0),c=i.ref(null),d=i.ref(null),u=i.ref(!0),f=i.ref(4),v=i.ref(""),h=i.computed(function(){return e.size||(s==null?void 0:s.size)}),g=i.computed(function(){return h.value&&!l.value[h.value]}),p=i.computed(function(){return g.value?{width:h.value,height:h.value,"font-size":"".concat(Number.parseInt(h.value,10)/2,"px")}:{}}),m=i.computed(function(){return g.value?{height:h.value,width:h.value}:{}}),y=i.computed(function(){return{transform:v.value}}),b=function(x){var k,P=x.e,I=e.hideOnLoadFailed;u.value=!I,(k=e.onError)===null||k===void 0||k.call(e,{e:P})},w=function(){var x=c.value,k=d.value,P=x==null?void 0:x.offsetWidth,I=k==null?void 0:k.offsetWidth;f.value*2<P&&(v.value=I>P-f.value*2?"scale(".concat((P-f.value*2)/I,")"):"scale(1)")};return i.onMounted(function(){i.nextTick(function(){w()})}),i.onUpdated(function(){i.nextTick(function(){w()})}),i.watch(function(){return e.image},function(C){C&&(u.value=!0)}),function(){var C=a("default","content"),x=r("icon"),k=x&&!C,P=e.shape,I=e.image,D=e.alt,L=["".concat(n.value),l.value[h.value],G(G(G({},"".concat(n.value,"--circle"),P==="circle"),"".concat(n.value,"--round"),P==="round"),"".concat(n.value,"__icon"),!!k)];return C=i.createVNode("span",{ref:d,style:ph({},y.value)},[C]),x&&(C=[x,k?"":C]),I&&u.value&&(C=i.createVNode($a,i.mergeProps({style:ph({},m.value),src:I,alt:D,onError:b},e.imageProps),null)),i.createVNode("div",{ref:c,class:L,style:ph({},p.value)},[C])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Hte={cascading:{type:String,default:"right-up",validator:function(e){return e?["left-up","right-up"].includes(e):!0}},collapseAvatar:{type:[String,Function]},max:{type:Number},popupProps:{type:Object},size:{type:String,default:""}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Wte(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!i.isVNode(t)}var Ute=i.defineComponent({name:"TAvatarGroup",props:Hte,setup:function(e){i.provide("avatarGroup",e);var n=Pe(),a=ae("avatar"),r=ae("avatar-group"),o=function(c){if((c==null?void 0:c.length)>e.max){var d=l(c),u=c.slice(0,e.max);return u.push(i.createVNode(bk,{class:"".concat(a.value,"__collapse"),size:e.size},Wte(d)?d:{default:function(){return[d]}})),u}return c},l=function(c){return n("collapseAvatar")||"+".concat(c.length-e.max)};return function(){var s=n("default"),c=e.cascading,d=e.max,u=["".concat(r.value),G(G({},"".concat(a.value,"--offset-right"),c==="right-up"),"".concat(a.value,"--offset-left"),c==="left-up")],f=d&&d>=0?[o(k0(s))]:[s];return i.createVNode("div",{class:u},[f])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Kte=be(bk),Yte=be(Ute);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var qte={color:{type:String,default:""},content:{type:[String,Function]},count:{type:[String,Number,Function],default:0},default:{type:[String,Function]},dot:Boolean,maxCount:{type:Number,default:99},offset:{type:Array},shape:{type:String,default:"circle",validator:function(e){return["circle","round"].includes(e)}},showZero:Boolean,size:{type:String,default:"medium",validator:function(e){return["small","medium"].includes(e)}}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Gte=i.defineComponent({name:"TBadge",inheritAttrs:!1,props:qte,setup:function(e,n){var a=n.attrs,r=ft(),o=Pe(),l=i.computed(function(){var h=o("count");return Number.isNaN(Number(h))?h:(h=Number(e.count),h>e.maxCount?"".concat(e.maxCount,"+"):h)}),s=function(){if(!e.offset)return{};var g=Ce(e.offset,2),p=g[0],m=g[1];return p=Number.isNaN(Number(p))?p:"".concat(p,"px"),m=Number.isNaN(Number(m))?m:"".concat(m,"px"),{xOffset:p,yOffset:m}},c=ae(),d=ae("badge"),u=i.computed(function(){return!e.showZero&&(l.value===0||l.value==="0")}),f=i.computed(function(){return[G(G(G(G({},"".concat(d.value,"--dot"),!!e.dot),"".concat(d.value,"--circle"),!e.dot&&e.shape==="circle"),"".concat(d.value,"--round"),!e.dot&&e.shape==="round"),"".concat(c.value,"-size-s"),e.size==="small")]}),v=i.computed(function(){var h=s(),g=h.xOffset,p=h.yOffset;return{background:e.color,right:g,top:p}});return function(){return i.createVNode("div",i.mergeProps({class:d.value},a),[r("default","content"),u.value?null:i.createVNode("sup",{class:f.value,style:v.value},[e.dot?null:l.value])])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Xte=be(Gte);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Jte={cell:{type:[String,Function]},cellAppend:{type:[String,Function]},controllerConfig:{type:[Boolean,Object],default:void 0},fillWithZero:{type:Boolean,default:void 0},firstDayOfWeek:{type:Number,validator:function(e){return e?[1,2,3,4,5,6,7].includes(e):!0}},format:{type:String,default:"YYYY-MM-DD"},head:{type:[String,Function]},isShowWeekendDefault:{type:Boolean,default:!0},mode:{type:String,default:"month",validator:function(e){return e?["month","year"].includes(e):!0}},month:{type:[String,Number]},multiple:Boolean,preventCellContextmenu:Boolean,range:{type:Array},theme:{type:String,default:"full",validator:function(e){return e?["full","card"].includes(e):!0}},value:{type:[String,Array,Date]},week:{type:[Array,Function]},year:{type:[String,Number]},onCellClick:Function,onCellDoubleClick:Function,onCellRightClick:Function,onControllerChange:Function,onMonthChange:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Go="calendar",Fu=1970,wk=1,Ck=12,xk=4,Sk={1:"一",2:"二",3:"三",4:"四",5:"五",6:"六",7:"日"};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Ok=function(e){var n=ve(e).day();return n===0&&(n=7),n},Zte=function(e){var n="",a=e.toString();return a in Sk&&(n=Sk[a]),n},Qte=function(e,n){var a=0,r=Ok(n);return r>=e?a=r-e:a=7-e+r,a},mh=function(e,n){var a=new Date(e);return a.setDate(a.getDate()+n),a},Vte=function(e,n){for(var a=n.curSelectedYear,r=n.curDate,o=n.curDateList,l=e.format,s=e.multiple,c=[],d=function(v){var h=new Date(a,v-1),g=s?!!o.find(function(p){return p.year()===a&&parseInt(p.format("M"),10)===v}):r.year()===a&&parseInt(r.format("M"),10)===v;c.push({mode:"year",isCurrent:g,date:h,formattedDate:ve(h).format(l),filterDate:null,formattedFilterDate:null,isShowWeekend:!0})},u=wk;u<=Ck;u++)d(u);return c},ene=function(e,n){for(var a=n.curSelectedYear,r=n.curSelectedMonth,o=n.realFirstDayOfWeek,l=n.curDate,s=n.curDateList,c=e.format,d=e.multiple,u=[],f=ve("".concat(a,"-").concat(r)).startOf("month").toDate(),v=ve(ve("".concat(a,"-").concat(r)).endOf("month").format("YYYY-MM-DD")).toDate(),h=v.getDate(),g=Qte(o,f),p=[],m=1,y=function(S,_,A,E){var R=Ok(A);return{mode:"month",belongTo:S,isCurrent:_,day:R,weekOrder:E,date:A,formattedDate:ve(A).format(c),filterDate:null,formattedFilterDate:null,isShowWeekend:!0}},b=function(S){var _=d?!!s.find(function(A){return A.isSame(ve(S))}):l.isSame(ve(S));return _},w=0;w<g;w++){var C=mh(f,w-g);p.push(y(-1,!1,C,m)),p.length===7&&(u.push(p),p=[],m+=1)}for(var x=0;x<h;x++){var k=mh(f,x),P=b(k);p.push(y(0,P,k,m)),p.length===7&&(u.push(p),p=[],m+=1)}if(p.length){for(var I=7-p.length,D=0;D<I;D++){var L=mh(v,D+1);p.push(y(1,!1,L,m))}u.push(p)}return u},Pi=function(){return ve(ve().format("YYYY-MM-DD"))};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function tne(t){var e=Re(Go),n=e.globalConfig,a=i.reactive({realFirstDayOfWeek:1,curDate:null,curDateList:[],curSelectedYear:null,curSelectedMonth:null,curSelectedMode:null,isShowWeekend:!0,controlSize:"medium"});function r(){var u=Pi();a.curDate=u,a.curSelectedYear=u.year(),a.curSelectedMonth=parseInt(u.format("M"),10)}function o(u){var f=u?parseInt("".concat(u),10):Pi().year();!isNaN(f)&&f>0&&(a.curSelectedYear=f)}function l(u){var f=parseInt(u?"".concat(u):Pi().format("M"),10);!isNaN(f)&&f>0&&f<=12&&(a.curSelectedMonth=f)}function s(u){Ie(u)?a.curDate=u&&u.length?ve(u[0]):Pi():a.curDate=u?ve(u):Pi()}function c(u){Ie(u)?a.curDateList=u&&u.length?u.map(function(f){return ve(f)}):[Pi()]:a.curDateList=u?[ve(u)]:[Pi()]}function d(u){var f=!0;return a.isShowWeekend||(f=u!==6&&u!==7),f}return i.watch(function(){return t.firstDayOfWeek},function(){var u,f;a.realFirstDayOfWeek=(u=(f=t.firstDayOfWeek)!==null&&f!==void 0?f:n.value.firstDayOfWeek)!==null&&u!==void 0?u:1},{immediate:!0}),i.watch(function(){return t.value},function(u){t.multiple?c(u):s(u)},{immediate:!0}),i.watch(function(){return t.year},function(u){o(u)},{immediate:!0}),i.watch(function(){return t.month},function(u){l(u)},{immediate:!0}),i.watch(function(){return t.isShowWeekendDefault},function(u){a.isShowWeekend=u},{immediate:!0}),i.watch(function(){return t.mode},function(u){a.curSelectedMode=u},{immediate:!0}),i.watch(function(){return t.theme},function(u){u==="card"&&(a.controlSize="small"),u==="full"&&(a.controlSize="medium")},{immediate:!0}),{state:a,toToday:r,checkDayVisible:d}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function nne(t,e){var n=ae(Go),a=i.computed(function(){return["".concat(n.value),"".concat(n.value,"--").concat(t.theme)]}),r=i.computed(function(){return["".concat(n.value,"__panel"),"".concat(n.value,"__panel--").concat(e.curSelectedMode)]}),o=i.computed(function(){return["".concat(n.value,"__control")]}),l=i.computed(function(){return["".concat(n.value,"__title")]}),s=i.computed(function(){return["".concat(n.value,"__control-section")]}),c=i.computed(function(){return["".concat(n.value,"__control-section-cell")]}),d=i.computed(function(){return["".concat(n.value,"__control-tag")]}),u=i.computed(function(){return["".concat(n.value,"__table")]}),f=i.computed(function(){return["".concat(n.value,"__table-head")]}),v=i.computed(function(){return["".concat(n.value,"__table-head-row")]}),h=i.computed(function(){return["".concat(n.value,"__table-head-cell")]}),g=i.computed(function(){return["".concat(n.value,"__table-body")]}),p=i.computed(function(){return["".concat(n.value,"__table-body-row")]});return{body:a,panel:r,control:o,title:l,controlSection:s,controlSectionCell:c,controlTag:d,table:u,tableHead:f,tableHeadRow:v,tableHeadCell:h,tableBody:g,tableBodyRow:p}}function ane(){var t=ae(Go),e=i.computed(function(){return["".concat(t.value,"__table-body-cell")]}),n=i.computed(function(){return"".concat(t.value,"__table-body-cell--now")}),a=i.computed(function(){return["".concat(t.value,"__table-body-cell-display")]}),r=i.computed(function(){return["".concat(t.value,"__table-body-cell-content")]});return{tableBodyCell:e,tableBodyCell4Now:n,tableBodyCellDisplay:a,tableBodyCellCsontent:r}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function yh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kk(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kk(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var Pk=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return{visible:e,disabled:!1,mode:{visible:!0,radioGroupProps:{}},year:{visible:!0,selectProps:{}},month:{visible:!0,selectProps:{}},weekend:{visible:!0,showWeekendButtonProps:{},hideWeekendButtonProps:{}},current:{visible:!0,currentDayButtonProps:{},currentMonthButtonProps:{}}}};function rne(t,e){var n=Re(Go),a=n.globalConfig,r=i.computed(function(){var u=ve("".concat(e.curSelectedYear,"-").concat(e.curSelectedMonth)),f={isShowWeekend:e.isShowWeekend,filterDate:u.toDate(),formattedFilterDate:u.format(t.format),mode:e.curSelectedMode};return f}),o=i.computed(function(){var u,f,v=(u=(f=t.controllerConfig)!==null&&f!==void 0?f:a.value.controllerConfig)!==null&&u!==void 0?u:!0;return Ht(v)?Pk(v):yh(yh({},Pk()),v)}),l=i.computed(function(){return!!o.value&&o.value.visible});function s(u){var f=!0,v=o.value;return(!v||!v.visible||v[u]===!1||v[u]&&!v[u].visible)&&(f=!1),f}function c(u,f){var v=!1,h=o.value;return h&&(h.disabled||h[u]&&h[u][f]&&h[u][f].disabled)&&(v=!0),v}function d(){i.nextTick(function(){pe(t.onControllerChange)&&t.onControllerChange(yh({},r.value))})}return{options:r,configData:o,visible:l,checkControllerVisible:s,checkControllerDisabled:c,emitControllerChange:d}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function ine(t,e){var n=Re(Go),a=n.t,r=n.globalConfig,o=i.computed(function(){return t.week||a(r.value.week).split(",")});function l(c){var d=o.value;return Le(d)&&d[c-1]?d[c-1]:Zte(c)}var s=i.computed(function(){for(var c=[],d=1,u=7,f=e.realFirstDayOfWeek;f<=u;f++)c.push({num:f,display:l(f)});if(e.realFirstDayOfWeek>d)for(var v=d;v<e.realFirstDayOfWeek;v++)c.push({num:v,display:l(v)});return c});return{cellColHeaders:s}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function _k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Ik(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_k(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_k(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var Nk={click:"click",dblclick:"dblclick",contextmenu:"rightclick"},Tk=i.defineComponent({name:"TCalendarCell",inheritAttrs:!1,props:{item:{type:Object,default:function(){return null}},fillWithZero:{type:Boolean,default:void 0},theme:{type:String,default:function(){return null}},t:Function,global:Object,cell:[String,Function],cellAppend:[String,Function]},emits:he(Object.values(Nk)),setup:function(e,n){var a=n.emit,r=ft(),o=ane(),l=lt(),s=l.STATUS,c=i.computed(function(){if(e.item.mode==="month"){var g,p,m=e.item.date.getDate(),y=m<10&&((g=(p=e.fillWithZero)!==null&&p!==void 0?p:e.global.fillWithZero)!==null&&g!==void 0?g:!0);return y?"0".concat(m):m}var b=e.t(e.global.cellMonth).split(",");return b[e.item.date.getMonth().toString()]}),d=i.computed(function(){return e.theme==="full"}),u=i.computed(function(){return e.item.mode==="month"&&e.item.belongTo!==0}),f=i.computed(function(){var g=e.item,p=g.mode,m=g.date,y=g.formattedDate,b=g.isCurrent,w=new Date,C=p==="year"?w.getMonth()===m.getMonth()&&w.getFullYear()===m.getFullYear():y===ve().format("YYYY-MM-DD");return[o.tableBodyCell.value,G(G(G({},s.value.disabled,u.value),s.value.checked,b),o.tableBodyCell4Now.value,C)]}),v=function(p){if(!u.value){var m=Nk[p.type];a(m,p)}},h=function(){return i.createVNode(i.Fragment,null,[i.createVNode("div",{class:o.tableBodyCellDisplay.value},[c.value]),i.createVNode("div",{class:o.tableBodyCellCsontent.value},[d.value&&r("cellAppend",void 0,{params:Ik({},e.item)})])])};return function(){return e.item&&i.createVNode("td",{class:f.value,onClick:v,ondblclick:v,oncontextmenu:v},[r("cell",void 0,{defaultNode:h(),params:Ik({},e.item)})])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var one=vw,lne=Al,sne=Array.prototype,cne=sne.splice;function une(t,e){for(var n=t?e.length:0,a=n-1;n--;){var r=e[n];if(n==a||r!==o){var o=r;lne(r)?cne.call(t,r,1):one(t,r)}}return t}var dne=une,fne=Nc,vne=dne;function hne(t,e){var n=[];if(!(t&&t.length))return n;var a=-1,r=[],o=t.length;for(e=fne(e);++a<o;){var l=t[a];e(l,a,t)&&(n.push(l),r.push(a))}return vne(t,r),n}var gne=hne;function Ek(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function _i(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ek(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ek(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function pne(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!i.isVNode(t)}var mne=i.defineComponent({name:"TCalendar",props:_i({},Jte),setup:function(e,n){var a=n.slots,r=ft(),o=Re(Go),l=o.t,s=o.globalConfig,c=tne(e),d=c.state,u=c.toToday,f=c.checkDayVisible,v=nne(e,d),h=ine(e,d),g=h.cellColHeaders,p=rne(e,d),m=i.computed(function(){if(!e.range||e.range.length<2)return null;var R=Ce(e.range,2),N=R[0],F=R[1];return ve(N).isBefore(ve(F))?{from:N,to:F}:{from:F,to:N}});function y(R,N){var F=!1;if(m.value&&m.value.from&&m.value.to){var M=ve(m.value.from).year(),$=ve(m.value.to).year();if(R===M){var W=parseInt(ve(m.value.from).format("M"),10);F=N<W}else if(R===$){var H=parseInt(ve(m.value.to).format("M"),10);F=N>H}}return F}function b(){var R,N;if((R=m.value)!==null&&R!==void 0&&R.from&&(N=m.value)!==null&&N!==void 0&&N.to){var F=ve(m.value.from).year(),M=ve(m.value.to).year(),$=parseInt(ve(m.value.from).format("M"),10);y(d.curSelectedYear,d.curSelectedMonth)&&(d.curSelectedMonth=d.curSelectedYear===F?$:d.curSelectedYear===M?1:d.curSelectedMonth)}}i.watch(function(){return{year:"".concat(d.curSelectedYear),month:"".concat(d.curSelectedMonth)}},function(R){pe(e.onMonthChange)&&e.onMonthChange(_i({},R)),p.emitControllerChange()});var w={yearSelectOptionList:i.computed(function(){var R=[],N=d.curSelectedYear-10,F=d.curSelectedYear+10;m.value&&m.value.from&&m.value.to&&(N=ve(m.value.from).year(),F=ve(m.value.to).year()),N<Fu&&(N=Fu),F<Fu&&(F=Fu);for(var M=N;M<=F;M++)R.push({value:M,label:l(s.value.yearSelection,{year:M}),disabled:!1});return R}),isYearSelectVisible:i.computed(function(){return p.checkControllerVisible("year")}),isYearSelectDisabled:i.computed(function(){return p.checkControllerDisabled("year","selectProps")}),monthSelectOptionList:i.computed(function(){b();for(var R=[],N=wk;N<=Ck;N++){var F=y(d.curSelectedYear,N);R.push({value:N,label:l(s.value.monthSelection,{month:N}),disabled:F})}return R}),isMonthSelectVisible:i.computed(function(){return d.curSelectedMode==="month"&&p.checkControllerVisible("month")}),isMonthSelectDisabled:i.computed(function(){return p.checkControllerDisabled("month","selectProps")})},C={optionList:i.computed(function(){return[{value:"month",label:l(s.value.monthRadio)},{value:"year",label:l(s.value.yearRadio)}]}),isVisible:i.computed(function(){return p.checkControllerVisible("mode")}),isDisabled:i.computed(function(){return p.checkControllerDisabled("mode","radioGroupProps")})},x={text:i.computed(function(){return d.isShowWeekend?l(s.value.hideWeekend):l(s.value.showWeekend)}),vBind:i.computed(function(){var R=p.configData.value.weekend;return d.isShowWeekend?R.hideWeekendButtonProps:R.showWeekendButtonProps}),isVisible:i.computed(function(){return e.theme==="full"&&p.checkControllerVisible("current")&&p.checkControllerVisible("weekend")}),isDisabled:i.computed(function(){var R=d.isShowWeekend?"hideWeekendButtonProps":"showWeekendButtonProps";return p.checkControllerDisabled("weekend",R)})},k={text:i.computed(function(){return d.curSelectedMode==="month"?l(s.value.today):l(s.value.thisMonth)}),vBind:i.computed(function(){var R=p.configData.value.current;return d.curSelectedMode==="month"?R.currentDayButtonProps:R.currentMonthButtonProps}),isVisible:i.computed(function(){return e.theme==="full"&&p.checkControllerVisible("current")}),isDisabled:i.computed(function(){var R=d.curSelectedMode==="month"?"currentDayButtonProps":"currentMonthButtonProps";return p.checkControllerDisabled("current",R)})},P=function(){var N;return i.createVNode("div",{class:v.control.value},[i.createVNode("div",{class:v.title.value},[r("head",void 0,{params:_i({},p.options.value)})]),i.createVNode("div",{class:v.controlSection.value},[w.isYearSelectVisible.value&&i.createVNode("div",{class:v.controlSectionCell.value},[i.createVNode(pi,i.mergeProps({modelValue:d.curSelectedYear,"onUpdate:modelValue":function(M){return d.curSelectedYear=M},size:d.controlSize,autoWidth:!0},p.configData.value.year.selectProps,{disabled:w.isYearSelectDisabled.value,options:w.yearSelectOptionList.value}),null)]),w.isMonthSelectVisible.value&&i.createVNode("div",{class:v.controlSectionCell.value},[i.createVNode(pi,i.mergeProps({autoWidth:!0,modelValue:d.curSelectedMonth,"onUpdate:modelValue":function(M){return d.curSelectedMonth=M},size:d.controlSize},p.configData.value.month.selectProps,{disabled:w.isMonthSelectDisabled.value,options:w.monthSelectOptionList.value}),null)]),C.isVisible.value&&i.createVNode("div",{class:v.controlSectionCell.value,style:"height: auto"},[i.createVNode(ku,i.mergeProps({modelValue:d.curSelectedMode,"onUpdate:modelValue":function(M){return d.curSelectedMode=M},variant:"default-filled",size:d.controlSize},p.configData.value.mode.radioGroupProps,{disabled:C.isDisabled.value,onChange:p.emitControllerChange}),pne(N=C.optionList.value.map(function(F){return i.createVNode(th,{key:F.value,value:F.value},{default:function(){return[F.label]}})}))?N:{default:function(){return[N]}})]),x.isVisible.value&&i.createVNode("div",{class:v.controlSectionCell.value},[i.createVNode(NC,i.mergeProps({class:v.controlTag.value,theme:d.isShowWeekend?"default":"primary",size:"large"},x.vBind.value,{disabled:x.isDisabled.value,onClick:function(){d.isShowWeekend=!d.isShowWeekend,p.emitControllerChange()}}),{default:function(){return[x.text.value]}})]),k.isVisible.value&&i.createVNode("div",{class:v.controlSectionCell.value},[i.createVNode(vt,i.mergeProps({size:d.controlSize},k.vBind.value,{disabled:k.isDisabled.value,onClick:function(){u()}}),{default:function(){return[k.text.value]}})])])])},I=function(N,F,M){if(pe(e[N])){var $={cell:_i(_i({},M),p.options.value),e:F};e[N]($)}},D=function(N,F){var M=ve(F.date);e.multiple?d.curDateList.find(function($){return $.isSame(M)})?d.curDateList=gne(d.curDateList,function($){return!$.isSame(M)}):d.curDateList.push(M):d.curDate=M,I("onCellClick",N,F)},L=function(N,F){I("onCellDoubleClick",N,F)},O=function(N,F){e.preventCellContextmenu&&N.preventDefault(),I("onCellRightClick",N,F)},S=i.computed(function(){var R=ene(e,d);return R}),_=function(){return i.createVNode("table",{class:v.table.value},[i.createVNode("thead",{class:v.tableHead.value},[i.createVNode("tr",{class:v.tableHeadRow.value},[g.value.map(function(N,F){return f(N.num)&&i.createVNode("th",{class:v.tableHeadCell.value},[Ie(e.week)?e.week[F]:r("week",void 0,{defaultNode:i.createVNode("span",null,[N.display]),params:{day:N.num}})])})])]),i.createVNode("tbody",{class:v.tableBody.value},[S.value.map(function(N,F){return i.createVNode("tr",{class:v.tableBodyRow.value},[N.map(function(M,$){return(d.isShowWeekend||M.day<6)&&i.createVNode(Tk,{key:"d-".concat(F,"-").concat($),item:M,theme:e.theme,t:l,global:s.value,cell:e.cell,cellAppend:e.cellAppend,fillWithZero:e.fillWithZero,onClick:function(H){return D(H,M)},onDblclick:function(H){return L(H,M)},onRightclick:function(H){return O(H,M)}},_i({},a))})])})])])},A=i.computed(function(){for(var R=[],N=Vte(e,d),F=Math.ceil(N.length/xk),M=0,$=1;$<=F;$++){for(var W=[],H=1;H<=xk;H++)W.push(N[M]),M+=1;R.push(W)}return R}),E=function(){return i.createVNode("table",{class:v.table.value},[i.createVNode("tbody",{class:v.tableBody.value},[A.value.map(function(N,F){return i.createVNode("tr",{class:v.tableBodyRow.value},[N.map(function(M,$){return i.createVNode(Tk,{key:"m-".concat(F,"-").concat($),item:M,theme:e.theme,t:l,global:s.value,cell:e.cell,cellAppend:e.cellAppend,fillWithZero:e.fillWithZero,onClick:function(H){return D(H,M)},onDblclick:function(H){return L(H,M)},onRightclick:function(H){return O(H,M)}},_i({},a))})])})])])};return function(){return i.createVNode("div",{class:v.body.value},[p.visible.value&&P(),i.createVNode("div",{class:v.panel.value},[d.curSelectedMode==="month"?_():E()])])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var yne=be(mne);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var bne={actions:{type:[String,Function]},avatar:{type:[String,Function]},bordered:{type:Boolean,default:!0},content:{type:[String,Function]},cover:{type:[String,Function]},default:{type:[String,Function]},description:{type:[String,Function]},footer:{type:[String,Function]},header:{type:[String,Function]},headerBordered:Boolean,hoverShadow:Boolean,loading:{type:[Boolean,Function],default:!1},loadingProps:{type:Object},shadow:Boolean,size:{type:String,default:"medium",validator:function(e){return e?["medium","small"].includes(e):!0}},status:{type:String,default:""},subtitle:{type:[String,Function]},theme:{type:String,default:"normal",validator:function(e){return e?["normal","poster1","poster2"].includes(e):!0}},title:{type:[String,Function]}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function wne(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!i.isVNode(t)}var Cne=i.defineComponent({name:"TCard",props:bne,setup:function(e,n){var a=n.slots,r=Pe(),o=ae("card"),l=lt(),s=l.SIZE,c=i.computed(function(){var $=[o.value];return e.size==="small"&&$.push("".concat(s.value[e.size])),e.bordered&&$.push("".concat(o.value,"--bordered")),e.shadow&&$.push("".concat(o.value,"--shadow")),e.hoverShadow&&$.push("".concat(o.value,"--shadow-hover")),$}),d=i.computed(function(){var $=["".concat(o.value,"__header")];return e.headerBordered?$.concat("".concat(o.value,"__title--bordered")):["".concat(o.value,"__header")]}),u=ae("card__header-wrapper"),f=ae("card__avatar"),v=ae("card__title"),h=ae("card__subtitle"),g=ae("card__description"),p=ae("card__actions"),m=ae("card__body"),y=ae("card__cover"),b=ae("card__footer"),w=ae("card__footer-wrapper"),C=i.computed(function(){return e.theme==="poster2"}),x=i.computed(function(){return e.title||a.title}),k=i.computed(function(){return e.header||a.header}),P=i.computed(function(){return e.subtitle||a.subtitle}),I=i.computed(function(){return e.avatar||a.avatar}),D=i.computed(function(){return e.description||a.description}),L=i.computed(function(){return e.status||a.status}),O=i.computed(function(){return e.actions||a.actions}),S=i.computed(function(){return e.footer||a.footer}),_=i.computed(function(){return e.cover||a.cover}),A=i.computed(function(){return e.loading||a.loading}),E=i.computed(function(){return e.content||a.content||e.default||a.default}),R=i.computed(function(){return k.value||x.value||P.value||D.value||I.value||L.value&&C.value||O.value&&!C.value}),N=i.computed(function(){return S.value||O.value&&C.value}),F=function(){return k.value?i.createVNode("div",{class:d.value},[r("header")]):i.createVNode("div",{class:d.value},[i.createVNode("div",{class:u.value},[I.value&&i.createVNode("div",{class:f.value},[r("avatar")]),i.createVNode("div",null,[x.value&&i.createVNode("div",{class:v.value},[r("title")]),P.value&&i.createVNode("div",{class:h.value},[r("subtitle")]),D.value&&i.createVNode("p",{class:g.value},[r("description")])])]),O.value&&!C.value&&i.createVNode("div",{class:p.value},[r("actions")]),L.value&&i.createVNode("div",{class:p.value},[r("status")])])},M=function(){var W=Ae(e.cover);return i.createVNode("div",{class:y.value},[W?i.createVNode("img",{src:e.cover},null):r("cover")])};return function(){var $=i.createVNode("div",{class:c.value},[R.value?F():null,_.value?M():null,E.value&&i.createVNode("div",{class:m.value},[r("default")||r("content")]),N.value&&i.createVNode("div",{class:b.value},[i.createVNode("div",{class:w.value},[r("footer")]),O.value&&C.value&&i.createVNode("div",{class:p.value},[r("actions")])])]);return A.value?r("loading")||i.createVNode(an,e.loadingProps,wne($)?$:{default:function(){return[$]}}):$}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var xne=be(Cne);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Sne={actions:{type:Array},author:{type:[String,Function]},avatar:{type:[String,Object,Function]},content:{type:[String,Function]},datetime:{type:[String,Function]},quote:{type:[String,Function]},reply:{type:[String,Function]}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function One(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!i.isVNode(t)}var kne=i.defineComponent({name:"TComment",props:Sne,setup:function(){var e=ae("comment"),n=Pe();return function(){var a=n("reply"),r=n("author"),o=n("datetime"),l=n("quote"),s=n("actions"),c=n("content"),d=n("avatar"),u=i.computed(function(){return r||o}),f=a?i.createVNode("div",{class:"".concat(e.value,"__reply")},[a]):null,v=l?i.createVNode("div",{class:"".concat(e.value,"__quote")},[l]):null,h=d?i.createVNode("div",{class:"".concat(e.value,"__avatar")},[Ae(d)?i.createVNode("img",{src:d,alt:"",class:"".concat(e.value,"__avatar-image")},null):d]):null,g=u.value&&i.createVNode("div",{class:"".concat(e.value,"__author")},[r&&i.createVNode("span",{class:"".concat(e.value,"__name")},[r]),o&&i.createVNode("span",{class:"".concat(e.value,"__time")},[o])]),p=function(){return!s||!s.length?null:i.createVNode("div",{class:"".concat(e.value,"__actions")},[(Ie(s)?s:[s]).map(function(b,w){return i.createVNode(vt,{key:"action-".concat(w),size:"small",variant:"text"},One(b)?b:{default:function(){return[b]}})})])},m=i.createVNode("div",{class:"".concat(e.value,"__content")},[g,i.createVNode("div",{class:"".concat(e.value,"__detail")},[c]),v,p()]);return i.createVNode("div",{class:e.value},[i.createVNode("div",{class:"".concat(e.value,"__inner")},[h,m]),f])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Pne=be(kne);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var _ne={action:{type:Function},description:{type:[String,Function]},image:{type:[String,Function]},imageStyle:{type:Object},size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},title:{type:[String,Function]},type:{type:String,default:"empty",validator:function(e){return e?["empty","success","fail","network-error","maintenance"].includes(e):!0}}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Ine=i.defineComponent({name:"MaintenanceSvg",render:function(){return i.createVNode("svg",{width:"1em",height:"1em",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[i.createVNode("g",{id:"è·¯åµäºä»¶-traffic-events"},[i.createVNode("g",{id:"Subtract"},[i.createVNode("path",{d:"M29.5237 17L24 3.82812L18.4763 17H29.5237Z",fill:"var(--td-text-color-placeholder)"},null),i.createVNode("path",{d:"M31.2011 21H16.7989L13.6699 28.4615H34.3301L31.2011 21Z",fill:"var(--td-text-color-placeholder)"},null),i.createVNode("path",{d:"M36.0076 32.4615H11.9924L9.66997 37.9997H6V41.9997H42V37.9997H38.33L36.0076 32.4615Z",fill:"var(--td-text-color-placeholder)"},null)])])])}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Nne=i.defineComponent({name:"NetworkErrorSvg",render:function(){return i.createVNode("svg",{width:"1em",height:"1em",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[i.createVNode("g",{id:"æ ç½ç»-no-network"},[i.createVNode("g",{id:"Union"},[i.createVNode("path",{d:"M26 17V2H22V17H26Z",fill:"var(--td-text-color-placeholder)"},null),i.createVNode("path",{d:"M26.0078 20H22V24.0078H26.0078V20Z",fill:"var(--td-text-color-placeholder)"},null),i.createVNode("path",{d:"M2.75751 13.45C7.29713 9.80916 12.553 7.50276 18 6.53088V28H30V6.53052C35.4475 7.50216 40.7038 9.80854 45.2438 13.4497L46.8021 14.6995L24.0006 43.2016L1.19922 14.6998L2.75751 13.45Z",fill:"var(--td-text-color-placeholder)"},null)])])])}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Tne=i.defineComponent({name:"EmptySvg",render:function(){return i.createVNode("svg",{width:"1em",height:"1em",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[i.createVNode("g",{id:"æ ç»æ-no-result"},[i.createVNode("g",{id:"Union"},[i.createVNode("path",{d:"M22 0H26V8H22V0Z",fill:"var(--td-text-color-placeholder)"},null),i.createVNode("path",{d:"M10.002 1.17157L7.17353 4L13.002 9.82843L15.8304 7L10.002 1.17157Z",fill:"var(--td-text-color-placeholder)"},null),i.createVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2 27.4689L10.8394 12H37.1606L46 27.4689V44H2V27.4689ZM13.1606 16L7.44636 26H17.8025L18.1889 27.5015C18.8551 30.0898 21.207 32 24 32C26.793 32 29.1449 30.0898 29.8111 27.5015L30.1975 26H40.5536L34.8394 16H13.1606Z",fill:"var(--td-text-color-placeholder)"},null),i.createVNode("path",{d:"M37.998 1.17157L32.1696 7L34.998 9.82843L40.8265 4L37.998 1.17157Z",fill:"var(--td-text-color-placeholder)"},null)])])])}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Ene=i.defineComponent({name:"FailSvg",render:function(){return i.createVNode("svg",{width:"1em",height:"1em",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[i.createVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24 6C14.0589 6 6 14.0589 6 24C6 33.9411 14.0589 42 24 42C33.9411 42 42 33.9411 42 24C42 14.0589 33.9411 6 24 6ZM2 24C2 11.8497 11.8497 2 24 2C36.1503 2 46 11.8497 46 24C46 36.1503 36.1503 46 24 46C11.8497 46 2 36.1503 2 24ZM26 13V28H22V13H26ZM22 31H26.0078V35.0078H22V31Z",fill:"#D54941"},null)])}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Ane=i.defineComponent({name:"SuccessSvg",render:function(){return i.createVNode("svg",{width:"1em",height:"1em",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[i.createVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24 42C33.9411 42 42 33.9411 42 24C42 14.0589 33.9411 6 24 6C14.0589 6 6 14.0589 6 24C6 33.9411 14.0589 42 24 42ZM46 24C46 36.1503 36.1503 46 24 46C11.8497 46 2 36.1503 2 24C2 11.8497 11.8497 2 24 2C36.1503 2 46 11.8497 46 24ZM21 32.8284L12.1716 24L15 21.1716L21 27.1716L33 15.1716L35.8284 18L21 32.8284Z",fill:"#2BA471"},null)])}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Rne=i.defineComponent({name:"TEmpty",components:{TImage:$a},props:_ne,setup:function(e,n){var a=n.slots,r=i.toRefs(e),o=r.size,l=r.image,s=r.description,c=r.title,d=r.type,u=Re("empty"),f=u.globalConfig,v=ae("empty"),h=i.computed(function(){return e.action||a.action}),g=lt(),p=g.SIZE,m=Pe(),y={maintenance:{image:f.value.image.maintenance||Ine,title:f.value.titleText.maintenance},success:{image:f.value.image.success||Ane,title:f.value.titleText.success},fail:{image:f.value.image.fail||Ene,title:f.value.titleText.fail},"network-error":{image:f.value.image.networkError||Nne,title:f.value.titleText.networkError},empty:{image:f.value.image.empty||Tne,title:f.value.titleText.empty}},b=i.computed(function(){return[v.value,p.value[o.value]]}),w=["".concat(v.value,"__title")],C=["".concat(v.value,"__image")],x=["".concat(v.value,"__description")],k=["".concat(v.value,"__action")],P=i.computed(function(){var A;return(A=y[d.value])!==null&&A!==void 0?A:null}),I=i.computed(function(){var A,E;return l.value||(a==null||(A=a.image)===null||A===void 0?void 0:A.call(a))||((E=P.value)===null||E===void 0?void 0:E.image)}),D=i.computed(function(){var A,E;return c.value||(a==null||(A=a.title)===null||A===void 0?void 0:A.call(a))||((E=P.value)===null||E===void 0?void 0:E.title)}),L=i.computed(function(){var A;return s.value||(a==null||(A=a.description)===null||A===void 0?void 0:A.call(a))}),O=function(){return D.value?i.createVNode("div",{class:w},[D.value]):null},S=function(){return L.value?i.createVNode("div",{class:x},[L.value]):null},_=function(){var E=I.value,R=null;return Ae(E)?R=i.createVNode($a,{src:E},null):E&&Reflect.has(E,"render")?R=i.h(E):dc(E)&&(R=i.createVNode($a,E,null)),E?R:null};return function(){return i.createVNode("div",{class:b.value},[I.value?i.createVNode("div",{class:C,style:e.imageStyle},[a!=null&&a.image?m("image"):_()]):null,O(),S(),h.value?i.createVNode("div",{class:k},[m("action")]):null])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Dne=be(Rne);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var jne=1e3,Mne=5e3,Fne=1,Lne=ir(function t(){var e=this;rr(this,t),G(this,"popupStack",{popup:new Set,dialog:new Set,message:new Set}),G(this,"getNextZIndex",function(n){var a=n==="message"?Array.from(e.popupStack.message).pop()||Mne:Array.from(e.popupStack.popup).pop()||jne;return a+Fne}),G(this,"add",function(n){var a=e.getNextZIndex(n);return e.popupStack[n].add(a),n==="dialog"&&e.popupStack.popup.add(a),a}),G(this,"delete",function(n,a){e.popupStack[a].delete(n),a==="dialog"&&e.popupStack.popup.delete(n)}),G(this,"isLastDialog",function(n){return e.popupStack.dialog.size>1?n===Array.from(e.popupStack.dialog).pop():!0})}),bh=new Lne;function Ak(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.visible,a=e.runOnMounted,r=i.ref(0),o=function(){r.value=bh.add(t)},l=function(){bh.delete(r.value,t)},s=function(){return bh.isLastDialog(r.value)};return i.watch(function(){return n==null?void 0:n.value},function(c){c?o():l()},{immediate:!0}),a&&(i.onMounted(function(){o()}),i.onBeforeUnmount(function(){l()})),{zIndex:i.readonly(r),open:o,close:l,isLastDialog:s}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function $ne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rk(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rk(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Bne(t){var e=i.ref(t),n=function(o){var l=o.pageX,s=o.pageY,c=e.value,d=c.translateX,u=c.translateY,f=function(g){var p=g.pageX,m=g.pageY;e.value={translateX:d+p-l,translateY:u+m-s}},v=function(){document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",v)};document.addEventListener("mousemove",f),document.addEventListener("mouseup",v)},a=function(){e.value=$ne({},t)};return{transform:e,mouseDownHandler:n,resetTransform:a}}function zne(){var t=i.ref(1),e=function(){t.value*=-1},n=function(){t.value=1};return{mirror:t,onMirror:e,resetMirror:n}}function Hne(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{max:2,min:.5,step:.2},e=t.max,n=t.min,a=t.step,r=t.defaultScale,o=i.ref(r??1),l=Ci(function(){var u=Vl(o.value,a);d(u)},50),s=Ci(function(){var u=es(o.value,a);d(u)},50),c=function(){o.value=r??1},d=function(f){var v=f;f<n&&(v=n),f>e&&(v=e),o.value=v};return i.watch(function(){return t},function(){return c()}),{scale:o,onZoomIn:l,onZoomOut:s,resetScale:c}}function Wne(){var t=i.ref(0),e=90,n=function(){t.value+=e},a=function(){t.value=0};return{rotate:t,onRotate:n,resetRotate:a}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Dk=i.defineComponent({name:"TImageItem",props:{rotate:Number,scale:Number,mirror:Number,src:[String,Object],placementSrc:[String,Object],isSvg:Boolean},setup:function(e){var n=i.toRefs(e),a=n.src,r=n.placementSrc,o=n.isSvg,l=ae(),s=i.ref(!1),c=i.ref(!1),d=Bne({translateX:0,translateY:0}),u=d.transform,f=d.mouseDownHandler,v=Re("imageViewer"),h=v.globalConfig,g=h.value.errorText,p=i.ref(),m=i.computed(function(){return{transform:"rotate(".concat(e.rotate,"deg) scale(").concat(e.scale,")"),display:!e.placementSrc||c.value?"block":"none"}}),y=i.computed(function(){return{transform:"rotate(".concat(e.rotate,"deg) scale(").concat(e.scale,")"),display:c.value?"none":"block"}}),b=i.computed(function(){var D=u.value,L=D.translateX,O=D.translateY;return{transform:"translate(".concat(L,"px, ").concat(O,"px) scale(").concat(e.mirror,", 1)")}}),w=function(){s.value=!1,c.value=!1,o.value&&C(k.value)},C=function(){var D=Et(qe.mark(function L(O){var S,_,A,E,R,N,F,M,$,W,H,K;return qe.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,fetch(O);case 2:if(_=B.sent,_.ok){B.next=6;break}throw s.value=!0,new Error("Failed to fetch SVG: ".concat(_.statusText));case 6:return B.next=8,_.text();case 8:A=B.sent,E=p.value,E.innerHTML="",(S=E.classList)===null||S===void 0||S.add("".concat(l.value,"-image-viewer__modal-image-svg")),R=E.attachShadow({mode:"closed"}),N=document.createElement("div"),N.style.background="var(--td-bg-color-container)",N.style.padding="4px",N.style.borderRadius="4px",N.style.maxHeight="100%",N.style.maxWidth="100%",N.style.boxSizing="border-box",N.style.height="auto",N.innerHTML=A,R.appendChild(N),F=N.querySelector("svg"),F&&(M=F.getAttribute("viewBox"),M?($=M.split(/[\s\,]/).filter(function(q){return q}).map(parseFloat),W=$[2],N.style.width="".concat(W,"px")):(H=F.getBBox(),K="".concat(H.x," ").concat(H.y," ").concat(H.width," ").concat(H.height),F.setAttribute("viewBox",K),N.style.width="".concat(H.width,"px")),F.style.maxHeight="100%",F.style.maxWidth="100%",F.style.height="auto",F.style.display="block",F.style.lineHeight="normal"),c.value=!0;case 26:case"end":return B.stop()}},L)}));return function(O){return D.apply(this,arguments)}}(),x=Uc(a),k=x.previewUrl,P=Uc(r),I=P.previewUrl;return i.watch([k,I],function(){w()}),i.onMounted(Et(qe.mark(function D(){return qe.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(!o.value){O.next=3;break}return O.next=3,C(k.value);case 3:case"end":return O.stop()}},D)}))),function(){return i.createVNode("div",{class:"".concat(l.value,"-image-viewer__modal-pic")},[i.createVNode("div",{class:"".concat(l.value,"-image-viewer__modal-box"),style:b.value},[s.value&&i.createVNode("div",{class:"".concat(l.value,"-image-viewer__img-error")},[i.createVNode("div",{class:"".concat(l.value,"-image-viewer__img-error-content")},[i.createVNode(cb,{size:"4em"},null),i.createVNode("div",{class:"".concat(l.value,"-image-viewer__img-error-text")},[g])])]),!s.value&&!!e.placementSrc&&I.value&&i.createVNode("img",{class:"".concat(l.value,"-image-viewer__modal-image"),onMousedown:function(L){L.stopPropagation(),f(L)},src:I.value,style:y.value,alt:"image",draggable:"false"},null),!s.value&&k.value&&!o.value&&i.createVNode("img",{class:"".concat(l.value,"-image-viewer__modal-image"),onMousedown:function(L){L.stopPropagation(),f(L)},src:k.value,onLoad:function(){return c.value=!0},onError:function(){return s.value=!0},style:m.value,alt:"image",draggable:"false"},null),!s.value&&k.value&&o.value&&i.createVNode("div",{ref:p,class:"".concat(l.value,"-image-viewer__modal-image"),onMousedown:function(L){L.stopPropagation(),f(L)},"data-alt":"svg",style:m.value,draggable:"false"},null)])])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var fr=i.defineComponent({name:"TImageModalIcon",props:{disabled:Boolean,onClick:Function,label:String,icon:Function},setup:function(e){var n=ae(),a=Pe(),r=i.computed(function(){return["".concat(n.value,"-image-viewer__modal-icon"),G({},"".concat(n.value,"-is-disabled"),e.disabled)]});return function(){return i.createVNode("div",{class:r.value,onClick:e.onClick},[a("icon"),e.label&&i.createVNode("span",{class:"".concat(n.value,"-image-viewer__modal-icon-label")},[e.label])])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Une={attach:{type:[String,Function]},body:{type:[String,Function]},cancelBtn:{type:[String,Object,Function,null]},closeBtn:{type:[String,Boolean,Function],default:!0},closeOnEscKeydown:{type:Boolean,default:void 0},closeOnOverlayClick:Boolean,confirmBtn:{type:[String,Object,Function,null]},confirmLoading:{type:Boolean,default:void 0},confirmOnEnter:Boolean,default:{type:[String,Function]},destroyOnClose:Boolean,dialogClassName:{type:String,default:""},dialogStyle:{type:Object},draggable:Boolean,footer:{type:[Boolean,Function],default:!0},header:{type:[String,Boolean,Function],default:!0},mode:{type:String,default:"modal",validator:function(e){return e?["modal","modeless","normal","full-screen"].includes(e):!0}},placement:{type:String,default:"top",validator:function(e){return e?["top","center"].includes(e):!0}},preventScrollThrough:{type:Boolean,default:!0},showInAttachedElement:Boolean,showOverlay:{type:Boolean,default:!0},theme:{type:String,default:"default",validator:function(e){return e?["default","info","warning","danger","success"].includes(e):!0}},top:{type:[String,Number]},visible:Boolean,width:{type:[String,Number]},zIndex:{type:Number},onBeforeClose:Function,onBeforeOpen:Function,onCancel:Function,onClose:Function,onCloseBtnClick:Function,onClosed:Function,onConfirm:Function,onEscKeydown:Function,onOpened:Function,onOverlayClick:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function jk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Xo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jk(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jk(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function wh(t){var e=i.getCurrentInstance(),n=Pe(),a=function(d){var u,f=d.globalConfirm,v=d.theme,h=d.globalConfirmBtnTheme,g=((u=gn(h,["info"]))===null||u===void 0?void 0:u[v])||"primary",p={theme:g,size:d.size,onClick:function(y){t.confirmBtnAction(y)}};return Ae(f)?p.content=f:Le(f)&&(p=Xo(Xo({},p),f)),p},r=function(d){var u=d.globalCancel,f={theme:"default",size:d.size,onClick:function(h){t.cancelBtnAction(h)}};return Ae(u)?f.content=u:Le(u)&&(f=Xo(Xo({},f),u)),f},o=function(d,u){var f=u.defaultButtonProps,v=u.className,h=u.confirmLoading,g=f;return Ae(d)?g.content=d:Le(d)&&(g=Xo(Xo({},g),d)),h!==void 0&&(g.loading=h),i.createVNode(vt,i.mergeProps({class:v},g),null)},l=function(d){var u=d.confirmBtn,f=d.className,v=d.confirmLoading;if(u===null)return null;u&&e.slots.confirmBtn&&console.warn("Both $props.confirmBtn and $scopedSlots.confirmBtn exist, $props.confirmBtn is preferred.");var h=a(d);return!u&&!e.slots.confirmBtn?i.createVNode(vt,i.mergeProps({class:f,loading:v},h),null):u&&["string","object"].includes(Je(u))?o(u,{defaultButtonProps:h,className:f,confirmLoading:v}):n("confirmBtn")},s=function(d){var u=d.cancelBtn,f=d.className;if(u===null)return null;u&&e.slots.cancelBtn&&console.warn("Both $props.cancelBtn and $scopedSlots.cancelBtn exist, $props.cancelBtn is preferred.");var v=r(d);return!u&&!e.slots.cancelBtn?i.createVNode(vt,i.mergeProps({class:f},v),null):u&&["string","object"].includes(Je(u))?o(u,{defaultButtonProps:v}):n("cancelBtn")};return{getConfirmBtn:l,getCancelBtn:s}}function Kne(t){var e=!1,n=!1,a=function(s){e&&n&&t(s),e=!1,n=!1},r=function(s){e=s.target===s.currentTarget},o=function(s){n=s.target===s.currentTarget};return{onClick:a,onMousedown:r,onMouseup:o}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Yne(){var t=6;if(typeof navigator>"u"||!navigator||/(Chrome|Safari)/i.test(navigator.userAgent))return t;var e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e);var n=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),/Firefox/.test(navigator.userAgent)&&(n-=4),Qa()<=11&&(n=12),n}function Mk(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document.body;return t===document.body?window.innerWidth-document.documentElement.clientWidth:t.offsetWidth-t.clientWidth}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Lk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fk(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fk(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function $k(t){return Number.isNaN(Number(t))?t:"".concat(Number(t),"px")}var us,qne=function(e){us={x:e.clientX,y:e.clientY},setTimeout(function(){us=null},100)};typeof window<"u"&&window.document&&window.document.documentElement&&document.documentElement.addEventListener("click",qne,!0);function Gne(t){var e=t,n=window.innerWidth||document.documentElement.clientWidth,a=window.innerHeight||document.documentElement.clientHeight;e.addEventListener("mousedown",function(r){var o=r.clientX-e.offsetLeft,l=r.clientY-e.offsetTop,s=e.offsetWidth,c=e.offsetHeight;if(s>n||c>a)return;function d(f){var v=f.clientX-o,h=f.clientY-l;v<0&&(v=0),h<0&&(h=0),n-e.offsetWidth-v<0&&(v=n-e.offsetWidth),a-e.offsetHeight-h<0&&(h=a-e.offsetHeight),e.style.position="absolute",e.style.left="".concat(v,"px"),e.style.top="".concat(h,"px")}function u(){document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",u)}document.addEventListener("mousemove",d),document.addEventListener("mouseup",u),document.addEventListener("dragend",u)})}var Xne=1,Bk=i.defineComponent({name:"TDialog",directives:{draggable:function(e,n){e&&n&&n.value&&Gne(e)}},inheritAttrs:!1,props:Une,emits:["update:visible"],setup:function(e,n){var a=this,r=ae("dialog"),o=ae(),l=ft(),s=Pe(),c=i.ref(null),d=Re("dialog"),u=d.globalConfig,f=Ve({CloseIcon:ha,InfoCircleFilledIcon:Hl,CheckCircleFilledIcon:er,ErrorCircleFilledIcon:Ea}),v=f.CloseIcon,h=f.InfoCircleFilledIcon,g=f.CheckCircleFilledIcon,p=f.ErrorCircleFilledIcon,m=function(ue){var ye;(ye=e.onConfirm)===null||ye===void 0||ye.call(e,{e:ue})},y=function(ue){var ye;(ye=e.onCancel)===null||ye===void 0||ye.call(e,{e:ue}),ne({e:ue,trigger:"cancel"})},b=wh({confirmBtnAction:m,cancelBtnAction:y}),w=b.getConfirmBtn,C=b.getCancelBtn,x=Ic(function(){return e.attach});J1();var k=i.ref(),P=i.ref(),I=i.computed(function(){return e.mode==="modal"}),D=i.computed(function(){return e.mode==="modeless"}),L=i.computed(function(){return e.mode==="normal"}),O=i.computed(function(){return e.mode==="full-screen"}),S=i.computed(function(){return e.visible}),_=i.computed(function(){return["".concat(r.value,"__mask"),!e.showOverlay&&"".concat(o.value,"-is-hidden")]}),A=i.computed(function(){return L.value?[]:O.value?["".concat(r.value,"__position_fullscreen")]:["".concat(r.value,"__position"),!!e.top&&"".concat(r.value,"--top"),"".concat(e.placement&&!e.top?"".concat(r.value,"--").concat(e.placement):"")]}),E=i.computed(function(){return[!L.value&&"".concat(r.value,"__wrap")]}),R=i.computed(function(){if(O.value)return{};var se=e.top,ue={};if(se!==void 0){var ye=$k(se);ue={paddingTop:ye}}return ue}),N=i.computed(function(){var se=["".concat(r.value),"".concat(r.value,"__modal-").concat(e.theme),D.value&&e.draggable&&"".concat(r.value,"--draggable"),e.dialogClassName];return O.value?se.push("".concat(r.value,"__fullscreen")):se.push.apply(se,["".concat(r.value,"--default"),"".concat(r.value,"--").concat(e.placement)]),se}),F=i.computed(function(){return O.value?Lk({},e.dialogStyle):Lk({width:$k(e.width)},e.dialogStyle)}),M=Ak("dialog",{visible:S}),$=M.isLastDialog;i.watch(function(){return e.visible},function(se){if(se){var ue;(I.value&&!e.showInAttachedElement||O.value)&&(e.preventScrollThrough&&document.body.appendChild(P.value),i.nextTick(function(){us&&c.value&&(c.value.style.transformOrigin="".concat(us.x-c.value.offsetLeft,"px ").concat(us.y-c.value.offsetTop,"px"))})),(ue=document.activeElement)===null||ue===void 0||ue.blur()}else H();K(se)});function W(){var se,ue;(se=P.value.parentNode)===null||se===void 0||(ue=se.removeChild)===null||ue===void 0||ue.call(se,P.value)}function H(){clearTimeout(k.value),k.value=setTimeout(function(){W()},150)}var K=function(ue){ue?(document.addEventListener("keydown",B),e.confirmOnEnter&&document.addEventListener("keydown",z)):(document.removeEventListener("keydown",B),e.confirmOnEnter&&document.removeEventListener("keydown",z))},z=function(ue){var ye=ue.target;if(ye.tagName.toLowerCase()!=="input"){var me=ue.code;if((me==="Enter"||me==="NumpadEnter")&&$()){var ge;(ge=e.onConfirm)===null||ge===void 0||ge.call(e,{e:ue})}}},B=function(ue){if(ue.code==="Escape"&&$()){var ye,me;(ye=e.onEscKeydown)===null||ye===void 0||ye.call(e,{e:ue}),((me=e.closeOnEscKeydown)!==null&&me!==void 0?me:u.value.closeOnEscKeydown)&&ne({e:ue,trigger:"esc"})}},q=function(ue){var ye;if(e.showOverlay&&((ye=e.closeOnOverlayClick)!==null&&ye!==void 0?ye:u.value.closeOnOverlayClick)){var me;(me=e.onOverlayClick)===null||me===void 0||me.call(e,{e:ue}),ne({e:ue,trigger:"overlay"})}},Y=Kne(q),X=Y.onClick,T=Y.onMousedown,j=Y.onMouseup,U=function(ue){var ye;(ye=e.onCloseBtnClick)===null||ye===void 0||ye.call(e,{e:ue}),ne({trigger:"close-btn",e:ue})},J=function(){var ue;(ue=e.onBeforeOpen)===null||ue===void 0||ue.call(e)},Z=function(){var ue;(ue=e.onOpened)===null||ue===void 0||ue.call(e)},Q=function(){var ue;(ue=e.onBeforeClose)===null||ue===void 0||ue.call(e)},ee=function(){var ue;D.value&&e.draggable&&c.value&&(c.value.style.position="relative",c.value.style.left="unset",c.value.style.top="unset"),(ue=e.onClosed)===null||ue===void 0||ue.call(e)},ne=function(ue){var ye;(ye=e.onClose)===null||ye===void 0||ye.call(e,ue),n.emit("update:visible",!1)},V=function(ue){var ye,me=(ye=a._events)===null||ye===void 0?void 0:ye[ue];return!!(me!=null&&me.length)},re=function(){var ue={info:i.createVNode(h,{class:"".concat(o.value,"-is-info")},null),warning:i.createVNode(p,{class:"".concat(o.value,"-is-warning")},null),danger:i.createVNode(p,{class:"".concat(o.value,"-is-error")},null),success:i.createVNode(g,{class:"".concat(o.value,"-is-success")},null)};return ue[e.theme]},ce=function(){var ue=i.createVNode("h5",{class:"title"},null),ye=i.createVNode(v,null,null),me=l("default","body"),ge=i.createVNode("div",null,[C({cancelBtn:e.cancelBtn,globalCancel:u.value.cancel,className:"".concat(r.value,"__cancel")}),w({theme:e.theme,confirmBtn:e.confirmBtn,globalConfirm:u.value.confirm,globalConfirmBtnTheme:u.value.confirmBtnTheme,className:"".concat(r.value,"__confirm"),confirmLoading:e.confirmLoading})]),xe=O.value?["".concat(r.value,"__header"),"".concat(r.value,"__header--fullscreen")]:"".concat(r.value,"__header"),le=O.value?["".concat(r.value,"__close"),"".concat(r.value,"__close--fullscreen")]:"".concat(r.value,"__close"),ie=e.theme==="default"?["".concat(r.value,"__body")]:["".concat(r.value,"__body__icon")],oe=s("footer",ge);O.value&&oe?ie.push("".concat(r.value,"__body--fullscreen")):O.value&&ie.push("".concat(r.value,"__body--fullscreen--without-footer"));var de=O.value?["".concat(r.value,"__footer"),"".concat(r.value,"__footer--fullscreen")]:"".concat(r.value,"__footer"),Te=function(Oe){D.value&&e.draggable&&Oe.stopPropagation()};return i.createVNode("div",{class:E.value},[i.createVNode("div",{class:A.value,style:R.value,onClick:X,onMousedown:T,onMouseup:j},[i.withDirectives(i.createVNode("div",{key:"dialog",class:N.value,style:F.value,ref:c},[i.createVNode("div",{class:xe,onMousedown:Te},[i.createVNode("div",{class:"".concat(r.value,"__header-content")},[re(),s("header",ue)]),e.closeBtn?i.createVNode("span",{class:le,onClick:U},[s("closeBtn",ye)]):null]),i.createVNode("div",{class:ie,onMousedown:Te},[me]),oe&&i.createVNode("div",{class:de,onMousedown:Te},[oe])]),[[i.resolveDirective("draggable"),D.value&&e.draggable]])])])};return i.onMounted(function(){var se=document.documentElement.scrollHeight>document.documentElement.clientHeight,ue=se?Mk():0;P.value=document.createElement("style"),P.value.dataset.id="td_dialog_".concat(+new Date,"_").concat(Xne+=1),P.value.innerHTML=`
        html body {
          overflow-y: hidden;
          width: calc(100% - `.concat(ue,`px);
        }
      `)}),i.onBeforeUnmount(function(){K(!1),W()}),{COMPONENT_NAME:r,isModal:I,isModeLess:D,isFullScreen:O,maskClass:_,dialogClass:N,dialogStyle:F,dialogEle:c,beforeEnter:J,afterEnter:Z,beforeLeave:Q,afterLeave:ee,hasEventOn:V,renderDialog:ce,teleportElement:x}},render:function(){var e=this,n=this.COMPONENT_NAME,a=(this.isModal||this.isFullScreen)&&i.createVNode("div",{key:"mask",class:this.maskClass},null),r=this.renderDialog(),o=[a,r],l={zIndex:this.zIndex},s=["".concat(n,"__ctx"),G(G(G({},"".concat(n,"__ctx--fixed"),this.isModal||this.isFullScreen),"".concat(n,"__ctx--absolute"),this.isModal&&this.showInAttachedElement),"".concat(n,"__ctx--modeless"),this.isModeLess)];return i.createVNode(i.Teleport,{disabled:!this.attach||!this.teleportElement,to:this.teleportElement},{default:function(){return[i.createVNode(i.Transition,{duration:300,name:"".concat(n,"-zoom__vue"),onBeforeEnter:e.beforeEnter,onAfterEnter:e.afterEnter,onBeforeLeave:e.beforeLeave,onAfterLeave:e.afterLeave},{default:function(){return[(!e.destroyOnClose||e.visible)&&i.withDirectives(i.createVNode("div",i.mergeProps({class:s,style:l},e.$attrs),[o]),[[i.vShow,e.visible]])]}})]}})}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function ds(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zk(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zk(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var Lu=function(e){var n=ds({},e),a=document.createElement("div"),r=i.ref(!1),o=n.className,l=n.style,s=o,c=function(p,m){if(p){if(s&&s!==p){var y;(y=a.firstElementChild.classList).remove.apply(y,he(s.split(" ").map(function(b){return b.trim()})))}p.split(" ").forEach(function(b){a.firstElementChild.classList.add(b.trim())})}m&&(a.firstElementChild.style.cssText+=m),s=p},d=i.defineComponent({setup:function(p,m){var y=m.expose,b=i.ref(n);i.onMounted(function(){r.value=!0,document.activeElement.blur(),i.nextTick(function(){c(o,l)})});var w=function(x){b.value=ds(ds({},n),x)};return y({update:w}),function(){var C=n.onClose||function(){r.value=!1};return delete n.className,delete n.style,i.h(Bk,ds({onClose:C,visible:r.value},b.value))}}}),u=i.createApp(d),f=u.mount(a),v=mo(n.attach);v?v.appendChild(a):console.error("attach is not exist");var h={show:function(){r.value=!0},hide:function(){r.value=!1},update:function(p){f.update(gn(p,["className","style"])),c(p.className,p.style)},destroy:function(){r.value=!1,setTimeout(function(){u.unmount(),a.remove()},300)},setConfirmLoading:function(p){f.update({confirmLoading:p})}};return h},Jne=function(e){return Lu(e)},Zne=function(e){var n=ds({},e);return n.cancelBtn=null,Lu(n)},$u={confirm:Jne,alert:Zne},Bu=Lu;Bu.install=function(t){t.config.globalProperties.$dialog=Lu,Object.keys($u).forEach(function(e){t.config.globalProperties.$dialog[e]=$u[e]})},Object.keys($u).forEach(function(t){Bu[t]=$u[t]});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Hk=be(Bk);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var fs={attach:{type:[String,Function],default:"body"},closeBtn:{type:[Boolean,Function],default:!0},closeOnEscKeydown:{type:Boolean,default:!0},closeOnOverlay:Boolean,draggable:{type:Boolean,default:void 0},imageScale:{type:Object},images:{type:Array,default:function(){return[]}},index:{type:Number,default:void 0},defaultIndex:{type:Number,default:0},mode:{type:String,default:"modal",validator:function(e){return e?["modal","modeless"].includes(e):!0}},navigationArrow:{type:[Boolean,Function],default:!0},showOverlay:{type:Boolean,default:void 0},title:{type:[String,Function]},trigger:{type:[String,Function]},viewerScale:{type:Object},visible:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},defaultVisible:Boolean,zIndex:{type:Number},onClose:Function,onIndexChange:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Wk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Qne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wk(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wk(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var Vne=function(e){var n,a,r,o=new Image,l=(e==null||(n=e.split)===null||n===void 0||(n=n.call(e,"?"))===null||n===void 0||(n=n[0])===null||n===void 0||(a=n.split)===null||a===void 0||(a=a.call(n,"#"))===null||a===void 0||(a=a[0])===null||a===void 0||(r=a.split)===null||r===void 0?void 0:r.call(a,"/").pop())||Math.random().toString(32).slice(2);o.setAttribute("crossOrigin","anonymous"),o.onload=function(){var s=document.createElement("canvas");s.width=o.width,s.height=o.height;var c=s.getContext("2d");c.drawImage(o,0,0,o.width,o.height),s.toBlob(function(d){var u=URL.createObjectURL(d),f=document.createElement("a");f.download=l,f.href=u,f.click(),f.remove(),URL.revokeObjectURL(u)})},o.src=e},eae=function(e){return!!e&&!Ae(e)&&!(e instanceof File)},tae=function(e){return Ie(e)?e.map(function(n){return eae(n)?Qne({download:!0,thumbnail:n.mainImage},n):{mainImage:n,thumbnail:n,download:!0}}):[]},nae=function(e){return e.showOverlay!==void 0?e.showOverlay:e.mode==="modal"};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Uk=i.defineComponent({name:"TImageViewerUtils",props:{scale:Number,onRotate:Function,onZoomIn:Function,onZoomOut:Function,onMirror:Function,onReset:Function,currentImage:{type:Object,default:function(){return{}}}},setup:function(e){var n=ae(),a=i.computed(function(){return e.currentImage.mainImage}),r=Uc(a),o=r.previewUrl,l=Re("imageViewer"),s=l.globalConfig;return function(){return i.createVNode("div",{class:"".concat(n.value,"-image-viewer__utils")},[i.createVNode("div",{class:"".concat(n.value,"-image-viewer__utils-content")},[i.createVNode(pn,{overlayClassName:"".concat(n.value,"-image-viewer__utils--tip"),content:s.value.mirrorTipText,destroyOnClose:!0,placement:"top",showArrow:!0,theme:"default"},{default:function(){return[i.createVNode(fr,{onClick:e.onMirror,icon:function(){return i.createVNode(sB,{size:"medium"},null)}},null)]}}),i.createVNode(pn,{overlayClassName:"".concat(n.value,"-image-viewer__utils--tip"),content:s.value.rotateTipText,destroyOnClose:!0,placement:"top",showArrow:!0,theme:"default"},{default:function(){return[i.createVNode(fr,{onClick:e.onRotate,icon:function(){return i.createVNode(pB,{size:"medium"},null)}},null)]}}),i.createVNode(fr,{icon:function(){return i.createVNode(DB,{size:"medium"},null)},onClick:e.onZoomOut},null),i.createVNode(fr,{class:"".concat(n.value,"-image-viewer__utils-scale"),size:"medium",label:"".concat(Xc(String(e.scale*100)),"%")},null),i.createVNode(fr,{icon:function(){return i.createVNode(AB,{size:"medium"},null)},onClick:e.onZoomIn},null),i.createVNode(pn,{overlayClassName:"".concat(n.value,"-image-viewer__utils--tip"),content:s.value.originalSizeTipText,destroyOnClose:!0,placement:"top",showArrow:!0,theme:"default"},{default:function(){return[i.createVNode("div",{class:"".concat(n.value,"-image-viewer__modal-icon")},[i.createVNode(fr,{icon:function(){return i.createVNode(fb,{size:"medium"},null)},onClick:e.onReset},null)])]}}),e.currentImage.download&&i.createVNode(fr,{icon:function(){return i.createVNode(R$,{size:"medium"},null)},onClick:function(){Vne(o.value)}},null)])])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var aae=i.defineComponent({name:"TImageViewerModal",props:{zIndex:Number,visible:Boolean,index:Number,images:fs.images,scale:Number,rotate:Number,mirror:Number,title:fs.title,currentImage:{type:Object,default:function(){return{}}},onRotate:Function,onZoomIn:Function,onZoomOut:Function,onMirror:Function,onReset:Function,onClose:fs.onClose,draggable:{type:Boolean,default:!0},viewerScale:{type:Object,default:function(){return{}}},showOverlay:Boolean,closeBtn:fs.closeBtn},setup:function(e){var n=ae(),a=Pe(),r=i.computed(function(){return{minWidth:e.viewerScale.minWidth,minHeight:e.viewerScale.minHeight}});return function(){return i.createVNode(Hk,{destroyOnClose:!0,attach:"body",onClose:e.onClose,visible:e.visible,placement:"center",mode:"modeless",width:1e3,cancelBtn:null,confirmBtn:null,draggable:e.draggable,zIndex:e.zIndex,showOverlay:e.showOverlay,class:"".concat(n.value,"-image-viewer__dialog"),header:a("title",""),footer:function(){return i.createVNode("div",{class:"".concat(n.value,"-image-viewer-mini__footer")},[i.createVNode(Uk,{onZoomIn:e.onZoomIn,onZoomOut:e.onZoomOut,scale:e.scale,currentImage:e.currentImage,onRotate:e.onRotate,onMirror:e.onMirror,onReset:e.onReset},null)])}},{default:function(){return[i.createVNode("div",{class:"".concat(n.value,"-image-viewer-mini__content"),style:r.value},[i.createVNode(Dk,{rotate:e.rotate,scale:e.scale,mirror:e.mirror,src:e.currentImage.mainImage,placementSrc:e.currentImage.thumbnail,isSvg:e.currentImage.isSvg},null)])]}})}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Jo=function(t){return t.left="ArrowLeft",t.up="ArrowUp",t.right="ArrowRight",t.down="ArrowDown",t.esc="Escape",t}(Jo||{});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function rae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kk(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kk(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var iae=i.defineComponent({name:"TImageViewer",props:rae({},fs),setup:function(e){var n,a=ae(),r=ae("image-viewer"),o=Pe(),l=i.ref(!0),s=i.computed(function(){return nae(e)}),c=i.toRefs(e),d=c.index,u=c.visible,f=c.modelValue,v=Rt(d,(n=e.defaultIndex)!==null&&n!==void 0?n:0,e.onIndexChange,"index"),h=Ce(v,2),g=h[0],p=h[1],m=ot(u,f,e.defaultVisible,function(){},"visible"),y=Ce(m,2),b=y[0],w=y[1],C=i.ref(!0),x=i.ref(),k=Ic(function(){return e.attach}),P=i.computed(function(){return[r.value,"".concat(r.value,"-preview-image"),G({},"".concat(a.value,"-is-hide"),!b.value)]}),I=i.computed(function(){return["".concat(a.value,"-image-viewer__modal-header"),G({},"".concat(a.value,"-is-show"),l.value)]}),D=i.computed(function(){var me;return(me=e.zIndex)!==null&&me!==void 0?me:2600}),L=function(){l.value=!l.value},O=zne(),S=O.mirror,_=O.onMirror,A=O.resetMirror,E=Hne(e.imageScale),R=E.scale,N=E.onZoomIn,F=E.onZoomOut,M=E.resetScale,$=Wne(),W=$.rotate,H=$.onRotate,K=$.resetRotate,z=function(){A(),M(),K()},B=i.computed(function(){return tae(e.images)}),q=i.computed(function(){var me;return(me=B.value[g.value])!==null&&me!==void 0?me:{mainImage:""}}),Y=Ak("dialog",{visible:b}),X=Y.isLastDialog,T=function(){var ge=g.value-1;z(),p(ge<0?0:ge,{trigger:"prev"})},j=function(){var ge=g.value+1;z(),p(ge>=B.value.length?g.value:ge,{trigger:"next"})},U=function(ge){p(ge,{trigger:"current"})},J=function(){w(!0)},Z=function(ge){var xe;w(!1),(xe=e.onClose)===null||xe===void 0||xe.call(e,ge)},Q=function(ge){Z({e:ge,trigger:"close-btn"})},ee=function(ge){e.closeOnOverlay&&Z({e:ge,trigger:"overlay"})},ne=function(ge){switch(ge.stopPropagation(),ge.code){case Jo.left:T();break;case Jo.right:j();break;case Jo.up:N();break;case Jo.down:F();break;case Jo.esc:e.closeOnEscKeydown&&X()&&Z({e:ge,trigger:"esc"});break}},V=i.ref();i.watch(function(){return b.value},function(me){clearTimeout(x.value),me?(C.value=!1,i.nextTick().then(function(){var ge,xe;(ge=V.value)===null||ge===void 0||(xe=ge.focus)===null||xe===void 0||xe.call(ge)}),z()):x.value=setTimeout(function(){C.value=!0},200)});var re=function(ge){ge.preventDefault();var xe=ge.deltaY;xe>0?F():N()},ce=i.computed(function(){return{transform:"translateX(calc(-".concat(g.value," * (40px / 9 * 16 + 4px)))")}}),se=function(){return i.createVNode("div",{class:I.value},[i.createVNode(fr,{icon:function(){return i.createVNode(Rc,null,null)},class:"".concat(r.value,"__header-pre-bt"),onClick:L},null),i.createVNode("div",{class:"".concat(r.value,"__header-prev")},[i.createVNode("div",{class:"".concat(r.value,"__header-trans"),style:ce.value},[B.value.map(function(ge,xe){return i.createVNode("div",{key:xe,class:["".concat(r.value,"__header-box"),G({},"".concat(a.value,"-is-active"),xe===g.value)]},[i.createVNode($a,{src:ge.thumbnail||ge.mainImage,error:"",className:"".concat(r.value,"__header-img"),onClick:function(){return U(xe)}},null)])})])])])},ue=function(ge){var xe=ge==="prev"?0:180,le=o("navigationArrow",i.createVNode(Co,{style:{transform:"rotate(".concat(xe,"deg)")},size:"24px"},null));return i.createVNode(fr,{class:"".concat(r.value,"__modal-").concat(ge,"-bt"),onClick:ge==="prev"?T:j,icon:function(){return le}},null)},ye=function(){if(e.closeBtn!==!1)return i.createVNode("div",{class:["".concat(r.value,"__modal-icon"),"".concat(r.value,"__modal-close-bt")],onClick:Q},[o("closeBtn",i.createVNode(ha,{size:"24px"},null))])};return function(){return e.mode==="modeless"?i.createVNode(i.Fragment,null,[o("trigger",{params:{open:J}}),i.createVNode(aae,{zIndex:D.value,visible:b.value,index:g.value,images:B.value,scale:R.value,rotate:W.value,mirror:S.value,currentImage:q.value,onRotate:H,onZoomIn:N,onZoomOut:F,onMirror:_,onReset:z,onClose:Z,draggable:e.draggable,showOverlay:s.value,title:e.title},null)]):i.createVNode(i.Fragment,null,[o("trigger",{params:{open:J}}),i.createVNode(i.Teleport,{disabled:!e.attach||!k.value,to:k.value},{default:function(){return[i.createVNode(i.Transition,null,{default:function(){return[(b.value||!C.value)&&i.withDirectives(i.createVNode("div",{ref:V,class:P.value,style:{zIndex:D.value},onWheel:re,tabindex:-1,onKeydown:ne},[!!s.value&&i.createVNode("div",{class:"".concat(r.value,"__modal-mask"),onClick:ee},null),B.value.length>1&&i.createVNode(i.Fragment,null,[se(),i.createVNode("div",{class:"".concat(r.value,"__modal-index")},[e.title&&o("title"),"".concat(g.value+1,"/").concat(B.value.length)]),ue("prev"),ue("next")]),ye(),i.createVNode(Uk,{onZoomIn:N,onZoomOut:F,onMirror:_,onReset:z,onRotate:H,scale:R.value,currentImage:q.value},null),i.createVNode(Dk,{scale:R.value,rotate:W.value,mirror:S.value,src:q.value.mainImage,placementSrc:q.value.thumbnail,isSvg:q.value.isSvg},null)]),[[i.vShow,b.value]])]}})]}})])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var zu=be(iae);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var oae={action:{type:[String,Function]},content:{type:[String,Function]},default:{type:[String,Function]}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Yk=i.defineComponent({name:"TListItem",props:oae,setup:function(){var e=ae("list-item"),n=Pe();return function(){var a=n("content"),r=n("default"),o=n("action");return i.createVNode("li",{class:e.value},[i.createVNode("div",{class:"".concat(e.value,"-main")},[r||a,o&&i.createVNode("li",{class:"".concat(e.value,"__action")},[o])])])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var lae={asyncLoading:{type:[String,Function]},footer:{type:[String,Function]},header:{type:[String,Function]},layout:{type:String,default:"horizontal",validator:function(e){return e?["horizontal","vertical"].includes(e):!0}},scroll:{type:Object},size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},split:Boolean,stripe:Boolean,onLoadMore:Function,onScroll:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var qk="load-more",sae="loading";/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Xk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gk(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gk(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function cae(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=uae(t))||e){n&&(t=n);var a=0,r=function(){};return{s:r,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(d){throw d},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,l=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var d=n.next();return l=d.done,d},e:function(d){s=!0,o=d},f:function(){try{l||n.return==null||n.return()}finally{if(s)throw o}}}}function uae(t,e){if(t){if(typeof t=="string")return Jk(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jk(t,e):void 0}}function Jk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=Array(e);n<e;n++)a[n]=t[n];return a}var dae=function(){var e=tr(),n=i.computed(function(){var a=[],r=e("ListItem");if(Ie(r)){var o=cae(r),l;try{for(o.s();!(l=o.n()).done;){var s=l.value;a.push(Xk(Xk({},s.props),{},{slots:s.children}))}}catch(c){o.e(c)}finally{o.f()}}return a});return{listItems:n}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var fae=function(e,n,a){var r=i.computed(function(){return{data:a.value,scroll:e}}),o=rh(n,r),l=i.computed(function(){return o.isVirtualScroll.value}),s=-1,c=function(v){var h=v.target||v.srcElement,g=h.scrollTop;s!==g?o.isVirtualScroll.value&&o.handleScroll():s=-1,s=g},d=i.computed(function(){return{position:"absolute",width:"1px",height:"1px",transition:"transform 0.2s",transform:"translate(0, ".concat(o.scrollHeight.value,"px)"),"-ms-transform":"translate(0, ".concat(o.scrollHeight.value,"px)"),"-moz-transform":"translate(0, ".concat(o.scrollHeight.value,"px)"),"-webkit-transform":"translate(0, ".concat(o.scrollHeight.value,"px)")}}),u=i.computed(function(){return{transform:"translate(0, ".concat(o.translateY.value,"px)"),"-ms-transform":"translate(0, ".concat(o.translateY.value,"px)"),"-moz-transform":"translate(0, ".concat(o.translateY.value,"px)"),"-webkit-transform":"translate(0, ".concat(o.translateY.value,"px)")}});return{virtualConfig:o,cursorStyle:d,listStyle:u,isVirtualScroll:l,onInnerVirtualScroll:c}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function vae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var hae=i.defineComponent({name:"TList",props:vae({},lae),setup:function(e){var n=i.ref(),a=Re("list"),r=a.globalConfig,o=ae("list"),l=lt(),s=l.SIZE,c=Pe(),d=dae(),u=d.listItems,f=fae(e.scroll,n,u),v=f.virtualConfig,h=f.cursorStyle,g=f.listStyle,p=f.isVirtualScroll,m=f.onInnerVirtualScroll,y=i.computed(function(){return["".concat(o.value),s.value[e.size],G(G(G({},"".concat(o.value,"--split"),e.split),"".concat(o.value,"--stripe"),e.stripe),"".concat(o.value,"--vertical-action"),e.layout==="vertical")]}),b=function(){var I=c("header"),D=c("footer"),L=v.isVirtualScroll.value;return i.createVNode(i.Fragment,null,[I?i.createVNode("div",{class:"".concat(o.value,"__header")},[I]):null,L?i.createVNode(i.Fragment,null,[i.createVNode("div",{style:h.value},null),i.createVNode("ul",{class:"".concat(o.value,"__inner"),style:g.value},[v.visibleData.value.map(function(O){return i.createVNode(i.Fragment,null,[i.createVNode(Yk,gn(O,"slots"),O.slots)])})])]):i.createVNode("ul",{class:"".concat(o.value,"__inner")},[c("default")]),D?i.createVNode("div",{class:"".concat(o.value,"__footer")},[D]):null])},w=function(I){var D,L=I.target,O=L.scrollTop,S=L.scrollHeight,_=L.clientHeight;p.value&&m(I),(D=e.onScroll)===null||D===void 0||D.call(e,{e:I,scrollTop:O,scrollBottom:S-_-O})},C=i.computed(function(){return Ae(e.asyncLoading)&&["loading","load-more"].includes(e.asyncLoading)?"".concat(o.value,"__load ").concat(o.value,"__load--").concat(e.asyncLoading):"".concat(o.value,"__load")}),x=function(){if(e.asyncLoading&&Ae(e.asyncLoading)){if(e.asyncLoading===sae)return i.createVNode("div",null,[i.createVNode(an,null,null),i.createVNode("span",null,[r.value.loadingText])]);if(e.asyncLoading===qk)return i.createVNode("span",null,[r.value.loadingMoreText])}return c("asyncLoading")},k=function(I){var D;Ae(e.asyncLoading)&&e.asyncLoading!==qk||(D=e.onLoadMore)===null||D===void 0||D.call(e,{e:I})};return{COMPONENT_NAME:o,listClass:y,loadingClass:C,renderLoading:x,renderContent:b,handleScroll:w,handleLoadMore:k,listRef:n,isVirtualScroll:p}},render:function(){var e=this.renderContent();return e=[e,i.createVNode("div",{class:this.loadingClass,onClick:this.handleLoadMore},[this.renderLoading()])],i.createVNode("div",{class:this.listClass,onScroll:this.handleScroll,ref:"listRef",style:this.isVirtualScroll?"position:relative":void 0},[e])}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var gae={avatar:{type:[String,Function]},description:{type:[String,Function]},image:{type:[String,Function]},title:{type:[String,Function]}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var pae=i.defineComponent({name:"TListItemMeta",props:gae,setup:function(e,n){var a=ae("list-item__meta"),r=ft(),o=Pe(),l=function(){(e.avatar||n.slots.avatar)&&console.warn("`avatar` is going to be deprecated, please use `image` instead");var c=r("avatar","image");if(c)return Ae(c)?i.createVNode("div",{class:"".concat(a.value,"-avatar")},[i.createVNode("img",{src:c},null)]):i.createVNode("div",{class:"".concat(a.value,"-avatar")},[c])};return function(){var s=o("title"),c=o("description"),d=[l(),i.createVNode("div",{class:"".concat(a.value,"-content")},[s&&i.createVNode("h3",{class:"".concat(a.value,"-title")},[s]),c&&i.createVNode("p",{class:"".concat(a.value,"-description")},[c])])];return i.createVNode("div",{class:a.value},[d])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var mae=be(hae),yae=be(Yk),bae=be(pae);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Zo={LINE:"line",PLUMP:"plump",CIRCLE:"circle"},Hu={SMALL:"small",MEDIUM:"medium",LARGE:"large"},vr={SMALL:72,MEDIUM:112,LARGE:160},Ch={SMALL:14/vr.SMALL,MEDIUM:20/vr.MEDIUM,LARGE:36/vr.LARGE},wae=["success","error","warning"];/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Cae={color:{type:[String,Object,Array],default:""},label:{type:[String,Boolean,Function],default:!0},percentage:{type:Number,default:0},size:{type:[String,Number],default:"medium"},status:{type:String,validator:function(e){return e?["success","error","warning","active"].includes(e):!0}},strokeWidth:{type:[String,Number]},theme:{type:String,default:"line",validator:function(e){return e?["line","plump","circle"].includes(e):!0}},trackColor:{type:String,default:""}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var xae=i.defineComponent({name:"TProgress",props:Cae,setup:function(e){var n=Pe(),a=ae("progress"),r=Ve({CloseCircleFilledIcon:xo,CheckCircleFilledIcon:er,ErrorCircleFilledIcon:Ea,CloseIcon:ha,CheckIcon:zf,ErrorIcon:B$}),o=r.CloseCircleFilledIcon,l=r.CheckCircleFilledIcon,s=r.ErrorCircleFilledIcon,c=r.CloseIcon,d=r.CheckIcon,u=r.ErrorIcon,f=i.computed(function(){return e.percentage>=100?"success":e.status||"default"}),v=i.computed(function(){var I={};if(e.strokeWidth){var D=Ae(e.strokeWidth)?e.strokeWidth:"".concat(e.strokeWidth,"px");I.height=D,I.borderRadius=D}return e.trackColor&&(I.backgroundColor=e.trackColor),I}),h=i.computed(function(){return{width:"".concat(e.percentage,"%"),background:e.color&&VU(e.color)}}),g=i.computed(function(){var I=Le(e.color)?"":e.color;return{stroke:I}}),p=i.computed(function(){var I=Le(e.trackColor)?"":e.trackColor;return{stroke:I}}),m=i.computed(function(){var I=vr.MEDIUM;if(!e.size)return I;var D=Hu.SMALL,L=Hu.LARGE,O=Hu.MEDIUM;switch(e.size){case D:I=vr.SMALL;break;case O:I=vr.MEDIUM;break;case L:I=vr.LARGE;break;default:I=Number(e.size);break}return I}),y=i.computed(function(){return m.value/2}),b=i.computed(function(){return y.value-C.value/2}),w=i.computed(function(){if(e.theme!==Zo.CIRCLE)return{};var I=m.value*Ch.MEDIUM;return m.value<=vr.SMALL?I=m.value*Ch.SMALL:m.value>=vr.LARGE&&(I=m.value*Ch.LARGE),{width:"".concat(m.value,"px"),height:"".concat(m.value,"px"),fontSize:"".concat(I,"px")}}),C=i.computed(function(){var I=e.size===Hu.SMALL?4:6;return e.strokeWidth?Number(e.strokeWidth):I}),x=i.computed(function(){var I=(m.value-C.value)/2,D=Math.PI*2*I,L=e.percentage/100;return"".concat(D*L,"  ").concat(D*(1-L))}),k=function(){var D={success:d,warning:u,error:c},L={success:l,warning:s,error:o};return e.theme===Zo.CIRCLE?D:L},P=function(){var D="".concat(e.percentage,"%"),L=e.status||"";if(wae.includes(L)&&e.theme!==Zo.PLUMP){var O=k(),S=O[L];S&&(D=i.createVNode(S,{class:["".concat(a.value,"__icon")]},null))}return D};return function(){var I=i.createVNode("div",{class:"".concat(a.value,"__info")},[n("label",P())]),D=10,L=e.percentage>D?"".concat(a.value,"--over-ten"):"".concat(a.value,"--under-ten");return i.createVNode("div",{class:a.value},[e.theme===Zo.LINE&&i.createVNode("div",{class:"".concat(a.value,"--thin ").concat(a.value,"--status--").concat(f.value)},[i.createVNode("div",{class:"".concat(a.value,"__bar"),style:v.value},[i.createVNode("div",{class:"".concat(a.value,"__inner"),style:h.value},null)]),I]),e.theme===Zo.PLUMP&&i.createVNode("div",{class:["".concat(a.value,"__bar ").concat(a.value,"--plump ").concat(L),G({},"".concat(a.value,"--status--").concat(f.value),f.value)],style:v.value},[i.createVNode("div",{class:"".concat(a.value,"__inner"),style:h.value},[e.percentage>D&&I]),e.percentage<=D&&I]),e.theme===Zo.CIRCLE&&i.createVNode("div",{class:"".concat(a.value,"--circle ").concat(a.value,"--status--").concat(f.value),style:w.value},[I,i.createVNode("svg",{width:m.value,height:m.value,viewBox:"0 0 ".concat(m.value," ").concat(m.value)},[i.createVNode("circle",{cx:y.value,cy:y.value,r:b.value,"stroke-width":C.value,fill:"none",class:["".concat(a.value,"__circle-outer")],style:p.value},null),e.percentage>0&&i.createVNode("circle",{cx:y.value,cy:y.value,r:b.value,"stroke-width":C.value,fill:"none","stroke-linecap":"round",class:["".concat(a.value,"__circle-inner")],transform:"matrix(0,-1,1,0,0,".concat(m.value,")"),"stroke-dasharray":x.value,style:g.value},null)])])])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Sae=be(xae);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Oae={animation:{type:String,default:"none",validator:function(e){return e?["gradient","flashed","none"].includes(e):!0}},delay:{type:Number,default:0},loading:{type:Boolean,default:!0},rowCol:{type:Array},theme:{type:String,validator:function(e){return e?["text","avatar","paragraph","avatar-text","tab","article"].includes(e):!0}}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Qk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function kae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qk(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qk(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var Pae={text:[1],avatar:[{type:"circle",size:"56px"}],paragraph:[1,1,{width:"70%"}],"avatar-text":[[{type:"circle"},{type:"text",height:"32px"}]],tab:[{height:"30px"},{height:"200px"}],article:[{type:"rect",height:"30px",width:"100%"},{type:"rect",height:"200px",width:"100%"},[{type:"text",height:"30px"},{type:"text",height:"30px"},{type:"text",height:"30px"}],[{type:"text",height:"30px"},{type:"text",height:"30px"}],[{type:"text",height:"30px"},{type:"text",height:"30px"}],[{type:"text",height:"30px"},{type:"text",height:"30px"}]]},_ae=function(e){var n=["width","height","marginRight","marginLeft","margin","size","background","backgroundColor"],a=Object.create(null);return n.forEach(function(r){if(r in e){var o=nt(e[r])?"".concat(e[r],"px"):e[r];if(r==="size"){var l=[o,o];a.width=l[0],a.height=l[1]}else a[r]=o}}),a},Iae=i.defineComponent({name:"TSkeleton",props:kae({},Oae),setup:function(e,n){var a=n.slots,r=i.ref(!1),o=ae("skeleton"),l=ft(),s=function(v){return["".concat(o.value,"__col"),"".concat(o.value,"--type-").concat(v.type||"text"),G({},"".concat(o.value,"--animation-").concat(e.animation),e.animation)]},c=function(v){var h=[];return Ie(v)?h=v:nt(v)?h=new Array(v).fill({type:"text"}):h=[v],h.map(function(g){return i.createVNode("div",{class:s(g),style:_ae(g)},[pe(g.content)?g.content(i.h):g.content])})},d=function(v){var h=v||e.rowCol,g=function(){return["".concat(o.value,"__row")]};return h.map(function(p){return i.createVNode("div",{class:g()},[c(p)])})},u=null;return i.watch(function(){return e.loading},function(f){if(!f){clearTimeout(u),r.value=!1;return}e.delay>0?u=setTimeout(function(){clearTimeout(u),r.value=!0},e.delay):r.value=!0},{immediate:!0}),function(){var f=l("default","content");if(a.default&&!r.value)return i.createVNode("div",null,[f]);if(r.value){var v=[];return e.theme&&v.push(d(Pae[e.theme])),e.rowCol&&v.push(d(e.rowCol)),!e.theme&&!e.rowCol&&v.push(d([1,1,1,{width:"70%"}])),i.createVNode("div",{class:o.value},[v])}}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Vk=be(Iae);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Nae={animation:{type:Object},animationStart:Boolean,color:{type:String,validator:function(e){return e?["black","blue","red","orange","green"].includes(e):!0}},decimalPlaces:{type:Number},extra:{type:[String,Function]},format:{type:Function},loading:Boolean,prefix:{type:[String,Function]},separator:{type:String,default:","},suffix:{type:[String,Function]},title:{type:[String,Function]},trend:{type:String,validator:function(e){return e?["increase","decrease"].includes(e):!0}},trendPlacement:{type:String,default:"left",validator:function(e){return e?["left","right"].includes(e):!0}},unit:{type:[String,Function]},value:{type:Number}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var eP=function(e){return 1-Math.abs(Math.pow(e-1,4))},Tae=function(){function t(e){var n=this,a=e.from,r=e.to,o=e.duration,l=o===void 0?200:o,s=e.onStart,c=e.onUpdate,d=c===void 0?function(){}:c,u=e.onFinish;rr(this,t),G(this,"from",void 0),G(this,"to",void 0),G(this,"duration",void 0),G(this,"onStart",void 0),G(this,"onUpdate",void 0),G(this,"onFinish",void 0),G(this,"startTime",void 0),G(this,"started",void 0),G(this,"finished",void 0),G(this,"timer",void 0),G(this,"keys",void 0),G(this,"time",0),G(this,"elapsed",0),this.from=a,this.to=r,this.duration=l,this.onStart=s,this.onUpdate=d,this.onFinish=u,this.startTime=Date.now(),this.started=!1,this.finished=!1,this.timer=null,this.keys={},Object.entries(a).forEach(function(f){var v=Ce(f,2),h=v[0],g=v[1];n.to[h]===void 0&&(n.to[h]=g)}),Object.entries(r).forEach(function(f){var v=Ce(f,2),h=v[0],g=v[1];n.from[h]===void 0&&(n.from[h]=g)})}return ir(t,[{key:"update",value:function(){var n=this;if(this.time=Date.now(),!(this.time<this.startTime||this.finished)){if(this.elapsed>=this.duration){var a;this.finished=!0,(a=this.onFinish)===null||a===void 0||a.call(this,this.keys);return}var r=Math.min(this.time-this.startTime,this.duration);this.elapsed=r;var o=eP(r/this.duration);if(Object.keys(this.to).forEach(function(s){var c=n.to[s]-n.from[s];n.keys[s]=n.from[s]+c*o}),!this.started){var l;(l=this.onStart)===null||l===void 0||l.call(this,this.keys),this.started=!0}this.onUpdate(this.keys)}}},{key:"polyfillStart",value:function(){var n=this,a=Date.now()-this.startTime,r=eP(a/this.duration);this.timer=setInterval(function(){n.update(),n.finished&&clearInterval(n.timer)},r)}},{key:"normalStart",value:function(){var n=this,a=function(){n.update(),n.timer=requestAnimationFrame(a),n.finished&&(cancelAnimationFrame(n.timer),n.timer=null)};a()}},{key:"start",value:function(){this.startTime=Date.now(),Qa()<10?this.polyfillStart():this.normalStart()}},{key:"stop",value:function(){Qa()<10?clearInterval(this.timer):cancelAnimationFrame(this.timer),this.timer=null}}])}();/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Eae={black:"var(--td-text-color-primary)",blue:"var(--td-brand-color)",red:"var(--td-error-color)",orange:"var(--td-warning-color)",green:"var(--td-success-color)"};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Aae=i.defineComponent({name:"TStatistic",props:Nae,setup:function(e,n){var a,r,o=n.expose,l=ae("statistic"),s=Pe(),c=Ve({ArrowTriangleUpFilledIcon:o$,ArrowTriangleDownFilledIcon:r$}),d=c.ArrowTriangleUpFilledIcon,u=c.ArrowTriangleDownFilledIcon,f={increase:i.createVNode(d,null,null),decrease:i.createVNode(u,null,null)},v=i.computed(function(){return nt(e.value)?e.value:0}),h=i.ref((a=(r=e.animation)===null||r===void 0?void 0:r.valueFrom)!==null&&a!==void 0?a:e.value),g=i.computed(function(){var x,k,P;return(x=(k=e.decimalPlaces)!==null&&k!==void 0?k:(P=v.value.toString().split(".")[1])===null||P===void 0?void 0:P.length)!==null&&x!==void 0?x:0}),p=i.ref(),m=i.toRefs(e),y=m.value,b=function(){var k,P,I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:(k=(P=e.animation)===null||P===void 0?void 0:P.valueFrom)!==null&&k!==void 0?k:0,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v.value;if(I!==D){var L;p.value=new Tae({from:{value:I},to:{value:D},duration:e.animation.duration,onUpdate:function(S){h.value=Number(S.value.toFixed(g.value))},onFinish:function(){h.value=D}}),(L=p.value)===null||L===void 0||L.start()}},w=i.computed(function(){var x=h.value,k=e.decimalPlaces,P=e.separator;if(pe(e.format))return e.format(x);var I={minimumFractionDigits:k||0,maximumFractionDigits:k||20,useGrouping:!!P};return x=x.toLocaleString(void 0,I).replace(/,|，/g,P),x}),C=i.computed(function(){var x=e.color;return{color:Eae[x]||x}});return i.watch(function(){return e.animationStart},function(x){e.animation&&x&&!p.value&&b()}),i.watch(y,function(x){if(p.value){var k;(k=p.value)===null||k===void 0||k.stop(),p.value=null}h.value=x,e.animationStart&&e.animation&&b()}),i.onMounted(function(){return e.animation&&e.animationStart&&b()}),o({start:b}),function(){var x=e.trend?f[e.trend]:null,k=s("prefix")||(x&&e.trendPlacement!=="right"?x:null),P=s("suffix")||(x&&e.trendPlacement==="right"?x:null),I=s("title"),D=s("unit"),L=s("extra");return i.createVNode("div",{class:l.value},[I&&i.createVNode("div",{class:"".concat(l.value,"-title")},[I]),i.createVNode(Vk,{animation:"gradient",theme:"text",loading:!!e.loading},{default:function(){return[i.createVNode("div",{class:"".concat(l.value,"-content"),style:C.value},[k&&i.createVNode("span",{class:"".concat(l.value,"-content-prefix")},[k]),i.createVNode("span",{class:"".concat(l.value,"-content-value")},[w.value]),D&&i.createVNode("span",{class:"".concat(l.value,"-content-unit")},[D]),P&&i.createVNode("span",{class:"".concat(l.value,"-content-suffix")},[P])])]}}),L&&i.createVNode("div",{class:"".concat(l.value,"-extra")},[L])])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Rae=be(Aae);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var tP={animation:{type:String,default:"slide",validator:function(e){return e?["slide","fade"].includes(e):!0}},autoplay:{type:Boolean,default:!0},current:{type:Number,default:0},defaultCurrent:{type:Number,default:0},direction:{type:String,default:"horizontal",validator:function(e){return e?["horizontal","vertical"].includes(e):!0}},duration:{type:Number,default:300},height:{type:Number},interval:{type:Number,default:5e3},loop:{type:Boolean,default:!0},navigation:{type:[Object,Function]},stopOnHover:{type:Boolean,default:!0},theme:{type:String,default:"light",validator:function(e){return e?["light","dark"].includes(e):!0}},trigger:{type:String,default:"hover",validator:function(e){return e?["hover","click"].includes(e):!0}},type:{type:String,default:"default",validator:function(e){return e?["default","card"].includes(e):!0}},onChange:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function nP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function aP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nP(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var Dae={index:{type:Number},currentIndex:{type:Number},isSwitching:{type:Boolean,default:!1},getWrapAttribute:{type:Function},swiperItemLength:{type:Number,default:0}},Wu=210/332,Uu=.415,rP=i.defineComponent({name:"TSwiperItem",props:aP(aP({},tP),Dae),setup:function(e,n){var a=n.slots,r=ae(),o=i.computed(function(){return e.index===e.currentIndex}),l=i.computed(function(){return e.type!=="card"?0:e.currentIndex===0&&e.index===e.swiperItemLength-1?-1:e.currentIndex===e.swiperItemLength-1&&e.index===0?e.swiperItemLength:e.index<e.currentIndex-1&&e.currentIndex-e.index>=e.swiperItemLength/2?e.swiperItemLength+1:e.index>e.currentIndex+1&&e.index-e.currentIndex>=e.swiperItemLength/2?-2:e.index}),s=i.computed(function(){if(e.type!=="card")return 0;var u=e.getWrapAttribute("offsetWidth")||0,f=!o.value&&e.swiperItemLength>2?l.value:e.index,v=Math.abs(f-e.currentIndex)<=1;return v?u*((f-e.currentIndex)*(1-Uu*Wu)-Uu+1)/2:f<e.currentIndex?-Uu*(1+Wu)*u/2:(2+Uu*(Wu-1))*u/2}),c=i.computed(function(){if(e.type!=="card")return 0;var u=!o.value&&e.swiperItemLength>2?l.value:e.index,f=u===e.currentIndex,v=Math.round(Math.abs(u-e.currentIndex))<=1;return f?2:v?1:0}),d=i.computed(function(){if(e.animation==="fade")return{opacity:o.value?1:0,transition:e.isSwitching?"opacity ".concat(e.duration/1e3,"s"):"",zIndex:o.value?1:0};if(e.type==="card"){var u=!o.value&&e.swiperItemLength>2?l.value:e.index,f=u===e.currentIndex;return{transform:"translateX(".concat(s.value,"px) scale(").concat(f?1:Wu,")"),transition:"transform ".concat(e.duration/1e3,"s ease"),zIndex:c.value}}return{}});return function(){var u;return i.createVNode("div",{class:["".concat(r.value,"-swiper__container__item"),G(G(G({},"".concat(r.value,"-swiper__card"),e.type==="card"),"".concat(r.value,"-is-active"),e.type==="card"&&o.value),"".concat(r.value,"-swiper__fade"),e.animation==="fade")],style:d.value},[((u=a.default)===null||u===void 0?void 0:u.call(a,{}))||[]])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function iP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function vs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iP(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iP(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function jae(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!i.isVNode(t)}var Mae={placement:"inside",showSlideBtn:"always",size:"medium",type:"bars"},Fae=i.defineComponent({name:"TSwiper",props:vs({},tP),emits:["update:current"],setup:function(e,n){var a=n.emit,r=ae(),o=Pe(),l=Ve({ChevronLeftIcon:Co,ChevronRightIcon:Rr}),s=l.ChevronLeftIcon,c=l.ChevronRightIcon,d=null,u=0,f=!1,v=!1,h=i.ref(e.current||e.defaultCurrent),g=i.ref(e.current||e.defaultCurrent),p=i.ref(!1),m=i.ref(!1),y=i.ref(!1),b=i.ref(),w=tr(),C=i.ref(0),x=i.computed(function(){return vs(vs({},Mae),i.isVNode(e.navigation)?{}:e.navigation)}),k=i.computed(function(){return e.type==="card"?!e.loop&&h.value+1>=C.value:!e.loop&&h.value+2>=C.value}),P=i.computed(function(){return[e.autoplay,h.value,e.duration,e.interval]}),I=i.computed(function(){return G(G(G(G(G(G({},"".concat(r.value,"-swiper__wrap"),!0),"".concat(r.value,"-swiper--inside"),x.value.placement==="inside"),"".concat(r.value,"-swiper--outside"),x.value.placement==="outside"),"".concat(r.value,"-swiper--vertical"),e.direction==="vertical"),"".concat(r.value,"-swiper--large"),x.value.size==="large"),"".concat(r.value,"-swiper--small"),x.value.size==="small")}),D=i.computed(function(){var B=e.height?"".concat(e.height,"px"):"".concat($("offsetHeight"),"px");if(e.type==="card"||e.animation==="fade")return{height:B};if(e.animation==="slide"){var q={transition:m.value?"transform ".concat(e.duration/1e3,"s ease"):""},Y=h.value;return C.value>1&&(Y+=1,(f||v)&&(q.transition="")),e.direction==="vertical"?(q.height=B,q.transform="translate3d(0, -".concat(Y*100,"%, 0px)")):q.transform="translate3d(-".concat(Y*100,"%, 0px, 0px)"),["msTransform","WebkitTransform"].forEach(function(X){q[X]=q.transform}),q}return{}}),L=function(){var q=w("SwiperItem");C.value=q.length;var Y=q.map(function(j,U){var J,Z=vs(vs({},e),j.props);return i.createVNode(rP,i.mergeProps({index:U,currentIndex:h.value,isSwitching:m.value,getWrapAttribute:$,swiperItemLength:C.value},Z),jae(J=j.children.default())?J:{default:function(){return[J]}})});if(e.animation==="slide"&&Y.length>1){var X=i.cloneVNode(Y[0],{key:"swiper-item-append-".concat(0)}),T=i.cloneVNode(Y[Y.length-1],{key:"swiper-item-prepend-".concat(Y.length-1)});Y.unshift(T),Y.push(X)}return Y},O=function(q,Y){var X,T=q%C.value;g.value=T,a("update:current",T),(X=e.onChange)===null||X===void 0||X.call(e,T,Y),m.value=!0,e.animation==="slide"&&C.value>1&&e.type!=="card"&&(T=q,f=!1,v=!1,q>=C.value&&(S(),setTimeout(function(){v=!0,h.value=0},e.duration)),h.value===0&&(C.value>2&&q===C.value-1||C.value===2&&q===0)&&(T=-1,g.value=C.value-1,S(),setTimeout(function(){f=!0,h.value=C.value-1},e.duration))),h.value=T},S=function(){d&&(clearTimeout(d),d=null)},_=function(){e.autoplay&&e.interval>0&&(S(),d=setTimeout(function(){O(h.value+1,{source:"autoplay"})},h.value===0?e.interval-(e.duration+50):e.interval))},A=function(){p.value=!0,e.stopOnHover&&S(),x.value.showSlideBtn==="hover"&&(y.value=!0)},E=function(){p.value=!1,k.value||_(),x.value.showSlideBtn==="hover"&&(y.value=!1)},R=function(q){e.trigger==="hover"&&O(q,{source:"hover"})},N=function(q){e.trigger==="click"&&O(q,{source:"click"})},F=function(q){if(!m.value)return e.type==="card"?O(h.value+1>=C.value?0:h.value+1,q):O(h.value+1,q)},M=function(q){if(!m.value)return h.value-1<0?e.animation==="slide"&&C.value===2?O(0,q):O(C.value-1,q):O(h.value-1,q)},$=function(q){var Y;return(Y=b.value)===null||Y===void 0||(Y=Y.parentNode)===null||Y===void 0?void 0:Y[q]},W=function(){var q=h.value+1>C.value?1:h.value+1;return i.createVNode("div",{class:"".concat(r.value,"-swiper__arrow")},[i.createVNode("div",{class:"".concat(r.value,"-swiper__arrow-left"),onClick:function(){return M({source:"click"})}},[i.createVNode(s,null,null)]),i.createVNode("div",{class:"".concat(r.value,"-swiper__navigation-text-fraction")},[q,"/",C.value]),i.createVNode("div",{class:"".concat(r.value,"-swiper__arrow-right"),onClick:function(){return F({source:"click"})}},[i.createVNode(c,null,null)])])},H=function(){return y.value?i.createVNode("div",{class:["".concat(r.value,"-swiper__arrow"),"".concat(r.value,"-swiper__arrow--default")]},[i.createVNode("div",{class:"".concat(r.value,"-swiper__arrow-left"),onClick:function(){return M({source:"click"})}},[i.createVNode(s,null,null)]),i.createVNode("div",{class:"".concat(r.value,"-swiper__arrow-right"),onClick:function(){return F({source:"click"})}},[i.createVNode(c,null,null)])]):null},K=function(){if(i.isVNode(e.navigation))return e.navigation;var q=o("navigation");if(q&&i.isVNode(q==null?void 0:q[0]))return q;if(x.value.type==="fraction")return i.createVNode("div",{class:["".concat(r.value,"-swiper__navigation"),"".concat(r.value,"-swiper__navigation--fraction")]},[W()]);var Y=w("SwiperItem");return i.createVNode("ul",{class:["".concat(r.value,"-swiper__navigation"),G(G(G({},"".concat(r.value,"-swiper__navigation-bars"),x.value.type==="bars"),"".concat(r.value,"-swiper__navigation-dots"),x.value.type==="dots"),"".concat(r.value,"-swiper__navigation-dots-bar"),x.value.type==="dots-bar")]},[Y.map(function(X,T){return i.createVNode("li",{key:T,class:["".concat(r.value,"-swiper__navigation-item"),G({},"".concat(r.value,"-is-active"),T===g.value)],onMouseenter:function(){return R(T)},onClick:function(){return N(T)}},[i.createVNode("span",null,null)])})])},z=function(){return L()};return i.watch(function(){return P.value},function(){_()}),i.watch(function(){return m.value},function(){m.value&&(u&&clearTimeout(u),u=setTimeout(function(){m.value=!1,u=0,k.value&&S()},e.duration+50))}),i.watch(function(){return e.current},function(){e.autoplay&&O(e.current,{source:"autoplay"})}),i.onMounted(function(){_(),y.value=x.value.showSlideBtn==="always"}),function(){return i.createVNode("div",{class:["".concat(r.value,"-swiper")],onMouseenter:A,onMouseleave:E,ref:b},[i.createVNode("div",{class:I.value},[i.createVNode("div",{class:["".concat(r.value,"-swiper__content"),G(G({},"".concat(r.value,"-swiper-fade"),e.animation==="fade"),"".concat(r.value,"-swiper-card"),e.type==="card")]},[i.createVNode("div",{class:"".concat(r.value,"-swiper__container"),style:D.value},[z()])]),K(),H()])])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Lae=be(Fae),$ae=be(rP);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Qo={activeRowKeys:{type:Array,default:void 0},defaultActiveRowKeys:{type:Array,default:function(){return[]}},activeRowType:{type:String,default:""},allowResizeColumnWidth:{type:Boolean,default:void 0},attach:{type:[String,Function]},bordered:Boolean,bottomContent:{type:[String,Function]},cellEmptyContent:{type:[String,Function]},columns:{type:Array,default:function(){return[]}},data:{type:Array,default:function(){return[]}},disableDataPage:Boolean,disableSpaceInactiveRow:{type:Boolean,default:void 0},empty:{type:[String,Function],default:""},firstFullRow:{type:[String,Function]},fixedRows:{type:Array},footData:{type:Array,default:function(){return[]}},footerAffixProps:{type:Object},footerAffixedBottom:{type:[Boolean,Object],default:!1},footerSummary:{type:[String,Function]},headerAffixProps:{type:Object},headerAffixedTop:{type:[Boolean,Object],default:!1},height:{type:[String,Number]},horizontalScrollAffixedBottom:{type:[Boolean,Object]},hover:Boolean,keyboardRowHover:{type:Boolean,default:!0},lastFullRow:{type:[String,Function]},lazyLoad:Boolean,loading:{type:[Boolean,Function],default:void 0},loadingProps:{type:Object},locale:{type:Object},maxHeight:{type:[String,Number]},pagination:{type:Object},paginationAffixedBottom:{type:[Boolean,Object]},resizable:Boolean,rowAttributes:{type:[Object,Array,Function]},rowClassName:{type:[String,Object,Array,Function]},rowKey:{type:String,default:"id",required:!0},rowspanAndColspan:{type:Function},rowspanAndColspanInFooter:{type:Function},scroll:{type:Object},showHeader:{type:Boolean,default:!0},size:{type:String,validator:function(e){return e?["small","medium","large"].includes(e):!0}},stripe:Boolean,tableContentWidth:{type:String,default:""},tableLayout:{type:String,default:"fixed",validator:function(e){return e?["auto","fixed"].includes(e):!0}},topContent:{type:[String,Function]},verticalAlign:{type:String,default:"middle",validator:function(e){return e?["top","middle","bottom"].includes(e):!0}},onActiveChange:Function,onActiveRowAction:Function,onCellClick:Function,onColumnResizeChange:Function,onPageChange:Function,onRowClick:Function,onRowDblclick:Function,onRowMousedown:Function,onRowMouseenter:Function,onRowMouseleave:Function,onRowMouseover:Function,onRowMouseup:Function,onScroll:Function,onScrollX:Function,onScrollY:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function oP(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,a=n,r=0,o=t.length;r<o;r++){var l,s=t[r];if(e.set(s,n),s!=null&&(l=s.children)!==null&&l!==void 0&&l.length){var c=oP(s.children,e,n+1);c>a&&(a=c)}}return a}function lP(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=e,a=(t==null?void 0:t.children)||[],r=0,o=a.length;r<o;r++){var l=a[r];l.children?n=lP(l,n):n+=1}return n}function Bae(t){var e=new Map,n=oP(t,e),a=new Map,r=function(s,c){for(var d=0,u=s.length;d<u;d++){var f,v=s[d],h=v.children?1:n-e.get(v)+1,g=v.children?lP(v):1,p={};h>1&&(p.rowspan=h),g>1&&(p.colspan=g),a.set(v,p),v!=null&&(f=v.children)!==null&&f!==void 0&&f.length?r(v.children,c):c.push(v)}},o=[];return r(t,o),{rowspanAndColspanMap:a,leafColumns:o}}function zae(t){var e=function(r,o){for(var l,s=[],c=[],d=0,u=r.length;d<u;d++){var f,v=r[d],h=[v];s=s.concat(h),v!=null&&(f=v.children)!==null&&f!==void 0&&f.length&&(c=c.concat(v.children))}return(l=c)!==null&&l!==void 0&&l.length&&e(c,o),o.push(s),s},n=[];return e(t,n),n=n.reverse(),n}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Tn(){var t=ae(),e={classPrefix:t.value,tableBaseClass:{table:"".concat(t.value,"-table"),columnResizableTable:"".concat(t.value,"-table--column-resizable"),overflowVisible:"".concat(t.value,"-table--overflow-visible"),body:"".concat(t.value,"-table__body"),content:"".concat(t.value,"-table__content"),topContent:"".concat(t.value,"-table__top-content"),bottomContent:"".concat(t.value,"-table__bottom-content"),paginationWrap:"".concat(t.value,"-table__pagination-wrap"),tdLastRow:"".concat(t.value,"-table__td-last-row"),tdFirstCol:"".concat(t.value,"-table__td-first-col"),thCellInner:"".concat(t.value,"-table__th-cell-inner"),tableRowEdit:"".concat(t.value,"-table--row-edit"),cellEditable:"".concat(t.value,"-table__cell--editable"),cellEditWrap:"".concat(t.value,"-table__cell-wrap"),bordered:"".concat(t.value,"-table--bordered"),striped:"".concat(t.value,"-table--striped"),hover:"".concat(t.value,"-table--hoverable"),loading:"".concat(t.value,"-table--loading"),rowspanAndColspan:"".concat(t.value,"-table--rowspan-colspan"),empty:"".concat(t.value,"-table__empty"),emptyRow:"".concat(t.value,"-table__empty-row"),headerFixed:"".concat(t.value,"-table--header-fixed"),columnFixed:"".concat(t.value,"-table--column-fixed"),widthOverflow:"".concat(t.value,"-table--width-overflow"),multipleHeader:"".concat(t.value,"-table--multiple-header"),footerAffixed:"".concat(t.value,"-table--footer-affixed"),horizontalBarAffixed:"".concat(t.value,"-table--horizontal-bar-affixed"),affixedHeader:"".concat(t.value,"-table--affixed-header"),affixedHeaderElm:"".concat(t.value,"-table__affixed-header-elm"),affixedFooterElm:"".concat(t.value,"-table__affixed-footer-elm"),affixedFooterWrap:"".concat(t.value,"-table__affixed-footer-wrap"),scrollbarDivider:"".concat(t.value,"-table__scroll-bar-divider"),fullHeight:"".concat(t.value,"-table--full-height"),resizeLine:"".concat(t.value,"-table__resize-line"),obviousScrollbar:"".concat(t.value,"-table__scrollbar--obvious"),affixedHeaderWrap:"".concat(t.value,"-table__affixed-header-elm-wrap")},tdAlignClasses:{left:"".concat(t.value,"-align-left"),right:"".concat(t.value,"-align-right"),center:"".concat(t.value,"-align-center")},tableHeaderClasses:{header:"".concat(t.value,"-table__header"),thBordered:"".concat(t.value,"-table__header-th--bordered"),fixed:"".concat(t.value,"-table__header--fixed"),multipleHeader:"".concat(t.value,"-table__header--multiple")},tableFooterClasses:{footer:"".concat(t.value,"-table__footer"),fixed:"".concat(t.value,"-table__footer--fixed")},tableAlignClasses:{top:"".concat(t.value,"-vertical-align-top"),middle:"".concat(t.value,"-vertical-align-middle"),bottom:"".concat(t.value,"-vertical-align-bottom")},tableRowFixedClasses:{top:"".concat(t.value,"-table__row--fixed-top"),bottom:"".concat(t.value,"-table__row--fixed-bottom"),firstBottom:"".concat(t.value,"-table__row--fixed-bottom-first"),withoutBorderBottom:"".concat(t.value,"-table__row--without-border-bottom")},tableColFixedClasses:{left:"".concat(t.value,"-table__cell--fixed-left"),right:"".concat(t.value,"-table__cell--fixed-right"),lastLeft:"".concat(t.value,"-table__cell--fixed-left-last"),firstRight:"".concat(t.value,"-table__cell--fixed-right-first"),leftShadow:"".concat(t.value,"-table__content--scrollable-to-left"),rightShadow:"".concat(t.value,"-table__content--scrollable-to-right")},tableLayoutClasses:{auto:"".concat(t.value,"-table--layout-auto"),fixed:"".concat(t.value,"-table--layout-fixed")},tdEllipsisClass:"".concat(t.value,"-table-td--ellipsis"),tableFullRowClasses:{base:"".concat(t.value,"-table__row--full"),innerFullRow:"".concat(t.value,"-table__row-full-inner"),innerFullElement:"".concat(t.value,"-table__row-full-element"),firstFullRow:"".concat(t.value,"-table__first-full-row"),lastFullRow:"".concat(t.value,"-table__last-full-row")},tableExpandClasses:{iconBox:"".concat(t.value,"-table__expand-box"),iconCell:"".concat(t.value,"-table__expandable-icon-cell"),rowExpanded:"".concat(t.value,"-table__row--expanded"),rowFolded:"".concat(t.value,"-table__row--folded"),row:"".concat(t.value,"-table__expanded-row"),rowInner:"".concat(t.value,"-table__expanded-row-inner"),expanded:"".concat(t.value,"-table__row--expanded"),collapsed:"".concat(t.value,"-table__row--collapsed")},tableSortClasses:{sortable:"".concat(t.value,"-table__cell--sortable"),sortColumn:"".concat(t.value,"-table__sort-column"),title:"".concat(t.value,"-table__cell--title"),trigger:"".concat(t.value,"-table__cell--sort-trigger"),doubleIcon:"".concat(t.value,"-table__double-icons"),sortIcon:"".concat(t.value,"-table__sort-icon"),iconDirection:{asc:"".concat(t.value,"-table-sort-asc"),desc:"".concat(t.value,"-table-sort-desc")},iconActive:"".concat(t.value,"-table__sort-icon--active"),iconDefault:"".concat(t.value,"-icon-sort--default")},tableSelectedClasses:{selected:"".concat(t.value,"-table__row--selected"),disabled:"".concat(t.value,"-table__row--disabled"),checkCell:"".concat(t.value,"-table__cell-check")},tableFilterClasses:{filterable:"".concat(t.value,"-table__cell--filterable"),popup:"".concat(t.value,"-table__filter-pop"),icon:"".concat(t.value,"-table__filter-icon"),popupContent:"".concat(t.value,"-table__filter-pop-content"),result:"".concat(t.value,"-table__filter-result"),inner:"".concat(t.value,"-table__row-filter-inner"),bottomButtons:"".concat(t.value,"-table__filter--bottom-buttons"),contentInner:"".concat(t.value,"-table__filter-pop-content-inner"),iconWrap:"".concat(t.value,"-table__filter-icon-wrap")},asyncLoadingClass:"".concat(t.value,"-table__async-loading"),isFocusClass:"".concat(t.value,"-is-focus"),isLoadingClass:"".concat(t.value,"-is-loading"),isLoadMoreClass:"".concat(t.value,"-is-load-more"),tableTreeClasses:{col:"".concat(t.value,"-table__tree-col"),inlineCol:"".concat(t.value,"-table__tree-col--inline"),icon:"".concat(t.value,"-table__tree-op-icon"),leafNode:"".concat(t.value,"-table__tree-leaf-node")},tableDraggableClasses:{rowDraggable:"".concat(t.value,"-table--row-draggable"),rowHandlerDraggable:"".concat(t.value,"-table--row-handler-draggable"),colDraggable:"".concat(t.value,"-table--col-draggable"),handle:"".concat(t.value,"-table__handle-draggable"),ghost:"".concat(t.value,"-table__ele--draggable-ghost"),chosen:"".concat(t.value,"-table__ele--draggable-chosen"),dragging:"".concat(t.value,"-table__ele--draggable-dragging"),dragSortTh:"".concat(t.value,"-table__th--drag-sort")},virtualScrollClasses:{cursor:"".concat(t.value,"-table__virtual-scroll-cursor"),header:"".concat(t.value,"-table__virtual-scroll-header")},positiveRotate90:"".concat(t.value,"-positive-rotate-90"),negativeRotate180:"".concat(t.value,"-negative-rotate-180")};return e}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function sP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Hae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sP(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Wae(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!i.isVNode(t)}var xh=i.defineComponent({name:"TEllipsis",props:{content:{type:[String,Function]},default:{type:[String,Function]},tooltipContent:{type:[String,Number,Function]},placement:String,attach:[String,Function],tooltipProps:Object,zIndex:Number,overlayClassName:String,classPrefix:{type:String,default:"t"}},setup:function(e){var n=i.ref(),a=i.ref(!1),r=i.ref(!1),o=i.computed(function(){return["".concat(e.classPrefix,"-table__ellipsis"),"".concat(e.classPrefix,"-text-ellipsis")]}),l=i.computed(function(){return["".concat(e.classPrefix,"-table__ellipsis-content"),e.overlayClassName]});i.onMounted(function(){r.value=Oc(n.value)}),i.onUpdated(function(){r.value=Oc(n.value)});var s=function(){n.value&&(a.value=!0)},c=function(){n.value},d=function(v){v||(a.value=!1)},u=ar(function(f){f.type==="mouseleave"?c():s()},80);return{flag:a,root:n,isOverflow:r,ellipsisClasses:o,innerEllipsisClassName:l,onMouseAround:u,handleVisibleChange:d}},render:function(){var e=fa(this,"default","content"),n=i.createVNode("div",{ref:"root",class:this.ellipsisClasses,onMouseenter:this.onMouseAround,onMouseleave:this.onMouseAround,style:{textOverflow:this.isOverflow?"ellipsis":"clip"}},[e]),a=null,r=this.tooltipProps;if(this.isOverflow&&this.flag){var o=Hae({content:this.tooltipContent||function(){return e},destroyOnClose:!0,zIndex:this.zIndex,attach:this.attach,placement:this.placement,overlayClassName:r!=null&&r.overlayClassName?this.innerEllipsisClassName.concat(r.overlayClassName):this.innerEllipsisClassName,onVisibleChange:this.handleVisibleChange},r);a=i.createVNode(pn,o,Wae(n)?n:{default:function(){return[n]}})}else a=n;return a}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function cP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function uP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cP(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cP(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Uae(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!i.isVNode(t)}function Ku(t,e,n){var a={col:e,colIndex:n};return pe(e.title)?e.title(i.h,a):Ae(e.title)&&t[e.title]?t[e.title](a):pe(e.render)&&e.render(i.h,uP(uP({},a),{},{type:"title",row:{},rowIndex:-1}))||e.title}function dP(t){var e=Tn(),n=e.tableSortClasses,a=e.tableFilterClasses,r=i.computed(function(){return Bae(t.columns)}),o=i.computed(function(){return zae(t.columns)}),l=i.computed(function(){return o.value.length>1}),s=function(d,u,f,v,h,g){var p=Ce(d,3),m=p[0],y=p[1],b=p[2],w=G(G({},n.sortable,y),a.filterable,b),C=pe(v)?v(i.h,{col:u,colIndex:f}):void 0,x=v!==void 0?!!v:!!u.ellipsis;return i.createVNode("div",{class:w},[i.createVNode("div",{class:n.title},[x?i.createVNode(xh,{placement:"bottom",attach:t.attach||(h?function(){return h}:void 0),tooltipContent:C&&function(){return C},tooltipProps:Je(v)==="object"?v:void 0,classPrefix:g==null?void 0:g.classPrefix,overlayClassName:g==null?void 0:g.ellipsisOverlayClassName},Uae(m)?m:{default:function(){return[m]}}):i.createVNode("div",null,[m]),!!(y||b)&&i.createVNode("div",{class:a.iconWrap},[y,b])])])};return{thList:o,isMultipleHeader:l,spansAndLeafNodes:r,renderTitleWidthIcon:s}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function fP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Kae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fP(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var Yae=80,qae=600,vP=8;function Gae(t){var e=t.isWidthOverflow,n=t.tableContentRef,a=t.showColumnShadow,r=t.getThWidthList,o=t.updateThWidthList,l=t.setTableElmWidth,s=t.updateTableAfterColumnResize,c=t.onColumnResizeChange,d=i.ref(),u=i.ref({}),f=i.ref([]),v,h;i.onMounted(function(){var S=typeof document<"u";v=S?document.onselectstart:null,h=S?document.ondragstart:null});var g=function(_,A,E){for(var R=A;_[R]&&_[R].resizable===!1;)E==="next"?R+=1:R-=1;return _[R]},p=function(_,A){_&&(f.value=_,_.forEach(function(E,R){var N=g(_,R-1,"prev"),F=g(_,R+1,"next"),M=A?u.value[A.colKey].prev:F,$=A?u.value[A.colKey].next:N,W=R===0?M:N,H=R===_.length-1?$:F;u.value[E.colKey]={prev:W,next:H,current:{prevSibling:g(_,R-1,"prev"),nextSibling:g(_,R+1,"next")}},p(E.children,E)}))},m={isDragging:!1,draggingCol:null,draggingStart:0,effectCol:"next"},y=i.reactive({display:"none",height:"10px",left:"10px",bottom:"0"}),b=function(_){return _.fixed==="right"&&a.right},w=function(_,A){if(!(!d.value||m.isDragging||!_.target)){var E=_.target.closest("th"),R=E.getAttribute("data-colkey");if(f.value.find(function(T){return T.colKey===R})){var N=E.getBoundingClientRect(),F=N.right-_.pageX<=vP,M=_.pageX-N.left<=vP,$=b(A);if(F||$){var W,H=(W=A.resizable)!==null&&W!==void 0?W:!0;if(H){E.style.cursor=F||$&&M?"col-resize":"";var K=F&&!$||$&&M;m.draggingCol=K?E:E.nextElementSibling,m.effectCol="next";return}}else if(M){var z=E.previousElementSibling;if(z){var B,q,Y=(B=u.value[A.colKey])===null||B===void 0?void 0:B.prev,X=(q=Y==null?void 0:Y.resizable)!==null&&q!==void 0?q:!0;if(X){E.style.cursor="col-resize",m.draggingCol=z,m.effectCol="prev";return}}}E.style.cursor="",m.draggingCol=null,m.effectCol=null}}},C=function(_){var A,E,R=nt(_.minWidth)?_.minWidth:parseInt(_.minWidth||"0",10);return{minColWidth:Math.max(((A=_.resize)===null||A===void 0?void 0:A.minWidth)||Yae,R),maxColWidth:((E=_.resize)===null||E===void 0?void 0:E.maxWidth)||qae}},x=function(_,A,E,R){var N=E.right-R.left,F=E.left-R.left,M=m.effectCol==="next"?_:A,$=C(M),W=$.minColWidth,H=$.maxColWidth;return{resizeLinePos:N,minResizeLineLeft:F+W,maxResizeLineLeft:F+H}},k=function(_,A,E,R,N){var F=R.left-N.left,M=_.dataset.colkey===A.colKey?A:E,$=R.left-N.left,W=C(M),H=W.minColWidth,K=W.maxColWidth;return{resizeLinePos:F,minResizeLineLeft:$+(R.width-K),maxResizeLineLeft:$+(R.width-H)}},P=function(_,A){var E=_.left-A.left,R=_.left-A.left;return{resizeLinePos:E,minResizeLineLeft:R,maxResizeLineLeft:R}},I=function(_){var A=0;return f.value.forEach(function(E){A+=_[E.colKey]}),A},D=function(_,A,E,R){var N=!0;if(A){var F=C(A),M=F.minColWidth,$=F.maxColWidth,W=_[A.colKey]+E;N=W<M||W>$}return!(N||e.value||R===f.value.length-1)},L=function(_,A,E,R){return A?x(_,A,E,R):P(E,R)},O=function(_,A,E){var R,N,F;if(m.draggingCol){var M=m.draggingCol,$=M.getBoundingClientRect(),W=(R=n.value)===null||R===void 0?void 0:R.getBoundingClientRect(),H=(N=u.value[A.colKey])===null||N===void 0?void 0:N.next,K=(F=u.value[A.colKey])===null||F===void 0?void 0:F.prev,z=b(A)?k(M,A,H,$,W):L(A,H,$,W),B=z.resizeLinePos,q=z.minResizeLineLeft,Y=z.maxResizeLineLeft;if(m.isDragging=!0,m.draggingStart=_.x,d!=null&&d.value){y.display="block",y.height="".concat(W.bottom-$.top,"px"),y.left="".concat(B,"px");var X=n.value.parentElement.getBoundingClientRect();y.bottom="".concat(X.bottom-W.bottom,"px")}var T=function(){var J;if(m.isDragging){var Z=B-parseFloat(y.left)||0,Q=r("calculate"),ee=(J=u.value[A.colKey])===null||J===void 0?void 0:J.current;if(ee){var ne=m.effectCol==="next"?ee.nextSibling:ee.prevSibling,V=Kae({},Q),re=A.resizable!==!1?A:ne,ce=m.effectCol==="next"?ee.nextSibling:A,se=D(V,ce,Z,E);m.effectCol==="next"?b(A)?M.dataset.colkey!==A.colKey?V[H.colKey]+=Z:V[re.colKey]+=Z:(V[re.colKey]-=Z,se&&(V[H.colKey]+=Z)):m.effectCol==="prev"&&(se&&(V[re.colKey]+=Z),K&&(V[K.colKey]-=Z)),o(V);var ue=I(V);l(Math.round(ue)),s(),m.isDragging=!1,m.draggingCol=null,m.effectCol=null,M.style.cursor="",y.display="none",y.left="0",rt(document,"mouseup",T),rt(document,"mousemove",j),document.onselectstart=v,document.ondragstart=h,c==null||c({columnsWidth:V})}}},j=function(J){if(m.isDragging){var Z=B+J.x-m.draggingStart;y.left="".concat(Math.min(Math.max(Z,q),Y),"px")}};pt(document,"mouseup",T),pt(document,"mousemove",j),document.onselectstart=function(){return!1},document.ondragstart=function(){return!1}}};return{resizeLineRef:d,resizeLineStyle:y,onColumnMouseover:w,onColumnMousedown:O,setEffectColMap:p}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Xae(){}var Jae=Xae,Sh=Zp,Zae=Jae,Qae=bf,Vae=1/0,ere=Sh&&1/Qae(new Sh([,-0]))[1]==Vae?function(t){return new Sh(t)}:Zae,tre=ere,nre=pc,are=xv,rre=Sv,ire=mc,ore=tre,lre=bf,sre=200;function cre(t,e,n){var a=-1,r=are,o=t.length,l=!0,s=[],c=s;if(n)l=!1,r=rre;else if(o>=sre){var d=e?null:ore(t);if(d)return lre(d);l=!1,r=ire,c=new nre}else c=e?[]:s;e:for(;++a<o;){var u=t[a],f=e?e(u):u;if(u=n||u!==0?u:0,l&&f===f){for(var v=c.length;v--;)if(c[v]===f)continue e;e&&c.push(f),s.push(u)}else r(c,f,n)||(c!==s&&c.push(f),s.push(u))}return s}var ure=cre,dre=Ox,fre=fv,hP=ure;function vre(t,e,n){var a=t.length;if(a<2)return a?hP(t[0]):[];for(var r=-1,o=Array(a);++r<a;)for(var l=t[r],s=-1;++s<a;)s!=r&&(o[r]=dre(o[r]||l,t[s],e,n));return hP(fre(o,1),e,n)}var hre=vre,gre=pf,pre=uc,mre=hre,yre=cc,bre=sw,wre=pre(function(t){var e=bre(t);return e=typeof e=="function"?e:void 0,mre(gre(t,yre),void 0,e)}),Cre=wre;function gP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Vo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gP(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Oh(t,e,n,a){var r=n==null?void 0:n.get(t.colKey||e);if(!r)return{};var o=G(G(G(G({},a.left,t.fixed==="left"),a.right,t.fixed==="right"),a.lastLeft,t.fixed==="left"&&r.lastLeftFixedCol),a.firstRight,t.fixed==="right"&&r.firstRightFixedCol),l={left:t.fixed==="left"?"".concat(r.left,"px"):void 0,right:t.fixed==="right"?"".concat(r.right,"px"):void 0};return{style:l,classes:o}}function xre(t,e,n,a,r,o){var l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0;if(!a||!a.length)return{style:void 0,classes:void 0};var s=e<a[0],c=e>n-1-a[1],d=n-a[1],u=(r==null?void 0:r.get(t))||{},f=G(G(G(G({},o.top,s),o.bottom,c),o.firstBottom,e===d),o.withoutBorderBottom,e===d-1),v={top:s?"".concat(u.top-l,"px"):void 0,bottom:c?"".concat(u.bottom+l,"px"):void 0};return{style:v,classes:f}}function Sre(t,e,n,a){var r=i.toRefs(t),o=r.columns,l=r.tableLayout,s=r.tableContentWidth,c=r.fixedRows,d=r.firstFullRow,u=r.lastFullRow,f=r.maxHeight,v=r.headerAffixedTop,h=r.footerAffixedBottom,g=r.bordered,p=r.resizable,m=r.allowResizeColumnWidth,y=i.ref([]),b=i.ref(),w=i.ref(),C=i.ref(!1),x=i.ref(!1),k=i.ref(),P=i.ref(6),I=i.ref(new Map),D=i.reactive({left:!1,right:!1}),L=i.ref({left:0,top:0}),O=i.ref(0),S=i.ref(0),_=i.ref({}),A=i.ref(!1),E=i.ref(!1),R=i.ref(!1),N=i.computed(function(){var le,ie;return(le=(ie=m.value)!==null&&ie!==void 0?ie:p.value)!==null&&le!==void 0?le:!1}),F=i.computed(function(){var le;return!(t.headerAffixedTop||t.footerAffixedBottom||t.horizontalScrollAffixedBottom||((le=t.scroll)===null||le===void 0?void 0:le.type)==="virtual")});function M(le){k.value=le}function $(le){for(var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Map,oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],de=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,Te=arguments.length>4?arguments[4]:void 0,Se=0,Oe=le.length;Se<Oe;Se++){var ke,_e=le[Se];["left","right"].includes(_e.fixed)&&(A.value=!0),_e.fixed==="right"&&(E.value=!0),_e.fixed==="left"&&(R.value=!0);var De=_e.colKey||Se,je={col:_e,parent:Te,index:Se};ie.set(De,je),(ke=_e.children)!==null&&ke!==void 0&&ke.length&&$(_e.children,ie,oe,de+1,je),oe[de]?oe[de].push(je):oe[de]=[je]}return{newColumnsMap:ie,levelNodes:oe}}var W=function(ie,oe){for(var de=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Te=0,Se=ie.length;Te<Se;Te++){var Oe,ke=ie[Te];if(ke.fixed==="right")return;for(var _e=oe.get(ke.colKey||Te),De=Te-1;De>=0&&ie[De].fixed!=="left";)De-=1;var je=ie[De],Xe=Te===0&&(de==null?void 0:de.left)||0,tt=oe.get((je==null?void 0:je.colKey)||Te-1);_e&&(_e.left=((tt==null?void 0:tt.left)||Xe)+((tt==null?void 0:tt.width)||0)),(Oe=ke.children)!==null&&Oe!==void 0&&Oe.length&&W(ke.children,oe,_e)}},H=function(ie,oe){for(var de=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Te=ie.length-1;Te>=0;Te--){var Se,Oe=ie[Te];if(Oe.fixed==="left")return;for(var ke=oe.get(Oe.colKey||Te),_e=Te+1;_e<ie.length&&ie[_e].fixed!=="right";)_e+=1;var De=ie[_e],je=Te===ie.length-1&&(de==null?void 0:de.right)||0,Xe=oe.get((De==null?void 0:De.colKey)||Te+1);ke&&(ke.right=((Xe==null?void 0:Xe.right)||je)+((Xe==null?void 0:Xe.width)||0)),(Se=Oe.children)!==null&&Se!==void 0&&Se.length&&H(Oe.children,oe,ke)}},K=function(ie,oe){if(ie){for(var de=0,Te=ie.length;de<Te;de++)for(var Se=ie[de].children,Oe=0,ke=Se.length;Oe<ke;Oe++){var _e,De=Se[Oe],je=De.dataset.colkey;je||He.warn("TDesign Table","".concat(De.innerText," missing colKey. colKey is required for fixed column feature."));var Xe=oe.get(je||Oe);Xe!=null&&(_e=Xe.col)!==null&&_e!==void 0&&_e.fixed&&oe.set(je,Vo(Vo({},Xe),{},{width:De.getBoundingClientRect().width}))}W(o.value,oe),H(o.value,oe)}},z=function(ie,oe,de,Te){for(var Se=c.value||[],Oe=Ce(Se,2),ke=Oe[0],_e=Oe[1],De=t.data,je=t.rowKey,Xe=je===void 0?"id":je,tt=0;tt<ke;tt++){var hn=ie[tt],Vn=we(De[tt],Xe),xn=oe.get(Vn)||{},_a=we(De[tt-1],Xe),Ol=oe.get(_a)||{},kl=0;tt===0&&(kl=(de==null?void 0:de.getBoundingClientRect().height)||0),xn.top=(Ol.top||kl)+(Ol.height||0),oe.set(Vn,Vo(Vo({},xn),{},{height:(hn==null?void 0:hn.getBoundingClientRect().height)||0}))}for(var Xa=De.length-1;Xa>=De.length-_e;Xa--){var ct=ie[ie.length-(De.length-Xa)],dt=we(De[Xa],Xe),zt=oe.get(dt)||{},Fn=we(De[Xa+1],Xe),Sn=oe.get(Fn)||{},en=0;Xa===De.length-1&&(en=(Te==null?void 0:Te.getBoundingClientRect().height)||0),zt.bottom=(Sn.bottom||en)+(Sn.height||0),oe.set(dt,Vo(Vo({},zt),{},{height:(ct==null?void 0:ct.getBoundingClientRect().height)||0}))}},B=function(ie,oe){if(I.value.clear(),!!ie){var de=ie.querySelector("thead");de&&K(de.children,oe);var Te=ie.querySelector("tbody"),Se=ie.querySelector("tfoot");Te&&z(Te.children,oe,de,Se),I.value=oe}},q,Y=function(ie,oe){if(!(!A.value||!ie)){var de=ie.scrollLeft;if(!(q===de&&(!oe||!oe.skipScrollLimit))){q=de;var Te=ie.clientWidth+de<ie.scrollWidth,Se=de>0;D.left===Se&&D.right===Te||(D.left=Se&&R.value,D.right=Te&&E.value)}}},X=function(ie){for(var oe=0;oe<ie.length;oe++)for(var de=ie[oe],Te=0,Se=de.length;Te<Se;Te++){var Oe=de[Te],ke=de[Te+1],_e=Oe.parent,De=!_e||(_e==null?void 0:_e.lastLeftFixedCol);De&&Oe.col.fixed==="left"&&(ke==null?void 0:ke.col.fixed)!=="left"&&(Oe.lastLeftFixedCol=!0);var je=de[Te-1],Xe=!_e||(_e==null?void 0:_e.firstRightFixedCol);Xe&&Oe.col.fixed==="right"&&(je==null?void 0:je.col.fixed)!=="right"&&(Oe.firstRightFixedCol=!0)}},T=function(){var ie=$(o.value),oe=ie.newColumnsMap,de=ie.levelNodes;X(de);var Te=setTimeout(function(){var Se;(A.value||(Se=c.value)!==null&&Se!==void 0&&Se.length)&&B(w.value,oe),clearTimeout(Te)},0);return function(){clearTimeout(Te)}},j=function(){var ie=setTimeout(function(){if(w.value){C.value=w.value.scrollHeight>w.value.clientHeight,x.value=w.value.scrollWidth>w.value.clientWidth;var oe=w.value.getBoundingClientRect();L.value={top:oe.top,left:oe.left},clearTimeout(ie)}},0)},U=function(ie){S.value!==ie&&(S.value=ie)},J=function(){var ie,oe,de=(ie=w.value)===null||ie===void 0?void 0:ie.getBoundingClientRect();if(de){var Te=C.value?P.value:0;O.value=de.width-Te-(t.bordered?1:0);var Se=k==null||(oe=k.value)===null||oe===void 0?void 0:oe.getBoundingClientRect();Se!=null&&Se.width&&U(Se.width)}},Z=function(){var ie,oe,de,Te,Se,Oe,ke,_e;(ie=a.paginationAffixRef.value)===null||ie===void 0||(oe=ie.handleScroll)===null||oe===void 0||oe.call(ie),(de=a.horizontalScrollAffixRef.value)===null||de===void 0||(Te=de.handleScroll)===null||Te===void 0||Te.call(de),(Se=a.headerTopAffixRef.value)===null||Se===void 0||(Oe=Se.handleScroll)===null||Oe===void 0||Oe.call(Se),(ke=a.footerBottomAffixRef.value)===null||ke===void 0||(_e=ke.handleScroll)===null||_e===void 0||_e.call(ke)},Q=function(ie){for(var oe={},de=0,Te=ie.length;de<Te;de++)for(var Se=ie[de].children,Oe=0,ke=Se.length;Oe<ke;Oe++){var _e=Se[Oe],De=_e.dataset.colkey;oe[De]=_e.getBoundingClientRect().width}return oe},ee=function(ie){if(ie instanceof HTMLCollection){if(N.value)return;_.value=Q(ie)}else _.value=_.value||{},Object.entries(ie).forEach(function(oe){var de=Ce(oe,2),Te=de[0],Se=de[1];_.value[Te]=Se});return _.value},ne=function(){var ie=setTimeout(function(){var oe;if(J(),!F.value){var de=(oe=w.value)===null||oe===void 0?void 0:oe.querySelector("thead");de&&(ee(de.children),clearTimeout(ie))}},0)},V=function(){_.value={}},re=function(ie){var oe,de,Te;(oe=t.onScrollX)===null||oe===void 0||oe.call(t,{e:ie}),(de=t.onScrollY)===null||de===void 0||de.call(t,{e:ie}),(Te=t.onScroll)===null||Te===void 0||Te.call(t,{e:ie})},ce=function(ie){if(ie==="calculate"){var oe,de=(oe=w.value)===null||oe===void 0||(oe=oe.querySelector("thead"))===null||oe===void 0?void 0:oe.children;return de?Q(de):{}}return _.value||{}};i.watch([y,o,g,l,s,C,x,A,c,d,u],T,{immediate:!0}),i.watch([A,o],function(){var le=setTimeout(function(){A.value&&Y(w.value),clearTimeout(le)},0)},{immediate:!0}),i.watch([f,y,o,g,w],function(){w.value&&j()},{immediate:!0}),i.watch(n,function(){V()}),i.watch([y,g,l,c,C,v,h,s],function(){var le=setTimeout(function(){ne(),Z(),clearTimeout(le)},60)},{immediate:!0}),i.watch([n],function(le,ie){var oe=Ce(le,1),de=oe[0],Te=Ce(ie,1),Se=Te[0],Oe=de.map(function(xn){return xn.colKey}),ke=Se.map(function(xn){return xn.colKey});if(Oe.length<ke.length){var _e=Cre(ke,Oe),De=ce("calculate"),je=0;_e.forEach(function(xn){je+=De[xn]});var Xe=Ma(De,ke),tt=Object.values(Xe).reduce(function(){var xn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,_a=arguments.length>1?arguments[1]:void 0;return xn+_a}),hn=w.value.clientWidth,Vn=tt-je;U(Math.max(hn,Vn))}});var se=function(){ne(),j(),Z(),(A.value||C.value)&&(T(),Y(w.value,{skipScrollLimit:!0})),l.value==="auto"&&ee(ce("calculate"))},ue=ar(function(){se()},30),ye=null;function me(le){typeof window>"u"||Qa()<11||typeof window.ResizeObserver>"u"||(rt(window,"resize",ue),ye=new window.ResizeObserver(function(){var ie=setTimeout(function(){se(),clearTimeout(ie)},200)}),ye.observe(le),b.value=le)}i.onMounted(function(){var le=Yne();P.value=le,ne();var ie=A.value||C.value||!F.value||!y.value.length,oe=typeof window<"u",de=oe&&typeof window.ResizeObserver<"u";(ie&&Qa()<11||!de)&&pt(window,"resize",ue)}),i.onBeforeUnmount(function(){var le,ie;typeof window<"u"&&rt(window,"resize",ue),(le=ye)===null||le===void 0||le.unobserve(b.value),(ie=ye)===null||ie===void 0||ie.disconnect()});var ge=function(ie){y.value=ie},xe=function(){T(),j()};return{tableWidth:O,tableElmWidth:S,thWidthList:_,isFixedHeader:C,isWidthOverflow:x,tableContentRef:w,isFixedColumn:A,showColumnShadow:D,rowAndColFixedPosition:I,virtualScrollHeaderPos:L,scrollbarWidth:P,setData:ge,refreshTable:se,setTableElmWidth:U,emitScrollEvent:re,updateThWidthListHandler:ne,updateColumnFixedShadow:Y,setUseFixedTableElmRef:M,getThWidthList:ce,updateThWidthList:ee,addTableResizeObserver:me,updateTableAfterColumnResize:xe}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function pP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Ore(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pP(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function kre(t,e){var n=i.toRefs(t),a=n.pagination,r=n.data,o=n.disableDataPage,l=Re(),s=l.classPrefix,c=i.ref(t.pagination),d=i.ref([]),u=i.ref(!1),f=function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:10,m=t.data,y=!o.value&&m.length>p;if(u.value=y,y){var b=(g-1)*p,w=g*p;d.value=m.slice(b,w)}else d.value=m};i.watch(function(){var h,g;return[(h=a.value)===null||h===void 0?void 0:h.current,(g=a.value)===null||g===void 0?void 0:g.pageSize,r.value.length,o]},function(){if(!(!a.value||!a.value.current)){var h=a.value,g=h.current,p=h.pageSize;c.value={current:g,pageSize:p},f(a.value.current,a.value.pageSize)}},{immediate:!0}),i.watch([r],function(){var h,g;if(!(!a.value||!a.value.defaultCurrent)){var p=!!a.value.current;p||f((h=c.value.current)!==null&&h!==void 0?h:a.value.defaultCurrent,(g=c.value.pageSize)!==null&&g!==void 0?g:a.value.defaultPageSize)}},{immediate:!0});var v=function(){if(!t.pagination)return null;var g=Ore({},t.pagination);return delete g.onChange,i.createVNode("div",{class:"".concat(s.value,"-table__pagination")},[i.createVNode(Nv,i.mergeProps(g,{onChange:function(m){var y,b,w;(y=t.pagination)===null||y===void 0||(b=y.onChange)===null||b===void 0||b.call(y,m),c.value=m,f(m.current,m.pageSize),(w=t.onPageChange)===null||w===void 0||w.call(t,m,d.value)}}),{totalContent:e.slots.totalContent})])};return{isPaginateData:u,dataSource:d,innerPagination:c,renderPagination:v}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Pre(t){var e=i.ref(),n=i.ref(),a=i.ref(),r=i.ref(),o=i.ref(),l=i.ref(!0),s=i.ref(!0),c=i.ref(!0),d=!1,u=!1,f=i.computed(function(){return t.scroll&&t.scroll.type==="virtual"&&(t.scroll.threshold||100)<t.data.length}),v=i.computed(function(){return!!(t.headerAffixedTop||t.footerAffixedBottom||t.horizontalScrollAffixedBottom)}),h=0,g=function(X){if(!(!v.value&&!f.value)){var T=X;if(!T&&e.value&&(h=0,T=e.value),!!T){var j=T.scrollLeft;if(h!==j){h=j;for(var U=[e.value,n.value,a.value,r.value],J=0,Z=U.length;J<Z;J++)U[J]&&X!==U[J]&&(U[J].scrollLeft=j)}}}},p=function(X,T,j){return T.top+j<X.top&&X.top>X.height},m=function(X){return Ht(X)?0:X.offsetTop||0},y=function(){var X,T,j;if(!(!v.value&&!f.value&&!e.value)){var U=(X=e.value)===null||X===void 0?void 0:X.getBoundingClientRect(),J=(T=e.value)===null||T===void 0||(T=T.querySelector("thead"))===null||T===void 0?void 0:T.getBoundingClientRect(),Z=(J==null?void 0:J.height)||0,Q=(j=a.value)===null||j===void 0?void 0:j.getBoundingClientRect();if((t.headerAffixedTop||f.value)&&n.value){var ee=m(t.headerAffixProps||t.headerAffixedTop),ne=(Q==null?void 0:Q.height)||0,V=Math.abs(U.top)<U.height-Z-ee-ne;f.value&&(V=U.top>-1*J.height),l.value=V}if(t.footerAffixedBottom&&a!==null&&a!==void 0&&a.value)s.value=p(Q,U,Z);else if(t.horizontalScrollAffixedBottom&&r!==null&&r!==void 0&&r.value){var re=r.value.getBoundingClientRect();s.value=p(re,U,Z)}if(t.paginationAffixedBottom&&o.value){var ce=o.value.getBoundingClientRect();c.value=p(ce,U,Z)}}},b=function(){y()},w=function(){g(a.value)},C=function(){g(n.value)},x=function(){g(r.value)},k=function(){g(e.value)},P=function(){pt(a.value,"scroll",w)},I=function(){rt(a.value,"scroll",w)},D=function(){pt(n.value,"scroll",C),N()},L=function(){d||rt(n.value,"scroll",C),F()},O=function(){pt(r.value,"scroll",x)},S=function(){rt(r.value,"scroll",x)},_=function(){pt(e.value,"scroll",k),N()},A=function(){d||rt(e.value,"scroll",k),F()},E=function(){d=!0},R=function(){d=!1,u||(rt(n.value,"scroll",C),rt(e.value,"scroll",k))},N=function(){u=!0},F=function(){u=!1},M=[],$=function(X){var T=ar(function(Z){rt(X,"scroll",Z)},200);function j(){g(X),T(j)}function U(Z){Z.composedPath().includes(X)&&(M.forEach(function(Q){return Q()}),M.length=0,pt(X,"scroll",j),T(j),M.push(function(){rt(X,"scroll",j)}))}pt(X,"touchstart",U);function J(){rt(X,"touchstart",U)}return{removeElementTouchScrollListener:J}},W=[],H=function(){W.forEach(function(X){return X()}),W.length=0},K=function(){rt(window,"mousedown",E),rt(window,"mouseup",R),H(),n.value&&(rt(n.value,"mouseenter",D),rt(n.value,"mouseleave",L)),a.value&&(rt(a.value,"mouseenter",P),rt(a.value,"mouseleave",I)),e.value&&(rt(e.value,"mouseenter",_),rt(e.value,"mouseleave",A)),r.value&&(rt(r.value,"mouseenter",O),rt(r.value,"mouseleave",S))},z=function(){if(pt(window,"mousedown",E),pt(window,"mouseup",R),K(),n.value){pt(n.value,"mouseenter",D),pt(n.value,"mouseleave",L);var X=$(n.value),T=X.removeElementTouchScrollListener;W.push(T)}if(t.footerAffixedBottom&&a.value){pt(a.value,"mouseenter",P),pt(a.value,"mouseleave",I);var j=$(a.value),U=j.removeElementTouchScrollListener;W.push(U)}if(t.horizontalScrollAffixedBottom&&r.value){pt(r.value,"mouseenter",O),pt(r.value,"mouseleave",S);var J=$(r.value),Z=J.removeElementTouchScrollListener;W.push(Z)}if((v.value||f.value)&&e.value){pt(e.value,"mouseenter",_),pt(e.value,"mouseleave",A);var Q=$(e.value),ee=Q.removeElementTouchScrollListener;W.push(ee)}},B=function(){if(!(!v.value&&!t.paginationAffixedBottom))var X=setTimeout(function(){v.value||t.paginationAffixedBottom?pt(document,"scroll",b):rt(document,"scroll",b),clearTimeout(X)})};i.watch([n,a,r,e],function(){z(),g(),y()}),i.watch(v,B),i.watch(function(){return[t.data,t.columns,t.headerAffixedTop,t.footerAffixedBottom,t.horizontalScrollAffixedBottom]},function(){g()}),i.onBeforeUnmount(function(){rt(document,"scroll",b),K(),n.value=null,a.value=null,r.value=null,e.value=null});var q=function(X){e.value=X,B()};return{showAffixHeader:l,showAffixFooter:s,showAffixPagination:c,affixHeaderRef:n,affixFooterRef:a,horizontalScrollbarRef:r,paginationRef:o,onHorizontalScroll:g,setTableContentRef:q,updateAffixHeaderOrFooter:y}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function kh(t,e){if(t){for(var n=t instanceof Array?t:[t],a={},r=0;r<n.length;r++){var o=n[r];if(o){var l=pe(o)?o(e):o;a=l instanceof Array?kh(l,e):Object.assign(a,l)}}return a}}function Ph(t,e,n){for(var a=t instanceof Array?t:[t],r=e.row,o=e.rowIndex,l=[],s=0,c=a.length;s<c;s++){var d=a[s],u=pe(d)?d(e):d;if(Le(u)&&!(u instanceof Array)){u[o]&&(u=u[o]);var f=we(r,n||"id");u[f]&&(u=u[f])}else u instanceof Array&&(u=Ph(u,e,n));l=l.concat(u)}return l}function _h(t,e){for(var n=t instanceof Array?t:[t],a=[],r=0,o=n.length;r<o;r++){var l=n[r];pe(l)?a.push(l(e)):a.push(l)}return a}function mP(t,e){if(!(!t||!e)){var n=t==null?void 0:t.find(function(s){return s.colKey===e});if(n)return n;for(var a=0,r=t.length;a<r;a++){var o;if((o=t[a])!==null&&o!==void 0&&(o=o.children)!==null&&o!==void 0&&o.length){var l;return mP((l=t[a])===null||l===void 0?void 0:l.children,e)}}}}function Yu(t,e){return Je(t)==="object"?t:Je(e)==="object"?e:{}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function _re(t,e,n){var a=i.computed(function(){return Math.max(n.rowHeight||48,48)}),r=i.ref(!1),o=i.computed(function(){return(n==null?void 0:n.type)==="lazy"&&!r.value}),l=!Na&&window.requestAnimationFrame||function(c){return setTimeout(c,16.6)},s=function(){r.value||l(function(){r.value=!0})};return i.onMounted(function(){(n==null?void 0:n.type)==="lazy"&&i.nextTick(function(){var c=Math.max(10,n.bufferSize||10),d=a.value*c;!(e!=null&&e.value)||!(t!=null&&t.value)||as(e.value,t.value,s,d)})}),{hasLazyLoadHolder:o,tRowHeight:a}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function hs(t,e,n,a){var r=we(t,e);return r===void 0&&He.error("Table","rowKey is wrong, can not get unique identifier of row."),[r,n||a].join("_")}function yP(t,e,n,a){var r=i.ref(new Map),o=function(c,d){var u=c.rowIndex,f=c.colIndex;if(!(!d.rowspan&&!d.colspan)){for(var v=u+(d.rowspan||1),h=f+(d.colspan||1),g=u;g<v;g++)for(var p=f;p<h;p++)if(g!==u||p!==f){if(!t.value[g]||!e.value[p])return;var m=hs(t.value[g],n.value,e.value[p].colKey,p),y=r.value.get(m)||{};y.skipped=!0,r.value.set(m,y)}}},l=function(c,d,u){var f;if((f=r.value)===null||f===void 0||f.clear(),!(!c||!u))for(var v=0,h=c.length;v<h;v++)for(var g=c[v],p=0,m=d.length;p<m;p++){var y=d[p],b={row:g,col:y,rowIndex:v,colIndex:p},w=hs(g,n.value,y.colKey,p),C=r.value.get(w)||{},x=u(b)||{};(x.rowspan||x.colspan||C.rowspan||C.colspan)&&(x.rowspan&&(C.rowspan=x.rowspan),x.colspan&&(C.colspan=x.colspan),r.value.set(w,C)),o==null||o(b,C)}};return i.watch(function(){return[t.value,e.value,a]},function(){l(t.value,e.value,a==null?void 0:a.value)},{immediate:!0}),{skipSpansMap:r}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function bP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function En(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bP(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Ire(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!i.isVNode(t)}var wP=["rowKey","rowClassName","columns","fixedRows","footData","rowAttributes","rowspanAndColspan","scroll","cellEmptyContent","pagination","attach","onCellClick","onRowClick","onRowDblclick","onRowMouseover","onRowMousedown","onRowMouseenter","onRowMouseleave","onRowMouseup"],Nre=["click","dblclick","mouseover","mousedown","mouseenter","mouseleave","mouseup"];function qu(t,e,n){var a=t.col,r=t.row,o=t.rowIndex;if(a.colKey==="serial-number"){var l=(n==null?void 0:n.pagination)||{},s=l.current,c=l.pageSize,d=l.defaultCurrent,u=l.defaultPageSize,f=s||d,v=c||u;return v&&f?v*(f-1)+o+1:o+1}if(pe(a.cell))return a.cell(i.h,t);if(e[a.colKey])return e[a.colKey](t);if(Ae(a.cell)&&e[a.cell])return e[a.cell](t);if(pe(a.render))return a.render(i.h,En(En({},t),{},{type:"cell"}));var h=we(r,a.colKey);return[void 0,"",null].includes(h)?n!=null&&n.cellEmptyContent?pe(n.cellEmptyContent)?n.cellEmptyContent(i.h,t):n.cellEmptyContent:e.cellEmptyContent?e.cellEmptyContent(t):e["cell-empty-content"]?e["cell-empty-content"](t):h:h}var Tre=i.defineComponent({name:"TR",props:En(En({row:Object,rowIndex:Number,dataLength:Number,ellipsisOverlayClassName:String,classPrefix:String,rowAndColFixedPosition:Map,skipSpansMap:Map,virtualConfig:Object,active:Boolean,isHover:Boolean},Ma(Qo,wP)),{},{tableElm:{},tableContentElm:{}}),emits:["row-mounted"],setup:function(e,n){var a=i.toRefs(e),r=a.tableContentElm,o=a.active,l=a.isHover,s=i.ref(null),c=Tn(),d=c.tdEllipsisClass,u=c.tableBaseClass,f=c.tableColFixedClasses,v=c.tableRowFixedClasses,h=c.tdAlignClasses,g=c.tableDraggableClasses,p=i.computed(function(){return xre(we(e.row,e.rowKey||"id"),e.rowIndex,e.dataLength,e.fixedRows,e.rowAndColFixedPosition,v,e.virtualConfig.isVirtualScroll.value?e.virtualConfig.translateY.value:0)}),m=i.computed(function(){return kh(e.rowAttributes,{row:e.row,rowIndex:e.rowIndex,type:"body"})||{}}),y=i.computed(function(){var D,L=Ph(e.rowClassName,{row:e.row,rowKey:e.rowKey,rowIndex:e.rowIndex,type:"body"},e.rowKey||"id");return[(D=p.value)===null||D===void 0?void 0:D.classes,L,G(G({},"".concat(e.classPrefix,"-table__row--active"),o.value),"".concat(e.classPrefix,"-table__row--hover"),l.value)].filter(function(O){return O})}),b=_re(r,s,i.reactive(En(En({},e.scroll),{},{rowIndex:e.rowIndex}))),w=b.hasLazyLoadHolder,C=b.tRowHeight,x=function(L,O){var S={};return Nre.forEach(function(_){S["on".concat(Pc(_))]=function(A){var E,R={e:A,row:L,index:O};(E=e["onRow".concat(Pc(_))])===null||E===void 0||E.call(e,R)}}),S},k=function(){var L;(L=e.virtualConfig)!==null&&L!==void 0&&L.isVirtualScroll.value&&n.emit("row-mounted",{ref:s,data:e.row})};i.onMounted(function(){i.nextTick(function(){k()})}),i.onUpdated(function(){i.nextTick(function(){k()})});function P(D,L){var O=L.cellNode,S=D.col,_=D.colIndex,A;pe(S.ellipsis)?A=S.ellipsis(i.h,D):Je(S.ellipsis)==="object"&&pe(S.ellipsis.content)?A=S.ellipsis.content(i.h,D):n.slots["ellipsis-".concat(S.colKey)]?A=n.slots["ellipsis-".concat(S.colKey)](D):n.slots.ellipsis&&(A=n.slots.ellipsis(D));var E={};Je(S.ellipsis)==="object"&&(E="props"in S.ellipsis?S.ellipsis.props:S.ellipsis||void 0);var R=e.tableElm,N=_===0?"top-left":"top";return N=_===e.columns.length-1?"top-right":N,i.createVNode(xh,{placement:N,attach:R?function(){return R}:void 0,tooltipContent:A&&function(){return A},tooltipProps:E,overlayClassName:e.ellipsisOverlayClassName,classPrefix:e.classPrefix},Ire(O)?O:{default:function(){return[O]}})}function I(D,L){var O=D.col,S=D.colIndex,_=D.rowIndex,A=L.cellSpans,E=L.dataLength,R=L.rowAndColFixedPosition,N=qu(D,n.slots,{cellEmptyContent:L.cellEmptyContent,pagination:e.pagination}),F=Oh(O,S,R,f),M=_h(O.className,En(En({},D),{},{type:"td"})),$=[F.classes,M,G(G(G(G(G({},d,O.ellipsis),u.tdLastRow,_+A.rowspan===E),u.tdFirstCol,S===0&&e.rowspanAndColspan),h[O.align],O.align&&O.align!=="left"),g.handle,O.colKey==="drag")],W=function(B){var q,Y=En(En({},D),{},{e:B});O.stopPropagation&&B.stopPropagation(),(q=e.onCellClick)===null||q===void 0||q.call(e,Y)},H=pe(O.attrs)?O.attrs(En(En({},D),{},{type:"td"})):O.attrs,K=En(En({},H),A);return i.createVNode("td",i.mergeProps({key:O.colKey||S,class:$,style:F.style},K,{onClick:W}),[O.ellipsis?P(D,{cellNode:N}):N])}return function(){var D,L=e.columns,O=e.skipSpansMap,S=e.row,_=e.dataLength,A=e.rowAndColFixedPosition,E=L==null?void 0:L.map(function(R,N){var F={},M={row:S,col:R,rowIndex:e.rowIndex,colIndex:N},$=null;if(e.skipSpansMap.size){var W,H,K=hs(S,e.rowKey,R.colKey,N);if($=O.get(K)||{},((W=$)===null||W===void 0?void 0:W.rowspan)>1&&(F.rowspan=$.rowspan),((H=$)===null||H===void 0?void 0:H.colspan)>1&&(F.colspan=$.colspan),$.skipped)return null}return I(M,{dataLength:_,rowAndColFixedPosition:A,columnLength:L.length,cellSpans:F,cellEmptyContent:e.cellEmptyContent})});return i.createVNode("tr",i.mergeProps({ref:s},m.value,{style:(D=p.value)===null||D===void 0?void 0:D.style,class:y.value},x(S,e.rowIndex)),[w.value?[i.createVNode("td",{style:{height:"".concat(C.value,"px"),border:"none"}},null)]:E])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function CP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Gu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CP(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var xP=["bordered","rowKey","rowClassName","rowAttributes","loading","empty","fixedRows","firstFullRow","lastFullRow","rowspanAndColspan","scroll","cellEmptyContent","pagination","attach","onCellClick","onPageChange","onRowClick","onRowDblclick","onRowMouseover","onRowMousedown","onRowMouseenter","onRowMouseleave","onRowMouseup","onScroll","onScrollX","onScrollY"],Ere=i.defineComponent({name:"TBody",props:Gu({classPrefix:String,data:Array,columns:Array,ellipsisOverlayClassName:String,rowAndColFixedPosition:Map,showColumnShadow:Object,tableElm:{},tableWidth:Number,isWidthOverflow:Boolean,virtualConfig:Object,tableContentElm:{},handleRowMounted:Function,renderExpandedRow:Function,firstFullRow:[String,Function],lastFullRow:[String,Function],activeRow:[Array],hoverRow:[String,Number]},Ma(Qo,xP)),setup:function(e){var n=Pe(),a=i.toRefs(e),r=a.data,o=a.columns,l=a.rowKey,s=a.rowspanAndColspan,c=Re("table",e.locale),d=c.t,u=c.globalConfig,f=Tn(),v=f.tableFullRowClasses,h=f.tableBaseClass,g=yP(r,o,l,s),p=g.skipSpansMap,m=i.computed(function(){return[h.body]});return{t:d,globalConfig:u,renderTNode:n,tableFullRowClasses:v,tbodyClasses:m,tableBaseClass:h,skipSpansMap:p}},render:function(){var e=this,n,a,r,o,l=function(b){var w=e.bordered?e.tableWidth-2:e.tableWidth;return i.createVNode("tr",{class:[e.tableBaseClass.emptyRow,G({},e.tableFullRowClasses.base,e.isWidthOverflow)]},[i.createVNode("td",{colspan:b.length},[i.createVNode("div",{class:[e.tableBaseClass.empty,G({},e.tableFullRowClasses.innerFullRow,e.isWidthOverflow)],style:e.isWidthOverflow?{width:"".concat(w,"px")}:{}},[e.renderTNode("empty")||e.t(e.globalConfig.empty)])])])},s=function(b,w){var C=Ta(w),x=e.renderTNode(C);if(["",null,void 0,!1].includes(x))return null;var k=e.isWidthOverflow&&e.columns.find(function(D){return D.fixed==="left"}),P=[e.tableFullRowClasses.base,e.tableFullRowClasses[C]],I=e.bordered?e.tableWidth-2:e.tableWidth;return i.createVNode("tr",{class:P,key:"key-full-row-".concat(w)},[i.createVNode("td",{colspan:b},[i.createVNode("div",{class:G({},e.tableFullRowClasses.innerFullRow,k),style:k?{width:"".concat(I,"px")}:{}},[i.createVNode("div",{class:e.tableFullRowClasses.innerFullElement},[x])])])])},c=this.columns.length,d=(n=this.data)===null||n===void 0?void 0:n.length,u=[],f=["classPrefix","ellipsisOverlayClassName","rowAndColFixedPosition","scroll","tableElm","tableContentElm","pagination","attach"],v=this.virtualConfig.isVirtualScroll.value?this.virtualConfig.visibleData.value:this.data;v==null||v.forEach(function(y,b){var w,C=e.rowKey||"id",x=we(y,C),k=Gu(Gu({},Ma(e.$props,wP)),{},{rowKey:C,row:y,columns:e.columns,rowIndex:y.VIRTUAL_SCROLL_INDEX||b,dataLength:d,skipSpansMap:e.skipSpansMap,virtualConfig:e.virtualConfig,active:(w=e.activeRow)===null||w===void 0?void 0:w.includes(x),isHover:e.hoverRow===x},Ma(e.$props,f));e.onCellClick&&(k.onCellClick=e.onCellClick);var P=i.createVNode(Tre,i.mergeProps({key:we(y,e.rowKey||"id")||b},k,{onRowMounted:e.handleRowMounted}),e.$slots);if(u.push(P),e.renderExpandedRow){var I={row:y,index:b,columns:e.columns,tableWidth:e.tableWidth,isWidthOverflow:e.isWidthOverflow},D=e.renderExpandedRow(I);D&&u.push(D)}});var h=[s(c,"first-full-row")].concat(u,[s(c,"last-full-row")]),g=!((a=this.data)!==null&&a!==void 0&&a.length)&&!this.loading&&!this.firstFullRow&&!this.lastFullRow,p="translateY(".concat((r=this.virtualConfig)===null||r===void 0?void 0:r.translateY.value,"px)"),m=(o=this.virtualConfig)!==null&&o!==void 0&&o.isVirtualScroll.value?{transform:p,"-ms-transform":p,"-moz-transform":p,"-webkit-transform":p}:void 0;return i.createVNode("tbody",{class:this.tbodyClasses,style:Gu({},m)},[g?l(this.columns):h])}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function gs(t){return t&&(isNaN(Number(t))?t:"".concat(t,"px"))}function SP(t){var e=i.toRefs(t),n=e.size,a=e.bordered,r=e.stripe,o=e.hover,l=e.verticalAlign,s=e.height,c=e.maxHeight,d=e.tableContentWidth,u=Tn(),f=u.tableBaseClass,v=u.tableAlignClasses,h=Hc(),g=h.sizeClassNames,p=Re("table",t.locale),m=p.globalConfig,y=i.computed(function(){var x;return(x=n.value)!==null&&x!==void 0?x:m.value.size}),b=i.computed(function(){return[f.table,G(G(G(G(G(G(G(G({},g[y.value],y.value!=="medium"),f.bordered,a.value),f.striped,r.value),f.hover,o.value),f.loading,t.loading),f.affixedHeader,t.headerAffixedTop),f.rowspanAndColspan,t.rowspanAndColspan),v[l.value],l.value!=="middle")]}),w=i.computed(function(){return{height:gs(s.value),maxHeight:gs(c.value)}}),C=i.computed(function(){return{width:gs(d.value)}});return{tableClasses:b,sizeClassNames:g,tableElementStyles:C,tableContentStyles:w}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function OP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Ba(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OP(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Are(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!i.isVNode(t)}var kP=i.defineComponent({name:"THead",props:{classPrefix:String,ellipsisOverlayClassName:String,isFixedHeader:Boolean,thDraggable:Boolean,maxHeight:[String,Number],height:[String,Number],rowAndColFixedPosition:Map,thWidthList:Object,bordered:Boolean,isMultipleHeader:Boolean,resizable:Boolean,attach:[String,Function],spansAndLeafNodes:Object,thList:Array,columnResizeParams:Object,showColumnShadow:Object},setup:function(e,n){var a=n.slots,r=i.ref(),o=Tn(),l=o.tableHeaderClasses,s=o.tableBaseClass,c=i.computed(function(){return[l.header,G(G(G({},l.fixed,!!(e.maxHeight||e.height)),s.bordered,e.bordered&&e.isMultipleHeader),l.multipleHeader,e.isMultipleHeader)]}),d=i.computed(function(){var f={},v=function(p){for(var m=0,y=p.length;m<y;m++){var b=p[m];if(b.colspan>1)for(var w=m+1;w<m+b.colspan;w++)p[w]&&(f[p[w].colKey]=!0);b.children&&v(b.children)}},h=e.thList[0];return v(h),f}),u=function(v){for(var h=v;h;){var g;if(h=h.parentNode,(g=h)!==null&&g!==void 0&&(g=g.classList)!==null&&g!==void 0&&g.contains("".concat(e.classPrefix,"-table")))break}return h};return Ba(Ba({},o),{},{colspanSkipMap:d,theadClasses:c,theadRef:r,slots:a,getTableNode:u})},render:function(){var e=this,n=function(r,o){var l=new Map,s=e.spansAndLeafNodes.rowspanAndColspanMap;return e.thList.map(function(c,d){var u=c.map(function(f,v){var h;if(e.colspanSkipMap[f.colKey])return null;var g=s.get(f);if(v===0&&g.rowspan>1)for(var p=d+1;p<d+g.rowspan;p++)l.set(e.thList[p][0],!0);var m=Oh(f,v,r,e.tableColFixedClasses),y={col:f,colIndex:v,row:{},rowIndex:-1},b=_h(f.className,Ba(Ba({},y),{},{type:"th"})),w=_h(f.thClassName,Ba(Ba({},y),{},{type:"th"})),C=e.showColumnShadow.left&&f.fixed==="left",x=e.showColumnShadow.right&&f.fixed==="right",k=e.thDraggable&&!(C||x),P=[m.classes,b,w,G(G(G(G({},e.tableHeaderClasses.thBordered,l.get(f)),"".concat(e.classPrefix,"-table__th-").concat(f.colKey),f.colKey),e.tdAlignClasses[f.align],f.align&&f.align!=="left"),e.tableDraggableClasses.dragSortTh,k)],I=!((h=f.children)!==null&&h!==void 0&&h.length),D=I&&o!==null&&o!==void 0&&o[f.colKey]?"".concat(o==null?void 0:o[f.colKey],"px"):void 0,L=Ba(Ba({},m.style||{}),{},{width:D}),O=Ku(e.slots,f,v),S=e.resizable||!k?{onMousedown:function(N){if(e.resizable){var F,M;(F=e.columnResizeParams)===null||F===void 0||(M=F.onColumnMousedown)===null||M===void 0||M.call(F,N,f,v)}if(!k)var $=setTimeout(function(){var W,H=e.theadRef.querySelectorAll("th");(W=H[v])===null||W===void 0||W.removeAttribute("draggable"),clearTimeout($)},10)},onMousemove:function(N){var F,M;e.resizable&&((F=e.columnResizeParams)===null||F===void 0||(M=F.onColumnMouseover)===null||M===void 0||M.call(F,N,f))}}:{},_=pe(f.ellipsisTitle)?f.ellipsisTitle(i.h,{col:f,colIndex:v}):void 0,A=f.ellipsisTitle!==void 0?!!f.ellipsisTitle:!!f.ellipsis,E=(pe(f.attrs)?f.attrs(Ba(Ba({},y),{},{type:"th"})):f.attrs)||{};return f.colspan>1&&(E.colspan=f.colspan),i.createVNode("th",i.mergeProps({key:f.colKey,"data-colkey":f.colKey,class:P,style:L},E,g,S),[i.createVNode("div",{class:e.tableBaseClass.thCellInner},[A?i.createVNode(xh,{placement:"bottom",attach:e.attach||(e.theadRef?function(){return e.getTableNode(e.theadRef)}:void 0),tooltipContent:_&&function(){return _},tooltipProps:Je(f.ellipsisTitle)==="object"?f.ellipsisTitle:void 0,overlayClassName:e.ellipsisOverlayClassName,classPrefix:e.classPrefix},Are(O)?O:{default:function(){return[O]}}):O])])});return i.createVNode("tr",{key:d},[u])})};return i.createVNode("thead",{ref:"theadRef",class:this.theadClasses},[n(this.rowAndColFixedPosition,this.thWidthList)])}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function PP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Xu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PP(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PP(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var _P=i.defineComponent({name:"TFoot",props:{rowKey:String,isFixedHeader:Boolean,rowAndColFixedPosition:Map,footData:Array,columns:Array,rowAttributes:[Array,Object,Function],rowClassName:[Array,String,Object,Function],thWidthList:[Object],footerSummary:[String,Function],rowspanAndColspanInFooter:Function,virtualScroll:Boolean},setup:function(e,n){var a=Pe(),r=Tn(),o=i.toRefs(e),l=o.footData,s=o.columns,c=o.rowKey,d=o.rowspanAndColspanInFooter,u=yP(l,s,c,d),f=u.skipSpansMap,v=function(g){var p=g.col,m=g.row;return pe(p.foot)?p.foot(i.h,g):Ae(p.foot)&&n.slots[p.foot]?n.slots[p.foot](g)||p.foot:p.foot||we(m,p.colKey)};return Xu(Xu({skipSpansMap:f},r),{},{renderTFootCell:v,renderTNode:a})},render:function(){var e,n=this;if(!this.columns)return null;var a=[this.tableFooterClasses.footer,G({},this.tableFooterClasses.fixed,this.isFixedHeader)],r=(e=this.footData)===null||e===void 0?void 0:e.map(function(l,s){var c=kh(n.rowAttributes,{row:l,rowIndex:s,type:"foot"}),d=Ph(n.rowClassName,{row:l,rowIndex:s,type:"foot"},n.rowKey||"id");return i.createVNode("tr",i.mergeProps(c,{key:s,class:d}),[n.columns.map(function(u,f){var v,h={},g=null;if(n.skipSpansMap.size){var p,m,y=hs(l,n.rowKey,u.colKey,f);if(g=n.skipSpansMap.get(y)||{},((p=g)===null||p===void 0?void 0:p.rowspan)>1&&(h.rowspan=g.rowspan),((m=g)===null||m===void 0?void 0:m.colspan)>1&&(h.colspan=g.colspan),g.skipped)return null}var b=Oh(u,f,n.rowAndColFixedPosition,n.tableColFixedClasses),w=Xu({},b.style);return(v=n.thWidthList)!==null&&v!==void 0&&v[u.colKey]&&(w.width="".concat(n.thWidthList[u.colKey],"px")),i.createVNode("td",i.mergeProps(Xu({key:u.colKey},h),{class:b.classes,style:w}),[n.renderTFootCell({row:l,rowIndex:s,col:u,colIndex:f})])})])}),o=this.renderTNode("footerSummary");return!o&&(!this.footData||!this.footData.length)?null:i.createVNode("tfoot",{ref:"tFooterRef",class:a,style:{visibility:this.virtualScroll?"hidden":"visible"}},[o&&i.createVNode("tr",{class:this.tableFullRowClasses.base},[i.createVNode("td",{colspan:this.columns.length},[i.createVNode("div",{class:this.tableFullRowClasses.innerFullElement},[o])])]),r])}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Rre(t,e){var n=i.toRefs(t),a=n.data,r=n.activeRowType,o=n.activeRowKeys,l=n.defaultActiveRowKeys,s=n.disableSpaceInactiveRow,c=i.ref(-1),d=i.ref(!1),u=i.ref(!1),f=i.ref(-1),v=Rt(o,l.value,t.onActiveChange,"activeRowKeys"),h=Ce(v,2),g=h[0],p=h[1],m=function(_){var A=_.row,E=_.index,R=we(A,t.rowKey);if(r.value==="single"){var N=g.value.length>1?[R]:[];p(N,{type:"inactive",activeRowList:[{row:A,rowIndex:E}],currentRowData:A})}else if(r.value==="multiple"){for(var F=g.value.filter(function(K){return K!==R}),M=[],$=0,W=a.value.length;$<W;$++){var H=a.value[$];F.includes(we(H,t.rowKey))&&M.push({row:H,rowIndex:$})}p(F,{type:"inactive",activeRowList:M,currentRowData:A})}},y=function(_){var A=_.row,E=we(A,t.rowKey);if(r.value==="single")p([E],{activeRowList:[{row:A,rowIndex:_.index}],currentRowData:A,type:"active"});else{for(var R=g.value.concat(E),N=[],F=0,M=a.value.length;F<M;F++){var $=a.value[F];R.includes(we($,t.rowKey))&&N.push({row:$,rowIndex:F})}p(R,{activeRowList:N,currentRowData:A,type:"active"})}},b=function(_){document.getSelection().removeAllRanges();for(var A=_.row,E=c.value,R=Math.min(f.value,E),N=Math.max(f.value,E),F=[],M=R;M<=N;M++)F.push({row:a.value[M],rowIndex:M});var $=F.map(function(W){return we(W.row,t.rowKey)});p($,{activeRowList:F,type:"active",currentRowData:A})},w=function(){for(var _=[],A=0,E=a.value.length;A<E;A++){var R=a.value[A],N=we(R,t.rowKey);g.value.includes(N)&&_.push({row:R,rowIndex:A})}return _},C=function(_,A){if(r.value){var E=_.row,R=_.index,N=we(E,t.rowKey);d.value?(c.value=R,b(_),u.value=!0):g.value.includes(N)&&(A==null?void 0:A.action)!=="active"?s.value||(m(_),c.value=R):(y(_),c.value=R)}},x=function(){var _;p([],{activeRowList:[],currentRowData:void 0,type:"inactive"}),(_=t.onActiveRowAction)===null||_===void 0||_.call(t,{action:"clear",activeRowList:[]}),c.value=-1},k=function(){var _,A=a.value.map(function(R){return we(R,t.rowKey)}),E=a.value.map(function(R,N){return{row:R,rowIndex:N}});p(A,{activeRowList:E,currentRowData:void 0,type:"active"}),(_=t.onActiveRowAction)===null||_===void 0||_.call(t,{action:"select-all",activeRowList:E}),c.value=-1},P=function(){u.value=!1},I=function(_){var A,E=_.code||((A=_.key)===null||A===void 0?void 0:A.trim());if(Vc.test(E)){_.preventDefault();var R=Math.min(a.value.length-1,c.value+1);r.value==="single"?C({row:a.value[R],index:R,e:_},{action:"active"}):c.value=R}else if(eu.test(E)){_.preventDefault();var N=Math.max(0,c.value-1);r.value==="single"?C({row:a.value[N],index:N,e:_},{action:"active"}):c.value=N}else if(tu.test(E)){_.preventDefault();var F=c.value;if(u.value){var M;(M=t.onActiveRowAction)===null||M===void 0||M.call(t,{action:"shift-area-selection",activeRowList:w()})}else if(!s.value)C({row:a.value[F],index:F,e:_});else{var $;($=t.onActiveRowAction)===null||$===void 0||$.call(t,{action:"space-one-selection",activeRowList:w()})}}else SC.test(E)?(d.value=!0,f.value=c.value):xC.test(E)||OC.test(E)?(x(),P()):kC.test(E)&&k();tu.test(E)||P()},D=function(_){var A,E=_.code||((A=_.key)===null||A===void 0?void 0:A.trim());SC.test(E)&&(d.value=!1)},L=function(){pt(e.value,"keydown",I),pt(e.value,"keyup",D)},O=function(){rt(e.value,"keydown",I),rt(e.value,"keyup",D)};return{tActiveRow:g,onHighlightRow:C,addHighlightKeyboardListener:L,removeHighlightKeyboardListener:O}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Dre(t,e){var n=i.toRefs(t),a=n.hover,r=n.data,o=n.activeRowType,l=n.keyboardRowHover,s=n.disableSpaceInactiveRow,c=i.ref(),d=i.ref(-1),u=i.computed(function(){return o.value==="single"?!1:o.value==="multiple"?!0:a.value||l.value}),f=function(y,b){var w=we(y.row,t.rowKey);c.value===w&&(b==null?void 0:b.action)!=="hover"?s.value||(c.value=void 0):c.value=w,d.value=y.index},v=function(){c.value=void 0,d.value=-1},h=function(y){var b;if(u.value){var w=y.code||((b=y.key)===null||b===void 0?void 0:b.trim());if(Vc.test(w)){y.preventDefault();var C=Math.min(r.value.length-1,d.value+1);f({row:r.value[C],index:C,e:y},{action:"hover"})}else if(eu.test(w)){y.preventDefault();var x=Math.max(0,d.value-1);f({row:r.value[x],index:x,e:y},{action:"hover"})}else if(tu.test(w)&&t.activeRowType!=="multiple"){var k=d.value;if(f({row:r.value[k],index:k,e:y}),!t.activeRowType){var P;(P=t.onActiveRowAction)===null||P===void 0||P.call(t,{action:"space-one-selection",activeRowList:[{row:r.value[k],rowIndex:k}]})}}else if(xC.test(w)&&!t.activeRowType){var I;c.value=void 0,(I=t.onActiveRowAction)===null||I===void 0||I.call(t,{action:"clear",activeRowList:[]})}else if(kC.test(w)&&!t.activeRowType){var D;(D=t.onActiveRowAction)===null||D===void 0||D.call(t,{action:"select-all",activeRowList:[]})}else if(OC.test(w)&&!t.activeRowType){var L;(L=t.onActiveRowAction)===null||L===void 0||L.call(t,{action:"clear",activeRowList:[]})}}},g=function(){pt(e.value,"keydown",h)},p=function(){rt(e.value,"keydown",h)};return{hoverRow:c,needKeyboardRowHover:u,clearHoverRow:v,addRowHoverKeyboardListener:g,removeRowHoverKeyboardListener:p}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function jre(t,e){var n=i.ref(),a=i.ref(!0),r=function(){if(!(!e.value||!t.value||n.value)){a.value=!1;var l=as(t.value,null,function(){a.value=!0},10);n.value=l}};return i.onMounted(r),e.value&&i.watch([e,t],r),i.onBeforeUnmount(function(){var o,l;e.value&&((o=n.value)===null||o===void 0||(l=o.unobserve)===null||l===void 0||l.call(o,t.value))}),{showElement:a}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function IP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IP(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IP(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function NP(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!i.isVNode(t)}var TP=i.defineComponent({name:"TBaseTable",props:un(un({},Qo),{},{renderExpandedRow:Function,onLeafColumnsChange:Function,thDraggable:Boolean}),emits:["show-element-change"],setup:function(e,n){var a=i.toRefs(e),r=a.lazyLoad,o=Pe(),l=i.ref(),s=i.ref(),c=i.ref(),d=i.ref(),u=i.ref(0),f=Tn(),v=f.classPrefix,h=f.virtualScrollClasses,g=f.tableLayoutClasses,p=f.tableBaseClass,m=f.tableColFixedClasses,y=SP(e),b=y.tableClasses,w=y.sizeClassNames,C=y.tableContentStyles,x=y.tableElementStyles,k=Re("table",e.locale),P=k.globalConfig,I=dP(e),D=I.isMultipleHeader,L=I.spansAndLeafNodes,O=I.thList,S=i.computed(function(){var it;return((it=L.value)===null||it===void 0?void 0:it.leafColumns)||e.columns}),_=i.computed(function(){var it;return(it=e.size)!==null&&it!==void 0?it:P.value.size}),A=jre(l,r),E=A.showElement,R=i.ref(),N=i.ref(),F=i.ref(),M=i.ref(),$=Sre(e,n,S,{paginationAffixRef:R,horizontalScrollAffixRef:N,headerTopAffixRef:F,footerBottomAffixRef:M}),W=$.scrollbarWidth,H=$.virtualScrollHeaderPos,K=$.tableWidth,z=$.tableElmWidth,B=$.tableContentRef,q=$.isFixedHeader,Y=$.isWidthOverflow,X=$.isFixedColumn,T=$.thWidthList,j=$.showColumnShadow,U=$.rowAndColFixedPosition,J=$.setData,Z=$.refreshTable,Q=$.setTableElmWidth,ee=$.emitScrollEvent,ne=$.setUseFixedTableElmRef,V=$.updateColumnFixedShadow,re=$.getThWidthList,ce=$.updateThWidthList,se=$.addTableResizeObserver,ue=$.updateTableAfterColumnResize,ye=Pre(e),me=ye.affixHeaderRef,ge=ye.affixFooterRef,xe=ye.horizontalScrollbarRef,le=ye.paginationRef,ie=ye.showAffixHeader,oe=ye.showAffixFooter,de=ye.showAffixPagination,Te=ye.onHorizontalScroll,Se=ye.setTableContentRef,Oe=ye.updateAffixHeaderOrFooter,ke=kre(e,n),_e=ke.dataSource,De=ke.innerPagination,je=ke.isPaginateData,Xe=ke.renderPagination,tt=Gae({isWidthOverflow:Y,tableContentRef:B,showColumnShadow:j,getThWidthList:re,updateThWidthList:ce,setTableElmWidth:Q,updateTableAfterColumnResize:ue,onColumnResizeChange:e.onColumnResizeChange}),hn=tt.resizeLineRef,Vn=tt.resizeLineStyle,xn=tt.setEffectColMap,_a=i.computed(function(){return[b.value,G(G(G(G(G(G(G(G({},p.headerFixed,q.value),p.columnFixed,X.value),p.widthOverflow,Y.value),p.multipleHeader,D.value),m.leftShadow,j.left),m.rightShadow,j.right),p.columnResizableTable,e.resizable),"".concat(v,"-table__row--active-").concat(e.activeRowType),e.activeRowType)]}),Ol=i.computed(function(){return[[g[e.tableLayout]]]}),kl=i.computed(function(){return e.bordered&&q.value&&(D.value&&Y.value||!D.value)}),Xa=i.computed(function(){var it,yt;if(!e.bordered)return 0;var Nt=(it=d.value)===null||it===void 0?void 0:it.getBoundingClientRect(),tn=(yt=le.value)===null||yt===void 0?void 0:yt.getBoundingClientRect();return((Nt==null?void 0:Nt.height)||0)+((tn==null?void 0:tn.height)||0)}),ct=Rre(e,l),dt=ct.tActiveRow,zt=ct.onHighlightRow,Fn=ct.addHighlightKeyboardListener,Sn=ct.removeHighlightKeyboardListener,en=Dre(e,l),Qs=en.hoverRow,Pl=en.needKeyboardRowHover,Xi=en.clearHoverRow,Ji=en.addRowHoverKeyboardListener,Zi=en.removeRowHoverKeyboardListener;i.watch(s,function(){ne(s.value)}),i.watch(function(){return[e.data,_e]},function(){J(je.value?_e.value:e.data)}),i.watch(L,function(){var it;(it=e.onLeafColumnsChange)===null||it===void 0||it.call(e,L.value.leafColumns),xn(L.value.leafColumns,null)},{immediate:!0});var Qi=function(){i.nextTick(function(){Te(),Oe()})},Pr=Ci(function(){ce(re("calculate"))}),wt=i.computed(function(){return{data:e.data,scroll:un(un({},e.scroll),{},{fixedRows:e.fixedRows})}}),_r=rh(B,wt),Ir=-1,Vs=function(yt){var Nt=yt.target||yt.srcElement,tn=Nt.scrollTop;Ir!==tn?_r.isVirtualScroll.value&&_r.handleScroll():(Ir=-1,V(Nt)),Ir=tn,ee(yt),e.tableLayout==="auto"&&Pr()},Qr=function(){var yt;s.value&&(u.value=(yt=s.value.querySelector("tfoot"))===null||yt===void 0?void 0:yt.getBoundingClientRect().height)},Ja=function(yt){if(B.value){for(var Nt=B.value.querySelector('th[data-colkey="'.concat(yt,'"]')),tn=B.value.querySelectorAll("th.t-table__cell--fixed-left"),Vr=0,_l=0,ime=tn.length;_l<ime;_l++)Vr+=tn[_l].getBoundingClientRect().width;var ome=Nt.getBoundingClientRect(),lme=B.value.getBoundingClientRect(),sme=ome.left-lme.left-Vr;B.value.scrollTo({left:sme,behavior:"smooth"})}};i.watch(B,function(){Se(B.value),e.tableLayout==="auto"&&Pr()}),i.watch(function(){return[s.value,e.footData,e.footerSummary,e.columns]},function(){var it=setTimeout(function(){Qr(),clearTimeout(it)},0)}),i.watch(l,function(it){se(it)}),i.onMounted(function(){Qr(),Se(B.value),se(l.value)});var Za=function(){e.activeRowType&&Fn(),Pl.value&&Ji()},lp=function(){e.activeRowType&&Sn(),Pl.value&&Zi()},sp=function(yt){var Nt;(Nt=e.onRowClick)===null||Nt===void 0||Nt.call(e,yt),e.activeRowType&&zt(yt),Pl.value&&Xi()};i.watch([E],function(it){var yt=Ce(it,1),Nt=yt[0];n.emit("show-element-change",Nt)},{immediate:!0});var ec=i.computed(function(){return je.value?_e.value:e.data}),Vi=function(yt){var Nt=yt.index;if(!Nt&&Nt!==0){var tn;if(!yt.key){He.error("Table","scrollToElement: one of `index` or `key` must exist.");return}Nt=(tn=ec.value)===null||tn===void 0?void 0:tn.findIndex(function(Vr){return we(Vr,e.rowKey)===yt.key}),Nt<0&&He.error("Table","".concat(yt.key," does not exist in data, check `rowKey` or `data` please."))}_r.scrollToElement(un(un({},yt),{},{index:Nt-1}))};return{thList:O,classPrefix:v,innerPagination:De,globalConfig:P,tableFootHeight:u,virtualScrollHeaderPos:H,tableSize:_,tableWidth:K,tableElmWidth:z,tableRef:l,tableElmRef:s,sizeClassNames:w,tableBaseClass:p,spansAndLeafNodes:L,dynamicBaseTableClasses:_a,tableContentStyles:C,tableElementStyles:x,dividerBottom:Xa,virtualScrollClasses:h,tableLayoutClasses:g,tableElmClasses:Ol,tableContentRef:B,isFixedHeader:q,isWidthOverflow:Y,isFixedColumn:X,rowAndColFixedPosition:U,showColumnShadow:j,thWidthList:T,isPaginateData:je,dataSource:_e,affixHeaderRef:me,affixFooterRef:ge,bottomContentRef:d,paginationRef:le,showAffixHeader:ie,showAffixFooter:oe,scrollbarWidth:W,isMultipleHeader:D,showRightDivider:kl,resizeLineRef:hn,resizeLineStyle:Vn,columnResizeParams:tt,horizontalScrollbarRef:xe,tableBodyRef:c,virtualConfig:_r,showAffixPagination:de,tActiveRow:dt,hoverRow:Qs,showElement:E,scrollToElement:Vi,renderPagination:Xe,renderTNode:o,onFixedChange:Qi,onHorizontalScroll:Te,updateAffixHeaderOrFooter:Oe,onInnerVirtualScroll:Vs,refreshTable:Z,scrollColumnIntoView:Ja,onTableFocus:Za,onTableBlur:lp,onInnerRowClick:sp,paginationAffixRef:R,horizontalScrollAffixRef:N,headerTopAffixRef:F,footerBottomAffixRef:M}},render:function(){var e,n,a=this,r,o,l,s,c,d;if(!this.showElement)return i.createVNode("div",{ref:"tableRef"},null);var u=this.rowAndColFixedPosition,f=this.tableLayout,v=this.isPaginateData?this.dataSource:this.data,h=((e=this.spansAndLeafNodes)===null||e===void 0?void 0:e.leafColumns)||this.columns,g=(n=this.allowResizeColumnWidth)!==null&&n!==void 0?n:this.resizable;g&&f==="auto"&&He.warn("Table","table-layout can not be `auto`, cause you are using column resizable, set `table-layout: fixed` please.");var p=f==="fixed"&&this.isWidthOverflow?"100px":void 0,m=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return i.createVNode("colgroup",null,[h.map(function(j){var U={width:gs((T||g?a.thWidthList[j.colKey]:void 0)||j.width)||p};return j.minWidth&&(U.minWidth=gs(j.minWidth)),!U.width&&!j.minWidth&&a.tableLayout==="fixed"&&(U.minWidth="80px"),i.createVNode("col",{key:j.colKey,style:U},null)})])},y=function(){return a.showHeader===!1?null:!!(a.virtualConfig.isVirtualScroll.value||a.headerAffixedTop)&&(a.headerAffixedTop?i.createVNode(So,i.mergeProps({offsetTop:0},Yu(a.headerAffixedTop),{onFixedChange:a.onFixedChange,ref:"headerTopAffixRef"}),NP(_)?_:{default:function(){return[_]}}):a.isFixedHeader&&_)},b=function(){return i.createVNode(So,i.mergeProps({offsetBottom:0},Yu(a.horizontalScrollAffixedBottom),{style:{marginTop:"-".concat(a.scrollbarWidth*2,"px")},horizontalScrollAffixedBottom:!0,ref:"horizontalScrollAffixRef"}),{default:function(){return[i.createVNode("div",{ref:"horizontalScrollbarRef",class:["scrollbar",a.tableBaseClass.obviousScrollbar],style:{width:"".concat(a.tableWidth,"px"),overflow:"auto",opacity:Number(a.showAffixFooter)}},[i.createVNode("div",{style:{width:"".concat(a.tableElmWidth,"px"),height:"5px"}},null)])]}})},w={isFixedHeader:this.isFixedHeader,rowAndColFixedPosition:this.rowAndColFixedPosition,isMultipleHeader:this.isMultipleHeader,bordered:this.bordered,maxHeight:this.maxHeight,height:this.height,spansAndLeafNodes:this.spansAndLeafNodes,thList:this.thList,thWidthList:this.thWidthList,resizable:this.resizable,columnResizeParams:this.columnResizeParams,classPrefix:this.classPrefix,ellipsisOverlayClassName:this.tableSize!=="medium"?this.sizeClassNames[this.tableSize]:"",attach:this.attach,showColumnShadow:this.showColumnShadow,thDraggable:this.thDraggable},C=Qa()<=11?4:0,x=this.isWidthOverflow?this.scrollbarWidth:0,k=i.ref((((r=this.affixHeaderRef)===null||r===void 0?void 0:r.getBoundingClientRect().height)||0)-C),P=setTimeout(function(){var X;k.value=(((X=a.affixHeaderRef)===null||X===void 0?void 0:X.getBoundingClientRect().height)||0)-C,clearTimeout(P)},0),I=i.computed(function(){return k.value-x}),D=Qo.headerAffixedTop?Number(this.showAffixHeader):1,L=i.computed(function(){return{width:"".concat(a.tableWidth,"px"),height:"".concat(I.value,"px"),opacity:D}}),O=this.bordered?1:0,S=!!((this.headerAffixedTop||this.virtualConfig.isVirtualScroll.value)&&this.tableWidth)&&i.createVNode("div",{ref:"affixHeaderRef",style:{width:"".concat(this.tableWidth-O,"px"),opacity:Number(this.showAffixHeader)},class:["scrollbar",G({},this.tableBaseClass.affixedHeaderElm,this.headerAffixedTop||this.virtualConfig.isVirtualScroll.value)]},[i.createVNode("table",{class:this.tableElmClasses,style:un(un({},this.tableElementStyles),{},{width:"".concat(this.tableElmWidth,"px")})},[m(!0),i.createVNode(kP,w,this.$slots)])]),_=i.createVNode("div",{class:this.tableBaseClass.affixedHeaderWrap,style:L.value},[S]),A=this.isWidthOverflow?this.scrollbarWidth:0;this.bordered&&(A+=1);var E=!!(this.virtualConfig.isVirtualScroll.value||this.footerAffixedBottom),R=((o=this.footData)===null||o===void 0?void 0:o.length)||this.footerSummary||this.$slots.footerSummary,N=!!(E&&R&&this.tableWidth)&&i.createVNode(So,i.mergeProps({class:this.tableBaseClass.affixedFooterWrap,onFixedChange:this.onFixedChange,offsetBottom:A||0},Yu(this.footerAffixedBottom),{style:{marginTop:"".concat(-1*(((l=this.tableFootHeight)!==null&&l!==void 0?l:0)+A),"px")},ref:"footerBottomAffixRef"}),{default:function(){return[i.createVNode("div",{ref:"affixFooterRef",style:{width:"".concat(a.tableWidth-O,"px"),opacity:Number(a.showAffixFooter)},class:["scrollbar",G({},a.tableBaseClass.affixedFooterElm,a.footerAffixedBottom||a.virtualConfig.isVirtualScroll.value)]},[i.createVNode("table",{class:a.tableElmClasses,style:un(un({},a.tableElementStyles),{},{width:"".concat(a.tableElmWidth,"px")})},[m(!0),i.createVNode(_P,{rowKey:a.rowKey,isFixedHeader:a.isFixedHeader,rowAndColFixedPosition:u,footData:a.footData,columns:h,rowAttributes:a.rowAttributes,rowClassName:a.rowClassName,thWidthList:a.thWidthList,footerSummary:a.footerSummary,rowspanAndColspanInFooter:a.rowspanAndColspanInFooter},a.$slots)])])]}}),F="translate(0, ".concat(this.virtualConfig.scrollHeight.value+((s=this.tableFootHeight)!==null&&s!==void 0?s:0)+((c=k.value)!==null&&c!==void 0?c:0),"px)"),M={transform:F,"-ms-transform":F,"-moz-transform":F,"-webkit-transform":F},$=un(un({classPrefix:this.classPrefix,ellipsisOverlayClassName:this.tableSize!=="medium"?this.sizeClassNames[this.tableSize]:"",rowAndColFixedPosition:u,showColumnShadow:this.showColumnShadow,data:v,virtualConfig:this.virtualConfig,columns:this.spansAndLeafNodes.leafColumns,tableElm:this.tableRef,tableWidth:this.tableWidth,isWidthOverflow:this.isWidthOverflow,scroll:this.scroll,cellEmptyContent:this.cellEmptyContent,tableContentElm:this.tableContentRef,handleRowMounted:this.virtualConfig.handleRowMounted,renderExpandedRow:this.renderExpandedRow},Ma(this.$props,xP)),{},{pagination:this.innerPagination,attach:this.attach,hoverRow:this.hoverRow,activeRow:this.tActiveRow,onRowClick:this.onInnerRowClick}),W=i.createVNode("div",{ref:"tableContentRef",class:this.tableBaseClass.content,style:this.tableContentStyles,onScroll:this.onInnerVirtualScroll},[this.virtualConfig.isVirtualScroll.value&&i.createVNode("div",{class:this.virtualScrollClasses.cursor,style:M},null),i.createVNode("table",{ref:"tableElmRef",class:this.tableElmClasses,style:un(un({},this.tableElementStyles),{},{width:this.resizable&&this.isWidthOverflow&&this.tableElmWidth?"".concat(this.tableElmWidth,"px"):this.tableElementStyles.width})},[m(!1),this.showHeader&&i.createVNode(kP,un(un({},w),{},{thWidthList:g?this.thWidthList:{}}),this.$slots),i.createVNode(Ere,$,this.$slots),i.createVNode(_P,{rowKey:this.rowKey,isFixedHeader:this.isFixedHeader,rowAndColFixedPosition:u,footData:this.footData,columns:h,rowAttributes:this.rowAttributes,rowClassName:this.rowClassName,footerSummary:this.footerSummary,rowspanAndColspanInFooter:this.rowspanAndColspanInFooter,virtualScroll:this.virtualConfig.isVirtualScroll.value},this.$slots)])]),H=pe(this.loading)?this.loading:this.$slots.loading,K=this.loading!==void 0&&i.createVNode(an,i.mergeProps({loading:!!this.loading,text:H,attach:this.tableRef?function(){return a.tableRef}:void 0,showOverlay:!0,size:"small"},this.loadingProps),null),z=this.renderTNode("topContent"),B=this.renderTNode("bottomContent"),q=i.createVNode("div",{ref:"paginationRef",class:this.tableBaseClass.paginationWrap,style:{opacity:Number(this.showAffixPagination)}},[this.renderPagination()]),Y=!!B&&i.createVNode("div",{ref:"bottomContentRef",class:this.tableBaseClass.bottomContent},[B]);return i.createVNode("div",{ref:"tableRef",tabindex:"0",class:this.dynamicBaseTableClasses,onFocus:this.onTableFocus,onBlur:this.onTableBlur},[!!z&&i.createVNode("div",{class:this.tableBaseClass.topContent},[z]),y(),W,N,K,Y,this.showRightDivider&&i.createVNode("div",{class:this.tableBaseClass.scrollbarDivider,style:{right:"".concat(this.scrollbarWidth,"px"),bottom:this.dividerBottom?"".concat(this.dividerBottom,"px"):void 0,height:"".concat((d=this.tableContentRef)===null||d===void 0?void 0:d.getBoundingClientRect().height,"px")}},null),this.horizontalScrollAffixedBottom&&b(),this.paginationAffixedBottom?i.createVNode(So,i.mergeProps({offsetBottom:0},Yu(this.paginationAffixedBottom),{ref:"paginationAffixRef"}),NP(q)?q:{default:function(){return[q]}}):q,i.createVNode("div",{ref:"resizeLineRef",class:this.tableBaseClass.resizeLine,style:this.resizeLineStyle},null)])}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var EP={asyncLoading:{type:[String,Function]},columnController:{type:Object},columnControllerVisible:{type:Boolean,default:void 0},defaultColumnControllerVisible:{type:Boolean,default:void 0},columns:{type:Array,default:function(){return[]}},displayColumns:{type:Array,default:void 0},defaultDisplayColumns:{type:Array},dragSort:{type:String,validator:function(e){return e?["row","row-handler","col","row-handler-col","drag-col"].includes(e):!0}},dragSortOptions:{type:Object},editableCellState:{type:Function},editableRowKeys:{type:Array},expandIcon:{type:[Boolean,Function],default:!0},expandOnRowClick:Boolean,expandedRow:{type:[String,Function]},expandedRowKeys:{type:Array,default:void 0},defaultExpandedRowKeys:{type:Array,default:function(){return[]}},filterIcon:{type:Function},filterRow:{type:[String,Function]},filterValue:{type:Object,default:void 0},defaultFilterValue:{type:Object},hideSortTips:Boolean,indeterminateSelectedRowKeys:{type:Array},multipleSort:Boolean,reserveSelectedRowOnPaginate:{type:Boolean,default:!0},rowSelectionAllowUncheck:Boolean,rowSelectionType:{type:String,validator:function(e){return e?["single","multiple"].includes(e):!0}},selectOnRowClick:Boolean,selectedRowKeys:{type:Array,default:void 0},defaultSelectedRowKeys:{type:Array,default:function(){return[]}},showSortColumnBgColor:Boolean,sort:{type:[Object,Array],default:void 0},defaultSort:{type:[Object,Array]},sortIcon:{type:Function},sortOnRowDraggable:Boolean,onAsyncLoadingClick:Function,onCellClick:Function,onChange:Function,onColumnChange:Function,onColumnControllerVisibleChange:Function,onDataChange:Function,onDisplayColumnsChange:Function,onDragSort:Function,onExpandChange:Function,onFilterChange:Function,onRowEdit:Function,onRowValidate:Function,onSelectChange:Function,onSortChange:Function,onValidate:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function AP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function RP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AP(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AP(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var Mre=i.defineComponent({name:"ColumnCheckboxGroup",props:{checkboxProps:Object,options:{type:Array,default:function(){return[]}},label:String,uniqueKey:String,value:Array,onChange:Function},setup:function(e){var n=i.toRefs(e),a=n.checkboxProps,r=n.value,o=n.options,l=ae(),s=i.computed(function(){var g=[];return o.value.forEach(function(p){if(Je(p)==="object"){if(p.disabled)return;p.value?g.push(p.value):typeof p.label=="string"&&g.push(p.label)}else g.push(p)}),g}),c=i.computed(function(){return hi(s.value,r.value)}),d=i.computed(function(){var g=c.value.length;return!!(g&&s.value.length===g)}),u=i.computed(function(){var g=c.value.length;return!!(g<s.value.length&&g)}),f=function(p,m){var y={e:m.e,type:"check",current:void 0,option:void 0};if(p){var b,w=he(new Set(r.value.concat(s.value)));(b=e.onChange)===null||b===void 0||b.call(e,w,y)}else{var C,x=r.value.filter(function(k){return!s.value.includes(k)});(C=e.onChange)===null||C===void 0||C.call(e,x,RP(RP({},y),{},{type:"uncheck"}))}},v=function(p,m){var y;(y=e.onChange)===null||y===void 0||y.call(e,p,m)},h=i.computed(function(){return["".concat(l.value,"-table__column-controller-item"),G({},"".concat(l.value,"-table__").concat(e.uniqueKey),e.uniqueKey)]});return function(){return i.createVNode("div",{class:h.value},[i.createVNode("div",{class:"".concat(l.value,"-table__column-controller-block")},[i.createVNode(Fa,{indeterminate:u.value,checked:d.value,onChange:f,disabled:!s.value.length},{default:function(){return[e.label]}})]),i.createVNode("div",{class:"".concat(l.value,"-table__column-controller-block")},[i.createVNode(rs,i.mergeProps({options:o.value},a.value,{modelValue:r.value,onChange:v}),null)])])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function DP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Ih(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DP(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Nh(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set,n=0,a=t.length;n<a;n++){var r,o=t[n];(r=o.children)!==null&&r!==void 0&&r.length?Nh(o.children,e):o.colKey&&e.add(o.colKey)}return e}function Fre(t,e){var n=Re("table",t.locale),a=n.classPrefix,r=n.globalConfig,o=Ve({SettingIcon:xB}),l=o.SettingIcon,s=i.toRefs(t),c=s.columns,d=s.columnController,u=s.displayColumns,f=s.columnControllerVisible,v=i.ref(null),h=Pe(),g=i.computed(function(){var S,_=(((S=d.value)===null||S===void 0?void 0:S.fields)||he(Nh(c.value))).filter(function(A){return A});return new Set(_)}),p=he(Nh(c.value)),m=Rt(u,t.defaultDisplayColumns||p,t.onDisplayColumnsChange,"displayColumns"),y=Ce(m,2),b=y[0],w=y[1],C=i.ref(u.value||t.defaultDisplayColumns||p),x=i.computed(function(){var S;if((S=d.value)!==null&&S!==void 0&&(S=S.groupColumns)!==null&&S!==void 0&&S.length)return P(c.value);var _={label:r.value.selectAllText,options:I(c.value)};return[_]});i.watch([u],function(S){var _=Ce(S,1),A=_[0];C.value=A||t.defaultDisplayColumns||p});function k(S,_){return{label:function(){return Ku(e.slots,S,_)},value:S.colKey,disabled:!g.value.has(S.colKey)}}function P(S){var _,A=(_=d.value)===null||_===void 0?void 0:_.groupColumns;if(!(A!=null&&A.length))return[];var E=[],R=function(F){for(var M=0,$=F.length;M<$;M++){for(var W,H=F[M],K=k(H,M),z=0,B=A.length;z<B;z++){var q,Y=A[z];Y.columns.includes(H.colKey)&&((q=E[z])!==null&&q!==void 0&&(q=q.options)!==null&&q!==void 0&&q.length?E[z].options.push(K):E[z]=Ih(Ih({},A[z]),{},{options:[K]}))}(W=H.children)!==null&&W!==void 0&&W.length&&R(H.children)}};return R(S),E}function I(S){var _,A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if((_=d.value)!==null&&_!==void 0&&(_=_.groupColumns)!==null&&_!==void 0&&_.length)return[];for(var E=0,R=S.length;E<R;E++){var N,F=S[E];(N=F.children)!==null&&N!==void 0&&N.length?I(F.children,A):F.colKey&&A.push(k(F,E))}return A}var D=function(_,A){var E;C.value=_;var R={columns:_,type:A.type,currentColumn:mP(c.value,String(A.current)),e:A.e};(E=t.onColumnChange)===null||E===void 0||E.call(t,R)},L=function(){var _;if(v.value){v.value.show();return}v.value=Bu.confirm(Ih({header:r.value.columnConfigTitleText,body:function(){var E,R=((E=d.value)===null||E===void 0?void 0:E.displayType)==="fixed-width"?"fixed":"auto",N=d.value||{},F=N.columnControllerTopContent,M=N.columnControllerBottomContent,$=i.createVNode("div",{class:["".concat(a.value,"-table__column-controller"),"".concat(a.value,"-table__column-controller--").concat(R)]},[i.createVNode("div",{class:"".concat(a.value,"-table__column-controller-body")},[pe(F)?F(i.h):h("columnControllerTopContent"),r.value.columnConfigDescriptionText&&i.createVNode("p",{class:"".concat(a.value,"-table__column-controller-desc")},[r.value.columnConfigDescriptionText]),x.value.map(function(W,H){var K,z,B=(K=d.value)!==null&&K!==void 0&&(K=K.groupColumns)!==null&&K!==void 0&&K.length?String(W.value||H):void 0;return i.createVNode(Mre,{key:W.value||H,uniqueKey:B,value:C.value,label:W.label,options:W.options,onChange:D,checkboxProps:(z=d.value)===null||z===void 0?void 0:z.checkboxProps},null)}),pe(M)?M(i.h):h("columnControllerBottomContent")])]);return $},confirmBtn:r.value.confirmText,cancelBtn:r.value.cancelText,width:612,onConfirm:function(){if(w(he(C.value)),f.value===void 0)v.value.hide();else{var E;(E=t.onColumnControllerVisibleChange)===null||E===void 0||E.call(t,!1,{trigger:"confirm"}),e.emit("update:columnControllerVisible",!1)}},onClose:function(){if(f.value===void 0)v.value.hide();else{var E;(E=t.onColumnControllerVisibleChange)===null||E===void 0||E.call(t,!1,{trigger:"cancel"}),e.emit("update:columnControllerVisible",!1)}}},((_=d.value)===null||_===void 0?void 0:_.dialogProps)||{}))};i.watch([f],function(S){var _=Ce(S,1),A=_[0];A!==void 0&&(v.value?A?v.value.show():v.value.hide():A&&L())},{immediate:!0});var O=function(){var _,A=!!(d.value&&Object.keys(d.value).length),E=A?d.value.placement||"top-right":"";if(A&&d.value.hideTriggerButton)return null;var R=["".concat(a.value,"-table__column-controller-trigger"),G({},"".concat(a.value,"-align-").concat(E),!!E)];return i.createVNode("div",{class:R},[i.createVNode(vt,i.mergeProps({theme:"default",variant:"outline",onClick:L,content:r.value.columnConfigButtonText},(_=t.columnController)===null||_===void 0?void 0:_.buttonProps),{icon:function(){return i.createVNode(l,null,null)}})])};return{tDisplayColumns:b,columnCheckboxKeys:C,renderColumnController:O}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Lre(t,e){var n=i.toRefs(t),a=n.expandedRowKeys,r=Pe(),o=Re("table",t.locale),l=o.t,s=o.globalConfig,c=Ve({ChevronRightCircleIcon:x$}),d=c.ChevronRightCircleIcon,u=Tn(),f=u.tableExpandClasses,v=u.positiveRotate90,h=u.tableFullRowClasses,g=Rt(a,t.defaultExpandedRowKeys||[],t.onExpandChange,"expandedRowKeys"),p=Ce(g,2),m=p[0],y=p[1],b=i.computed(function(){return!!(t.expandedRow||e.slots.expandedRow||e.slots["expanded-row"])}),w=i.computed(function(){return t.expandIcon!==!1&&b.value}),C=i.computed(function(){var O;return((O=t.columns)===null||O===void 0||(O=O[0])===null||O===void 0?void 0:O.fixed)==="left"}),x=function(S){var _;if(!b.value)return null;var A=S.row,E=S.rowKey,R=we(A,E||"id");return f[(_=m.value)!==null&&_!==void 0&&_.includes(R)?"rowExpanded":"rowFolded"]},k=function(S,_){t.expandOnRowClick&&S.stopPropagation();var A=we(_,t.rowKey||"id"),E=m.value.indexOf(A),R=he(m.value);E!==-1?R.splice(E,1):R.push(A),y(R,{expandedRowData:t.data.filter(function(N){return R.includes(we(N,t.rowKey||"id"))}),currentRowData:_})},P=function(S,_){var A=_.row,E=_.rowIndex,R=we(A,t.rowKey||"id"),N=m.value.includes(R),F=r("expandIcon",{defaultNode:l(s.value.expandIcon)||i.createVNode(d,null,null),params:{row:A,index:E}});if(!F)return null;var M=[f.iconBox,f[N?"expanded":"collapsed"],G({},v,N)];return i.createVNode("span",{class:M,onClick:function(W){return k(W,A)}},[F])},I=function(){var S={colKey:"__EXPAND_ROW_ICON_COLUMN__",width:46,className:f.iconCell,fixed:C.value?"left":void 0,cell:P,stopPropagation:!0};return S},D=function(S){var _=we(S.row,t.rowKey||"id");if(!m.value||!m.value.includes(_))return null;var A=S.isWidthOverflow&&t.columns.find(function(E){return E.fixed==="left"});return i.createVNode("tr",{key:"expand_".concat(_),class:[f.row,G({},h.base,A)]},[i.createVNode("td",{colspan:S.columns.length},[i.createVNode("div",{class:[f.rowInner,G({},h.innerFullRow,A)],style:A?{width:"".concat(S.tableWidth,"px")}:{}},[i.createVNode("div",{class:h.innerFullElement},[r("expandedRow",{params:S})])])])])},L=function(S){k(S.e,S.row)};return{showExpandedRow:b,showExpandIconColumn:w,getExpandColumn:I,renderExpandedRow:D,onInnerExpandRowClick:L,getExpandedRowClass:x}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Th(t,e,n){if(!t)return!1;var a=pe(t.disabled)?t.disabled({row:e,rowIndex:n}):t.disabled;return t.checkProps&&(pe(t.checkProps)?a=a||t.checkProps({row:e,rowIndex:n}).disabled:t.checkProps==="object"&&(a=a||t.checkProps.disabled)),!!a}function $re(t,e,n){for(var a={},r=0,o=e.length;r<o;r++){var l=we(e[r],n);t.includes(l)&&(a[l]=!0)}return a}function Ju(t,e){for(var n=0,a=t.length;n<a;n++){var r;if(t[n].colKey===e)return t[n];if((r=t[n].children)!==null&&r!==void 0&&r.length){var o=Ju(t[n].children,e);if(o)return o}}return null}function jP(t,e){for(var n=0,a=t.length;n<a;n++){var r;if(t[n].colKey===e)return n;if((r=t[n].children)!==null&&r!==void 0&&r.length){var o=Ju(t[n].children,e);if(o)return n}}return-1}function MP(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=0,a=t.length;n<a;n++){var r,o=t[n];o.filter&&"resetValue"in o.filter&&(e[o.colKey]=o.filter.resetValue),(r=o.children)!==null&&r!==void 0&&r.length&&MP(o.children,e)}return e}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function FP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Zu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FP(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FP(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Bre(t,e){var n=i.toRefs(t),a=n.selectedRowKeys,r=n.columns,o=n.rowKey,l=n.data,s=n.reserveSelectedRowOnPaginate,c=i.ref(l.value),d=i.ref(),u=Rt(a,t.defaultSelectedRowKeys||[],t.onSelectChange,"selectedRowKeys"),f=Ce(u,2),v=f[0],h=f[1],g=i.ref(new Map),p=i.computed(function(){return t.columns.find(function(E){var R=E.type;return["multiple","single"].includes(R)})}),m=i.computed(function(){var E;return t.rowSelectionType||((E=p.value)===null||E===void 0?void 0:E.type)||"single"}),y=i.computed(function(){var E=s.value?l.value:c.value;return E.filter(function(R,N){return!C(R,N)})}),b=i.computed(function(){return hi(v.value,y.value.map(function(E){return we(E,t.rowKey||"id")}))}),w=i.computed(function(){var E;if(t.rowSelectionAllowUncheck)return!0;var R=m.value==="single";return!R||!p.value||!("allowUncheck"in((E=p.value)===null||E===void 0?void 0:E.checkProps))?!1:p.value.checkProps.allowUncheck});i.watch([l,r,v,p,o],function(){var E,R=function(H){return p.value.disabled(H)?e.disabled:""},N=(E=p.value)!==null&&E!==void 0&&E.disabled?R:void 0,F=new Set(v.value),M=function(H){var K=H.row,z=we(K,t.rowKey||"id");return F.has(z)?e.selected:""},$=F.size?M:void 0;d.value=[N,$],c.value=l.value},{immediate:!0});function C(E,R){return Th(p.value,E,R)}function x(){return function(){var E=b.value.length>0&&b.value.length<y.value.length,R=b.value.length!==0&&y.value.length!==0&&b.value.length===y.value.length;return i.createVNode(Fa,{checked:R,indeterminate:E,disabled:!y.value.length,onChange:D},null)}}function k(E){var R=E.col,N=E.row,F=E.rowIndex,M=pe(R.disabled)?R.disabled({row:N,rowIndex:F}):R.disabled,$=pe(R.checkProps)?R.checkProps({row:N,rowIndex:F}):R.checkProps;return{disabled:M||($==null?void 0:$.disabled),checkProps:$}}function P(E){var R=E.col,N=E.row,F=N===void 0?{}:N,M=v.value.includes(we(F,t.rowKey||"id")),$=k(E),W=$.disabled,H=$.checkProps,K=Zu(Zu({checked:M,disabled:W},H),{},{onClick:function(Y){if(Je(Y)==="object"&&"e"in Y){var X;(X=Y.e)===null||X===void 0||X.stopPropagation()}else Y==null||Y.stopPropagation()},onChange:function(){return I(F)}});if(R.type==="single")return i.createVNode(nO,K,null);if(R.type==="multiple"){var z,B=(z=t.indeterminateSelectedRowKeys)!==null&&z!==void 0&&z.length?t.indeterminateSelectedRowKeys.includes(we(F,t.rowKey)):!1;return i.createVNode(Fa,i.mergeProps({indeterminate:B},K),null)}return null}function I(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=he(v.value),N=t.rowKey||"id",F=we(E,N),M=R.indexOf(F),$=M!==-1;if(m.value==="multiple")$?R.splice(M,1):R.push(F);else if(m.value==="single")R=$&&w.value?[]:[F];else{He.warn("Table","`column.type` must be one of `multiple` and `single`");return}h(R,{selectedRowData:R.map(function(W){return g.value.get(W)}),currentRowKey:F,currentRowData:E,type:$?"uncheck":"check"})}function D(E){var R,N=t.rowKey||"id",F=y.value.map(function(W){return we(W,N)}),M=((R=a.value)===null||R===void 0?void 0:R.filter(function(W){return!F.includes(W)}))||[],$=E?[].concat(he(M),he(F)):he(M);h($,{selectedRowData:E?$.map(function(W){return g.value.get(W)}):[],type:E?"check":"uncheck",currentRowKey:"CHECK_ALL_BOX"})}function L(E){var R=["multiple","single"].includes(E.type);return R?Zu(Zu({},E),{},{width:E.width||64,className:[e.checkCell,E.className],cell:function(F,M){return P(M)},title:E.type==="multiple"?x():E.title}):E}var O=function(R){var N=R.row,F=R.index,M=t.columns.findIndex(function(H){return H.colKey==="row-select"}),$=!1;if(M!==-1){var W;$=(W=k({row:N,rowIndex:F,col:t.columns[M],colIndex:M}))===null||W===void 0?void 0:W.disabled}$||I(N)};i.watch([l,o],function(){for(var E=0,R=l.value.length;E<R;E++)g.value.set(we(l.value[E],o.value||"id"),l.value[E])},{immediate:!0});var S=i.computed(function(){return!!(p.value||t.selectOnRowClick||t.selectedRowKeys)}),_=function(){h([],{selectedRowData:[],currentRowKey:void 0,currentRowData:void 0,type:"uncheck"})},A=function(R){var N=R.activeRowList,F=R.action;if(S.value){if(F==="clear"){_();return}if(F==="select-all"){D(!0);return}if(m.value==="single"){F==="space-one-selection"&&I(N[0].row);return}var M=N.filter(function(q){var Y=q.row,X=q.rowIndex;return!k({row:Y,rowIndex:X,col:p.value,colIndex:void 0}).disabled});if(M.length){var $=M.map(function(q){var Y=q.row;return we(Y,t.rowKey)}),W=hi(v.value,$),H=W.length!==$.length,K=v.value.filter(function(q){return!$.includes(q)}),z=H?he(new Set(v.value.concat($))):K,B=F==="space-one-selection"?N[0].row:void 0;h(z,{selectedRowData:N,currentRowKey:we(B,t.rowKey),currentRowData:B,type:H?"check":"uncheck"})}}};return{selectColumn:p,showRowSelect:S,selectedRowClassNames:d,currentPaginateData:c,setTSelectedRowKeys:h,formatToRowSelectColumn:L,onInnerSelectRowClick:O,handleRowSelectWithAreaSelection:A}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function zre(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!i.isVNode(t)}var Hre=i.defineComponent({name:"TSorterButton",props:{sortType:{type:String,default:"all"},sortOrder:{type:String,default:function(){return""}},locale:Object,sortIcon:Function,tooltipProps:Object,hideSortTips:Boolean},emits:["sort-icon-click"],setup:function(e,n){var a=Tn(),r=a.tableSortClasses,o=a.negativeRotate180,l=va(),s=Re("table",e.locale),c=s.t,d=s.globalConfig,u=Ve({ChevronDownIcon:Rc}),f=u.ChevronDownIcon,v=i.computed(function(){return e.sortType==="all"?["asc","desc"]:[e.sortType]}),h=function(m,y){n.emit("sort-icon-click",m,{descending:y==="desc"})},g=function(m,y){var b=c(d.value.sortIcon)||i.createVNode(f,null,null),w=l("sortIcon",b),C=[y,r.sortIcon,r.iconDirection[m],G({},o,m==="asc")];return i.createVNode("span",{class:C,onClick:function(k){return h(k,m)}},[w])};return{t:c,globalConfig:d,tableSortClasses:r,negativeRotate180:o,allowSortTypes:v,getSortIcon:g}},render:function(){var e=this,n=this.tableSortClasses,a=[n.trigger,G({},n.doubleIcon,this.allowSortTypes.length>1)],r={asc:this.globalConfig.sortAscendingOperationText,desc:this.globalConfig.sortDescendingOperationText},o=this.allowSortTypes.map(function(l){var s,c,d=l===e.sortOrder?n.iconActive:n.iconDefault,u=e.globalConfig.sortCancelOperationText,f=l===e.sortOrder?u:r[l];return((c=e.hideSortTips)!==null&&c!==void 0?c:e.globalConfig.hideSortTips)?e.getSortIcon(l,d):i.createVNode(pn,i.mergeProps({content:f,placement:"right",showArrow:!1,class:e.tableSortClasses.iconDirection[l]},e.tooltipProps),zre(s=e.getSortIcon(l,d))?s:{default:function(){return[s]}})});return i.createVNode("div",{class:a},[o])}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function LP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Wre(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LP(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LP(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Ure(t,e){var n=e.slots,a=i.toRefs(t),r=a.sort,o=a.data,l=i.ref(),s=Rt(r,t.defaultSort,t.onSortChange,"sort"),c=Ce(s,2),d=c[0],u=c[1],f=Rt(o,[],t.onDataChange,"data"),v=Ce(f,2),h=v[0],g=v[1],p=i.computed(function(){return w(t.columns)}),m=i.ref(),y=i.computed(function(){var O=d.value;return O?Ie(O)?O:[O]:[]}),b=i.computed(function(){var O={};return y.value.forEach(function(S,_){var A=S.sortBy;O[A]=Wre({index:_},S)}),O});function w(O){for(var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=0,A=O.length;_<A;_++){var E,R=O[_];pe(R.sorter)&&(S[R.colKey]=R.sorter),(E=R.children)!==null&&E!==void 0&&E.length&&w(R.children,S)}return S}function C(O){var S=O;if(Object.keys(p.value).length){l.value||(l.value=h.value);var _=!S||S instanceof Array&&!S.length,A=!(S instanceof Array)&&!(S!=null&&S.sortBy);if(_||A)return g(l.value,{trigger:"sort"}),l.value;var E=S instanceof Array?S:[S],R=h.value.slice().sort(function(N,F){for(var M=0,$=0,W=E.length;$<W;$++){var H=E[$],K=p.value[H.sortBy];if(M===0&&K)M=H.descending?K(F,N):K(N,F);else break}return M});if(JSON.stringify(R)!==JSON.stringify(h.value))return g(R,{trigger:"sort"}),R}}function x(O,S){var _,A;if(t.multipleSort)A=I(O,S);else{var E=d.value instanceof Array?d.value[0]:d.value;A=P(O,E,S)}var R=C(A),N=R||h.value,F=N;u(A,{currentDataSource:F,col:O}),(_=t.onChange)===null||_===void 0||_.call(t,{sorter:A},{currentData:N,trigger:"sorter"}),m.value=A}function k(O){if(O!==void 0)return O?"desc":"asc"}function P(O,S,_){if(!(S&&S.sortBy===O.colKey&&S.descending===_.descending))return{sortBy:O.colKey,descending:_.descending}}function I(O,S){Array.isArray(d.value)||(d.value=d.value?[d.value]:[]);for(var _=d.value,A=O.colKey,E=he(_),R=0,N=_.length;R<N;R++)if(_[R].sortBy===A){var F=P(O,_[R],S);return F?E[R]=F:E.splice(R,1),E}return E.push({sortBy:A,descending:S.descending}),E}function D(O){var S,_=O.col;if(!_.sorter)return null;var A={sortType:_.sortType,sortOrder:k((S=b.value[_.colKey])===null||S===void 0?void 0:S.descending),sortIcon:t.sortIcon,hideSortTips:t.hideSortTips,locale:t.locale};return i.createVNode(Hre,i.mergeProps(A,{onSortIconClick:function(R,N){return x(_,N)}}),{sortIcon:n.sortIcon})}var L=function(S,_){var A=Ie(S)?S:[S],E=Ie(_)?_:[_];if(A.length&&!_)return!1;for(var R=function(){var W=A[F],H=E.find(function(K){return K.sortBy===W.sortBy});return H?{v:W.descending===H.descending}:{v:!1}},N,F=0,M=A.length;F<M;F++)if(N=R(),N)return N.v};return i.watch(function(){return[d,t.data]},function(){!d.value||!Object.keys(d.value).length||!h.value.length||L(d.value,m.value)||C(d.value)},{immediate:!0}),{renderSortIcon:D}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function $P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Qu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$P(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$P(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var Kre=i.defineComponent({name:"TableFilterController",props:{locale:Object,column:Object,colIndex:Number,tFilterValue:Object,innerFilterValue:Object,tableFilterClasses:Object,isFocusClass:String,primaryTableElement:{},popupProps:Object,attach:[String,Function],onVisibleChange:Function},emits:["inner-filter-change","reset","confirm"],setup:function(e,n){var a=i.ref(null),r=va(),o=Re("table",e.locale),l=o.t,s=o.globalConfig,c=Ve({FilterIcon:eB}),d=c.FilterIcon,u=i.ref(!1),f=function(y){var b;u.value=y,(b=e.onVisibleChange)===null||b===void 0||b.call(e,y)},v=function(y,b,w){if(!w)return null;var C=!!w.setup;if(pe(y.filter.component)&&!C)return y.filter.component(function(k,P){var I=Je(P)==="object"&&"attrs"in P?P.attrs:{};return i.h(k,{props:Qu(Qu({},b),I)})});var x=y.filter||{};return i.createVNode(w,i.mergeProps({class:x.classNames,style:x.style},x.attrs,b),null)},h=function(y){var b,w,C,x=["single","multiple","input"];if((b=y.filter)!==null&&b!==void 0&&b.type&&!x.includes(y.filter.type)){console.error("TDesign Table Error: column.filter.type must be the following: ".concat(JSON.stringify(x)));return}var k=e.innerFilterValue,P=k===void 0?{}:k,I={single:ku,multiple:rs,input:ga}[y.filter.type]||y.filter.component;if(!(!I&&!y.filter.component)){var D=Qu(Qu({options:["single","multiple"].includes(y.filter.type)?(w=y.filter)===null||w===void 0?void 0:w.list:void 0},((C=y.filter)===null||C===void 0?void 0:C.props)||{}),{},{onChange:function(O,S){var _,A;if(n.emit("inner-filter-change",O,y),(_=y.filter.props)!==null&&_!==void 0&&_.onChange){var E,R;(E=(R=y.filter.props).onChange)===null||E===void 0||E.call(R,O,S)}(A=y.filter)!==null&&A!==void 0&&(A=A.confirmEvents)!==null&&A!==void 0&&A.includes("onChange")&&(u.value=!1)}});return y.colKey&&P&&y.colKey in P&&(D.value=P==null?void 0:P[y.colKey]),y.filter.confirmEvents&&y.filter.confirmEvents.forEach(function(L){L!=="onChange"&&(D[L]=function(){n.emit("confirm",y),u.value=!1})}),i.createVNode("div",{class:e.tableFilterClasses.contentInner},[v(y,D,I)])}},g=function(y){if(y.filter.showConfirmAndReset)return i.createVNode("div",{class:e.tableFilterClasses.bottomButtons},[i.createVNode(vt,{theme:"default",size:"small",onClick:function(){n.emit("reset",y),u.value=!1}},{default:function(){return[s.value.resetText]}}),i.createVNode(vt,{theme:"primary",size:"small",onClick:function(){n.emit("confirm",y),u.value=!1}},{default:function(){return[s.value.confirmText]}})])},p=function(){return i.createVNode("div",{class:e.tableFilterClasses.popupContent},[h(e.column),g(e.column)])};return{t:l,globalConfig:s,FilterIcon:d,filterPopupVisible:u,triggerElementRef:a,renderTNode:r,getContent:p,onFilterPopupVisibleChange:f}},render:function(){var e,n=this,a=this.column,r=this.popupProps,o=this.FilterIcon;if(!a.filter||a.filter&&!Object.keys(a.filter).length)return null;var l=this.t(this.globalConfig.filterIcon)||i.createVNode(o,null,null),s=(e=this.tFilterValue)===null||e===void 0?void 0:e[a.colKey],c=Je(s)==="object"&&!kn(s),d=![null,void 0,""].includes(s)&&Je(s)!=="object";return i.createVNode(Bn,i.mergeProps({attach:this.attach||(this.primaryTableElement?function(){return n.primaryTableElement}:void 0),visible:this.filterPopupVisible,destroyOnClose:!0,trigger:"click",placement:"bottom-right",showArrow:!0,overlayClassName:this.tableFilterClasses.popup,onVisibleChange:function(f){return n.onFilterPopupVisibleChange(f)},class:[this.tableFilterClasses.icon,G({},this.isFocusClass,c||d)],content:this.getContent},r),{default:function(){return[i.createVNode("div",{ref:"triggerElementRef"},[n.renderTNode("filterIcon",{defaultNode:l,params:{col:a,colIndex:n.colIndex}})])]}})}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function BP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Vu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function zP(t){var e=t instanceof Array&&t.length,n=Je(t)==="object"&&!(t instanceof Array),a=n&&Object.keys(t).length;return e||a||!["null","","undefined"].includes(String(t))}function Yre(t){var e={};return Object.keys(t).forEach(function(n){var a=t[n];zP(a)&&(e[n]=a)}),e}function qre(t,e){var n=i.ref(null),a=Re("table",t.locale),r=a.t,o=a.globalConfig,l=va(),s=i.toRefs(t),c=s.filterValue,d=s.columns,u=Tn(),f=u.tableFilterClasses,v=u.isFocusClass,h=i.ref(),g=Rt(c,t.defaultFilterValue,t.onFilterChange,"filterValue"),p=Ce(g,2),m=p[0],y=p[1],b=i.ref(m.value),w=i.computed(function(){var E=Yre(m.value||{});return!m.value||!Object.keys(E).length});i.watch([m],function(E){var R=Ce(E,1),N=R[0];b.value=N});function C(){var E,R;if(w.value)return null;var N=i.createVNode("div",{class:f.result},[i.createVNode("span",null,[r(o.value.searchResultText,{result:x(),count:((E=t.pagination)===null||E===void 0?void 0:E.total)||((R=t.data)===null||R===void 0?void 0:R.length)})]),i.createVNode(vt,{theme:"primary",variant:"text",onClick:L},{default:function(){return[o.value.clearFilterResultButtonText]}})]),F=l("filterRow");return t.filterRow&&!F||t.filterRow===null?null:i.createVNode("div",{class:f.inner},[F||N])}function x(){var E=[],R=[];return k(t.columns,R),R.filter(function(N){return N.filter}).forEach(function(N,F){var M=m.value[N.colKey];if(N.filter.list&&!["null"].includes(String(M))){var $=M instanceof Array?M:[M],W=[];N.filter.list.forEach(function(q){$.includes(q.value)&&W.push(q.label)}),M=W.join()}if(zP(M)){var H,K,z=pe((H=N.filter)===null||H===void 0?void 0:H.label)?N.filter.label(i.h):(K=N.filter)===null||K===void 0?void 0:K.label,B=Ku(e.slots,N,F);E.push("".concat(z||B,"：").concat(M))}}),E.join("；")}function k(E,R){E.forEach(function(N){N.children&&k(N.children,R),R.push(N)})}function P(E,R){var N=Vu(Vu({},b.value),{},G({},R.colKey,E));b.value=N,R.filter.showConfirmAndReset||I(N,"filter-change",R)}function I(E,R,N){var F;y(E,{col:N,trigger:R}),(F=t.onChange)===null||F===void 0||F.call(t,{filter:E},{trigger:"filter"})}function D(E){var R,N,F=Vu(Vu({},m.value),{},G({},E.colKey,(R=(N=E.filter.resetValue)!==null&&N!==void 0?N:{single:"",multiple:[],input:""}[E.filter.type])!==null&&R!==void 0?R:""));I(F,"reset",E)}function L(){var E=MP(d.value);I(E,"clear",void 0)}function O(E){I(b.value,"confirm",E)}function S(E){var R,N=E.col,F=E.colIndex;return i.createVNode(Kre,{column:N,colIndex:F,filterIcon:t.filterIcon,tFilterValue:m.value,innerFilterValue:b.value,tableFilterClasses:f,isFocusClass:v,popupProps:N.filter.popupProps,attach:t.attach,locale:t.locale,onReset:D,onConfirm:O,onInnerFilterChange:P,primaryTableElement:(R=n.value)===null||R===void 0?void 0:R.$el,onVisibleChange:A},{filterIcon:e.slots.filterIcon})}function _(E){n.value=E}function A(E){E&&!h.value&&(h.value=!E)}return{hasEmptyCondition:w,isTableOverflowHidden:h,renderFilterIcon:S,renderFirstFilterRow:C,setFilterPrimaryTableRef:_}}/**!
 * Sortable 1.15.4
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function HP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function za(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HP(Object(n),!0).forEach(function(a){Gre(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function ed(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ed=function(e){return typeof e}:ed=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(t)}function Gre(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hr(){return hr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},hr.apply(this,arguments)}function Xre(t,e){if(t==null)return{};var n={},a=Object.keys(t),r,o;for(o=0;o<a.length;o++)r=a[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function Jre(t,e){if(t==null)return{};var n=Xre(t,e),a,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)a=o[r],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}var Zre="1.15.4";function gr(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var pr=gr(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),ps=gr(/Edge/i),WP=gr(/firefox/i),ms=gr(/safari/i)&&!gr(/chrome/i)&&!gr(/android/i),UP=gr(/iP(ad|od|hone)/i),KP=gr(/chrome/i)&&gr(/android/i),YP={capture:!1,passive:!1};function ht(t,e,n){t.addEventListener(e,n,!pr&&YP)}function ut(t,e,n){t.removeEventListener(e,n,!pr&&YP)}function td(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function qP(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Oa(t,e,n,a){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&td(t,e):td(t,e))||a&&t===n)return t;if(t===n)break}while(t=qP(t))}return null}var GP=/\s+/g;function Yn(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var a=(" "+t.className+" ").replace(GP," ").replace(" "+e+" "," ");t.className=(a+(n?" "+e:"")).replace(GP," ")}}function Ze(t,e,n){var a=t&&t.style;if(a){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in a)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),a[e]=n+(typeof n=="string"?"":"px")}}function el(t,e){var n="";if(typeof t=="string")n=t;else do{var a=Ze(t,"transform");a&&a!=="none"&&(n=a+" "+n)}while(!e&&(t=t.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function XP(t,e,n){if(t){var a=t.getElementsByTagName(e),r=0,o=a.length;if(n)for(;r<o;r++)n(a[r],r);return a}return[]}function Ha(){var t=document.scrollingElement;return t||document.documentElement}function qt(t,e,n,a,r){if(!(!t.getBoundingClientRect&&t!==window)){var o,l,s,c,d,u,f;if(t!==window&&t.parentNode&&t!==Ha()?(o=t.getBoundingClientRect(),l=o.top,s=o.left,c=o.bottom,d=o.right,u=o.height,f=o.width):(l=0,s=0,c=window.innerHeight,d=window.innerWidth,u=window.innerHeight,f=window.innerWidth),(e||n)&&t!==window&&(r=r||t.parentNode,!pr))do if(r&&r.getBoundingClientRect&&(Ze(r,"transform")!=="none"||n&&Ze(r,"position")!=="static")){var v=r.getBoundingClientRect();l-=v.top+parseInt(Ze(r,"border-top-width")),s-=v.left+parseInt(Ze(r,"border-left-width")),c=l+o.height,d=s+o.width;break}while(r=r.parentNode);if(a&&t!==window){var h=el(r||t),g=h&&h.a,p=h&&h.d;h&&(l/=p,s/=g,f/=g,u/=p,c=l+u,d=s+f)}return{top:l,left:s,bottom:c,right:d,width:f,height:u}}}function JP(t,e,n){for(var a=Lr(t,!0),r=qt(t)[e];a;){var o=qt(a)[n],l=void 0;if(l=r>=o,!l)return a;if(a===Ha())break;a=Lr(a,!1)}return!1}function tl(t,e,n,a){for(var r=0,o=0,l=t.children;o<l.length;){if(l[o].style.display!=="none"&&l[o]!==Ge.ghost&&(a||l[o]!==Ge.dragged)&&Oa(l[o],n.draggable,t,!1)){if(r===e)return l[o];r++}o++}return null}function Eh(t,e){for(var n=t.lastElementChild;n&&(n===Ge.ghost||Ze(n,"display")==="none"||e&&!td(n,e));)n=n.previousElementSibling;return n||null}function la(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==Ge.clone&&(!e||td(t,e))&&n++;return n}function ZP(t){var e=0,n=0,a=Ha();if(t)do{var r=el(t),o=r.a,l=r.d;e+=t.scrollLeft*o,n+=t.scrollTop*l}while(t!==a&&(t=t.parentNode));return[e,n]}function Qre(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var a in e)if(e.hasOwnProperty(a)&&e[a]===t[n][a])return Number(n)}return-1}function Lr(t,e){if(!t||!t.getBoundingClientRect)return Ha();var n=t,a=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=Ze(n);if(n.clientWidth<n.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Ha();if(a||e)return n;a=!0}}while(n=n.parentNode);return Ha()}function Vre(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Ah(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var ys;function QP(t,e){return function(){if(!ys){var n=arguments,a=this;n.length===1?t.call(a,n[0]):t.apply(a,n),ys=setTimeout(function(){ys=void 0},e)}}}function eie(){clearTimeout(ys),ys=void 0}function VP(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function e2(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function t2(t,e,n){var a={};return Array.from(t.children).forEach(function(r){var o,l,s,c;if(!(!Oa(r,e.draggable,t,!1)||r.animated||r===n)){var d=qt(r);a.left=Math.min((o=a.left)!==null&&o!==void 0?o:1/0,d.left),a.top=Math.min((l=a.top)!==null&&l!==void 0?l:1/0,d.top),a.right=Math.max((s=a.right)!==null&&s!==void 0?s:-1/0,d.right),a.bottom=Math.max((c=a.bottom)!==null&&c!==void 0?c:-1/0,d.bottom)}}),a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}var An="Sortable"+new Date().getTime();function tie(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var a=[].slice.call(this.el.children);a.forEach(function(r){if(!(Ze(r,"display")==="none"||r===Ge.ghost)){t.push({target:r,rect:qt(r)});var o=za({},t[t.length-1].rect);if(r.thisAnimationDuration){var l=el(r,!0);l&&(o.top-=l.f,o.left-=l.e)}r.fromRect=o}})}},addAnimationState:function(a){t.push(a)},removeAnimationState:function(a){t.splice(Qre(t,{target:a}),1)},animateAll:function(a){var r=this;if(!this.options.animation){clearTimeout(e),typeof a=="function"&&a();return}var o=!1,l=0;t.forEach(function(s){var c=0,d=s.target,u=d.fromRect,f=qt(d),v=d.prevFromRect,h=d.prevToRect,g=s.rect,p=el(d,!0);p&&(f.top-=p.f,f.left-=p.e),d.toRect=f,d.thisAnimationDuration&&Ah(v,f)&&!Ah(u,f)&&(g.top-f.top)/(g.left-f.left)===(u.top-f.top)/(u.left-f.left)&&(c=aie(g,v,h,r.options)),Ah(f,u)||(d.prevFromRect=u,d.prevToRect=f,c||(c=r.options.animation),r.animate(d,g,f,c)),c&&(o=!0,l=Math.max(l,c),clearTimeout(d.animationResetTimer),d.animationResetTimer=setTimeout(function(){d.animationTime=0,d.prevFromRect=null,d.fromRect=null,d.prevToRect=null,d.thisAnimationDuration=null},c),d.thisAnimationDuration=c)}),clearTimeout(e),o?e=setTimeout(function(){typeof a=="function"&&a()},l):typeof a=="function"&&a(),t=[]},animate:function(a,r,o,l){if(l){Ze(a,"transition",""),Ze(a,"transform","");var s=el(this.el),c=s&&s.a,d=s&&s.d,u=(r.left-o.left)/(c||1),f=(r.top-o.top)/(d||1);a.animatingX=!!u,a.animatingY=!!f,Ze(a,"transform","translate3d("+u+"px,"+f+"px,0)"),this.forRepaintDummy=nie(a),Ze(a,"transition","transform "+l+"ms"+(this.options.easing?" "+this.options.easing:"")),Ze(a,"transform","translate3d(0,0,0)"),typeof a.animated=="number"&&clearTimeout(a.animated),a.animated=setTimeout(function(){Ze(a,"transition",""),Ze(a,"transform",""),a.animated=!1,a.animatingX=!1,a.animatingY=!1},l)}}}}function nie(t){return t.offsetWidth}function aie(t,e,n,a){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*a.animation}var nl=[],Rh={initializeByDefault:!0},bs={mount:function(e){for(var n in Rh)Rh.hasOwnProperty(n)&&!(n in e)&&(e[n]=Rh[n]);nl.forEach(function(a){if(a.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),nl.push(e)},pluginEvent:function(e,n,a){var r=this;this.eventCanceled=!1,a.cancel=function(){r.eventCanceled=!0};var o=e+"Global";nl.forEach(function(l){n[l.pluginName]&&(n[l.pluginName][o]&&n[l.pluginName][o](za({sortable:n},a)),n.options[l.pluginName]&&n[l.pluginName][e]&&n[l.pluginName][e](za({sortable:n},a)))})},initializePlugins:function(e,n,a,r){nl.forEach(function(s){var c=s.pluginName;if(!(!e.options[c]&&!s.initializeByDefault)){var d=new s(e,n,e.options);d.sortable=e,d.options=e.options,e[c]=d,hr(a,d.defaults)}});for(var o in e.options)if(e.options.hasOwnProperty(o)){var l=this.modifyOption(e,o,e.options[o]);typeof l<"u"&&(e.options[o]=l)}},getEventProperties:function(e,n){var a={};return nl.forEach(function(r){typeof r.eventProperties=="function"&&hr(a,r.eventProperties.call(n[r.pluginName],e))}),a},modifyOption:function(e,n,a){var r;return nl.forEach(function(o){e[o.pluginName]&&o.optionListeners&&typeof o.optionListeners[n]=="function"&&(r=o.optionListeners[n].call(e[o.pluginName],a))}),r}};function rie(t){var e=t.sortable,n=t.rootEl,a=t.name,r=t.targetEl,o=t.cloneEl,l=t.toEl,s=t.fromEl,c=t.oldIndex,d=t.newIndex,u=t.oldDraggableIndex,f=t.newDraggableIndex,v=t.originalEvent,h=t.putSortable,g=t.extraEventProperties;if(e=e||n&&n[An],!!e){var p,m=e.options,y="on"+a.charAt(0).toUpperCase()+a.substr(1);window.CustomEvent&&!pr&&!ps?p=new CustomEvent(a,{bubbles:!0,cancelable:!0}):(p=document.createEvent("Event"),p.initEvent(a,!0,!0)),p.to=l||n,p.from=s||n,p.item=r||n,p.clone=o,p.oldIndex=c,p.newIndex=d,p.oldDraggableIndex=u,p.newDraggableIndex=f,p.originalEvent=v,p.pullMode=h?h.lastPutMode:void 0;var b=za(za({},g),bs.getEventProperties(a,e));for(var w in b)p[w]=b[w];n&&n.dispatchEvent(p),m[y]&&m[y].call(e,p)}}var iie=["evt"],Rn=function(e,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=a.evt,o=Jre(a,iie);bs.pluginEvent.bind(Ge)(e,n,za({dragEl:Ne,parentEl:Bt,ghostEl:et,rootEl:jt,nextEl:Ii,lastDownEl:nd,cloneEl:Ft,cloneHidden:$r,dragStarted:Cs,putSortable:on,activeSortable:Ge.active,originalEvent:r,oldIndex:al,oldDraggableIndex:ws,newIndex:qn,newDraggableIndex:Br,hideGhostForTarget:s2,unhideGhostForTarget:c2,cloneNowHidden:function(){$r=!0},cloneNowShown:function(){$r=!1},dispatchSortableEvent:function(s){bn({sortable:n,name:s,originalEvent:r})}},o))};function bn(t){rie(za({putSortable:on,cloneEl:Ft,targetEl:Ne,rootEl:jt,oldIndex:al,oldDraggableIndex:ws,newIndex:qn,newDraggableIndex:Br},t))}var Ne,Bt,et,jt,Ii,nd,Ft,$r,al,qn,ws,Br,ad,on,rl=!1,rd=!1,id=[],Ni,ka,Dh,jh,n2,a2,Cs,il,xs,Ss=!1,od=!1,ld,dn,Mh=[],Fh=!1,sd=[],cd=typeof document<"u",ud=UP,r2=ps||pr?"cssFloat":"float",oie=cd&&!KP&&!UP&&"draggable"in document.createElement("div"),i2=function(){if(cd){if(pr)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),o2=function(e,n){var a=Ze(e),r=parseInt(a.width)-parseInt(a.paddingLeft)-parseInt(a.paddingRight)-parseInt(a.borderLeftWidth)-parseInt(a.borderRightWidth),o=tl(e,0,n),l=tl(e,1,n),s=o&&Ze(o),c=l&&Ze(l),d=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+qt(o).width,u=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+qt(l).width;if(a.display==="flex")return a.flexDirection==="column"||a.flexDirection==="column-reverse"?"vertical":"horizontal";if(a.display==="grid")return a.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&s.float&&s.float!=="none"){var f=s.float==="left"?"left":"right";return l&&(c.clear==="both"||c.clear===f)?"vertical":"horizontal"}return o&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||d>=r&&a[r2]==="none"||l&&a[r2]==="none"&&d+u>r)?"vertical":"horizontal"},lie=function(e,n,a){var r=a?e.left:e.top,o=a?e.right:e.bottom,l=a?e.width:e.height,s=a?n.left:n.top,c=a?n.right:n.bottom,d=a?n.width:n.height;return r===s||o===c||r+l/2===s+d/2},sie=function(e,n){var a;return id.some(function(r){var o=r[An].options.emptyInsertThreshold;if(!(!o||Eh(r))){var l=qt(r),s=e>=l.left-o&&e<=l.right+o,c=n>=l.top-o&&n<=l.bottom+o;if(s&&c)return a=r}}),a},l2=function(e){function n(o,l){return function(s,c,d,u){var f=s.options.group.name&&c.options.group.name&&s.options.group.name===c.options.group.name;if(o==null&&(l||f))return!0;if(o==null||o===!1)return!1;if(l&&o==="clone")return o;if(typeof o=="function")return n(o(s,c,d,u),l)(s,c,d,u);var v=(l?s:c).options.group.name;return o===!0||typeof o=="string"&&o===v||o.join&&o.indexOf(v)>-1}}var a={},r=e.group;(!r||ed(r)!="object")&&(r={name:r}),a.name=r.name,a.checkPull=n(r.pull,!0),a.checkPut=n(r.put),a.revertClone=r.revertClone,e.group=a},s2=function(){!i2&&et&&Ze(et,"display","none")},c2=function(){!i2&&et&&Ze(et,"display","")};cd&&!KP&&document.addEventListener("click",function(t){if(rd)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),rd=!1,!1},!0);var Ti=function(e){if(Ne){e=e.touches?e.touches[0]:e;var n=sie(e.clientX,e.clientY);if(n){var a={};for(var r in e)e.hasOwnProperty(r)&&(a[r]=e[r]);a.target=a.rootEl=n,a.preventDefault=void 0,a.stopPropagation=void 0,n[An]._onDragOver(a)}}},cie=function(e){Ne&&Ne.parentNode[An]._isOutsideThisEl(e.target)};function Ge(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=hr({},e),t[An]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return o2(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(l,s){l.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Ge.supportPointer!==!1&&"PointerEvent"in window&&!ms,emptyInsertThreshold:5};bs.initializePlugins(this,t,n);for(var a in n)!(a in e)&&(e[a]=n[a]);l2(e);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=e.forceFallback?!1:oie,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?ht(t,"pointerdown",this._onTapStart):(ht(t,"mousedown",this._onTapStart),ht(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(ht(t,"dragover",this),ht(t,"dragenter",this)),id.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),hr(this,tie())}Ge.prototype={constructor:Ge,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(il=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,Ne):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,a=this.el,r=this.options,o=r.preventOnFilter,l=e.type,s=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,c=(s||e).target,d=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||c,u=r.filter;if(mie(a),!Ne&&!(/mousedown|pointerdown/.test(l)&&e.button!==0||r.disabled)&&!d.isContentEditable&&!(!this.nativeDraggable&&ms&&c&&c.tagName.toUpperCase()==="SELECT")&&(c=Oa(c,r.draggable,a,!1),!(c&&c.animated)&&nd!==c)){if(al=la(c),ws=la(c,r.draggable),typeof u=="function"){if(u.call(this,e,c,this)){bn({sortable:n,rootEl:d,name:"filter",targetEl:c,toEl:a,fromEl:a}),Rn("filter",n,{evt:e}),o&&e.preventDefault();return}}else if(u&&(u=u.split(",").some(function(f){if(f=Oa(d,f.trim(),a,!1),f)return bn({sortable:n,rootEl:f,name:"filter",targetEl:c,fromEl:a,toEl:a}),Rn("filter",n,{evt:e}),!0}),u)){o&&e.preventDefault();return}r.handle&&!Oa(d,r.handle,a,!1)||this._prepareDragStart(e,s,c)}}},_prepareDragStart:function(e,n,a){var r=this,o=r.el,l=r.options,s=o.ownerDocument,c;if(a&&!Ne&&a.parentNode===o){var d=qt(a);if(jt=o,Ne=a,Bt=Ne.parentNode,Ii=Ne.nextSibling,nd=a,ad=l.group,Ge.dragged=Ne,Ni={target:Ne,clientX:(n||e).clientX,clientY:(n||e).clientY},n2=Ni.clientX-d.left,a2=Ni.clientY-d.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,Ne.style["will-change"]="all",c=function(){if(Rn("delayEnded",r,{evt:e}),Ge.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!WP&&r.nativeDraggable&&(Ne.draggable=!0),r._triggerDragStart(e,n),bn({sortable:r,name:"choose",originalEvent:e}),Yn(Ne,l.chosenClass,!0)},l.ignore.split(",").forEach(function(u){XP(Ne,u.trim(),Lh)}),ht(s,"dragover",Ti),ht(s,"mousemove",Ti),ht(s,"touchmove",Ti),l.supportPointer?(ht(s,"pointerup",r._onDrop),!this.nativeDraggable&&ht(s,"pointercancel",r._onDrop)):(ht(s,"mouseup",r._onDrop),ht(s,"touchend",r._onDrop),ht(s,"touchcancel",r._onDrop)),WP&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Ne.draggable=!0),Rn("delayStart",this,{evt:e}),l.delay&&(!l.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(ps||pr))){if(Ge.eventCanceled){this._onDrop();return}l.supportPointer?(ht(s,"pointerup",r._disableDelayedDrag),ht(s,"pointercancel",r._disableDelayedDrag)):(ht(s,"mouseup",r._disableDelayedDrag),ht(s,"touchend",r._disableDelayedDrag),ht(s,"touchcancel",r._disableDelayedDrag)),ht(s,"mousemove",r._delayedDragTouchMoveHandler),ht(s,"touchmove",r._delayedDragTouchMoveHandler),l.supportPointer&&ht(s,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(c,l.delay)}else c()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Ne&&Lh(Ne),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;ut(e,"mouseup",this._disableDelayedDrag),ut(e,"touchend",this._disableDelayedDrag),ut(e,"touchcancel",this._disableDelayedDrag),ut(e,"pointerup",this._disableDelayedDrag),ut(e,"pointercancel",this._disableDelayedDrag),ut(e,"mousemove",this._delayedDragTouchMoveHandler),ut(e,"touchmove",this._delayedDragTouchMoveHandler),ut(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?ht(document,"pointermove",this._onTouchMove):n?ht(document,"touchmove",this._onTouchMove):ht(document,"mousemove",this._onTouchMove):(ht(Ne,"dragend",this),ht(jt,"dragstart",this._onDragStart));try{fd(function(){document.selection?document.selection.empty():window.getSelection().removeAllRanges()})}catch{}},_dragStarted:function(e,n){if(rl=!1,jt&&Ne){Rn("dragStarted",this,{evt:n}),this.nativeDraggable&&ht(document,"dragover",cie);var a=this.options;!e&&Yn(Ne,a.dragClass,!1),Yn(Ne,a.ghostClass,!0),Ge.active=this,e&&this._appendGhost(),bn({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(ka){this._lastX=ka.clientX,this._lastY=ka.clientY,s2();for(var e=document.elementFromPoint(ka.clientX,ka.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ka.clientX,ka.clientY),e!==n);)n=e;if(Ne.parentNode[An]._isOutsideThisEl(e),n)do{if(n[An]){var a=void 0;if(a=n[An]._onDragOver({clientX:ka.clientX,clientY:ka.clientY,target:e,rootEl:n}),a&&!this.options.dragoverBubble)break}e=n}while(n=qP(n));c2()}},_onTouchMove:function(e){if(Ni){var n=this.options,a=n.fallbackTolerance,r=n.fallbackOffset,o=e.touches?e.touches[0]:e,l=et&&el(et,!0),s=et&&l&&l.a,c=et&&l&&l.d,d=ud&&dn&&ZP(dn),u=(o.clientX-Ni.clientX+r.x)/(s||1)+(d?d[0]-Mh[0]:0)/(s||1),f=(o.clientY-Ni.clientY+r.y)/(c||1)+(d?d[1]-Mh[1]:0)/(c||1);if(!Ge.active&&!rl){if(a&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<a)return;this._onDragStart(e,!0)}if(et){l?(l.e+=u-(Dh||0),l.f+=f-(jh||0)):l={a:1,b:0,c:0,d:1,e:u,f};var v="matrix(".concat(l.a,",").concat(l.b,",").concat(l.c,",").concat(l.d,",").concat(l.e,",").concat(l.f,")");Ze(et,"webkitTransform",v),Ze(et,"mozTransform",v),Ze(et,"msTransform",v),Ze(et,"transform",v),Dh=u,jh=f,ka=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!et){var e=this.options.fallbackOnBody?document.body:jt,n=qt(Ne,!0,ud,!0,e),a=this.options;if(ud){for(dn=e;Ze(dn,"position")==="static"&&Ze(dn,"transform")==="none"&&dn!==document;)dn=dn.parentNode;dn!==document.body&&dn!==document.documentElement?(dn===document&&(dn=Ha()),n.top+=dn.scrollTop,n.left+=dn.scrollLeft):dn=Ha(),Mh=ZP(dn)}et=Ne.cloneNode(!0),Yn(et,a.ghostClass,!1),Yn(et,a.fallbackClass,!0),Yn(et,a.dragClass,!0),Ze(et,"transition",""),Ze(et,"transform",""),Ze(et,"box-sizing","border-box"),Ze(et,"margin",0),Ze(et,"top",n.top),Ze(et,"left",n.left),Ze(et,"width",n.width),Ze(et,"height",n.height),Ze(et,"opacity","0.8"),Ze(et,"position",ud?"absolute":"fixed"),Ze(et,"zIndex","100000"),Ze(et,"pointerEvents","none"),Ge.ghost=et,e.appendChild(et),Ze(et,"transform-origin",n2/parseInt(et.style.width)*100+"% "+a2/parseInt(et.style.height)*100+"%")}},_onDragStart:function(e,n){var a=this,r=e.dataTransfer,o=a.options;if(Rn("dragStart",this,{evt:e}),Ge.eventCanceled){this._onDrop();return}Rn("setupClone",this),Ge.eventCanceled||(Ft=e2(Ne),Ft.removeAttribute("id"),Ft.draggable=!1,Ft.style["will-change"]="",this._hideClone(),Yn(Ft,this.options.chosenClass,!1),Ge.clone=Ft),a.cloneId=fd(function(){Rn("clone",a),!Ge.eventCanceled&&(a.options.removeCloneOnHide||jt.insertBefore(Ft,Ne),a._hideClone(),bn({sortable:a,name:"clone"}))}),!n&&Yn(Ne,o.dragClass,!0),n?(rd=!0,a._loopId=setInterval(a._emulateDragOver,50)):(ut(document,"mouseup",a._onDrop),ut(document,"touchend",a._onDrop),ut(document,"touchcancel",a._onDrop),r&&(r.effectAllowed="move",o.setData&&o.setData.call(a,r,Ne)),ht(document,"drop",a),Ze(Ne,"transform","translateZ(0)")),rl=!0,a._dragStartId=fd(a._dragStarted.bind(a,n,e)),ht(document,"selectstart",a),Cs=!0,ms&&Ze(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,a=e.target,r,o,l,s=this.options,c=s.group,d=Ge.active,u=ad===c,f=s.sort,v=on||d,h,g=this,p=!1;if(Fh)return;function m(F,M){Rn(F,g,za({evt:e,isOwner:u,axis:h?"vertical":"horizontal",revert:l,dragRect:r,targetRect:o,canSort:f,fromSortable:v,target:a,completed:b,onMove:function(W,H){return dd(jt,n,Ne,r,W,qt(W),e,H)},changed:w},M))}function y(){m("dragOverAnimationCapture"),g.captureAnimationState(),g!==v&&v.captureAnimationState()}function b(F){return m("dragOverCompleted",{insertion:F}),F&&(u?d._hideClone():d._showClone(g),g!==v&&(Yn(Ne,on?on.options.ghostClass:d.options.ghostClass,!1),Yn(Ne,s.ghostClass,!0)),on!==g&&g!==Ge.active?on=g:g===Ge.active&&on&&(on=null),v===g&&(g._ignoreWhileAnimating=a),g.animateAll(function(){m("dragOverAnimationComplete"),g._ignoreWhileAnimating=null}),g!==v&&(v.animateAll(),v._ignoreWhileAnimating=null)),(a===Ne&&!Ne.animated||a===n&&!a.animated)&&(il=null),!s.dragoverBubble&&!e.rootEl&&a!==document&&(Ne.parentNode[An]._isOutsideThisEl(e.target),!F&&Ti(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),p=!0}function w(){qn=la(Ne),Br=la(Ne,s.draggable),bn({sortable:g,name:"change",toEl:n,newIndex:qn,newDraggableIndex:Br,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),a=Oa(a,s.draggable,n,!0),m("dragOver"),Ge.eventCanceled)return p;if(Ne.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||g._ignoreWhileAnimating===a)return b(!1);if(rd=!1,d&&!s.disabled&&(u?f||(l=Bt!==jt):on===this||(this.lastPutMode=ad.checkPull(this,d,Ne,e))&&c.checkPut(this,d,Ne,e))){if(h=this._getDirection(e,a)==="vertical",r=qt(Ne),m("dragOverValid"),Ge.eventCanceled)return p;if(l)return Bt=jt,y(),this._hideClone(),m("revert"),Ge.eventCanceled||(Ii?jt.insertBefore(Ne,Ii):jt.appendChild(Ne)),b(!0);var C=Eh(n,s.draggable);if(!C||vie(e,h,this)&&!C.animated){if(C===Ne)return b(!1);if(C&&n===e.target&&(a=C),a&&(o=qt(a)),dd(jt,n,Ne,r,a,o,e,!!a)!==!1)return y(),C&&C.nextSibling?n.insertBefore(Ne,C.nextSibling):n.appendChild(Ne),Bt=n,w(),b(!0)}else if(C&&fie(e,h,this)){var x=tl(n,0,s,!0);if(x===Ne)return b(!1);if(a=x,o=qt(a),dd(jt,n,Ne,r,a,o,e,!1)!==!1)return y(),n.insertBefore(Ne,x),Bt=n,w(),b(!0)}else if(a.parentNode===n){o=qt(a);var k=0,P,I=Ne.parentNode!==n,D=!lie(Ne.animated&&Ne.toRect||r,a.animated&&a.toRect||o,h),L=h?"top":"left",O=JP(a,"top","top")||JP(Ne,"top","top"),S=O?O.scrollTop:void 0;il!==a&&(P=o[L],Ss=!1,od=!D&&s.invertSwap||I),k=hie(e,a,o,h,D?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,od,il===a);var _;if(k!==0){var A=la(Ne);do A-=k,_=Bt.children[A];while(_&&(Ze(_,"display")==="none"||_===et))}if(k===0||_===a)return b(!1);il=a,xs=k;var E=a.nextElementSibling,R=!1;R=k===1;var N=dd(jt,n,Ne,r,a,o,e,R);if(N!==!1)return(N===1||N===-1)&&(R=N===1),Fh=!0,setTimeout(die,30),y(),R&&!E?n.appendChild(Ne):a.parentNode.insertBefore(Ne,R?E:a),O&&VP(O,0,S-O.scrollTop),Bt=Ne.parentNode,P!==void 0&&!od&&(ld=Math.abs(P-qt(a)[L])),w(),b(!0)}if(n.contains(Ne))return b(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){ut(document,"mousemove",this._onTouchMove),ut(document,"touchmove",this._onTouchMove),ut(document,"pointermove",this._onTouchMove),ut(document,"dragover",Ti),ut(document,"mousemove",Ti),ut(document,"touchmove",Ti)},_offUpEvents:function(){var e=this.el.ownerDocument;ut(e,"mouseup",this._onDrop),ut(e,"touchend",this._onDrop),ut(e,"pointerup",this._onDrop),ut(e,"pointercancel",this._onDrop),ut(e,"touchcancel",this._onDrop),ut(document,"selectstart",this)},_onDrop:function(e){var n=this.el,a=this.options;if(qn=la(Ne),Br=la(Ne,a.draggable),Rn("drop",this,{evt:e}),Bt=Ne&&Ne.parentNode,qn=la(Ne),Br=la(Ne,a.draggable),Ge.eventCanceled){this._nulling();return}rl=!1,od=!1,Ss=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),$h(this.cloneId),$h(this._dragStartId),this.nativeDraggable&&(ut(document,"drop",this),ut(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),ms&&Ze(document.body,"user-select",""),Ze(Ne,"transform",""),e&&(Cs&&(e.cancelable&&e.preventDefault(),!a.dropBubble&&e.stopPropagation()),et&&et.parentNode&&et.parentNode.removeChild(et),(jt===Bt||on&&on.lastPutMode!=="clone")&&Ft&&Ft.parentNode&&Ft.parentNode.removeChild(Ft),Ne&&(this.nativeDraggable&&ut(Ne,"dragend",this),Lh(Ne),Ne.style["will-change"]="",Cs&&!rl&&Yn(Ne,on?on.options.ghostClass:this.options.ghostClass,!1),Yn(Ne,this.options.chosenClass,!1),bn({sortable:this,name:"unchoose",toEl:Bt,newIndex:null,newDraggableIndex:null,originalEvent:e}),jt!==Bt?(qn>=0&&(bn({rootEl:Bt,name:"add",toEl:Bt,fromEl:jt,originalEvent:e}),bn({sortable:this,name:"remove",toEl:Bt,originalEvent:e}),bn({rootEl:Bt,name:"sort",toEl:Bt,fromEl:jt,originalEvent:e}),bn({sortable:this,name:"sort",toEl:Bt,originalEvent:e})),on&&on.save()):qn!==al&&qn>=0&&(bn({sortable:this,name:"update",toEl:Bt,originalEvent:e}),bn({sortable:this,name:"sort",toEl:Bt,originalEvent:e})),Ge.active&&((qn==null||qn===-1)&&(qn=al,Br=ws),bn({sortable:this,name:"end",toEl:Bt,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Rn("nulling",this),jt=Ne=Bt=et=Ii=Ft=nd=$r=Ni=ka=Cs=qn=Br=al=ws=il=xs=on=ad=Ge.dragged=Ge.ghost=Ge.clone=Ge.active=null,sd.forEach(function(e){e.checked=!0}),sd.length=Dh=jh=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Ne&&(this._onDragOver(e),uie(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,a=this.el.children,r=0,o=a.length,l=this.options;r<o;r++)n=a[r],Oa(n,l.draggable,this.el,!1)&&e.push(n.getAttribute(l.dataIdAttr)||pie(n));return e},sort:function(e,n){var a={},r=this.el;this.toArray().forEach(function(o,l){var s=r.children[l];Oa(s,this.options.draggable,r,!1)&&(a[o]=s)},this),n&&this.captureAnimationState(),e.forEach(function(o){a[o]&&(r.removeChild(a[o]),r.appendChild(a[o]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return Oa(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var a=this.options;if(n===void 0)return a[e];var r=bs.modifyOption(this,e,n);typeof r<"u"?a[e]=r:a[e]=n,e==="group"&&l2(a)},destroy:function(){Rn("destroy",this);var e=this.el;e[An]=null,ut(e,"mousedown",this._onTapStart),ut(e,"touchstart",this._onTapStart),ut(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(ut(e,"dragover",this),ut(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),id.splice(id.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!$r){if(Rn("hideClone",this),Ge.eventCanceled)return;Ze(Ft,"display","none"),this.options.removeCloneOnHide&&Ft.parentNode&&Ft.parentNode.removeChild(Ft),$r=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if($r){if(Rn("showClone",this),Ge.eventCanceled)return;Ne.parentNode==jt&&!this.options.group.revertClone?jt.insertBefore(Ft,Ne):Ii?jt.insertBefore(Ft,Ii):jt.appendChild(Ft),this.options.group.revertClone&&this.animate(Ne,Ft),Ze(Ft,"display",""),$r=!1}}};function uie(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function dd(t,e,n,a,r,o,l,s){var c,d=t[An],u=d.options.onMove,f;return window.CustomEvent&&!pr&&!ps?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=e,c.from=t,c.dragged=n,c.draggedRect=a,c.related=r||e,c.relatedRect=o||qt(e),c.willInsertAfter=s,c.originalEvent=l,t.dispatchEvent(c),u&&(f=u.call(d,c,l)),f}function Lh(t){t.draggable=!1}function die(){Fh=!1}function fie(t,e,n){var a=qt(tl(n.el,0,n.options,!0)),r=t2(n.el,n.options,et),o=10;return e?t.clientX<r.left-o||t.clientY<a.top&&t.clientX<a.right:t.clientY<r.top-o||t.clientY<a.bottom&&t.clientX<a.left}function vie(t,e,n){var a=qt(Eh(n.el,n.options.draggable)),r=t2(n.el,n.options,et),o=10;return e?t.clientX>r.right+o||t.clientY>a.bottom&&t.clientX>a.left:t.clientY>r.bottom+o||t.clientX>a.right&&t.clientY>a.top}function hie(t,e,n,a,r,o,l,s){var c=a?t.clientY:t.clientX,d=a?n.height:n.width,u=a?n.top:n.left,f=a?n.bottom:n.right,v=!1;if(!l){if(s&&ld<d*r){if(!Ss&&(xs===1?c>u+d*o/2:c<f-d*o/2)&&(Ss=!0),Ss)v=!0;else if(xs===1?c<u+ld:c>f-ld)return-xs}else if(c>u+d*(1-r)/2&&c<f-d*(1-r)/2)return gie(e)}return v=v||l,v&&(c<u+d*o/2||c>f-d*o/2)?c>u+d/2?1:-1:0}function gie(t){return la(Ne)<la(t)?1:-1}function pie(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,a=0;n--;)a+=e.charCodeAt(n);return a.toString(36)}function mie(t){sd.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var a=e[n];a.checked&&sd.push(a)}}function fd(t){return setTimeout(t,0)}function $h(t){return clearTimeout(t)}cd&&ht(document,"touchmove",function(t){(Ge.active||rl)&&t.cancelable&&t.preventDefault()}),Ge.utils={on:ht,off:ut,css:Ze,find:XP,is:function(e,n){return!!Oa(e,n,e,!1)},extend:Vre,throttle:QP,closest:Oa,toggleClass:Yn,clone:e2,index:la,nextTick:fd,cancelNextTick:$h,detectDirection:o2,getChild:tl,expando:An},Ge.get=function(t){return t[An]},Ge.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(a){if(!a.prototype||!a.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(a));a.utils&&(Ge.utils=za(za({},Ge.utils),a.utils)),bs.mount(a)})},Ge.create=function(t,e){return new Ge(t,e)},Ge.version=Zre;var Gt=[],Os,Bh,zh=!1,Hh,Wh,vd,ks;function yie(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var a=n.originalEvent;this.sortable.nativeDraggable?ht(document,"dragover",this._handleAutoScroll):this.options.supportPointer?ht(document,"pointermove",this._handleFallbackAutoScroll):a.touches?ht(document,"touchmove",this._handleFallbackAutoScroll):ht(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var a=n.originalEvent;!this.options.dragOverBubble&&!a.rootEl&&this._handleAutoScroll(a)},drop:function(){this.sortable.nativeDraggable?ut(document,"dragover",this._handleAutoScroll):(ut(document,"pointermove",this._handleFallbackAutoScroll),ut(document,"touchmove",this._handleFallbackAutoScroll),ut(document,"mousemove",this._handleFallbackAutoScroll)),u2(),hd(),eie()},nulling:function(){vd=Bh=Os=zh=ks=Hh=Wh=null,Gt.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,a){var r=this,o=(n.touches?n.touches[0]:n).clientX,l=(n.touches?n.touches[0]:n).clientY,s=document.elementFromPoint(o,l);if(vd=n,a||this.options.forceAutoScrollFallback||ps||pr||ms){Uh(n,this.options,s,a);var c=Lr(s,!0);zh&&(!ks||o!==Hh||l!==Wh)&&(ks&&u2(),ks=setInterval(function(){var d=Lr(document.elementFromPoint(o,l),!0);d!==c&&(c=d,hd()),Uh(n,r.options,d,a)},10),Hh=o,Wh=l)}else{if(!this.options.bubbleScroll||Lr(s,!0)===Ha()){hd();return}Uh(n,this.options,Lr(s,!1),!1)}}},hr(t,{pluginName:"scroll",initializeByDefault:!0})}function hd(){Gt.forEach(function(t){clearInterval(t.pid)}),Gt=[]}function u2(){clearInterval(ks)}var Uh=QP(function(t,e,n,a){if(e.scroll){var r=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,l=e.scrollSensitivity,s=e.scrollSpeed,c=Ha(),d=!1,u;Bh!==n&&(Bh=n,hd(),Os=e.scroll,u=e.scrollFn,Os===!0&&(Os=Lr(n,!0)));var f=0,v=Os;do{var h=v,g=qt(h),p=g.top,m=g.bottom,y=g.left,b=g.right,w=g.width,C=g.height,x=void 0,k=void 0,P=h.scrollWidth,I=h.scrollHeight,D=Ze(h),L=h.scrollLeft,O=h.scrollTop;h===c?(x=w<P&&(D.overflowX==="auto"||D.overflowX==="scroll"||D.overflowX==="visible"),k=C<I&&(D.overflowY==="auto"||D.overflowY==="scroll"||D.overflowY==="visible")):(x=w<P&&(D.overflowX==="auto"||D.overflowX==="scroll"),k=C<I&&(D.overflowY==="auto"||D.overflowY==="scroll"));var S=x&&(Math.abs(b-r)<=l&&L+w<P)-(Math.abs(y-r)<=l&&!!L),_=k&&(Math.abs(m-o)<=l&&O+C<I)-(Math.abs(p-o)<=l&&!!O);if(!Gt[f])for(var A=0;A<=f;A++)Gt[A]||(Gt[A]={});(Gt[f].vx!=S||Gt[f].vy!=_||Gt[f].el!==h)&&(Gt[f].el=h,Gt[f].vx=S,Gt[f].vy=_,clearInterval(Gt[f].pid),(S!=0||_!=0)&&(d=!0,Gt[f].pid=setInterval((function(){a&&this.layer===0&&Ge.active._onTouchMove(vd);var E=Gt[this.layer].vy?Gt[this.layer].vy*s:0,R=Gt[this.layer].vx?Gt[this.layer].vx*s:0;typeof u=="function"&&u.call(Ge.dragged.parentNode[An],R,E,t,vd,Gt[this.layer].el)!=="continue"||VP(Gt[this.layer].el,R,E)}).bind({layer:f}),24))),f++}while(e.bubbleScroll&&v!==c&&(v=Lr(v,!1)));zh=d}},30),d2=function(e){var n=e.originalEvent,a=e.putSortable,r=e.dragEl,o=e.activeSortable,l=e.dispatchSortableEvent,s=e.hideGhostForTarget,c=e.unhideGhostForTarget;if(n){var d=a||o;s();var u=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,f=document.elementFromPoint(u.clientX,u.clientY);c(),d&&!d.el.contains(f)&&(l("spill"),this.onSpill({dragEl:r,putSortable:a}))}};function Kh(){}Kh.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,a=e.putSortable;this.sortable.captureAnimationState(),a&&a.captureAnimationState();var r=tl(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(n,r):this.sortable.el.appendChild(n),this.sortable.animateAll(),a&&a.animateAll()},drop:d2},hr(Kh,{pluginName:"revertOnSpill"});function Yh(){}Yh.prototype={onSpill:function(e){var n=e.dragEl,a=e.putSortable,r=a||this.sortable;r.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),r.animateAll()},drop:d2},hr(Yh,{pluginName:"removeOnSpill"}),Ge.mount(new yie),Ge.mount(Yh,Kh);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function f2(t,e,n){var a=he(t);return n-e>0?(a.splice(n+1,0,a[e]),a.splice(e,1)):(a.splice(n,0,a[e]),a.splice(e+1,1)),a}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function v2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Ps(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v2(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v2(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function h2(t){t.parentElement!==null&&t.parentElement.removeChild(t)}function g2(t,e,n){var a=n===0?t.children[0]:t.children[n-1].nextSibling;t.insertBefore(e,a)}function bie(t,e,n){var a=i.toRefs(t),r=a.sortOnRowDraggable,o=a.dragSort,l=a.data,s=i.ref(t.pagination),c=Tn(),d=c.tableDraggableClasses,u=c.tableBaseClass,f=c.tableFullRowClasses,v=c.tableExpandClasses,h=i.ref(t.columns||[]),g=i.ref(null),p=i.computed(function(){return h.value.find(function(L){return L.colKey==="drag"})}),m=i.computed(function(){return r.value||["row","row-handler-col"].includes(o.value)}),y=i.computed(function(){return["row-handler","row-handler-col"].includes(o.value)&&!!p.value}),b=i.computed(function(){return["col","row-handler-col"].includes(o.value)});t.sortOnRowDraggable&&He.error("Table","`sortOnRowDraggable` is going to be deprecated, use dragSort='row' instead.");function w(L,O){var S,_,A=(S=O.current)!==null&&S!==void 0?S:O.defaultCurrent,E=(_=O.pageSize)!==null&&_!==void 0?_:O.defaultPageSize;return!t.disableDataPage&&O&&l.value.length>E?E*(A-1)+L:L}var C=function(O){if(!(!y.value&&!m.value)){var S=O==null?void 0:O.querySelector("tbody");if(!S)return console.error("tbody does not exist."),null;var _=Ps({animation:150,ghostClass:d.ghost,chosenClass:d.chosen,dragClass:d.dragging,filter:".".concat(f.base,",.").concat(v.row),onMove:function(E){return!Nf(E.related,f.base)},onEnd:function(E){var R;if(E.newIndex!==E.oldIndex){h2(E.item),g2(E.from,E.item,E.oldIndex);var N=E.oldIndex,F=E.newIndex;(pe(t.firstFullRow)&&t.firstFullRow(i.h)||e.slots.firstFullRow||e.slots["first-full-row"])&&(N-=1,F-=1),s.value&&(N=w(N,s.value),F=w(F,s.value));var M={data:l.value,currentIndex:N,current:l.value[N],targetIndex:F,target:l.value[F],newData:f2(he(t.data),N,F),e:E,sort:"row"};M.currentData=M.newData,(R=t.onDragSort)===null||R===void 0||R.call(t,M)}}},t.dragSortOptions);S&&(m.value?new Ge(S,Ps({},_)):new Ge(S,Ps(Ps({},_),{},{handle:".".concat(d.handle)})))}},x=function(O,S){var _=Ps({animation:150,dataIdAttr:"data-colkey",direction:"vertical",ghostClass:d.ghost,chosenClass:d.chosen,dragClass:d.dragging,handle:".".concat(u.thCellInner),onEnd:function(E){var R;if(E.newIndex!==E.oldIndex){S&&(h2(E.item),g2(E.from,E.item,E.oldIndex));var N=E.oldIndex,F=E.newIndex,M=E.target,$=S?N:F,W=S?F:N,H=M.children[$],K=M.children[W],z=Ju(h.value,H.dataset.colkey),B=Ju(h.value,K.dataset.colkey);(!z||!z.colKey)&&He.error("Table","colKey is missing in ".concat(JSON.stringify(z))),(!B||!B.colKey)&&He.error("Table","colKey is missing in ".concat(JSON.stringify(B))),$=jP(t.columns,z.colKey),W=jP(t.columns,B.colKey);var q={data:h.value,currentIndex:$,current:z,targetIndex:W,target:B,newData:f2(he(t.columns),$,W),e:E,sort:"col"};q.currentData=q.newData,(R=t.onDragSort)===null||R===void 0||R.call(t,q)}}},t.dragSortOptions);O&&new Ge(O,_)},k=function(O){if(!(!b.value||!O)){var S=O.querySelectorAll("thead > tr");if(S.length<=1){var _=Ce(S,1),A=_[0];x(A,!0)}else S==null||S.forEach(function(E){x(E,!1)})}};function P(L){g.value=L}function I(L){h.value=L}i.watch([g,h,o,n],function(L){var O=Ce(L,4),S=O[0];O[1],O[2];var _=O[3];D(S,_)});function D(L,O){var S=L;if(!(!L||!S.$el||!O.showElement))var _=setTimeout(function(){C(S.$el),k(S.$el);var A=setTimeout(function(){S.$refs.affixHeaderRef&&k(S.$refs.affixHeaderRef),clearTimeout(A)});clearTimeout(_)},60)}return{innerPagination:s,isRowDraggable:m,isRowHandlerDraggable:y,isColDraggable:b,setDragSortPrimaryTableRef:P,setDragSortColumns:I}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function wie(t){var e=Pe(),n=Re("table",t.locale),a=n.globalConfig,r=Tn(),o=r.isLoadingClass,l=r.isLoadMoreClass,s=r.asyncLoadingClass,c=i.computed(function(){return[s,G(G({},o,t.asyncLoading==="loading"),l,t.asyncLoading==="load-more")]});function d(){var f;Ae(t.asyncLoading)&&((f=t.onAsyncLoadingClick)===null||f===void 0||f.call(t,{status:t.asyncLoading}))}function u(){var f=e("asyncLoading");if(Ae(f)){var v=t.asyncLoading,h={"load-more":a.value.loadingMoreText,loading:a.value.loadingText}[String(v)];return i.createVNode("div",{class:c.value,onClick:d},[i.createVNode(an,{indicator:v==="loading",loading:!!v,size:"small",text:h},null)])}return[null,!1,void 0].includes(f)?null:i.createVNode("div",{class:c.value,onClick:d},[f])}return{renderAsyncLoading:u}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function p2(t){return Wm(t)||cp(t)||Vd(t)||Um()}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function m2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Ct(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m2(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m2(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var Cie=i.defineComponent({name:"TableEditableCell",props:{row:Object,rowKey:String,rowIndex:Number,col:Object,colIndex:Number,oldCell:[Function,String],tableBaseClass:Object,cellEmptyContent:[Function,String],editable:{type:Boolean,default:void 0},readonly:{type:Boolean},errors:{type:Array,default:void 0},onChange:Function,onValidate:Function,onRuleChange:Function,onEditableChange:Function},emits:["update-edited-cell"],setup:function(e,n){var a,r=i.toRefs(e),o=r.row,l=r.col;i.ref(null);var s=i.computed(function(){var E;return(E=l.value.edit)===null||E===void 0?void 0:E.keepEditMode}),c=i.ref(s.value||((a=e.col.edit)===null||a===void 0?void 0:a.defaultEditable)||!1),d=i.ref(),u=i.ref(),f=ae(),v=Ve({Edit1Icon:j$}),h=v.Edit1Icon,g=function(R){if(Je(R)==="object"&&("rowValue"in R||R.isUpdateCurrentRow)){var N=R.isUpdateCurrentRow?we(o.value,e.rowKey):R.rowValue;delete R.rowValue,delete R.isUpdateCurrentRow,n.emit("update-edited-cell",N,o.value,R)}else d.value=R};i.watch([s],function(E){E&&(c.value=!0)});var p=i.computed(function(){var E,R;return((E=l.value.edit)===null||E===void 0||(R=E.on)===null||R===void 0?void 0:R.call(E,Ct(Ct({},m.value),{},{editedRow:y.value,updateEditedCellValue:g})))||{}}),m=i.computed(function(){return{rowIndex:e.rowIndex,colIndex:e.colIndex,col:e.col,row:e.row}}),y=i.computed(function(){var E=l.value.colKey,R=E.split(".")||[],N=p2(R),F=N[0],M=N.slice(1),$=Ct({},o.value);return M.length?($[F]=On(o.value[F]),bi($[F],M.join("."),d.value)):bi($,E,d.value),$}),b=i.computed(function(){var E=qu({row:y.value,col:Ct(Ct({},l.value),{},{cell:e.oldCell}),rowIndex:e.rowIndex,colIndex:e.colIndex},n.slots,{cellEmptyContent:e.cellEmptyContent});return E}),w=i.computed(function(){var E=l.value.edit;return pe(E.props)?E.props(Ct(Ct({},m.value),{},{editedRow:y.value,updateEditedCellValue:g})):Ct({},E.props)}),C=i.computed(function(){var E,R=l.value.edit;if(!R)return{};var N=Ct({},w.value);return delete N.onChange,delete N.value,(E=R.abortEditOnEvent)===null||E===void 0||E.forEach(function(F){delete N[F]}),N}),x=i.computed(function(){var E,R=l.value.edit;return R?!!(!((E=R.abortEditOnEvent)===null||E===void 0)&&E.includes("onChange")):!1}),k=function(R){return new Promise(function(N){var F={result:[Ct(Ct({},m.value),{},{errorList:[],value:d.value})],trigger:R},M=pe(l.value.edit.rules)?l.value.edit.rules(m.value):l.value.edit.rules;if(!l.value.edit||!M||!M.length){var $;($=e.onValidate)===null||$===void 0||$.call(e,F),N(!0);return}Xv(d.value,M).then(function(W){var H,K=W==null?void 0:W.filter(function(z){return!z.result});F.result[0].errorList=K,(H=e.onValidate)===null||H===void 0||H.call(e,F),!K||!K.length?(u.value=[],N(!0)):(u.value=K,N(K))})})},P=function(R,N){return Le(R)&&Le(N)?JSON.stringify(R)===JSON.stringify(N):R===N},I=function(R,N){for(var F=arguments.length,M=new Array(F>2?F-2:0),$=2;$<F;$++)M[$-2]=arguments[$];k("self").then(function(W){var H,K;if(W===!0){var z=we(o.value,l.value.colKey);P(d.value,z)||(d.value=z,R==null||R.apply(void 0,M)),(H=(K=p.value)[N])===null||H===void 0||H.call(K,M[2]);var B=setTimeout(function(){var q;s.value||(c.value=!1),u.value=[],(q=e.onEditableChange)===null||q===void 0||q.call(e,Ct(Ct({},m.value),{},{value:d.value,editedRow:Ct(Ct({},e.row),{},G({},e.col.colKey,d.value)),validateEdit:k,isEdit:!1})),clearTimeout(B)},0)}})},D=i.computed(function(){var E,R=l.value.edit,N=e.editable===void 0;if(!(!c.value||!N)){if(!(R!=null&&(E=R.abortEditOnEvent)!==null&&E!==void 0&&E.length))return{};var F={},M=R==null?void 0:R.onEdited;return R.abortEditOnEvent.forEach(function($){$!=="onChange"&&(F[$]=function(){for(var W=arguments.length,H=new Array(W),K=0;K<W;K++)H[K]=arguments[K];I.apply(void 0,[M,$,Ct(Ct({},m.value),{},{trigger:$,newRowData:y.value})].concat(H))})}),F}}),L=function(R){var N,F,M,$,W,H,K;d.value=R;for(var z=Ct(Ct({},m.value),{},{value:R,editedRow:Ct(Ct({},e.row),{},G({},e.col.colKey,R))}),B=arguments.length,q=new Array(B>1?B-1:0),Y=1;Y<B;Y++)q[Y-1]=arguments[Y];(N=w.value)===null||N===void 0||(F=N.onChange)===null||F===void 0||F.call.apply(F,[N,R].concat(q)),(M=e.onChange)===null||M===void 0||M.call(e,z),($=e.onRuleChange)===null||$===void 0||$.call(e,z),(W=p.value)===null||W===void 0||(H=W.onChange)===null||H===void 0||H.call(W,z);var X=e.editable===void 0;if(X&&x.value){var T,j=(T=l.value.edit)===null||T===void 0?void 0:T.onEdited;I.apply(void 0,[j,"change",Ct(Ct({},m.value),{},{trigger:"onChange",newRowData:y.value})].concat(q))}((K=l.value.edit)===null||K===void 0?void 0:K.validateTrigger)==="change"&&k("self")},O=function(R){var N;if(!(!l.value.edit||!l.value.edit.component)&&c.value){var F=((N=R.composedPath)===null||N===void 0?void 0:N.call(R))||R.path||[],M=F.find(function(W){var H;return(H=W.classList)===null||H===void 0?void 0:H.contains("".concat(f.value,"-popup__content"))});if(!M){var $=l.value.edit.onEdited;I($,"",Ct(Ct({},m.value),{},{trigger:"document",newRowData:y.value}))}}},S=function(){var R;(R=e.onEditableChange)===null||R===void 0||R.call(e,Ct(Ct({},m.value),{},{value:d.value,editedRow:e.row,isEdit:!0,validateEdit:k}))},_=function(R){c.value=!0,S(),R.stopPropagation()};i.onMounted(function(){var E;(E=e.col.edit)!==null&&E!==void 0&&E.defaultEditable&&S()});var A=i.computed(function(){return we(o.value,l.value.colKey)});return i.watch(A,function(E){d.value=E},{immediate:!0}),i.watch(c,function(E){var R=e.editable===void 0;!l.value.edit||!l.value.edit.component||!R||(E?pt(document,"click",O):rt(document,"click",O))},{immediate:!0}),i.watch(function(){return[e.editable,e.row,e.col,e.rowIndex,e.colIndex]},function(E){var R=Ce(E,1),N=R[0];if(N===!1)d.value=A.value;else if(N===!0){var F;(F=e.onRuleChange)===null||F===void 0||F.call(e,Ct(Ct({},m.value),{},{value:A.value,editedRow:o.value}))}},{immediate:!0}),i.watch(function(){return e.errors},function(E){u.value=E}),function(){var E,R,N,F;if(e.readonly)return b.value;if(e.editable===void 0&&!c.value||e.editable===!1){var M;return i.createVNode("div",{class:e.tableBaseClass.cellEditable,onClick:_},[b.value,((M=l.value.edit)===null||M===void 0?void 0:M.showEditIcon)!==!1&&i.createVNode(h,null,null)])}var $=(E=l.value.edit)===null||E===void 0?void 0:E.component;if(!$)return He.error("Table","edit.component is required."),null;var W=(R=u.value)===null||R===void 0||(R=R[0])===null||R===void 0?void 0:R.message,H=Ct({},p.value);return delete H.onChange,(N=l.value.edit)!==null&&N!==void 0&&(N=N.abortEditOnEvent)!==null&&N!==void 0&&N.length&&l.value.edit.abortEditOnEvent.forEach(function(K){H[K]&&delete H[K]}),i.createVNode("div",{class:e.tableBaseClass.cellEditWrap,onClick:function(z){z.stopPropagation()},ref:"tableEditableCellRef"},[i.createVNode($,i.mergeProps({status:W?((F=u.value)===null||F===void 0||(F=F[0])===null||F===void 0?void 0:F.type)||"error":void 0,tips:W},C.value,D.value,H,{value:d.value,onChange:L}),null)])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function y2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function _s(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y2(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y2(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function xie(t){var e=i.toRefs(t),n=e.editableRowKeys,a=new Map,r=i.ref({}),o=i.computed(function(){return $re(t.editableRowKeys,t.data,t.rowKey||"id")}),l=i.ref({}),s=i.ref({}),c=function(w){var C={};return w.forEach(function(x){var k=x.row,P=x.col,I=x.errorList,D=we(k,t.rowKey||"id"),L=[D,P.colKey].join("__");I!=null&&I.length?C[L]=I:delete C[L]}),C},d=function(w){var C=a.get(w);if(C){var x=C.map(function(k){return new Promise(function(P){var I=k.editedRow,D=k.col,L=pe(D.edit.rules)?D.edit.rules(k):D.edit.rules;if(!D.edit||!L||!L.length){P(_s(_s({},k),{},{errorList:[]}));return}Xv(we(I,D.colKey),L).then(function(O){P(_s(_s({},k),{},{errorList:O.filter(function(S){return!S.result})}))})})});return new Promise(function(k,P){Promise.all(x).then(function(I){k({errors:I.filter(function(D){var L;return(L=D.errorList)===null||L===void 0?void 0:L.length}),errorMap:c(I)})},P)})}},u=function(w){return new Promise(function(C,x){d(w).then(function(k){var P,I=k.errors,D=k.errorMap;r.value=D;var L="parent";(P=t.onRowValidate)===null||P===void 0||P.call(t,{trigger:L,result:I}),C({trigger:L,result:I})},x)})},f=function(){var w=Object.keys(l.value),C=w.map(function(x){return l.value[x].validateEdit("parent")});return new Promise(function(x,k){Promise.all(C).then(function(P){var I,D={};P.forEach(function(L,O){L!==!0&&(D[w[O]]=L)}),(I=t.onValidate)===null||I===void 0||I.call(t,{result:D}),x({result:D})},k)})},v=function(){if(Object.keys(l.value).length)return f();for(var w=[],C=t.data||[],x=0,k=C.length;x<k;x++){var P=we(C[x],t.rowKey||"id");w.push(d(P))}return new Promise(function(I,D){Promise.all(w).then(function(L){var O,S={};L.forEach(function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{errors:[],errorMap:{}},A=_.errorMap;A&&Object.assign(S,A)}),r.value=S,(O=t.onValidate)===null||O===void 0||O.call(t,{result:S}),I({result:S})},D)})},h=function(w,C,x){s.value[w]||(s.value[w]=On(C)),Object.entries(x).forEach(function(k){var P=Ce(k,2),I=P[0],D=P[1];bi(s.value[w],I,D)})},g=function(w){if(t.editableRowKeys){var C=we(w.row,t.rowKey||"id"),x=a.get(C);if(x){var k=x.findIndex(function(P){return P.col.colKey===w.col.colKey});k===-1?x.push(w):x[k]=w,a.set(C,x)}else a.set(C,[w])}},p=function(){r.value={}},m=function(w){var C=hs(w.row,t.rowKey,w.col.colKey,w.colIndex);w.isEdit?l.value[C]=w:delete l.value[C]},y=function(w){var C,x=w.row,k=w.col,P=we(x,t.rowKey||"id"),I=s.value[P];if(I&&(C=t.editableRowKeys)!==null&&C!==void 0&&C.includes(P)){var D=_s({},I);return bi(D,k.colKey,we(I,k.colKey)),D}return x};return i.watch(function(){var b;return(b=n.value)===null||b===void 0?void 0:b.join(",")},function(b){var w=b.split(","),C=Object.keys(s.value);C.forEach(function(x){w.includes(x)||delete s.value[x]})}),{editedFormData:s,errorListMap:r,editableKeysMap:o,validateTableData:v,validateRowData:u,onRuleChange:g,clearValidateData:p,onUpdateEditedCell:h,getEditRowData:y,onPrimaryTableCellEditChange:m}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function b2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b2(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b2(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var Sie=["hideSortTips","dragSort","defaultExpandedRowKeys","defaultSelectedRowKeys","columnController","filterRow","sortOnRowDraggable","expandOnRowClick","expand-on-row-click","expanded-row","editable-row-keys","editable-cell-state","filter-value","multipleSort","expandIcon","expand-icon","reserveSelectedRowOnPaginate","expandedRowKeys","expandedRow","reserve-selected-row-on-paginate","reserveSelectedRowOnPaginate","selected-row-keys","selectedRowKeys","selectOnRowClick","column-controller","columnController","dragSort","drag-sort","hideSortTips","showSortColumnBgColor","filter-row","filterRow","multiple-sort","multipleSort","async-loading","onChange","onAsyncLoadingClick","onColumnChange","onColumnControllerVisibleChange","onDataChange","onDisplayColumnsChange","onDragSort","onExpandChange","onFilterChange","onSelectChange","onSortChange"],qh=i.defineComponent({name:"TPrimaryTable",props:mr(mr({},Qo),EP),setup:function(e,n){var a=Pe(),r=i.toRefs(e),o=r.columns,l=r.columnController,s=i.ref(null),c=i.ref(!1),d=Tn(),u=d.classPrefix,f=d.tableDraggableClasses,v=d.tableBaseClass,h=d.tableSelectedClasses,g=d.tableSortClasses,p=Re("table",e.locale),m=p.globalConfig,y=SP(e),b=y.sizeClassNames,w=i.computed(function(){var ct;return(ct=e.size)!==null&&ct!==void 0?ct:m.value.size}),C=Fre(e,n),x=C.tDisplayColumns,k=C.renderColumnController,P=Lre(e,n),I=P.showExpandedRow,D=P.showExpandIconColumn,L=P.getExpandColumn,O=P.renderExpandedRow,S=P.onInnerExpandRowClick,_=P.getExpandedRowClass,A=Ure(e,n),E=A.renderSortIcon,R=Bre(e,h),N=R.selectColumn,F=R.showRowSelect,M=R.selectedRowClassNames,$=R.currentPaginateData,W=R.formatToRowSelectColumn,H=R.setTSelectedRowKeys,K=R.onInnerSelectRowClick,z=R.handleRowSelectWithAreaSelection,B=qre(e,n),q=B.hasEmptyCondition,Y=B.isTableOverflowHidden,X=B.renderFilterIcon,T=B.renderFirstFilterRow,j=B.setFilterPrimaryTableRef,U=i.computed(function(){return{showElement:c.value}}),J=bie(e,n,U),Z=J.isRowHandlerDraggable,Q=J.isRowDraggable,ee=J.isColDraggable,ne=J.innerPagination,V=J.setDragSortPrimaryTableRef,re=J.setDragSortColumns,ce=dP(e),se=ce.renderTitleWidthIcon,ue=wie(e),ye=ue.renderAsyncLoading,me=xie(e),ge=me.errorListMap,xe=me.editableKeysMap,le=me.validateRowData,ie=me.validateTableData,oe=me.onRuleChange,de=me.clearValidateData,Te=me.onUpdateEditedCell,Se=me.onPrimaryTableCellEditChange,Oe=i.computed(function(){return!!(I.value||F.value)}),ke=i.computed(function(){return!!(I.value||F.value)}),_e=i.computed(function(){var ct;return G(G(G(G(G(G(G(G({},f.colDraggable,ee.value),f.rowHandlerDraggable,Z.value),f.rowDraggable,Q.value),v.overflowVisible,Y.value===!1),v.tableRowEdit,e.editableRowKeys),"".concat(u,"-table--select-").concat((ct=N.value)===null||ct===void 0?void 0:ct.type),N.value),"".concat(u,"-table--row-select"),F.value),"".concat(u,"-table--row-expandable"),I.value)}),De=i.computed(function(){var ct=[e.rowClassName,M.value,_];return ct.filter(function(dt){return dt})}),je=i.computed(function(){var ct=[e.rowAttributes];return(Z.value||Q.value)&&ct.push(function(dt){var zt=dt.row;return{"data-id":we(zt,e.rowKey||"id")}}),ct.filter(function(dt){return dt})});i.onMounted(function(){j(s.value),V(s.value)}),n.expose({validateRowData:le,validateTableData:ie,clearValidateData:de,refreshTable:function(){s.value.refreshTable()},scrollToElement:function(dt){s.value.scrollToElement(dt)},scrollColumnIntoView:function(dt){s.value.scrollColumnIntoView(dt)},baseTableRef:s});var Xe=function(dt){for(var zt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Fn=[],Sn=function(){var Xi,Ji,Zi,Qi,Pr,wt=mr({},dt[en]),_r=((Xi=wt.children)===null||Xi===void 0?void 0:Xi.length)||((Ji=x.value)===null||Ji===void 0?void 0:Ji.includes(wt.colKey));if(!_r&&(e.columnController||e.displayColumns||e.defaultDisplayColumns)&&!zt)return 1;wt=W(wt);var Ir=e.sort;if(wt.sorter&&e.showSortColumnBgColor){var Vs=Ir instanceof Array?Ir:[Ir],Qr=Vs.find(function(Vi){return Vi&&Vi.sortBy===wt.colKey&&Vi.descending!==void 0});Qr&&(wt.className=wt.className instanceof Array?wt.className.concat(g.sortColumn):[wt.className,g.sortColumn])}if(wt.sorter||wt.filter){var Ja=Ku(n.slots,wt,en),Za=wt,lp=Za.ellipsisTitle;wt.title=function(Vi,it){var yt,Nt=wt.sorter?E(it):null,tn=wt.filter?X(it):null,Vr=(yt=s.value)===null||yt===void 0?void 0:yt.tableContentRef;return se([Ja,Nt,tn],it.col,it.colIndex,lp,Vr,{classPrefix:u,ellipsisOverlayClassName:w.value!=="medium"?b[w.value]:""})},wt.ellipsisTitle=!1}if((Zi=wt.edit)!==null&&Zi!==void 0&&Zi.component){var sp=wt.cell;wt.cell=function(Vi,it){var yt=mr(mr({},it),{},{oldCell:sp,rowKey:e.rowKey||"id",tableBaseClass:v,cellEmptyContent:e.cellEmptyContent,onChange:e.onRowEdit,onValidate:e.onRowValidate,onRuleChange:oe,onEditableChange:Se});if(e.editableRowKeys){var Nt,tn=we(it.row,e.rowKey||"id");yt.editable=xe.value[tn]||!1;var Vr=[tn,it.col.colKey].join("__"),_l=(Nt=ge.value)===null||Nt===void 0?void 0:Nt[Vr];_l&&(yt.errors=_l)}return e.editableCellState&&(yt.readonly=!e.editableCellState(it)),i.createVNode(Cie,i.mergeProps(yt,{onUpdateEditedCell:Te}),n.slots)}}if((Qi=wt.children)!==null&&Qi!==void 0&&Qi.length){var ec;wt.children=Xe(wt.children,zt||((ec=x.value)===null||ec===void 0?void 0:ec.includes(wt.colKey)))}(!wt.children||(Pr=wt.children)!==null&&Pr!==void 0&&Pr.length)&&Fn.push(wt)},en=0,Qs=dt.length;en<Qs;en++)Sn();return Fn},tt=i.computed(function(){var ct=Xe(o.value);return D.value&&ct.unshift(L()),ct}),hn=function(dt,zt){var Fn,Sn;ne.value=mr(mr({},ne.value),dt),$.value=zt,(Fn=e.onPageChange)===null||Fn===void 0||Fn.call(e,dt,zt);var en=[{pagination:dt},{trigger:"pagination",currentData:zt}];(Sn=e.onChange)===null||Sn===void 0||Sn.call.apply(Sn,[e].concat(en)),e.reserveSelectedRowOnPaginate||H([],{selectedRowData:[],type:"uncheck",currentRowKey:"CLEAR_ON_PAGINATE"})},Vn=function(dt){var zt;(zt=e.onActiveRowAction)===null||zt===void 0||zt.call(e,dt),z(dt)},xn=function(dt){e.expandOnRowClick&&S(dt),e.selectOnRowClick&&K(dt)},_a,Ol=250,kl=function(dt){if(!e.onRowDblclick){xn(dt);return}_a?(clearTimeout(_a),_a=void 0):_a=setTimeout(function(){xn(dt),_a=void 0},Ol)},Xa=function(dt){c.value=dt};return function(){var ct,dt,zt=function(_r,Ir,Vs,Qr){if(!Vs)return e[_r];var Ja=Ir(i.h),Za=a(_r);return Ja&&!Za?function(){return Ja}:Za&&!Ja?function(){return Za}:Ja&&Za?function(){return Qr!=null&&Qr.reverse?i.createVNode("div",null,[Ja,Za]):i.createVNode("div",null,[Za,Ja])}:null},Fn=!!(l.value&&Object.keys(l.value).length),Sn=Fn?l.value.placement||"top-right":"",en=Fn&&(Sn==null?void 0:Sn.indexOf("bottom"))!==-1,Qs=zt("topContent",k,Fn&&!en),Pl=zt("bottomContent",k,en,{reverse:!0}),Xi=zt("firstFullRow",T,!q.value),Ji=zt("lastFullRow",ye,!!e.asyncLoading),Zi=i.getCurrentInstance(),Qi=Zi.vnode,Pr=mr(mr({},gn(Qi.props,Sie)),{},{rowKey:e.rowKey,rowClassName:De.value,rowAttributes:je.value,columns:tt.value,keyboardRowHover:(ct=e.keyboardRowHover)!==null&&ct!==void 0?ct:Oe.value,disableSpaceInactiveRow:(dt=e.disableSpaceInactiveRow)!==null&&dt!==void 0?dt:ke.value,topContent:Qs,bottomContent:Pl,firstFullRow:Xi,lastFullRow:Ji,thDraggable:["col","row-handler-col"].includes(e.dragSort),onShowElementChange:Xa,onPageChange:hn,renderExpandedRow:I.value?O:void 0,onActiveRowAction:Vn});return(e.expandOnRowClick||e.selectOnRowClick)&&(Pr.onRowClick=kl),i.createVNode(TP,i.mergeProps(Pr,{ref:s,class:_e.value,onLeafColumnsChange:re}),n.slots)}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Oie={beforeDragSort:{type:Function},expandedTreeNodes:{type:Array,default:void 0},defaultExpandedTreeNodes:{type:Array,default:function(){return[]}},tree:{type:Object},treeExpandAndFoldIcon:{type:Function},onAbnormalDragSort:Function,onExpandedTreeNodesChange:Function,onTreeExpandChange:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function w2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function gd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w2(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w2(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var C2={code:1001,reason:"The same level of rows can not be swapped."};function yr(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,r=we(t,e);return n||a?"".concat(r,"_").concat(n||0,"_").concat(a||0,"}"):r}var kie=function(){function t(){rr(this,t),G(this,"treeDataMap",new Map),G(this,"expandAllRowIndex",void 0),this.treeDataMap=new Map}return ir(t,[{key:"initialTreeStore",value:function(n,a,r){var o;(o=this.treeDataMap)===null||o===void 0||o.clear(),this.initialTreeDataMap(this.treeDataMap,n,a.find(function(l){return l.colKey==="row-select"}),r)}},{key:"getAllUniqueKeys",value:function(n,a){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],o=0,l=n.length;o<l;o++){var s=n[o];r.push(yr(s,a.rowKey));var c=we(s,a.childrenKey);c!=null&&c.length&&this.getAllUniqueKeys(c,a,r)}return r}},{key:"getExpandedChildrenKeys",value:function(n,a){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],o=0,l=n.length;o<l;o++){var s=n[o],c=yr(s,a.rowKey),d=this.treeDataMap.get(c);d.expanded&&r.push(c);var u=we(s,a.childrenKey);u!=null&&u.length&&this.getExpandedChildrenKeys(u,a,r)}return r}},{key:"expandTreeNode",value:function(n,a,r){var o=this;return n.length&&n.forEach(function(l){var s=o.treeDataMap.get(l);s&&o.toggleExpandData({row:s.row,rowIndex:s.rowIndex},a,r,"expand")}),a}},{key:"foldTreeNode",value:function(n,a,r){var o=this;return n.length&&n.forEach(function(l){var s=o.treeDataMap.get(l);s&&o.toggleExpandData({row:s.row,rowIndex:s.rowIndex},a,r,"fold")}),a}},{key:"toggleExpandData",value:function(n,a,r,o){var l;if(!n)return He.error("EnhancedTable","the node toggleExpanded doest not exist in `data`"),a;var s=we(n.row,r.rowKey);if(Kt(s))return He.error("EnhancedTable","`rowKey` could be wrong, can not get rowValue from `data` by `rowKey`."),[];var c=we(n.row,r.childrenKey);if(c===!0)return a;var d=this.treeDataMap.get(s);return o==="expand"&&d.expanded||o==="fold"&&!d.expanded?a:(d.rowIndex=(l=d.rowIndex)!==null&&l!==void 0?l:n.rowIndex,d.expanded=!d.expanded,this.treeDataMap.set(s,d),this.updateExpandRow(d,a,r))}},{key:"updateExpandRow",value:function(n,a,r){var o=n.row,l=n.rowIndex,s=n.expanded,c=this.treeDataMap,d=we(o,r.childrenKey);if(!o||!d)return a;if(s)Gh(c,n,s,r),ol(c,o,d.length,"expand",r),a.splice.apply(a,[l+1,0].concat(d));else{Gh(c,n,s,r);var u=n.expandChildrenLength||d.length;ol(c,o,-1*u,"fold",r),a.splice(l+1,u)}return Ei(c,a,{rowKey:r.rowKey,minRowIndex:l+1}),a}},{key:"getData",value:function(n){return this.treeDataMap.get(n)}},{key:"updateData",value:function(n,a,r,o){var l=yr(a,o.rowKey),s=this.treeDataMap.get(n);if(!s||s.rowIndex===-1)return S2(r,n,a,{rowKey:o.rowKey,childrenKey:o.childrenKey}),-1;if(we(a,o.childrenKey)===!0){var c=we(s.row,o.childrenKey);if(c!=null&&c.length)for(var d=0,u=c.length;d<u;d++){var f=yr(c[d],o.rowKey),v=this.treeDataMap.get(f);v&&this.treeDataMap.delete(f)}}var h=s.rowIndex;if(s.row=a,s.id=l,s.parent){var g=we(s.parent.row,o.childrenKey),p=g.findIndex(function(m){return yr(m,o.rowKey)===n});g[p]=a}return this.treeDataMap.set(l,s),n!==l&&this.treeDataMap.delete(n),h}},{key:"remove",value:function(n,a,r){var o=this.treeDataMap.get(n);if(o&&o.rowIndex>=0){var l=(o.expandChildrenLength||0)+1;if(a.splice(o.rowIndex,l),o.parent){var s=we(o.parent.row,r.childrenKey),c=s.findIndex(function(d){return we(d,r.rowKey)===n});s.splice(c,1),ol(this.treeDataMap,o.parent.row,-1*l,"delete",r)}this.treeDataMap.delete(n),Ei(this.treeDataMap,a,{minRowIndex:o.rowIndex,rowKey:r.rowKey,type:"remove"})}else He.warn("EnhancedTable","Can not remove this node, which is not appeared.");return a}},{key:"removeChildren",value:function(n,a,r){var o=this.treeDataMap.get(n);if(o&&o.rowIndex>=0){var l=o.expandChildrenLength||0;l&&a.splice(o.rowIndex+1,l),o.parent&&ol(this.treeDataMap,o.parent.row,-1*l,"delete",r),o.expandChildrenLength=0,o.expanded=!1,bi(o.row,r.childrenKey,void 0),this.treeDataMap.set(n,o),l&&Ei(this.treeDataMap,a,{minRowIndex:o.rowIndex+1,rowKey:r.rowKey,type:"remove"})}else He.warn("EnhancedTable","Can not remove this node's children, which is not appeared.");return a}},{key:"appendTo",value:function(n,a,r,o){var l=this.treeDataMap.get(n);if(!this.validateDataExist(l,n))return r;for(var s=we(l.row,o.childrenKey),c=l.expanded||!(s!=null&&s.length),d=a instanceof Array?a:[a],u=[],f=-1,v=0,h=d.length;v<h;v++){var g=d[v],p=yr(g,o.rowKey),m=this.treeDataMap.get(p);if(!this.validateDataDoubleExist(m,p))He.warn("Table","Duplicated Data `".concat(p,"` has been removed."));else{var y=c?l.rowIndex+(l.expandChildrenLength||0)+(v+1):-1;v===0&&(f=y);var b={id:p,row:g,rowIndex:y,level:l.level+1,expanded:!1,expandChildrenLength:0,disabled:!1,path:he(l.path),parent:l};b.path=b.path.concat(b),u.push(g),this.treeDataMap.set(p,b)}}if(!u.length)return r;if(s!=null&&s.length?l.row[o.childrenKey]=l.row[o.childrenKey].concat(u):(l.row[o.childrenKey]=u,l.expanded=!0),c){r.splice.apply(r,[f,0].concat(u));var w=u.length||1;ol(this.treeDataMap,l.row,w,"insert",{rowKey:o.rowKey,childrenKey:o.childrenKey}),Ei(this.treeDataMap,r,{minRowIndex:f+u.length-1,rowKey:o.rowKey,type:"add",count:1})}return r}},{key:"appendToRoot",value:function(n,a,r){for(var o=a.concat(n),l=n instanceof Array?n:[n],s=a.length,c=0,d=l.length;c<d;c++){var u=we(l[c],r.rowKey);if(!u){He.error("Table","`rowKey` could be wrong, can not get rowValue from `data` by `rowKey`.");continue}var f={id:u,row:l[c],rowIndex:s+c,level:0,expanded:!1,expandChildrenLength:0,disabled:!1};f.path=[f],this.treeDataMap.set(u,f)}return o}},{key:"insertAfter",value:function(n,a,r,o){return this.insert(n,a,r,o,"after")}},{key:"insertBefore",value:function(n,a,r,o){return this.insert(n,a,r,o,"before")}},{key:"insert",value:function(n,a,r,o,l){var s=this.treeDataMap.get(n);if(!this.validateDataExist(s,n))return r;var c=we(a,o.rowKey),d=this.treeDataMap.get(c);if(!this.validateDataDoubleExist(d,c))return r;var u=l==="after"?s.rowIndex+1:s.rowIndex,f={id:c,row:a,rowIndex:u,level:s.level,expanded:!1,expandChildrenLength:0,disabled:!1,path:s.path.slice(0,-1),parent:s.parent};f.path=f.path.concat(f);var v=l==="after"?s.rowIndex+(s.expandChildrenLength+1):s.rowIndex;r.splice(v,0,a);var h=l==="after"?1:0;if(s.parent){var g=s.parent.row[o.childrenKey].findIndex(function(p){return n===we(p,o.rowKey)});s.parent.row[o.childrenKey].splice(g+h,0,a),ol(this.treeDataMap,s.parent.row,1,"insert",o)}return this.treeDataMap.set(c,f),Ei(this.treeDataMap,r,{rowKey:o.rowKey,minRowIndex:s.rowIndex+1,type:"add"}),r}},{key:"swapData",value:function(n,a,r){var o=a.currentIndex,l=a.targetIndex;if(o===l)return{dataSource:n,result:!0};var s=we(a.current,r.rowKey),c=we(a.target,r.rowKey),d=this.treeDataMap.get(s),u=this.treeDataMap.get(c);if(d.level!==u.level)return{dataSource:n,result:!1,code:C2.code,reason:C2.reason};var f=o+d.expandChildrenLength+1,v=l+u.expandChildrenLength+1,h=n.slice(o,f),g=n.slice(l,v);if(o>l){var p=n.slice(v,o),m=h.concat(g,p);n.splice(l,m.length),n.splice.apply(n,[l,0].concat(he(m))),Ei(this.treeDataMap,n,{rowKey:r.rowKey,minRowIndex:l,maxRowIndex:f})}else{var y=n.slice(f,l),b=y.concat(g,h);n.splice(o,b.length),n.splice.apply(n,[o,0].concat(he(b))),Ei(this.treeDataMap,n,{rowKey:r.rowKey,minRowIndex:o,maxRowIndex:v})}if(d.parent){for(var w=d.parent.row[r.childrenKey],C=0,x=-1,k=-1,P=0,I=w.length;P<I&&(we(w[P],r.rowKey)===s&&(k=P,C+=1),we(w[P],r.rowKey)===c&&(x=P,C+=1),!(C>=2));P++);k<x?(w.splice(x+1,0,a.current),w.splice(k,1)):(w.splice(k,1),w.splice(x,0,a.current))}return{dataSource:n,result:!0}}},{key:"expandAll",value:function(n,a){var r=this;this.expandAllRowIndex=0;var o=[],l=function(c,d){for(var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,f=0,v=c.length;f<v;f++){var h=c[f],g=we(h,d.rowKey),p=r.treeDataMap.get(g),m=we(h,d.childrenKey);if(p.rowIndex=r.expandAllRowIndex,m!==!0&&m!==null&&m!==void 0&&m.length&&(p.expanded=!0),p.expandChildrenLength=(m==null?void 0:m.length)||0,r.expandAllRowIndex+=1,o.push(h),r.treeDataMap.set(g,p),m!=null&&m.length){for(var y=u;(b=y)!==null&&b!==void 0&&b.row;){var b;y.expandChildrenLength+=m.length,r.treeDataMap.set(y.id,y),y=y.parent}l(m,d,p)}}};return l(n,a),o}},{key:"foldAll",value:function(n,a){for(var r=[],o=0,l=0,s=n.length;l<s;l++){var c=n[l],d=we(c,a.rowKey),u=this.treeDataMap.get(d);u.rowIndex=u.level===0?o:-1,u.expanded=!1,u.expandChildrenLength=0,u.level===0&&(r.push(c),o+=1);var f=we(c,a.childrenKey);f!=null&&f.length&&this.foldAll(f,a)}return r}},{key:"getTreeNode",value:function(n,a){for(var r=[],o=0,l=n.length;o<l;o++){var s=n[o],c=we(s,a.rowKey),d=this.treeDataMap.get(c);d.level===0&&r.push(s)}return r}},{key:"getTreeExpandedRow",value:function(n,a){var r=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"data",l=[];return n.forEach(function(s){var c=we(s,a.rowKey),d=r.treeDataMap.get(c);d.expanded&&(o==="unique"?l.push(c):o==="data"?l.push(s):l.push(d))}),l}},{key:"initialTreeDataMap",value:function(n,a,r,o){for(var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,c=0,d=a.length;c<d;c++){var u=a[c],f=yr(u,o.rowKey);if(Kt(f)){He.error("EnhancedTable","`rowKey` could be wrong, can not get rowValue from `data` by `rowKey`.");return}var v=we(u,o.childrenKey),h={id:f,row:u,rowIndex:l===0?c:-1,level:l,expanded:!1,expandChildrenLength:0,disabled:Th(r,u,c),parent:s};h.path=s?s.path.concat(h):[h],n.set(f,h),v!=null&&v.length&&this.initialTreeDataMap(n,v,r,o,l+1,h)}}},{key:"updateDisabledState",value:function(n,a,r){for(var o=0,l=n.length;o<l;o++){var s=n[o],c=we(s,r.rowKey);if(Kt(c)){He.error("EnhancedTable","`rowKey` could be wrong, can not get rowValue from `data` by `rowKey`.");return}var d=this.treeDataMap.get(c);d.disabled=Th(a,s,o),this.treeDataMap.set(c,d);var u=we(s,r.childrenKey);u!=null&&u.length&&this.updateDisabledState(u,a,r)}}},{key:"validateDataExist",value:function(n,a){return n?!0:(He.warn("EnhancedTable","".concat(a," does not exist.")),!1)}},{key:"validateDataDoubleExist",value:function(n,a){return n?(He.warn("EnhancedTable","Duplicated Key. ".concat(a," already exists.")),!1):!0}}])}();function ol(t,e,n,a,r){for(var o=e;o;){var l,s=t.get(we(o,r.rowKey)),c=(s.expandChildrenLength||0)+n;s.expandChildrenLength=Math.max(0,c),o=s==null||(l=s.parent)===null||l===void 0?void 0:l.row}a==="fold"&&x2(t,e,r)}function x2(t,e,n){var a=we(e,n.childrenKey);a!=null&&a.length&&a.forEach(function(r){var o=t.get(we(r,n.rowKey));o&&(o.expandChildrenLength=0,x2(t,o.row,n))})}function Gh(t,e,n,a){var r=e.row,o=e.rowIndex,l=we(r,a.childrenKey);l.forEach(function(s,c){var d=we(s,a.rowKey),u=n?o+1+c:-1,f=t.get(d),v=gd(gd({},f),{},{row:s,rowIndex:u,expanded:!1,parent:e});if(t.set(d,v),!n){var h=we(s,a.childrenKey);h!=null&&h.length&&Gh(t,gd(gd({},v),{},{rowIndex:-1,expanded:!1}),n,a)}})}function S2(t,e,n,a){for(var r=0,o=t.length;r<o;r++){var l=t[r];if(we(l,a.rowKey)===e){t[r]=n;return}var s=we(l,a.childrenKey)||[];s!=null&&s.length&&S2(s,e,n,a)}}function Ei(t,e,n){for(var a=n.minRowIndex||0,r=n.maxRowIndex||e.length,o=a;o<r;o++){var l=e[o],s=t.get(we(l,n.rowKey));s||He.warn("Table","tree map went wrong"),s.rowIndex=o+((n==null?void 0:n.count)||1)-1}}function Pie(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=[],a=[],r=new Map,o=new Map,l=0,s=t.length;l<s;l++)r.set(t[l],!0);for(var c=0,d=e.length;c<d;c++)o.set(e[c],!0);for(var u=0,f=t.length;u<f;u++)o.get(t[u])||a.push(t[u]);for(var v=0,h=e.length;v<h;v++)r.get(e[v])||n.push(e[v]);return{removedList:n,addedList:a}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function O2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Xh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O2(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O2(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function _ie(t,e){var n=e.store,a=e.dataSource,r=e.rowDataKeys,o=i.toRefs(t),l=o.data,s=o.expandedTreeNodes,c=o.tree,d=i.ref(!1),u=i.ref(!1),f=Rt(s,t.defaultExpandedTreeNodes,t.onExpandedTreeNodesChange,"expandedTreeNodes"),v=Ce(f,2),h=v[0],g=v[1],p=i.ref({type:"props-change"});function m(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"expand-all",k=arguments.length>1?arguments[1]:void 0,P=k||l.value;a.value=n.value.expandAll(P,r.value);var I=a.value.map(function(D){return yr(D,r.value.rowKey)});g(I,{row:void 0,rowState:void 0,rowIndex:void 0,type:"expand",trigger:x}),p.value.type="expand-all"}function y(){a.value=he(n.value.foldAll(a.value,r.value)),g([],{row:void 0,rowState:void 0,rowIndex:void 0,type:"fold",trigger:"fold-all"})}function b(x,k){var P,I=x.row,D=x.rowIndex;p.value=Xh({type:"user-reaction-change"},x);var L=yr(I,r.value.rowKey),O=n.value.treeDataMap.get(L),S=he(h.value);if(O.expanded){for(var _=n.value.getExpandedChildrenKeys([I],r.value),A=0,E=S.length;A<E;A++){var R=S[A];_.includes(R)&&(S[A]=void 0)}S=S.filter(Boolean)}else S.push(L);var N={row:I,rowIndex:D,rowState:O,trigger:k};g(S,Xh(Xh({},N),{},{type:O.expanded?"fold":"expand"})),(P=t.onTreeExpandChange)===null||P===void 0||P.call(t,N)}function w(x,k){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],I=Pie(k,P),D=I.addedList,L=I.removedList;return n.value.expandTreeNode(D,x,r.value),n.value.foldTreeNode(L,x,r.value),he(x)}i.watch([h,l],function(x,k){var P=Ce(x,1),I=P[0],D=Ce(k,1),L=D[0];if(!(!n.value.treeDataMap.size||!l.value.length)){if(p.value.type==="user-reaction-change"){var O=p.value||{},S=O.row,_=O.rowIndex;a.value=he(n.value.toggleExpandData({row:S,rowIndex:_},he(a.value),r.value))}else p.value.type==="props-change"&&w(a.value,I,L);p.value.type="props-change"}});var C=function(k){var P,I;(P=c.value)!==null&&P!==void 0&&P.defaultExpandAll&&!d.value?(m("default-expand-all",he(k)),d.value=!0):(I=h.value)!==null&&I!==void 0&&I.length&&i.nextTick(function(){a.value=w(he(k),h.value,[])})};return{tExpandedTreeNode:h,isDefaultExpandAllExecute:d,isDefaultExpandedTreeNodesExecute:u,expandAll:m,foldAll:y,onExpandFoldIconClick:b,updateExpandOnDataChange:C}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function k2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function sa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k2(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k2(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Iie(t,e){var n=i.toRefs(t),a=n.data,r=n.columns,o=Re("table",t.locale),l=o.t,s=o.globalConfig,c=Ve({AddRectangleIcon:t$,MinusRectangleIcon:oB}),d=c.AddRectangleIcon,u=c.MinusRectangleIcon,f=i.ref(new kie),v=i.shallowRef(),h=i.ref([]),g=Tn(),p=g.tableTreeClasses,m=va(),y=i.computed(function(){var X;return{rowKey:t.rowKey||"id",childrenKey:((X=t.tree)===null||X===void 0?void 0:X.childrenKey)||"children"}}),b=_ie(t,{store:f,dataSource:h,rowDataKeys:y}),w=b.tExpandedTreeNode,C=b.isDefaultExpandAllExecute,x=b.isDefaultExpandedTreeNodesExecute,k=b.expandAll,P=b.foldAll,I=b.updateExpandOnDataChange,D=b.onExpandFoldIconClick,L=i.computed(function(){return r.value.find(function(X){return X.colKey==="row-select"})});i.watch(L,function(X){f.value&&f.value.updateDisabledState(h.value,X,y.value)});var O=function(T){var j=sa(sa({},T),{},{type:"fold"}),U=l(s.value.treeExpandAndFoldIcon,i.h,j)||i.createVNode(u,null,null);return m("treeExpandAndFoldIcon",{defaultNode:U,params:j})},S=function(T){var j=sa(sa({},T),{},{type:"expand"}),U=l(s.value.treeExpandAndFoldIcon,i.h,j)||i.createVNode(d,null,null);return m("treeExpandAndFoldIcon",{defaultNode:U,params:j})};i.watch([a],function(){t.tree?_(a.value):h.value=a.value},{immediate:!0}),i.onUnmounted(function(){var X;t.tree&&((X=f.value.treeDataMap)===null||X===void 0||X.clear(),f.value=null)}),i.watch(function(){var X;return[r,(X=t.tree)===null||X===void 0?void 0:X.treeNodeColumnIndex]},function(){v.value=R()},{immediate:!0});function _(X){var T,j=t.columns,U=t.expandedTreeNodes,J=t.defaultExpandedTreeNodes,Z=t.tree;f.value.initialTreeStore(X,j,y.value);var Q=!!(!x.value&&(J!=null&&J.length)),ee=!!(Z!=null&&Z.defaultExpandAll&&!C.value);(T=w.value)!==null&&T!==void 0&&T.length&&(U||Q)||ee?(I(X),x.value=!0):h.value=he(X)}function A(X){var T,j;if(X!==void 0){var U=((T=t.tree)===null||T===void 0?void 0:T.indent)===void 0?24:(j=t.tree)===null||j===void 0?void 0:j.indent;return U?{paddingLeft:"".concat(X*U||1,"px")}:{}}}function E(X,T){var j,U,J=sa({},X);X.row.VIRTUAL_SCROLL_INDEX!==void 0&&(J.rowIndex=X.row.VIRTUAL_SCROLL_INDEX),h.value=he(f.value.toggleExpandData(J,h.value,y.value));var Z=we(X.row,y.value.rowKey),Q=(j=f.value)===null||j===void 0||(j=j.treeDataMap)===null||j===void 0?void 0:j.get(Z);(U=t.onTreeExpandChange)===null||U===void 0||U.call(t,{row:X.row,rowIndex:X.rowIndex,rowState:Q,trigger:T})}function R(){for(var X,T=t.columns,j=((X=t.tree)===null||X===void 0?void 0:X.treeNodeColumnIndex)||0;(U=T[j])!==null&&U!==void 0&&U.type||((J=T[j])===null||J===void 0?void 0:J.colKey)==="__EXPAND_ROW_ICON_COLUMN__";){var U,J;j+=1}return T[j]}function N(X){if(!t.tree||X.colKey!==v.value.colKey)return X;var T=sa({},v.value);return T.cell=function(j,U){var J=qu(sa(sa({},U),{},{col:sa({},v.value)}),e.slots,{cellEmptyContent:t.cellEmptyContent}),Z=f.value.treeDataMap.get(we(U.row,y.value.rowKey)),Q=A(Z==null?void 0:Z.level),ee=G({},p.inlineCol,!!X.ellipsis),ne=we(U.row,y.value.childrenKey);if(ne&&ne instanceof Array||ne===!0){var V,re=(V=f.value.treeDataMap.get(we(U.row,y.value.rowKey)))!==null&&V!==void 0&&V.expanded?O(U):S(U);return i.createVNode("div",{class:[p.col,ee],style:Q},[!!(ne.length||ne===!0)&&i.createVNode("span",{class:p.icon,onClick:function(se){D(U,"expand-fold-icon"),se.stopPropagation()}},[re]),J])}return i.createVNode("div",{style:Q,class:[ee,p.leafNode]},[i.createVNode("span",{class:p.icon},null),J])},T.ellipsis===!0&&(T.ellipsis=function(j,U){return qu(sa(sa({},U),{},{col:sa({},v.value)}),e.slots)}),T}function F(X,T){var j=f.value.updateData(X,T,h.value,y.value),U=he(h.value);U[j]=T,h.value=U}function M(X){return f.value.getData(X)}function $(X){h.value=he(f.value.remove(X,h.value,y.value))}function W(X){h.value=he(f.value.removeChildren(X,h.value,y.value))}function H(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",T=arguments.length>1?arguments[1]:void 0;if(!X){h.value=f.value.appendToRoot(T,h.value,y.value);return}h.value=he(f.value.appendTo(X,T,h.value,y.value))}function K(X,T){h.value=he(f.value.insertAfter(X,T,h.value,y.value))}function z(X,T){h.value=he(f.value.insertBefore(X,T,h.value,y.value))}function B(X){var T=f.value.swapData(h.value,X,y.value);if(T.result)h.value=he(T.dataSource);else{var j,U={code:T.code,reason:T.reason};(j=t.onAbnormalDragSort)===null||j===void 0||j.call(t,U)}}function q(){return f.value.getTreeNode(h.value,y.value)}function Y(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data";return f.value.getTreeExpandedRow(h.value,y.value,X)}return{store:f,rowDataKeys:y,dataSource:h,swapData:B,setData:F,getData:M,remove:$,removeChildren:W,appendTo:H,insertAfter:K,insertBefore:z,formatTreeColumn:N,toggleExpandData:E,expandAll:k,foldAll:P,getTreeNode:q,resetData:_,getTreeExpandedRow:Y,onExpandFoldIconClick:D}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function P2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function pd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P2(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P2(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var Jh=new Map;function Is(t,e,n,a){if(Jh.get(e))return Jh.get(e);var r=a||{allChildren:[],allChildrenKeys:[],leafNodeKeys:[]},o=we(e,n.childrenKey);if(!o||!o.length)return r;var l=o.filter(function(y){var b;return!((b=t.get(we(y,n.rowKey)))!==null&&b!==void 0&&b.disabled)});r.allChildren=he(new Set(r.allChildren.concat(l)));for(var s=0,c=o.length;s<c;s++){var d=o[s],u=we(d,n.childrenKey);if(u!=null&&u.length){var f=Is(t,d,n,r);r.allChildren=he(new Set(r.allChildren.concat(f.allChildren)))}}for(var v=0,h=r.allChildren.length;v<h;v++){var g=r.allChildren[v],p=we(g,n.childrenKey),m=we(g,n.rowKey);r.allChildrenKeys.push(m),(!p||!p.length)&&r.leafNodeKeys.push(m)}return r.allChildrenKeys=he(new Set(r.allChildrenKeys)),r.leafNodeKeys=he(new Set(r.leafNodeKeys)),r}function Nie(t,e){for(var n=t.selectedRowKeys,a=t.removeKeys,r={data:[],keys:[]},o=0,l=n.length;o<l;o++){var s=n[o];a.includes(s)||r.keys.push(s)}return r}function Tie(t){for(var e=t.treeDataMap,n=t.selectedRowKeys,a=[],r=0,o=n.length;r<o;r++){var l=n[r];a.push(e.get(l))}return a}function Eie(t,e){var n=i.toRefs(t),a=n.selectedRowKeys,r=n.tree,o=n.data,l=n.indeterminateSelectedRowKeys,s=i.ref([]),c=Rt(a,t.defaultSelectedRowKeys||[],t.onSelectChange,"selectedRowKeys"),d=Ce(c,2),u=d[0],f=d[1],v=i.computed(function(){var b;return{rowKey:t.rowKey||"id",childrenKey:((b=t.tree)===null||b===void 0?void 0:b.childrenKey)||"children"}});i.watch([r,e,o,u],function(b){var w=Ce(b,2),C=w[0],x=w[1];!C||!x.size||C.checkStrictly||h()});function h(){if(!(!r.value||r.value.checkStrictly)){if(!u.value.length){s.value=[];return}for(var b=[],w={},C=0,x=u.value.length;C<x;C++){var k=u.value[C],P=e.value.get(k);if(P){var I=we(P.row,v.value.childrenKey);if(!I||!I.length)for(var D=P.parent;D;){w[D.id]||(w[D.id]=[]),w[D.id].push(P.row);var L=w[D.id].length,O=Is(e.value,D.row,v.value),S=O.allChildrenKeys,_=b.indexOf(D.id),A=u.value.indexOf(D.id);L>0&&L<S.length&&A===-1?_===-1&&b.push(D.id):_!==-1&&b.splice(_,1),D=D.parent}}}s.value=b}}function g(b,w,C){if(!(!r.value||r.value.checkStrictly)){for(var x=he(b),k=e.value.get(w),P=k.parent;P;){var I=Is(e.value,P.row,v.value),D=I.leafNodeKeys,L=hi(D,b),O=x.indexOf(P.id);C==="uncheck"?O!==-1&&x.splice(O,1):L.length===D.length&&O===-1&&x.push(P.id),P=P.parent}return x}}function p(b,w){if(!r.value||r.value.checkStrictly){f(b,w);return}w.currentRowKey==="CHECK_ALL_BOX"?m(w):y(b,w)}function m(b){var w=[],C=[];if(b.type==="check")for(var x=he(e.value.values()),k=0,P=x.length;k<P;k++){var I=x[k];I.disabled||(C.push(I.row),w.push(we(I.row,v.value.rowKey)))}var D=pd(pd({},b),{},{selectedRowData:C||[]});f(w,D)}function y(b,w){var C,x=he(b);if(((C=t.tree)===null||C===void 0?void 0:C.checkStrictly)===!1){if((w==null?void 0:w.type)==="check"){var k=Is(e.value,w.currentRowData,v.value),P=k.allChildrenKeys;Jh.set(w.currentRowData,k),x=he(new Set(x.concat(P)))}else if((w==null?void 0:w.type)==="uncheck"){var I=Is(e.value,w.currentRowData,v.value),D=Nie({selectedRowKeys:b,removeKeys:I.allChildrenKeys});x=D.keys}}x=g(x,w.currentRowKey,w.type);var L=Tie({treeDataMap:e.value,selectedRowKeys:x}),O=pd(pd({},w),{},{selectedRowData:L});f(x,O)}return{tIndeterminateSelectedRowKeys:l.value?l:s,onInnerSelectChange:p}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Aie=["store","dataSource","formatTreeColumn","swapData","onExpandFoldIconClick"];function _2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Wa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_2(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_2(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var Rie=i.defineComponent({name:"TEnhancedTable",props:Wa(Wa(Wa({},Qo),EP),Oie),setup:function(e,n){var a=i.ref(null),r=Iie(e,n),o=r.store,l=r.dataSource,s=r.formatTreeColumn,c=r.swapData,d=r.onExpandFoldIconClick,u=Er(r,Aie),f=ae(),v=i.ref(o.value.treeDataMap),h=Eie(e,v),g=h.tIndeterminateSelectedRowKeys,p=h.onInnerSelectChange,m=function(P){for(var I=[],D=0,L=P.length;D<L;D++){var O,S,_=Wa({},P[D]);_=s(_),(O=_.children)!==null&&O!==void 0&&O.length&&(_.children=m(_.children)),(!_.children||(S=_.children)!==null&&S!==void 0&&S.length)&&I.push(_)}return I},y=i.computed(function(){var k=!e.tree||!Object.keys(e.tree).length;return k?e.columns:m(e.columns)}),b=function(P){var I;e.beforeDragSort&&!e.beforeDragSort(P)||(c({current:P.current,target:P.target,currentIndex:P.currentIndex,targetIndex:P.targetIndex}),(I=e.onDragSort)===null||I===void 0||I.call(e,P))},w=function(P){var I,D;(I=e.tree)!==null&&I!==void 0&&I.expandTreeNodeOnClick&&d({row:P.row,rowIndex:P.index},"row-click"),(D=e.onRowClick)===null||D===void 0||D.call(e,P)},C=function(P,I){if(!P)return-1;if(P.rowIndex>=0)return P.rowIndex;if(P.rowIndex<0)return C(P.parent)},x=function(P){var I=P.index;if(!I&&I!==0){if(!P.key){He.error("Table","scrollToElement: one of `index` or `key` must exist.");return}var D=v.value.get(P.key);I=C(D,P.key),(I<0||I===void 0)&&He.error("Table","".concat(P.key," does not exist in data, check `rowKey` or `data` please."))}a.value.scrollToElement(Wa(Wa({},P),{},{index:I}))};return n.expose(Wa(Wa({store:o.value,dataSource:l.value},u),{},{primaryTableRef:a,validateRowData:function(P){return a.value.validateRowData(P)},validateTableData:function(){return a.value.validateTableData()},clearValidateData:function(){a.value.clearValidateData()},refreshTable:function(){a.value.refreshTable()},scrollToElement:x})),function(){var k,P=i.getCurrentInstance(),I=P.vnode,D=Wa(Wa({},I.props),{},{rowKey:e.rowKey||"id",data:l.value,columns:y.value,indeterminateSelectedRowKeys:g.value,disableDataPage:!!(e.tree&&Object.keys(e.tree).length),onSelectChange:p,onDragSort:b,rowClassName:function(O){var S=O.row,_=we(S,e.rowKey||"id"),A=v.value.get(_);return A?["".concat(f.value,"-table-tr--level-").concat(A.level),e.rowClassName]:[e.rowClassName]}});return(k=e.tree)!==null&&k!==void 0&&k.expandTreeNodeOnClick&&(D.onRowClick=w),i.createVNode(qh,i.mergeProps(D,{ref:a}),n.slots)}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Die=be(TP),jie=be(qh),Mie=be(Rie),Fie=On(qh),Lie=be(Fie,"TTable");/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var $ie={labelAlign:{type:String,default:"left",validator:function(e){return e?["left","right","alternate","top","bottom"].includes(e):!0}},layout:{type:String,default:"vertical",validator:function(e){return e?["horizontal","vertical"].includes(e):!0}},mode:{type:String,default:"alternate",validator:function(e){return e?["alternate","same"].includes(e):!0}},reverse:Boolean,theme:{type:String,default:"default",validator:function(e){return e?["default","dot"].includes(e):!0}}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var md={vertical:["left","right"],horizontal:["top","bottom"]},I2=Symbol("timeLineProvide"),Bie=i.computed(function(){return{theme:"default",reverse:!1,itemsStatus:[],layout:"horizontal",renderAlign:"left",mode:"alternate"}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var zie={content:{type:[String,Function]},dot:{type:Function},dotColor:{type:String,default:"primary"},label:{type:[String,Function]},labelAlign:{type:String,validator:function(e){return e?["left","right","top","bottom"].includes(e):!0}},loading:Boolean,onClick:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function N2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function T2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N2(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N2(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var E2=["default","primary","success","warning","error"],A2=i.defineComponent({name:"TTimelineItem",props:T2(T2({},zie),{},{index:{type:Number}}),setup:function(e){var n=ae("timeline-item"),a=i.inject(I2,Bie),r=ft(),o=Pe(),l=function(d){var u,f=a.value,v=f.layout,h=f.renderAlign,g=(u=e.labelAlign)!==null&&u!==void 0?u:h,p=v==="horizontal"?"top":"left",m=v==="horizontal"?"bottom":"right";return g==="alternate"?d%2===0?"".concat(n.value,"-").concat(p):"".concat(n.value,"-").concat(m):g==="left"||g==="top"?"".concat(n.value,"-").concat(p):g==="right"||g==="bottom"?"".concat(n.value,"-").concat(m):""},s=function(d){var u;(u=e.onClick)===null||u===void 0||u.call(e,{e:d,item:gn(e,["index"])})};return function(){var c=a.value,d=c.mode,u=c.theme,f=c.itemsStatus,v=c.reverse,h=e.loading,g=e.dotColor,p=e.index,m=o("label"),y=o("dot"),b="".concat(n.value,"__dot-content");if(y!=null&&y.props){var w,C=y==null||(w=y.props)===null||w===void 0?void 0:w.class;y.props.class=C?[b,C].join(" "):b}return i.createVNode("li",{class:["".concat(n.value),"".concat(l(e.index))],onClick:s},[d==="alternate"&&m&&i.createVNode("div",{class:["".concat(n.value,"__label"),"".concat(n.value,"__label--").concat(d)]},[m]),i.createVNode("div",{class:"".concat(n.value,"__wrapper")},[i.createVNode("div",{class:G(G(G({},"".concat(n.value,"__dot"),!0),"".concat(n.value,"__dot--custom"),!!y||!y&&h),"".concat(n.value,"__dot--").concat(g),E2.includes(g)),style:{borderColor:!E2.includes(g)&&g}},[!y&&h&&i.createVNode(an,{size:"12px",class:b},null),y]),i.createVNode("div",{class:G(G(G({},"".concat(n.value,"__tail"),!0),"".concat(n.value,"__tail--theme-").concat(u),!0),"".concat(n.value,"__tail--status-").concat(f[p]),v)},null)]),i.createVNode("div",{class:"".concat(n.value,"__content")},[r("default","content"),d==="same"&&m&&i.createVNode("div",{class:["".concat(n.value,"__label"),"".concat(n.value,"__label--").concat(d)]},[m])])])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Hie=i.defineComponent({name:"TTimeline",props:$ie,setup:function(e){var n=ae("timeline"),a=i.computed(function(){var l=e.labelAlign,s=e.layout,c=s==="vertical"?"left":"top";if(s==="vertical"&&l){var d=md.horizontal.indexOf(l),u=d!==-1;u&&He.warn("Timeline",'If layout is vertical, align should be "left","alternate" or "right" '),c=u?md.vertical[d]:l}if(s==="horizontal"&&l){var f=md.vertical.indexOf(l),v=f!==-1;v&&He.warn("Timeline",'If layout is horizontal, align should be "top","alternate" or "bottom" '),c=v?md.horizontal[f]:l}return c}),r=i.computed(function(){var l=e.theme,s=e.reverse,c=e.layout,d=e.labelAlign,u=e.mode;return{theme:l,reverse:s,itemsStatus:[""],layout:c,globalAlign:d,mode:u,renderAlign:a.value}}),o=1;return i.provide(I2,r),function(){var l=tr(),s=l("TTimelineItem");return e.reverse&&(s=s.reverse()),i.createVNode("ul",{class:["".concat(n.value),G(G(G(G(G({},"".concat(n.value,"-").concat(a.value),!0),"".concat(n.value,"-reverse"),e.reverse),"".concat(n.value,"-").concat(e.layout),!0),"".concat(n.value,"-label"),o),"".concat(n.value,"-label--").concat(e.mode),!0)]},[s.map(function(c,d){return i.createVNode(A2,i.mergeProps(c.props,{index:d,class:G({},"".concat(n.value,"-item--last"),d===s.length-1)}),c.children)})])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Wie=be(Hie),Uie=be(A2);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Kie={borderless:Boolean,defaultExpandAll:Boolean,disabled:Boolean,expandIcon:{type:[Boolean,Function],default:!0},expandIconPlacement:{type:String,default:"left",validator:function(e){return e?["left","right"].includes(e):!0}},expandMutex:Boolean,expandOnRowClick:{type:Boolean,default:!0},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array},onChange:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Yie=i.defineComponent({name:"TCollapse",props:Kie,setup:function(e){var n=ae("collapse"),a=ae("-border-less"),r=Pe(),o=i.toRefs(e),l=o.value,s=o.expandMutex,c=o.borderless,d=o.modelValue,u=ot(l,d,e.defaultValue,e.onChange),f=Ce(u,2),v=f[0],h=f[1],g=function(b){var w=[].concat(v.value||[]),C=w.indexOf(b);C>=0?w.splice(C,1):s.value?w=[b]:w.push(b),h(w)},p=i.computed(function(){return[n.value,G({},a.value,!!c.value)]}),m=function(){var y=0;return function(){return y++}}();return i.provide("collapseValue",v),i.provide("updateCollapseValue",g),i.provide("collapseProps",i.toRefs(e)),i.provide("getUniqId",m),i.provide("renderParentTNode",r),function(){var y=r("default");return i.createVNode("div",{class:p.value},[y])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var qie={content:{type:[String,Function]},default:{type:[String,Function]},destroyOnCollapse:Boolean,disabled:{type:Boolean,default:void 0},expandIcon:{type:[Boolean,Function],default:void 0},header:{type:[String,Function]},headerRightContent:{type:[String,Function]},value:{type:[String,Number]}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Gie(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!i.isVNode(t)}var Xie=i.defineComponent({name:"TCollapsePanel",props:qie,setup:function(e,n){var a=n.slots,r=Pe(),o=ft(),l=ae("collapse-panel"),s=ae("is-disabled"),c=ae("is-clickable"),d=ae("slide-down"),u=i.toRefs(e),f=u.value,v=u.disabled,h=u.destroyOnCollapse,g=i.inject("collapseValue"),p=i.inject("updateCollapseValue"),m=i.inject("getUniqId",function(){},!1),y=i.inject("collapseProps"),b=y.defaultExpandAll,w=y.disabled,C=y.expandIconPlacement,x=y.expandOnRowClick,k=i.inject("renderParentTNode"),P=f.value||m();b.value&&p(P);var I=Ww(),D=I.beforeEnter,L=I.enter,O=I.afterEnter,S=I.beforeLeave,_=I.leave,A=I.afterLeave,E=i.ref(),R=i.computed(function(){return v.value||w.value}),N=i.computed(function(){return g.value instanceof Array?g.value.includes(P):g.value===P}),F=i.computed(function(){return[l.value,G({},s.value,R.value)]}),M=i.computed(function(){return a.expandIcon||e.expandIcon}),$=function(U){var J=x.value||U.currentTarget===E.value;J&&!R.value&&p(P),U.stopPropagation()},W=function(U){U.stopPropagation()},H=function(){return i.createVNode(fi,{overlayClassName:"".concat(l.value,"__icon--default")},null)},K=function(){var U=M.value===void 0?k:r;return i.createVNode("div",{ref:E,class:"".concat(l.value,"__icon ").concat(l.value,"__icon--").concat(C.value," ").concat(N.value?"".concat(l.value,"__icon--active"):""),onClick:$},[U("expandIcon",H())])},z=function(){return i.createVNode("div",{class:"".concat(l.value,"__header--blank")},null)},B=function(){var U=r("headerRightContent");return U?i.createVNode("div",{onClick:W},[U]):null},q=function(){var U=["".concat(l.value,"__header"),G({},c.value,x.value&&!R.value)];return i.createVNode("div",{class:U,onClick:$},[C.value==="left"&&K(),r("header"),z(),B(),C.value==="right"&&K()])},Y=function(){return i.withDirectives(i.createVNode("div",{class:"".concat(l.value,"__body")},[i.createVNode("div",{class:"".concat(l.value,"__content")},[o("default","content")])]),[[i.vShow,N.value]])},X=function(){return N.value?i.createVNode("div",{class:"".concat(l.value,"__body")},[i.createVNode("div",{class:"".concat(l.value,"__content")},[o("default","content")])]):null},T=function(){return h.value?X():Y()};return function(){var j;return i.createVNode("div",{class:F.value},[i.createVNode("div",{class:"".concat(l.value,"__wrapper")},[q(),i.createVNode(i.Transition,{name:d.value,onBeforeEnter:D,onEnter:L,onAfterEnter:O,onBeforeLeave:S,onLeave:_,onAfterLeave:A},Gie(j=T())?j:{default:function(){return[j]}})])])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Jie=be(Yie),Zie=be(Xie);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Qie={alpha:{type:Number,default:1},content:{type:[String,Function]},default:{type:[String,Function]},height:{type:Number},isRepeat:{type:Boolean,default:!0},lineSpace:{type:Number,default:16},movable:Boolean,moveInterval:{type:Number,default:3e3},offset:{type:Array},removable:{type:Boolean,default:!0},rotate:{type:Number,default:-22},watermarkContent:{type:[Object,Array]},width:{type:Number},x:{type:Number},y:{type:Number},zIndex:{type:Number}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function R2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Vie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R2(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R2(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function eoe(t,e){var n=t.width,a=t.height,r=t.gapX,o=t.gapY,l=t.offsetLeft,s=t.offsetTop,c=t.rotate,d=t.alpha,u=t.watermarkContent,f=t.lineSpace,v=document.createElement("canvas"),h=v.getContext("2d");if(!h){console.warn("当前环境不支持Canvas, 无法绘制水印"),e("");return}var g=window.devicePixelRatio||1,p=(r+n)*g,m=(o+a)*g;v.width=p,v.height=m,v.style.width="".concat(r+n,"px"),v.style.height="".concat(o+a,"px"),h.translate(l*g,s*g),h.rotate(Math.PI/180*Number(c)),h.globalAlpha=d;var y=n*g,b=a*g;h.fillStyle="transparent",h.fillRect(0,0,y,b);var w=Array.isArray(u)?u:[Vie({},u)],C=0;w.forEach(function(x){if(x.url){var k=x.url,P=x.isGrayscale,I=P===void 0?!1:P;x.top=C,C+=a;var D=new Image;D.crossOrigin="anonymous",D.referrerPolicy="no-referrer",D.src=k,D.onload=function(){if(h.drawImage(D,0,x.top*g,n*g,a*g),I){for(var $=h.getImageData(0,0,h.canvas.width,h.canvas.height),W=$.data,H=0;H<W.length;H+=4){var K=(W[H]+W[H+1]+W[H+2])/3;W[H]=K,W[H+1]=K,W[H+2]=K}h.putImageData($,0,0)}e(v.toDataURL())}}else if(x.text){var L=x.text,O=x.fontColor,S=O===void 0?"rgba(0, 0, 0, 0.1)":O,_=x.fontSize,A=_===void 0?16:_,E=x.fontFamily,R=E===void 0?void 0:E,N=x.fontWeight,F=N===void 0?"normal":N;x.top=C,C+=f;var M=Number(A)*g;h.font="normal normal ".concat(F," ").concat(M,"px/").concat(b,"px ").concat(R),h.textAlign="start",h.textBaseline="top",h.fillStyle=S,h.fillText(L,0,x.top*g)}}),e(v.toDataURL())}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function toe(){var t=Math.floor(Math.random()*4),e=Math.floor(Math.random()*70)+30,n=0,a=95,r=90,o=`
  @keyframes watermark {
    0%   {left: `.concat(t===1?r:t===3?n:e,"%; top: ").concat(t===0?n:t===2?a:e,`%;}
    25% {left: `).concat(t===0?r:t===2?n:100-e,"%; top: ").concat(t===1?a:t===3?n:e,`%;}
    50% {left: `).concat(t===1?n:t===3?r:100-e,"%; top: ").concat(t===0?a:t===2?n:100-e,`%; transform: translateX(-100%);}
    75% {left: `).concat(t===0?n:t===2?r:e,"%; top: ").concat(t===1?n:t===3?a:100-e,`%;}
    100% {left: `).concat(t===1?r:t===3?n:e,"%; top: ").concat(t===0?n:t===2?a:e,`%;}
  }
  `);return o}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var noe=function(e){var n=document.createElement("style"),a=null;document.head.appendChild(n),a=n.sheet,a.insertRule(e,a.cssRules.length)};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function aoe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=roe(t))||e){n&&(t=n);var a=0,r=function(){};return{s:r,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(d){throw d},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,l=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var d=n.next();return l=d.done,d},e:function(d){s=!0,o=d},f:function(){try{l||n.return==null||n.return()}finally{if(s)throw o}}}}function roe(t,e){if(t){if(typeof t=="string")return D2(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D2(t,e):void 0}}function D2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=Array(e);n<e;n++)a[n]=t[n];return a}var ioe=i.defineComponent({name:"TWatermark",props:Qie,setup:function(e){var n=i.ref(""),a=i.shallowRef(),r=i.shallowRef(),o=i.reactive(e.offset||[]),l=i.computed(function(){return e.movable?0:e.x}),s=i.computed(function(){return e.movable?0:e.y}),c=i.computed(function(){return e.movable?0:e.rotate}),d=i.computed(function(){return e.movable?"no-repeat":e.isRepeat?"repeat":"no-repeat"}),u=i.computed(function(){return o[0]||l.value/2}),f=i.computed(function(){return o[1]||s.value/2}),v=i.computed(function(){return{width:e.width,height:e.height,rotate:c.value,lineSpace:e.lineSpace,alpha:e.alpha,gapX:l.value,gapY:s.value,watermarkContent:e.watermarkContent,offsetLeft:u.value,offsetTop:f.value}}),h=function(){r.value&&(r.value.remove(),r.value=null)},g=function(){if(eoe(v.value,function(y){var b;h(),n.value=y,r.value=document.createElement("div"),ai(r.value,{zIndex:e.zIndex,position:"absolute",left:0,right:0,top:0,bottom:0,width:"100%",height:"100%",backgroundSize:"".concat(l.value+e.width,"px"),pointerEvents:"none",backgroundRepeat:d.value,backgroundImage:"url('".concat(n.value,"')"),animation:e.movable?"watermark infinite ".concat(e.moveInterval*4/60,"s"):"none"}),(b=a.value)===null||b===void 0||b.append(r.value)}),e.movable){var m=toe();noe(m)}};return i.onMounted(function(){g(),VS(a.value,function(p){if(!(e.removable||!r.value)){var m=aoe(p),y;try{for(m.s();!(y=m.n()).done;){var b=y.value,w=Array.from(b.removedNodes).includes(r.value),C=b.type==="attributes"&&r.value===b.target;if(w||C){g();break}}}catch(x){m.e(x)}finally{m.f()}}},{attributes:!0,childList:!0,characterData:!0,subtree:!0})}),i.watch(function(){return e},g,{deep:!0,flush:"post"}),{gapX:l,gapY:s,backgroundRepeat:d,backgroundImage:n,watermarkRef:a,watermarkContentRef:r,bgImageOptions:v}},render:function(){var e=ae("watermark"),n=ft();return i.createVNode("div",{style:{position:"relative",overflow:"hidden",width:"100%"},class:e.value,ref:"watermarkRef"},[n("default","content")])}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var ooe=be(ioe);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var loe={allowHalf:Boolean,clearable:Boolean,color:{type:[String,Array],default:"#ED7B2F"},count:{type:Number,default:5},disabled:{type:Boolean,default:void 0},gap:{type:Number,default:4},icon:{type:Function},showText:Boolean,size:{type:String,default:"24px"},texts:{type:Array,default:function(){return[]}},value:{type:Number,default:void 0},modelValue:{type:Number,default:void 0},defaultValue:{type:Number,default:0},onChange:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function j2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function soe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j2(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j2(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var coe=i.defineComponent({name:"TRate",props:soe({},loe),setup:function(e,n){var a=n.slots,r=Pe(),o=Re("rate"),l=o.globalConfig,s=Ie(e.color)?e.color[0]:e.color,c=Ie(e.color)?e.color[1]:"var(--td-bg-color-component)",d=i.toRefs(e),u=d.value,f=d.modelValue,v=ot(u,f,e.defaultValue,e.onChange),h=Ce(v,2),g=h[0],p=h[1],m=i.ref(void 0),y=i.ref(),b=i.computed(function(){return Number(m.value||g.value)}),w=i.computed(function(){return e.texts.length===0?l.value.rateText:e.texts}),C=i.computed(function(){return w.value[Math.ceil(b.value-1)]}),x=function(A){return a.icon!==void 0?r("icon",{params:A}):i.createVNode(OB,A,null)},k=function(A,E){if(e.allowHalf){var R=y.value.getBoundingClientRect(),N=R.left,F=y.value.firstChild.nextSibling,M=F.getBoundingClientRect(),$=M.width,W=A.clientX,H=$*(E-.5)+e.gap*(E-1);if(W-N>=H)return E;if(W-N<H)return E-.5}return E},P=function(A,E){e.disabled||(m.value=k(A,E))},I=function(){e.disabled||(m.value=void 0)},D=function(A,E){if(!e.disabled){var R=k(A,E);e.clearable&&R===g.value?(m.value=void 0,p(0)):p(R)}},L=function(A){if(e.allowHalf&&A+.5===b.value)return"".concat(S.value,"-rate__item--half");if(A>=b.value)return"";if(A<b.value)return"".concat(S.value,"-rate__item--full")},O=Re("classPrefix"),S=O.classPrefix;return function(){return i.createVNode("div",{class:"".concat(S.value,"-rate"),onMouseleave:I},[i.createVNode("ul",{class:"".concat(S.value,"-rate__list"),style:{gap:"".concat(e.gap,"px")},ref:y},[he(Array(Number(e.count))).map(function(_,A){return i.createVNode("li",{key:A,class:["".concat(S.value,"-rate__item"),L(A)],onClick:function(R){return D(R,A+1)},onMousemove:function(R){return P(R,A+1)}},[e.showText?i.createVNode(pn,{key:A,content:C.value},{default:function(){return[i.createVNode("div",{class:"".concat(S.value,"-rate__star-top")},[i.createVNode(x,{size:e.size,color:s},null)]),i.createVNode("div",{class:"".concat(S.value,"-rate__star-bottom")},[i.createVNode(x,{size:e.size,color:c},null)])]}}):i.createVNode(i.Fragment,null,[i.createVNode("div",{class:"".concat(S.value,"-rate__star-top")},[i.createVNode(x,{size:e.size,color:s},null)]),i.createVNode("div",{class:"".concat(S.value,"-rate__star-bottom")},[i.createVNode(x,{size:e.size,color:c},null)])])])})]),e.showText&&i.createVNode("div",{class:"".concat(S.value,"-rate__text")},[C.value])])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var uoe=be(coe);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var doe={code:Boolean,content:{type:[String,Function]},copyable:{type:[Boolean,Object],default:!1},default:{type:[String,Function]},delete:Boolean,disabled:Boolean,ellipsis:{type:[Boolean,Object],default:!1},italic:Boolean,keyboard:Boolean,mark:{type:[String,Boolean],default:!1},strong:Boolean,theme:{type:String,validator:function(e){return e?["primary","secondary","success","warning","error"].includes(e):!0}},underline:Boolean};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var foe="Copy to clipboard: #{key}, Enter",voe=function(e){var n=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,n)},hoe=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var n=document.activeElement,a=[],r=0;r<e.rangeCount;r++)a.push(e.getRangeAt(r));var o=n.tagName.toUpperCase();switch(o){case"INPUT":case"TEXTAREA":n.blur();break;default:n=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||a.forEach(function(l){e.addRange(l)}),n&&n.focus()}},goe=function(e,n){var a,r,o,l,s,c=!1;n||(n={});try{r=hoe(),o=document.createRange(),l=document.getSelection(),s=document.createElement("span"),s.textContent=e,s.style.all="unset",s.style.position="fixed",s.style.top="0",s.style.clip="rect(0, 0, 0, 0)",s.style.whiteSpace="pre",s.style.webkitUserSelect="text",s.style.userSelect="text",s.addEventListener("copy",function(u){u.stopPropagation(),n.format&&(u.preventDefault(),u.clipboardData.clearData(),u.clipboardData.setData(n.format,e)),n.onCopy&&(u.preventDefault(),n.onCopy(u.clipboardData))}),document.body.appendChild(s),o.selectNodeContents(s),l.addRange(o);var d=document.execCommand("copy");if(!d)throw new Error("copy command was unsuccessful");c=!0}catch{try{window.clipboardData.setData(n.format||"text",e),n.onCopy&&n.onCopy(window.clipboardData),c=!0}catch{a=voe("message"in n?n.message:foe),window.prompt(a,e)}}finally{l&&(typeof l.removeRange=="function"?l.removeRange(o):l.removeAllRanges()),s&&document.body.removeChild(s),r()}return c};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var M2={content:{type:[String,Function]},default:{type:[String,Function]},ellipsis:{type:[Boolean,Object],default:!1}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function F2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function L2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F2(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F2(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function poe(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!i.isVNode(t)}var Zh=i.defineComponent({name:"TEllipsis",components:{TTooltip:pn},props:L2({},M2),setup:function(e,n){var a=n.slots,r=ae("typography"),o=Re("typography"),l=o.globalConfig,s=i.computed(function(){return e.content||(a==null?void 0:a.default())}),c=i.computed(function(){var g=e.ellipsis;return L2({row:1,expandable:!1},Je(g)==="object"?g:null)}),d=i.computed(function(){var g=c.value,p={overflow:e.ellipsis?"hidden":"visible",textOverflow:e.ellipsis?"ellipsis":"initial",whiteSpace:e.ellipsis?"normal":"nowrap",display:"-webkit-box",WebkitLineClamp:g.row,WebkitBoxOrient:"vertical"};return u.value&&(p.overflow="visible",p.whiteSpace="normal",p.display="initial"),p}),u=i.ref(!1),f=function(){var p,m;u.value=!0,Je(e.ellipsis)==="object"&&((p=(m=e.ellipsis).onExpand)===null||p===void 0||p.call(m,!0))},v=function(){var p,m;u.value=!1,Je(e.ellipsis)==="object"&&((p=(m=e.ellipsis).onExpand)===null||p===void 0||p.call(m,!1))},h=function(){var p=c.value.suffix,m=i.createVNode("span",{class:"".concat(r.value,"-ellipsis-symbol"),onClick:f,style:"text-decoration:none;white-space:nowrap;flex: 1;"},[p||l.value.expandText]),y=c.value,b=y.tooltipProps,w=y.expandable,C=y.collapsible;if(!u.value&&w)return b&&b.content?i.createVNode(pn,i.mergeProps(b,{content:b.content}),poe(m)?m:{default:function(){return[m]}}):m;if(w&&u.value&&C)return i.createVNode("span",{class:"".concat(r.value,"-ellipsis-symbol"),onClick:v,style:"text-decoration:none;white-space:nowrap;flex: 1;"},[l.value.collapseText])};return function(){var g=c.value.tooltipProps;return i.createVNode("div",{style:{display:"flex",alignItems:"flex-end"}},[g&&i.createVNode(pn,{content:g.content,placement:"top-right"},null),i.createVNode("p",{style:e.ellipsis?d.value:{}},[s.value]),h()])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function moe(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!i.isVNode(t)}var $2=i.defineComponent({name:"TTypographyText",props:doe,setup:function(e,n){var a=n.slots,r=ae("typography"),o=Re("typography"),l=o.globalConfig,s=i.ref(!1),c=ft(),d=function(y,b){var w=y.code,C=y.underline,x=y.delete,k=y.strong,P=y.keyboard,I=y.mark,D=y.italic,L=b;function O(S,_){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(S){var E=function(){return L}();L=i.createVNode(_,{style:A},moe(L)?L:{default:function(){return[E]}})}}return O(k,"strong"),O(C,"u"),O(x,"del"),O(w,"code"),O(I!==!1,"mark",I?{color:I}:{}),O(P,"kbd"),O(D,"i"),L},u=i.computed(function(){var m=e.theme,y=e.disabled,b=r.value,w=[b];return y?w.push("".concat(b,"--disabled")):m&&["primary","secondary","success","warning","error"].includes(m)&&w.push("".concat(b,"--").concat(m)),w}),f=i.computed(function(){var m,y=e.copyable;return s.value?l.value.copiedText:Je(y)==="object"?(m=y.tooltipProps)===null||m===void 0?void 0:m.content:null}),v=i.computed(function(){return e.content||(a==null?void 0:a.default())}),h=function(){var y=e.copyable;if(y){var b=s.value?function(){return i.createVNode(zf,null,null)}:function(){return i.createVNode(T$,null,null)},w={theme:"default"},C=function(){};return Je(y)==="object"&&(y.suffix&&!s.value&&(b=y.suffix),y.tooltipProps&&(w=y.tooltipProps),typeof y.onCopy=="function"&&(C=y.onCopy)),i.createVNode(pn,i.mergeProps(w,{content:f.value}),{default:function(){return[i.createVNode(vt,{icon:b,shape:"square",theme:"primary",variant:"text",onClick:function(P){return p(P,C)}},null)]}})}},g=function(){if(typeof v.value=="string")return v.value;if(Array.isArray(v.value))return v.value.map(function(y){return y.children}).join("")},p=function(y,b){y.preventDefault(),y.stopPropagation(),s.value=!0,setTimeout(function(){s.value=!1},1500),goe(g()),b==null||b()};return function(){var m=c("default","content");return e.ellipsis?i.createVNode(Zh,i.mergeProps(e,{class:u.value}),{default:function(){return[d(e,m),e.copyable?h():null]}}):i.createVNode("span",{class:u.value},[d(e,m),e.copyable?h():null])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function yoe(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!i.isVNode(t)}var boe=i.defineComponent({name:"TTypography",setup:function(){var e=Pe();return function(){var n;return i.createVNode($2,null,yoe(n=e("default"))?n:{default:function(){return[n]}})}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var woe={content:{type:[String,Function]},default:{type:[String,Function]},ellipsis:{type:[Boolean,Object],default:!1},level:{type:String,default:"h1",validator:function(e){return e?["h1","h2","h3","h4","h5","h6"].includes(e):!0}}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Coe(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!i.isVNode(t)}var xoe=i.defineComponent({name:"TTypographyTitle",props:woe,setup:function(e){var n=ae("typography"),a=ft();return function(){var r,o=e.level,l=a("default","content");return e.ellipsis?i.createVNode(Zh,i.mergeProps(e,{class:n.value}),Coe(r=i.h.apply(void 0,[o].concat(he(l))))?r:{default:function(){return[r]}}):i.createVNode(i.Fragment,null,[i.h.apply(void 0,[o,{class:n.value}].concat(he(l)))])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function B2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Soe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B2(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B2(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var Ooe=i.defineComponent({name:"TTypographyParagraph",components:{TTooltip:pn},props:Soe({style:{type:Object,default:function(){return{}}}},M2),setup:function(e,n){var a=n.slots,r=ae("typography"),o=i.computed(function(){return e.content||(a==null?void 0:a.default())});return function(){return e.ellipsis?i.createVNode(Zh,i.mergeProps(e,{class:r.value}),{default:function(){return[o.value]}}):i.createVNode("p",{class:r.value},[o.value])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var koe=be(boe),Poe=be($2),_oe=be(xoe),Ioe=be(Ooe);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Noe={close:{type:[String,Boolean,Function],default:!1},default:{type:[String,Function]},icon:{type:Function},maxLine:{type:Number,default:0},message:{type:[String,Function]},operation:{type:Function},theme:{type:String,default:"info",validator:function(e){return["success","info","warning","error"].includes(e)}},title:{type:[String,Function]},onClose:Function,onClosed:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Toe=i.defineComponent({name:"TAlert",props:Noe,setup:function(e){var n=Re("alert"),a=n.globalConfig,r=n.classPrefix,o=Ve({CheckCircleFilledIcon:er,CloseIcon:ha,ErrorCircleFilledIcon:Ea,HelpCircleFilledIcon:ob,InfoCircleFilledIcon:Hl}),l=o.CheckCircleFilledIcon,s=o.CloseIcon,c=o.ErrorCircleFilledIcon,d=o.HelpCircleFilledIcon,u=o.InfoCircleFilledIcon,f=ae("alert"),v=Pe(),h=IW(),g=i.ref(null),p=i.ref(null),m=i.ref(0),y=i.ref(!0),b=i.ref(!0),w=function(){var S={info:u,success:l,warning:c,error:c,question:d},_=h("icon",S);return _?i.createVNode("div",{class:"".concat(f.value,"__icon")},[_]):null},C=function(){var S=e.close,_=null;return S===!0||S===""?_=i.createVNode(s,null,null):Ae(S)?_=S:_=h("close"),_?i.createVNode("div",{class:"".concat(f.value,"__close"),onClick:D},[_]):null},x=function(){var S=v("title");return S?i.createVNode("div",{class:"".concat(f.value,"__title")},[" ",S]):null},k=function(){var S=v("operation");return i.createVNode("div",{class:"".concat(f.value,"__message")},[P(),S?i.createVNode("div",{class:"".concat(f.value,"__operation")},[S]):null])},P=function(){var S,_;_=v("default"),_||(_=v("message"));var A=Ie(_)?_.length:1,E=e.maxLine>0&&e.maxLine<A,R=(S=p.value)===null||S===void 0||(S=S.children[0])===null||S===void 0?void 0:S.offsetHeight;return E&&b.value?(_=_.slice(0,e.maxLine),R&&(p.value.style.height="".concat(m.value,"px"))):E&&R&&(p.value.style.height="".concat(R*(A-e.maxLine)+m.value,"px")),i.createVNode("div",{class:"".concat(f.value,"__description"),ref:p},[E?_.map(function(N){return i.createVNode("div",null,[N])}):_,E?i.createVNode("div",{class:"".concat(f.value,"__collapse"),onClick:function(){b.value=!b.value}},[b.value?a.value.expandText:a.value.collapseText]):null])},I=function(){return i.createVNode("div",{class:"".concat(f.value,"__content")},[x(),k()])},D=function(S){var _;(_=e.onClose)===null||_===void 0||_.call(e,{e:S}),zl(g.value,"".concat(f.value,"--closing"))},L=function(S){var _=S.target===g.value;if(S.propertyName==="opacity"&&_){var A;y.value=!1,(A=e.onClosed)===null||A===void 0||A.call(e,{e:S})}};return i.onMounted(function(){pt(g.value,"transitionend",L),m.value=p.value.offsetHeight}),i.onBeforeUnmount(function(){rt(g.value,"transitionend",L)}),function(){return i.createVNode("div",{ref:g,class:["".concat(f.value),"".concat(f.value,"--").concat(e.theme),G({},"".concat(r.value,"-is-hidden"),!y.value)]},[w(),I(),C()])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Eoe=be(Toe);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Aoe={attach:{type:[String,Function]},body:{type:[String,Function]},cancelBtn:{type:[String,Object,Function]},closeBtn:{type:[String,Boolean,Function]},closeOnEscKeydown:{type:Boolean,default:void 0},closeOnOverlayClick:{type:Boolean,default:!0},confirmBtn:{type:[String,Object,Function]},default:{type:[String,Function]},destroyOnClose:Boolean,footer:{type:[Boolean,Function],default:!0},header:{type:[String,Boolean,Function],default:!0},mode:{type:String,default:"overlay",validator:function(e){return e?["overlay","push"].includes(e):!0}},placement:{type:String,default:"right",validator:function(e){return e?["left","right","top","bottom"].includes(e):!0}},preventScrollThrough:{type:Boolean,default:!0},showInAttachedElement:Boolean,showOverlay:{type:Boolean,default:!0},size:{type:String,default:void 0},sizeDraggable:{type:[Boolean,Object],default:!1},visible:Boolean,zIndex:{type:Number},onBeforeClose:Function,onBeforeOpen:Function,onCancel:Function,onClose:Function,onCloseBtnClick:Function,onConfirm:Function,onEscKeydown:Function,onOverlayClick:Function,onSizeDragEnd:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Roe(t,e){return typeof t=="boolean"?{allowSizeDraggable:t,max:e.max,min:e.min}:{allowSizeDraggable:!0,max:t.max,min:t.min}}function yd(t,e,n){return Math.min(Math.max(t,e),n)}function Doe(t,e){var n=e.x,a=e.y,r=e.max,o=e.min,l=e.maxWidth,s=e.maxHeight,c;switch(t){case"right":c=yd(l-n,o,r);break;case"left":c=yd(n,o,r);break;case"top":c=yd(a,o,r);break;case"bottom":c=yd(s-a,o,r);break;default:return c}return c}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var joe=function(e){var n=i.ref(!1),a=i.ref(null),r=function(){document.addEventListener("mouseup",o,!0),document.addEventListener("mousemove",l,!0),n.value=!0},o=function(){document.removeEventListener("mouseup",o,!0),document.removeEventListener("mousemove",l,!0),n.value=!1},l=function(d){var u,f=d.x,v=d.y,h=document.documentElement.clientHeight,g=document.documentElement.clientWidth,p=8,m=8,y=e.placement==="left"||e.placement==="right"?g:h,b=e.placement==="left"||e.placement==="right"?m:p,w=Roe(e.sizeDraggable,{max:y,min:b}),C=w.allowSizeDraggable,x=w.max,k=w.min;if(!(!C||!n.value)){var P=Doe(e.placement,{x:f,y:v,maxWidth:g,maxHeight:h,max:x,min:k});typeof P>"u"||(a.value="".concat(P,"px"),(u=e.onSizeDragEnd)===null||u===void 0||u.call(e,{e:d,size:P}))}},s=i.computed(function(){var c=["right","left"].includes(e.placement),d={left:"right",right:"left",top:"bottom",bottom:"top"};return G(G(G(G({zIndex:1,position:"absolute",background:"transparent"},d[e.placement],0),"width",c?"16px":"100%"),"height",c?"100%":"16px"),"cursor",c?"col-resize":"row-resize")});return{draggedSizeValue:a,enableDrag:r,draggableLineStyles:s}};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Moe=1,Foe=i.defineComponent({name:"TDrawer",inheritAttrs:!1,props:Aoe,emits:["update:visible"],setup:function(e,n){var a=i.ref(!1),r=i.ref(!1),o=i.ref(),l=i.ref(),s=Re("drawer"),c=s.globalConfig,d=Ve({CloseIcon:ha}),u=d.CloseIcon,f=Pe(),v=ft(),h=ae("drawer"),g=joe(e),p=g.draggedSizeValue,m=g.enableDrag,y=g.draggableLineStyles,b=Ic(function(){return e.attach}),w=function(B){var q;(q=e.onConfirm)===null||q===void 0||q.call(e,{e:B})},C=function(B){var q;(q=e.onCancel)===null||q===void 0||q.call(e,{e:B}),K({trigger:"cancel",e:B})},x=wh({confirmBtnAction:w,cancelBtnAction:C}),k=x.getConfirmBtn,P=x.getCancelBtn,I=i.ref(null),D=i.computed(function(){return[h.value,"".concat(h.value,"--").concat(e.placement),G(G(G({},"".concat(h.value,"--open"),r.value),"".concat(h.value,"--attach"),e.showInAttachedElement),"".concat(h.value,"--without-mask"),!e.showOverlay)]}),L=i.computed(function(){var z;if(p.value)return p.value;var B=(z=e.size)!==null&&z!==void 0?z:c.value.size,q=isNaN(Number(B))?B:"".concat(B,"px");return{small:"300px",medium:"500px",large:"760px"}[B]||q}),O=i.computed(function(){return{transform:r.value?"translateX(0)":void 0,width:["left","right"].includes(e.placement)?L.value:"",height:["top","bottom"].includes(e.placement)?L.value:""}}),S=i.computed(function(){return["".concat(h.value,"__content-wrapper"),"".concat(h.value,"__content-wrapper--").concat(e.placement)]}),_=i.computed(function(){return I.value&&I.value.parentNode}),A=i.computed(function(){return[e.mode,e.placement].join()}),E=i.computed(function(){return{display:"flex",justifyContent:e.placement==="right"?"flex-start":"flex-end"}}),R=function(B){var q;if(((q=e.closeOnEscKeydown)!==null&&q!==void 0?q:c.value.closeOnEscKeydown)&&B.key==="Escape"&&r.value){var Y;(Y=e.onEscKeydown)===null||Y===void 0||Y.call(e,{e:B}),K({trigger:"esc",e:B})}},N=function(){clearTimeout(l.value),l.value=setTimeout(function(){var B,q;(B=o.value)===null||B===void 0||(B=B.parentNode)===null||B===void 0||(q=B.removeChild)===null||q===void 0||q.call(B,o.value)},150)},F=function(){e.mode==="push"&&i.nextTick(function(){_.value&&(_.value.style.cssText="transition: margin 300ms cubic-bezier(0.7, 0.3, 0.1, 1) 0s;")})},M=function(){if(_.value&&!(e.mode!=="push"||!_.value)){var B={left:"margin: 0 0 0 ".concat(L.value),right:"margin: 0 0 0 -".concat(L.value),top:"margin: ".concat(L.value," 0 0 0"),bottom:"margin: -".concat(L.value," 0 0 0")}[e.placement];r.value?_.value.style.cssText+=B:_.value.style.cssText=_.value.style.cssText.replace(/margin:.+;/,"")}},$=function(){var B=k({confirmBtn:e.confirmBtn,globalConfirm:c.value.confirm,className:"".concat(h.value,"__confirm")}),q=P({cancelBtn:e.cancelBtn,globalCancel:c.value.cancel,className:"".concat(h.value,"__cancel")});return i.createVNode("div",{style:E.value},[e.placement==="right"?B:null,q,e.placement!=="right"?B:null])};i.watch(A,function(){F()},{immediate:!0}),i.watch(function(){return e.visible},function(z){var B,q;Na||(z?!e.showInAttachedElement&&e.preventScrollThrough&&o.value&&document.head.appendChild(o.value):N(),z?(B=e.onBeforeOpen)===null||B===void 0||B.call(e):(q=e.onBeforeClose)===null||q===void 0||q.call(e),e.destroyOnClose?z?(a.value=!1,setTimeout(function(){r.value=!0})):(r.value=!1,setTimeout(function(){a.value=!0},200)):a.value===!0&&z?(a.value=!1,setTimeout(function(){r.value=!0})):r.value=z)},{immediate:!0});var W=function(B){var q;(q=e.onCloseBtnClick)===null||q===void 0||q.call(e,{e:B}),K({trigger:"close-btn",e:B})},H=function(B){var q,Y;(q=e.onOverlayClick)===null||q===void 0||q.call(e,{e:B}),((Y=e.closeOnOverlayClick)!==null&&Y!==void 0?Y:c.value.closeOnOverlayClick)&&K({trigger:"overlay",e:B})},K=function(B){var q;(q=e.onClose)===null||q===void 0||q.call(e,B),n.emit("update:visible",!1)};return i.onUpdated(function(){M()}),i.onMounted(function(){var z=window.innerWidth>document.documentElement.clientWidth,B=z?Mk():0;o.value=document.createElement("style"),o.value.dataset.id="td_drawer_".concat(+new Date,"_").concat(Moe+=1),o.value.innerHTML=`
        html body {
          overflow-y: hidden;
          transition: margin 300ms cubic-bezier(0.7, 0.3, 0.1, 1) 0s;
          `.concat(e.mode==="push"?"":"width: calc(100% - ".concat(B,"px);"),`
        }
      `),r.value&&!e.showInAttachedElement&&e.preventScrollThrough&&document.head.appendChild(o.value),window.addEventListener("keydown",R)}),i.onBeforeUnmount(function(){N(),window.removeEventListener("keydown",R)}),function(){if(!a.value){var z=v("body","default"),B=f("header"),q=$();return i.createVNode(i.Teleport,{disabled:!e.attach||!b.value,to:b.value},{default:function(){return[i.createVNode("div",i.mergeProps({ref:I,class:D.value,style:{zIndex:e.zIndex},onKeydown:R,tabindex:0},n.attrs),[e.showOverlay&&i.createVNode("div",{class:"".concat(h.value,"__mask"),onClick:H},null),i.createVNode("div",{class:S.value,style:O.value},[B&&i.createVNode("div",{class:"".concat(h.value,"__header")},[B]),e.closeBtn&&i.createVNode("div",{class:"".concat(h.value,"__close-btn"),onClick:W},[f("closeBtn",i.createVNode(u,null,null))]),i.createVNode("div",{class:["".concat(h.value,"__body"),"narrow-scrollbar"]},[z]),e.footer&&i.createVNode("div",{class:"".concat(h.value,"__footer")},[f("footer",q)]),e.sizeDraggable&&i.createVNode("div",{style:y.value,onMousedown:m},null)])])]}})}}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Loe=be(Foe);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var $oe={counter:{type:Function},current:{type:Number,default:void 0},modelValue:{type:Number,default:void 0},defaultCurrent:{type:Number},finishButtonProps:{type:Object},hideCounter:Boolean,hidePrev:Boolean,hideSkip:Boolean,highlightPadding:{type:Number,default:8},mode:{type:String,default:"popup",validator:function(e){return e?["popup","dialog"].includes(e):!0}},nextButtonProps:{type:Object},prevButtonProps:{type:Object},showOverlay:{type:Boolean,default:!0},skipButtonProps:{type:Object},steps:{type:Array},zIndex:{type:Number,default:999999},onChange:Function,onFinish:Function,onNextStepClick:Function,onPrevStepClick:Function,onSkip:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Boe(t){var e=window.getComputedStyle(t),n=e.position==="absolute",a=/(auto|scroll)/;if(e.position==="fixed")return document.body;for(var r=t;r.parentElement;)if(r=r.parentElement,e=window.getComputedStyle(r),!(n&&e.position==="static")&&a.test(e.overflow+e.overflowY+e.overflowX))return r;return document.body}function z2(t){var e=Boe(t);e!==document.body&&(Zm(t,e)||(e.scrollTop=t.offsetTop-e.offsetTop))}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function zoe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document.body,n=Vm(),a=n.scrollTop,r=n.scrollLeft,o=t.getBoundingClientRect(),l=o.top,s=o.left,c=e.getBoundingClientRect(),d=c.top,u=c.left,f=Qm(e,"position");return e.tagName.toLowerCase()!=="body"&&f==="relative"||f==="sticky"?{top:l-d,left:s-u}:Ef(t)?{top:l,left:s}:{top:l+a,left:s+r}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Hoe(t){if(t){var e,n=null;if(Ae(t))n=document.querySelector(t);else if(pe(t))n=t();else throw new Error("elm should be string or function");if(n)return n;if(((e=process)===null||e===void 0||(e=e.env)===null||e===void 0?void 0:e.NODE_ENV)!=="test")throw new Error("There is no element with given.")}else return document.body}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function H2(t){var e=t.getBoundingClientRect();if(!Zm(t)){var n=yM().height;Tf(e.top-(n/2-e.height/2),{})}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Woe=i.defineComponent({name:"TGuide",props:$oe,setup:function(e,n){var a=Pe(),r=ae("guide"),o=ae("guide--lock"),l=Re("guide"),s=l.globalConfig,c=i.toRefs(e),d=c.current,u=c.modelValue,f=c.hideCounter,v=c.hidePrev,h=c.hideSkip,g=c.steps,p=c.zIndex,m=ot(d,u,e.defaultCurrent,e.onChange,"current"),y=Ce(m,2),b=y[0],w=y[1],C=i.ref(),x=i.ref(),k=i.ref(),P=i.ref(),I=i.ref(),D=i.ref(),L=i.ref(),O=i.ref(!1),S=i.computed(function(){return g.value.length}),_=i.computed(function(){return g.value[b.value]}),A=i.computed(function(){return R("mode")==="popup"}),E=i.computed(function(){return Ef(P.value||document.body)}),R=function(Q){var ee;return(ee=_.value[Q])!==null&&ee!==void 0?ee:e[Q]},N=i.computed(function(){var Z=_.value.highlightContent,Q=Z;return pe(Z)?Q=Z($()):n.slots.highlightContent?Q=n.slots.highlightContent($()):n.slots["highlight-content"]?Q=n.slots["highlight-content"]($()):Z&&(Q=i.createVNode(Q,null,null)),Q&&(Q.props||(Q.props={}),Q.props.class=Q.props.class||""),Q}),F=i.computed(function(){return!!(N.value&&A.value)}),M=i.ref(!1),$=function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{currentStepInfo:_.value},ee=new Function("return "+i.h.toString())();return Object.assign({},ee,Q)},W=function(Q){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ne=zoe(P.value),V=ne.top,re=ne.left,ce=P.value.getBoundingClientRect(),se=ce.width,ue=ce.height,ye=R("highlightPadding");if(A.value)se+=ye*2,ue+=ye*2,V-=ye,re-=ye;else{var me=Vm(),ge=me.scrollTop,xe=me.scrollLeft;V+=ge,re+=xe}var le={top:"".concat(V,"px"),left:"".concat(re,"px")};if(F.value)if(ee){var ie=x.value.getBoundingClientRect(),oe=ie.width,de=ie.height;Object.assign(le,{width:"".concat(oe,"px"),height:"".concat(de,"px")})}else Object.assign(le,{width:"auto",height:"auto"});else Object.assign(le,{width:"".concat(se,"px"),height:"".concat(ue,"px")});ai(Q,le)},H=function(){i.nextTick(function(){var Q;P.value=Hoe(_.value.element),P.value&&(z2(P.value),W(x.value),W(k.value,!0),H2(P.value),(Q=L.value)===null||Q===void 0||Q.update())})},K=function(){var Q;(Q=k.value)===null||Q===void 0||Q.parentNode.removeChild(k.value)},z=function(){i.nextTick(function(){P.value=D.value,z2(P.value),W(x.value),H2(P.value)})},B=function(){var Q,ee;(Q=D.value)===null||Q===void 0||Q.parentNode.removeChild(D.value),(ee=I.value)===null||ee===void 0||ee.parentNode.removeChild(I.value)},q=function(){A.value?(B(),H()):(K(),z()),M.value=!0},Y=function(){var Q,ee;K(),B(),(Q=x.value)===null||Q===void 0||Q.parentNode.removeChild(x.value),(ee=C.value)===null||ee===void 0||ee.parentNode.removeChild(C.value),Sc(document.body,o.value)},X=function(Q){var ee,ne=S.value;O.value=!1,w(-1,{e:Q,total:ne}),(ee=e.onSkip)===null||ee===void 0||ee.call(e,{e:Q,current:b.value,total:ne})},T=function(Q){var ee,ne=S.value;w(b.value-1,{e:Q,total:ne}),(ee=e.onPrevStepClick)===null||ee===void 0||ee.call(e,{e:Q,prev:b.value-1,current:b.value,total:ne})},j=function(Q){var ee,ne=S.value;w(b.value+1,{e:Q,total:ne}),(ee=e.onNextStepClick)===null||ee===void 0||ee.call(e,{e:Q,next:b.value+1,current:b.value,total:ne})},U=function(Q){var ee,ne=S.value;O.value=!1,w(-1,{e:Q,total:ne}),(ee=e.onFinish)===null||ee===void 0||ee.call(e,{e:Q,current:b.value,total:ne})},J=function(){b.value>=0&&b.value<g.value.length&&(O.value||(O.value=!0,zl(document.body,o.value)),q())};return i.watch(b,function(Z){Z>=0&&Z<g.value.length?(M.value=!1,J()):(O.value=!1,Y())}),i.onMounted(function(){J()}),function(){var Z=function(){return i.createVNode("div",{ref:C,class:"".concat(r.value,"__overlay"),style:{zIndex:p.value-2}},null)},Q=function(){var ge={zIndex:p.value-1},xe=["".concat(r.value,"__highlight"),"".concat(r.value,"__highlight--").concat(A.value?"popup":"dialog"),"".concat(r.value,"--").concat(E.value&&A.value?"fixed":"absolute")],le=R("showOverlay"),ie=["".concat(r.value,"__highlight--").concat(le?"mask":"nomask")];return i.createVNode("div",{ref:x,class:[].concat(xe,ie),style:ge},[F.value&&N.value])},ee=function(){var ge=a("counter",{params:{total:S.value,current:b.value}}),xe=i.createVNode("div",{class:"".concat(r.value,"__counter")},[ge||"".concat(b.value+1,"/").concat(S.value)]);return i.createVNode(i.Fragment,null,[!f.value&&xe])},ne=function(ge){var xe,le,ie,oe,de=b.value===S.value-1,Te=b.value===0,Se=ge==="popup"?"small":"medium";return i.createVNode("div",{class:"".concat(r.value,"__action")},[!h.value&&!de&&i.createVNode(vt,i.mergeProps({key:"skip",class:"".concat(r.value,"__skip"),theme:"default",size:Se,variant:"base",onClick:X},(xe=R("skipButtonProps"))!==null&&xe!==void 0?xe:s.value.skipButtonProps),null),!v.value&&!Te&&i.createVNode(vt,i.mergeProps({key:"prev",class:"".concat(r.value,"__prev"),theme:"default",size:Se,variant:"base",onClick:T},(le=R("prevButtonProps"))!==null&&le!==void 0?le:s.value.prevButtonProps),null),!de&&i.createVNode(vt,i.mergeProps({key:"next",class:"".concat(r.value,"__next"),theme:"primary",size:Se,variant:"base",onClick:j},(ie=R("nextButtonProps"))!==null&&ie!==void 0?ie:s.value.nextButtonProps),null),de&&i.createVNode(vt,i.mergeProps({key:"finish",class:"".concat(r.value,"__finish"),theme:"primary",size:Se,variant:"base",onClick:U},(oe=e.finishButtonProps)!==null&&oe!==void 0?oe:s.value.finishButtonProps),null)])},V=function(){var ge=pe(_.value.title)?_.value.title():void 0,xe=n.slots.title?n.slots.title($()):void 0;return ge||xe||_.value.title},re=function(){var ge=i.createVNode("div",{class:"".concat(r.value,"__title")},[V()]),xe=_.value.body,le;pe(xe)?le=xe($()):n.slots.body?le=n.slots.body({currentStepInfo:_.value}):typeof xe=="string"?le=xe:le=i.createVNode(xe,null,null);var ie=i.createVNode("div",{class:"".concat(r.value,"__desc")},[le]);return i.createVNode(i.Fragment,null,[ge,ie])},ce=function(){var ge=["".concat(r.value,"__footer"),"".concat(r.value,"__footer--popup")],xe=i.createVNode("div",{class:ge},[ee(),ne("popup")]);return i.createVNode("div",{class:"".concat(r.value,"__tooltip")},[re(),xe])},se=function(){var ge,xe=_.value.content,le={handlePrev:T,handleNext:j,handleSkip:X,handleFinish:U,current:b.value,total:S.value},ie;pe(xe)?ie=function(){return xe($(le))}:n.slots.content?ie=function(){return n.slots.content($(le))}:xe?ie=function(){return i.createVNode(xe,le,null)}:ie=ce;var oe=["".concat(r.value,"__reference"),"".concat(r.value,"--").concat(E.value?"fixed":"absolute")],de=[G({},"".concat(r.value,"__popup--content"),!!xe)];return i.createVNode(Bn,i.mergeProps({ref:L,visible:M.value,"show-arrow":!xe,zIndex:p.value,placement:_.value.placement},_.value.popupProps,{content:ie,overlayClassName:["".concat(r.value,"__popup"),_.value.stepOverlayClass],overlayInnerClassName:de.concat((ge=_.value.popupProps)===null||ge===void 0?void 0:ge.overlayInnerClassName)}),{default:function(){return[i.createVNode("div",{ref:k,class:oe},null)]}})},ue=function(){var ge={zIndex:p.value},xe=["".concat(r.value,"__wrapper"),G({},"".concat(r.value,"__wrapper--center"),_.value.placement==="center")],le=["".concat(r.value,"__reference"),"".concat(r.value,"--absolute"),"".concat(r.value,"__dialog"),G(G({},"".concat(r.value,"__dialog--nomask"),!R("showOverlay")),_.value.stepOverlayClass,!!_.value.stepOverlayClass)],ie=["".concat(r.value,"__footer"),"".concat(r.value,"__footer--popup")];return i.createVNode(i.Fragment,null,[i.createVNode("div",{ref:I,class:xe,style:ge},[i.createVNode("div",{ref:D,class:le},[re(),i.createVNode("div",{class:ie},[ee(),ne("dialog")])])])])},ye=function(){return i.createVNode(i.Fragment,null,[i.createVNode(i.Teleport,{to:"body"},{default:function(){return[Z(),Q(),A.value?se():ue()]}})])};return i.createVNode(i.Fragment,null,[O.value&&ye()])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Uoe=be(Woe);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Koe=be(k1);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Yoe={closeBtn:{type:[String,Boolean,Function],default:void 0},content:{type:[String,Function]},default:{type:[String,Function]},duration:{type:Number,default:3e3},footer:{type:[String,Function]},icon:{type:[Boolean,Function],default:!0},theme:{type:String,default:"info",validator:function(e){return e?["info","success","warning","error"].includes(e):!0}},title:{type:[String,Function]},onCloseBtnClick:Function,onDurationEnd:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var qoe=6e3,br="16px",W2={"top-left":{left:br,top:br},"top-right":{right:br,top:br},"bottom-right":{right:br,bottom:br},"bottom-left":{left:br,bottom:br}},U2=Object.keys(W2);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var K2={duration:200,easing:"linear"},Goe=function(e,n){if(e){var a=(e==null?void 0:e.offsetHeight)||0,r=(e==null?void 0:e.offsetWidth)||0,o=Xoe(n,r,a);o&&e.animate&&e.animate(o,K2)}},Y2=function(e,n,a){if(e){var r=(e==null?void 0:e.offsetHeight)||0,o=(e==null?void 0:e.offsetWidth)||0,l=Joe(n,o,r);if(!l)return a();var s=e.animate&&e.animate(l,K2);s?s.onfinish=function(){a()}:(e.style.display="none",a())}},Xoe=function(e,n,a){if(!U2.includes(e))return null;if(e==="top-right")return[{opacity:0,transform:"translateX(".concat(n,"px)")},{opacity:1,transform:"translateX(0px)"}];if(e==="bottom-right")return[{opacity:0,transform:"translateX(".concat(n,"px)"),marginBottom:"-".concat(a,"px")},{opacity:1,transform:"translateX(0px)"}];if(e==="top-left")return[{opacity:0,transform:"translateX(-".concat(n,"px)")},{opacity:1,transform:"translateX(0px)"}];if(e==="bottom-left")return[{opacity:0,transform:"translateX(-".concat(n,"px)"),marginBottom:"-".concat(a,"px")},{opacity:1,transform:"translateX(0px)"}]},Joe=function(e,n,a){if(!U2.includes(e))return null;if(e==="top-right")return[{opacity:1,transform:"translateX(0px)"},{opacity:0,transform:"translateX(".concat(n,"px)"),marginBottom:"-".concat(a,"px")}];if(e==="bottom-right")return[{opacity:1,transform:"translateX(0px)"},{opacity:0,transform:"translateX(".concat(n,"px)")}];if(e==="top-left")return[{opacity:1,transform:"translateX(0px)"},{opacity:0,transform:"translateX(-".concat(n,"px)"),marginBottom:"-".concat(a,"px")}];if(e==="bottom-left")return[{opacity:1,transform:"translateX(0px)"},{opacity:0,transform:"translateX(-".concat(n,"px)")}]};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function q2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function G2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q2(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q2(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var X2=i.defineComponent({name:"TNotification",props:G2(G2({},Yoe),{},{placement:String}),setup:function(e,n){var a=n.slots,r=n.expose,o=ae("notification"),l=Re("classPrefix"),s=l.classPrefix,c=Ve({InfoCircleFilledIcon:Hl,CheckCircleFilledIcon:er,CloseIcon:ha}),d=c.InfoCircleFilledIcon,u=c.CheckCircleFilledIcon,f=c.CloseIcon,v=Pe(),h=ft(),g=i.ref(null),p=i.ref(null),m=function(P){var I=p.value;Y2(I,e.placement,function(){var D;(D=e.onCloseBtnClick)===null||D===void 0||D.call(e,{e:P})})},y=function(){var P;if(e.icon===!1)return null;if(pe(e.icon))P=e.icon(i.h);else if(a.icon)P=a.icon(null);else if(e.theme){var I=e.theme==="success"?i.createVNode(u,{class:"".concat(s.value,"-is-").concat(e.theme)},null):i.createVNode(d,{class:"".concat(s.value,"-is-").concat(e.theme)},null);P=i.createVNode("div",{class:"".concat(s.value,"-notification__icon")},[I])}return P},b=function(){var P=i.createVNode(f,null,null);return i.createVNode("span",{class:"".concat(s.value,"-message__close"),onClick:m},[v("closeBtn",P)])},w=function(){return i.createVNode("div",{class:"".concat(o.value,"__content")},[h("default","content")])},C=function(){e.duration&&clearTimeout(g.value)},x=function(){e.duration&&(g.value=Number(setTimeout(function(){C();var P=p.value;Y2(P,e.placement,function(){var I;(I=e.onDurationEnd)===null||I===void 0||I.call(e)})},e.duration)))};return i.onBeforeMount(function(){e.duration&&x()}),i.onMounted(function(){var k=p.value;Goe(k,e.placement)}),r({close:m}),function(){return i.createVNode("div",{ref:p,class:"".concat(o.value),onMouseenter:C,onMouseleave:x},[y(),i.createVNode("div",{class:"".concat(o.value,"__main")},[i.createVNode("div",{class:"".concat(o.value,"__title__wrap")},[i.createVNode("span",{class:"".concat(o.value,"__title")},[v("title")]),b()]),w(),v("footer")])])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function J2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Qh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J2(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J2(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var Zoe=i.defineComponent({props:{placement:{type:String,default:"top-right",validator:function(e){return["top-left","top-right","bottom-left","bottom-right"].indexOf(e)>-1}}},setup:function(e,n){var a=n.expose,r=ae("notification-list"),o=e.placement,l=i.ref([]),s=i.ref([]),c=i.computed(function(){return Qh({zIndex:qoe},W2[o])}),d=function(y){return l.value.push(y),l.value.length-1},u=function(y){l.value.splice(y,1)},f=function(){l.value=[]},v=function(y){if(y)return isNaN(Number(y))?y:"".concat(y,"px")},h=function(y){var b={marginBottom:br};return y.offset&&(b.position="relative",b.left=v(y.offset[0]),b.top=v(y.offset[1])),y.zIndex&&(b["z-index"]=y.zIndex),b},g=function(y,b){return Qh(Qh({},b),{},{onCloseBtnClick:function(C){return b.onCloseBtnClick&&b.onCloseBtnClick(C),u(y)},onDurationEnd:function(){return b.onDurationEnd&&b.onDurationEnd(),u(y)}})},p=function(y){y&&s.value.push(y)};return a({add:d,remove:u,removeAll:f,list:l,notificationList:s}),function(){if(l.value.length)return i.createVNode("div",{class:"".concat(r.value,"__show"),style:c.value},[l.value.map(function(m,y){return i.createVNode(X2,i.mergeProps({ref:p,key:m.id,style:h(m)},g(y,m)),null)})])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Z2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Vh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z2(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z2(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var Q2=0,ll=new Map,Qoe=function(e){Q2+=1;var n=Vh({placement:"top-right",zIndex:6e3,attach:"body",id:Q2},e);n.content=e.content?e.content:"";var a=mo(n.attach);ll.get(a)||ll.set(a,{});var r=ll.get(a)[n.placement];if(r)r.add(n);else{var o=document.createElement("div"),l=i.createApp(Zoe,{placement:n.placement}).mount(o);l.add(n),ll.get(a)[n.placement]=l,r=l,a.appendChild(l.$el)}return new Promise(function(s){var c=ll.get(a)[n.placement];i.nextTick(function(){var d=c.notificationList;s(d==null?void 0:d.find(function(u){var f;return((f=u.$)===null||f===void 0||(f=f.vnode)===null||f===void 0?void 0:f.key)===n.id}))})})},sl=function(e,n){var a=Vh(Vh({},n),{},{theme:e});return Qoe(a)},bd={info:function(e){return sl("info",e)},success:function(e){return sl("success",e)},warning:function(e){return sl("warning",e)},error:function(e){return sl("error",e)},close:function(e){e.then(function(n){return n.close()})},closeAll:function(){ll.forEach(function(e){Object.keys(e).forEach(function(n){e[n].removeAll()})})}},Ns=sl;Ns.install=function(t){t.config.globalProperties.$notify=sl,Object.keys(bd).forEach(function(e){t.config.globalProperties.$notify[e]=bd[e]})},Object.keys(bd).forEach(function(t){Ns[t]=bd[t]});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Voe=be(X2);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var ele={cancelBtn:{type:[String,Object,Function],default:""},confirmBtn:{type:[String,Object,Function],default:""},content:{type:[String,Function]},default:{type:[String,Function]},destroyOnClose:{type:Boolean,default:!0},icon:{type:Function},placement:{type:String,default:"top",validator:function(e){return e?["top","left","right","bottom","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"].includes(e):!0}},popupProps:{type:Object},showArrow:{type:Boolean,default:!0},theme:{type:String,default:"default",validator:function(e){return e?["default","warning","danger"].includes(e):!0}},triggerElement:{type:[String,Function]},visible:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},defaultVisible:Boolean,onCancel:Function,onConfirm:Function,onVisibleChange:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function V2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function tle(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V2(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V2(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var nle=i.defineComponent({name:"TPopconfirm",props:ele,setup:function(e){var n=Re("popconfirm"),a=n.globalConfig,r=ae("popconfirm"),o=Ve({InfoCircleFilledIcon:Hl,ErrorCircleFilledIcon:Ea}),l=o.InfoCircleFilledIcon,s=o.ErrorCircleFilledIcon,c=i.toRefs(e),d=c.visible,u=c.modelValue,f=ot(d,u,e.defaultVisible,e.onVisibleChange,"visible"),v=Ce(f,2),h=v[0],g=v[1],p=function(O){var S;(S=e.onConfirm)===null||S===void 0||S.call(e,{e:O}),g(!1,{e:O,trigger:"confirm"})},m=function(O){var S;(S=e.onCancel)===null||S===void 0||S.call(e,{e:O}),g(!1,{e:O,trigger:"cancel"})},y=wh({confirmBtnAction:p,cancelBtnAction:m}),b=y.getConfirmBtn,w=y.getCancelBtn,C=Pe(),x=i.computed(function(){return tle({showArrow:e.showArrow,overlayClassName:r.value,trigger:"click",destroyOnClose:e.destroyOnClose,placement:e.placement},e.popupProps)}),k=va(),P=function(){var O=w({cancelBtn:e.cancelBtn,globalCancel:a.value.cancel,className:"".concat(r.value,"__cancel"),size:"small"}),S=b({theme:e.theme,confirmBtn:e.confirmBtn,globalConfirm:a.value.confirm,globalConfirmBtnTheme:a.value.confirmBtnTheme,className:"".concat(r.value,"__confirm"),size:"small"}),_=function(){var E={default:l,warning:s,danger:s}[e.theme],R=e.theme||"default";return k("icon",i.createVNode(E,{class:"".concat(r.value,"__icon--").concat(R)},null))};return i.createVNode("div",{class:"".concat(r.value,"__content")},[i.createVNode("div",{class:"".concat(r.value,"__body")},[_(),i.createVNode("div",{class:"".concat(r.value,"__inner")},[C("content")])]),!!(O||S)&&i.createVNode("div",{class:"".concat(r.value,"__buttons")},[O,S])])},I=function(O,S){g(O,S)},D=ft();return function(){return i.createVNode(Bn,i.mergeProps({visible:h.value},x.value,{onVisibleChange:I}),{default:function(){return[D("default","triggerElement")]},content:P})}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var ale=be(nle);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var rle={abridgeName:{type:Array},accept:{type:String,default:""},action:{type:String,default:""},allowUploadDuplicateFile:Boolean,autoUpload:{type:Boolean,default:!0},beforeAllFilesUpload:{type:Function},beforeUpload:{type:Function},cancelUploadButton:{type:[Object,Function]},data:{type:[Object,Function]},default:{type:[String,Function]},disabled:{type:Boolean,default:void 0},dragContent:{type:[String,Function]},draggable:{type:Boolean,default:void 0},fileListDisplay:{type:Function},files:{type:Array,default:void 0},defaultFiles:{type:Array,default:function(){return[]}},format:{type:Function},formatRequest:{type:Function},formatResponse:{type:Function},headers:{type:Object},imageViewerProps:{type:Object},inputAttributes:{type:Object},isBatchUpload:Boolean,locale:{type:Object},max:{type:Number,default:0},method:{type:String,default:"POST",validator:function(e){return e?["POST","GET","PUT","OPTION","PATCH","post","get","put","option","patch"].includes(e):!0}},mockProgressDuration:{type:Number},multiple:Boolean,name:{type:String,default:"file"},placeholder:{type:String,default:""},requestMethod:{type:Function},showImageFileName:{type:Boolean,default:!0},showThumbnail:Boolean,showUploadProgress:{type:Boolean,default:!0},sizeLimit:{type:[Number,Object]},status:{type:String,validator:function(e){return e?["default","success","warning","error"].includes(e):!0}},theme:{type:String,default:"file",validator:function(e){return e?["custom","file","file-input","file-flow","image","image-flow"].includes(e):!0}},tips:{type:[String,Function]},trigger:{type:Function},triggerButtonProps:{type:Object},uploadAllFilesInOneRequest:Boolean,uploadButton:{type:[Object,Function]},uploadPastedFiles:{type:Boolean,default:!0},useMockProgress:{type:Boolean,default:!0},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array,default:function(){return[]}},withCredentials:Boolean,onCancelUpload:Function,onChange:Function,onDragenter:Function,onDragleave:Function,onDrop:Function,onFail:Function,onOneFileFail:Function,onOneFileSuccess:Function,onPreview:Function,onProgress:Function,onRemove:Function,onSelectChange:Function,onSuccess:Function,onValidate:Function,onWaitingUploadFilesChange:Function};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Ts={accept:String,files:Array,toUploadFiles:Array,displayFiles:Array,theme:String,abridgeName:Array,placeholder:String,classPrefix:String,tips:[String,Function],status:String,locale:Object,sizeOverLimitMessage:String,autoUpload:Boolean,uploadPastedFiles:Boolean,onPasteFileChange:Function,disabled:Boolean,uploading:Boolean,tipsClasses:[String,Array,Object],errorClasses:[String,Array,Object],placeholderClass:[String,Array,Object],showUploadProgress:Boolean,default:Function,fileListDisplay:Function,onRemove:Function,imageViewerProps:Object};/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function e_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function ile(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e_(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e_(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function ole(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!i.isVNode(t)}var lle=i.defineComponent({name:"UploadNormalFile",props:ile({multiple:Boolean},Ts),setup:function(e,n){var a=n.slots,r=i.toRefs(e),o=r.theme,l=r.disabled,s=r.classPrefix,c=i.computed(function(){return e.locale}),d=Ve({CloseIcon:ha,TimeFilledIcon:Fb,CheckCircleFilledIcon:er,ErrorCircleFilledIcon:Ea,CloseCircleFilledIcon:xo}),u=d.CloseIcon,f=d.TimeFilledIcon,v=d.CheckCircleFilledIcon,h=d.ErrorCircleFilledIcon,g=d.CloseCircleFilledIcon,p=Pe(),m="".concat(s.value,"-upload"),y=function(x){return i.createVNode("div",{class:"".concat(m,"__single-progress")},[i.createVNode(an,null,null),e.showUploadProgress&&i.createVNode("span",{class:"".concat(m,"__single-percent")},[x||0,"%"])])},b=function(x){var k;return o.value!=="file"||!e.multiple&&((k=x[0])===null||k===void 0?void 0:k.status)==="fail"&&e.autoUpload?null:x.map(function(P,I){var D=e.abridgeName&&P.name?No.apply(void 0,[P.name].concat(he(e.abridgeName))):P.name;return i.createVNode("div",{class:"".concat(m,"__single-display-text ").concat(m,"__display-text--margin"),key:P.name+I+P.percent+P.status},[P.url?i.createVNode(Dc,{href:P.url,target:"_blank",hover:"color",size:"small",class:"".concat(m,"__single-name"),disabled:!1},ole(D)?D:{default:function(){return[D]}}):i.createVNode("span",{class:"".concat(m,"__single-name")},[D]),P.status==="fail"&&i.createVNode("div",{class:"".concat(m,"__flow-status ").concat(m,"__file-fail")},[i.createVNode(h,null,null)]),P.status==="waiting"&&i.createVNode("div",{class:"".concat(m,"__flow-status ").concat(m,"__file-waiting")},[i.createVNode(f,null,null)]),P.status==="progress"&&y(P.percent),!l.value&&P.status!=="progress"&&i.createVNode(u,{class:"".concat(m,"__icon-delete"),onClick:function(O){var S=O.e;return e.onRemove({e:S,file:P,index:I})}},null)])})},w=function(){var x;if(o.value==="file-input"){var k=e.displayFiles[0]||[],P=["".concat(s.value,"-input__inner"),G({},"".concat(m,"__placeholder"),!e.displayFiles[0])],I=l.value?"".concat(s.value,"-is-disabled"):"",D=(x=e.abridgeName)!==null&&x!==void 0&&x.length&&k!==null&&k!==void 0&&k.name?No.apply(void 0,[k.name].concat(he(e.abridgeName))):k==null?void 0:k.name;return i.createVNode("div",{class:"".concat(m,"__single-input-preview ").concat(s.value,"-input ").concat(I)},[i.createVNode("div",{class:P},[i.createVNode("span",{class:["".concat(m,"__single-input-text"),G({},e.placeholderClass,e.placeholder&&!(k!=null&&k.name))]},[k!=null&&k.name?D:e.placeholder]),(k==null?void 0:k.status)==="progress"&&y(k.percent),(k==null?void 0:k.status)==="waiting"&&i.createVNode(f,{class:"".concat(m,"__status-icon ").concat(m,"__file-waiting")},null),k.status==="success"&&i.createVNode(v,{class:"".concat(m,"__status-icon")},null),(k==null?void 0:k.name)&&k.status==="fail"&&i.createVNode(h,{class:"".concat(m,"__status-icon ").concat(m,"__file-fail")},null),!!(!l.value&&k.name)&&i.createVNode(g,{class:"".concat(m,"__single-input-clear"),onClick:function(O){var S=O.e;return e.onRemove({e:S,file:k,index:0})}},null)])])}};return function(){var C,x,k,P=["".concat(m,"__single"),"".concat(m,"__single-").concat(o.value)],I=p("fileListDisplay",{params:{onRemove:e.onRemove,toUploadFiles:e.toUploadFiles,sizeOverLimitMessage:e.sizeOverLimitMessage,locale:e.locale,files:e.displayFiles}});(e.fileListDisplay===null||I===null)&&(I=null);var D=e.displayFiles;return i.createVNode("div",{class:P},[o.value==="file-input"&&w(),(C=a.default)===null||C===void 0?void 0:C.call(a),o.value==="file"&&e.placeholder&&!D[0]&&i.createVNode("small",{class:[e.tipsClasses,e.placeholderClass]},[e.placeholder]),I===null?null:I||b(D),!e.multiple&&((x=D[0])===null||x===void 0?void 0:x.status)==="fail"&&o.value==="file"?i.createVNode("small",{class:[e.errorClasses,e.placeholderClass]},[((k=D[0].response)===null||k===void 0?void 0:k.error)||c.value.progress.failText]):null])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function eg(t,e){var n=i.ref(null),a=i.ref(!1),r=function(d){var u;d.preventDefault(),a.value=!1;var f=d.dataTransfer.files,v=nw(f,e.value);if((u=t.onDrop)===null||u===void 0||u.call(t,{e:d}),v!=null&&v.length){var h;(h=t.onDragFileChange)===null||h===void 0||h.call(t,v)}},o=function(d){var u;d.preventDefault(),n.value=d.target,(u=t.onDragenter)===null||u===void 0||u.call(t,{e:d}),a.value=!0},l=function(d){var u;d.target===n.value&&(d.preventDefault(),(u=t.onDragleave)===null||u===void 0||u.call(t,{e:d}),a.value=!1)},s=function(d){d.preventDefault()};return{target:n,dragActive:a,handleDrop:r,handleDragenter:o,handleDragleave:l,handleDragover:s}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function t_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function n_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t_(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t_(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var sle=i.defineComponent({name:"UploadDraggerFile",props:n_(n_({},Ts),{},{trigger:Function,triggerUpload:Function,uploadFiles:Function,cancelUpload:Function,dragEvents:Object}),setup:function(e,n){var a=n.slots,r=i.toRefs(e),o=r.displayFiles,l=r.disabled,s=r.accept,c=i.computed(function(){return e.locale}),d=Pe(),u=Hc(),f=u.sizeClassNames,v="".concat(e.classPrefix,"-upload"),h=eg(e.dragEvents,s),g=h.dragActive,p=i.ref(),m=i.computed(function(){var D;return["".concat(v,"__dragger"),G({},"".concat(v,"__dragger-center"),!o.value[0]),G({},"".concat(v,"__dragger-error"),((D=o.value[0])===null||D===void 0?void 0:D.status)==="fail")]}),y=Ve({CheckCircleFilledIcon:er,ErrorCircleFilledIcon:Ea}),b=y.CheckCircleFilledIcon,w=y.ErrorCircleFilledIcon,C=function(){var L;if(e.displayFiles.length){var O=o.value[0];if(!O)return null;var S=(O==null?void 0:O.url)||(O==null||(L=O.response)===null||L===void 0?void 0:L.url);return i.createVNode("div",{class:"".concat(v,"__dragger-img-wrap")},[i.createVNode(zu,i.mergeProps({images:[S],trigger:function(A,E){var R=E.open;return i.createVNode($a,{src:S||O.raw,onClick:R,error:"",loading:""},null)}},e.imageViewerProps),null)])}},x=function(){if(e.displayFiles.length){var L=o.value[0];if(!L)return null;if((L==null?void 0:L.status)==="progress")return i.createVNode("div",{class:"".concat(v,"__single-progress")},[i.createVNode(an,null,null),e.showUploadProgress&&i.createVNode("span",{class:"".concat(v,"__single-percent")},[L.percent,"%"])])}},k=function(){var L,O=o.value[0],S=e.abridgeName?No.apply(void 0,[O.name].concat(he(e.abridgeName))):O.name,_=[i.createVNode("div",{class:"".concat(v,"__dragger-text"),key:"info"},[i.createVNode("span",{class:"".concat(v,"__single-name")},[S]),O.status==="progress"&&x(),O.status==="success"&&i.createVNode(b,null,null),O.status==="fail"&&i.createVNode(w,null,null)]),i.createVNode("small",{class:"".concat(f.small),key:"size"},[c.value.file.fileSizeText,"：",$W(O.size)]),i.createVNode("small",{class:"".concat(f.small),key:"time"},[c.value.file.fileOperationDateText,"：",O.uploadTime||"-"])];return i.createVNode("div",{class:"".concat(v,"__dragger-progress")},[e.theme==="image"&&C(),i.createVNode("div",{class:"".concat(v,"__dragger-progress-info")},[d("fileListDisplay",{params:{files:e.displayFiles}})||_,i.createVNode("div",{class:"".concat(v,"__dragger-btns")},[["progress","waiting"].includes(O.status)&&!l.value&&i.createVNode(vt,{theme:"primary",variant:"text",class:"".concat(v,"__dragger-progress-cancel"),onClick:function(E){var R;return(R=e.cancelUpload)===null||R===void 0?void 0:R.call(e,{e:E,file:e.toUploadFiles[0]||e.files[0]})}},{default:function(){return[(L=c.value)===null||L===void 0?void 0:L.cancelUploadText]}}),!e.autoUpload&&O.status==="waiting"&&i.createVNode(vt,{theme:"primary",variant:"text",disabled:l.value,onClick:function(){var E;return(E=e.uploadFiles)===null||E===void 0?void 0:E.call(e)},class:"".concat(v,"__dragger-upload-btn")},{default:function(){return[c.value.triggerUploadText.normal]}})]),["fail","success"].includes(O==null?void 0:O.status)&&!l.value&&i.createVNode("div",{class:"".concat(v,"__dragger-btns")},[i.createVNode(vt,{theme:"primary",variant:"text",disabled:l.value,class:"".concat(v,"__dragger-progress-cancel"),onClick:e.triggerUpload},{default:function(){return[c.value.triggerUploadText.reupload]}}),i.createVNode(vt,{theme:"danger",variant:"text",disabled:l.value,class:"".concat(v,"__dragger-delete-btn"),onClick:function(E){return e.onRemove({e:E,index:0,file:O})}},{default:function(){return[c.value.triggerUploadText.delete]}})])])])},P=function(){var L,O=i.createVNode("div",null,[i.createVNode("span",{class:"".concat(v,"--highlight")},[(L=c.value.triggerUploadText)===null||L===void 0?void 0:L.normal]),i.createVNode("span",null,["  /  ",c.value.dragger.draggingText])]),S=i.createVNode("div",null,[c.value.dragger.dragDropText]);return g.value?S:O},I=function(){var L,O=o.value[0];return O&&(["progress","success","fail","waiting"].includes(O.status)||!O.status)?k():i.createVNode("div",{class:"".concat(v,"__trigger"),onClick:e.triggerUpload},[((L=a.default)===null||L===void 0?void 0:L.call(a))||P()])};return function(){var D;return i.createVNode("div",{ref:p,class:m.value,onDrop:h.handleDrop,onDragenter:h.handleDragenter,onDragover:h.handleDragover,onDragleave:h.handleDragleave},[((D=e.trigger)===null||D===void 0?void 0:D.call(e,i.h,{files:o.value,dragActive:g.value}))||I()])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function a_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function r_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a_(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a_(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function cle(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!i.isVNode(t)}var ule=i.defineComponent({name:"UploadImageCard",props:r_(r_({},Ts),{},{multiple:Boolean,max:Number,disabled:Boolean,showUploadProgress:Boolean,triggerUpload:Function,uploadFiles:Function,cancelUpload:Function,onPreview:Function,showImageFileName:Boolean}),setup:function(e){var n=i.toRefs(e),a=n.displayFiles,r=n.classPrefix,o=n.multiple,l=n.max,s=i.computed(function(){return e.locale}),c=Ve({AddIcon:Ac,BrowseIcon:Bf,DeleteIcon:Hf,ErrorCircleFilledIcon:Ea}),d=c.BrowseIcon,u=c.DeleteIcon,f=c.AddIcon,v=c.ErrorCircleFilledIcon,h=Pe(),g=i.computed(function(){var b;return o.value?!l.value||a.value.length<l.value:!((b=a.value)!==null&&b!==void 0&&b[0])}),p=function(w,C){return i.createVNode("div",{class:"".concat(r.value,"-upload__card-content ").concat(r.value,"-upload__card-box")},[i.createVNode($a,{class:"".concat(r.value,"-upload__card-image"),src:w.url||w.raw,error:""},null),i.createVNode("div",{class:"".concat(r.value,"-upload__card-mask")},[i.createVNode("span",{class:"".concat(r.value,"-upload__card-mask-item"),onClick:function(k){return k.stopPropagation()}},[i.createVNode(zu,i.mergeProps({images:a.value.map(function(x){return x.url||x.raw}),defaultIndex:C,trigger:function(k,P){var I=P.open;return i.createVNode(d,{onClick:function(L){var O,S=L.e;(O=e.onPreview)===null||O===void 0||O.call(e,{file:w,index:C,e:S}),I()}},null)}},e.imageViewerProps),null)]),!e.disabled&&i.createVNode(i.Fragment,null,[i.createVNode("span",{class:"".concat(r.value,"-upload__card-mask-item-divider")},null),i.createVNode("span",{class:"".concat(r.value,"-upload__card-mask-item"),onClick:function(k){return k.stopPropagation()}},[i.createVNode(u,{onClick:function(k){var P,I=k.e;return e==null||(P=e.onRemove)===null||P===void 0?void 0:P.call(e,{e:I,file:w,index:C})}},null)])])])])},m=function(w,C){var x;return i.createVNode("div",{class:[C,"".concat(r.value,"-upload__").concat(e.theme,"-").concat(w.status)]},[i.createVNode(an,{loading:!0,size:"medium"},null),i.createVNode("p",null,[(x=s.value)===null||x===void 0||(x=x.progress)===null||x===void 0?void 0:x.uploadingText,e.showUploadProgress?" ".concat(w.percent,"%"):""])])},y=function(w,C,x){var k,P;return i.createVNode("div",{class:x},[i.createVNode(v,null,null),i.createVNode("p",null,[((k=w.response)===null||k===void 0?void 0:k.error)||((P=s.value)===null||P===void 0||(P=P.progress)===null||P===void 0?void 0:P.failText)]),i.createVNode("div",{class:"".concat(r.value,"-upload__card-mask")},[i.createVNode("span",{class:"".concat(r.value,"-upload__card-mask-item"),onClick:function(D){return D.stopPropagation()}},[i.createVNode(u,{onClick:function(D){var L,O=D.e;return e==null||(L=e.onRemove)===null||L===void 0?void 0:L.call(e,{e:O,file:w,index:C})}},null)])])])};return function(){var b,w,C=h("fileListDisplay",{params:{triggerUpload:e.triggerUpload,uploadFiles:e.uploadFiles,cancelUpload:e.cancelUpload,onPreview:e.onPreview,onRemove:e.onRemove,toUploadFiles:e.toUploadFiles,sizeOverLimitMessage:e.sizeOverLimitMessage,locale:e.locale,files:a.value}});if(C)return C;var x="".concat(r.value,"-upload__card-item ").concat(r.value,"-is-background");return i.createVNode("div",null,[i.createVNode("ul",{class:"".concat(r.value,"-upload__card")},[(b=a.value)===null||b===void 0?void 0:b.map(function(k,P){var I="".concat(r.value,"-upload__card-name"),D="".concat(r.value,"-upload__card-container ").concat(r.value,"-upload__card-box"),L=e.abridgeName?No.apply(void 0,[k.name].concat(he(e.abridgeName))):k.name;return i.createVNode("li",{class:x,key:P},[k.status==="progress"&&m(k,D),k.status==="fail"&&y(k,P,D),!["progress","fail"].includes(k.status)&&p(k,P),!!(L&&e.showImageFileName)&&(k.url?i.createVNode(Dc,{href:k.url,class:I,target:"_blank",hover:"color",size:"small",disabled:!1},cle(L)?L:{default:function(){return[L]}}):i.createVNode("span",{class:I},[L]))])}),g.value&&i.createVNode("li",{class:x,onClick:e.triggerUpload},[i.createVNode("div",{class:["".concat(r.value,"-upload__image-add"),"".concat(r.value,"-upload__card-container"),"".concat(r.value,"-upload__card-box"),G({},"".concat(r.value,"-is-disabled"),e.disabled)]},[i.createVNode(f,null,null),i.createVNode("p",{class:["".concat(r.value,"-size-s"),"".concat(r.value,"-upload__add-text")]},[(w=s.value)===null||w===void 0||(w=w.triggerUploadText)===null||w===void 0?void 0:w.image])])])])])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function i_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function o_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i_(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i_(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function dle(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!i.isVNode(t)}var fle=i.defineComponent({name:"UploadMultipleFlowList",props:o_(o_({},Ts),{},{showThumbnail:Boolean,uploadFiles:Function,cancelUpload:Function,dragEvents:Object,disabled:Boolean,isBatchUpload:Boolean,draggable:Boolean,showImageFileName:Boolean,uploadButton:Object,cancelUploadButton:Object,onPreview:Function}),setup:function(e,n){var a=n.slots,r=i.toRefs(e),o=r.uploading,l=r.disabled,s=r.displayFiles,c=r.classPrefix,d=r.accept,u=i.computed(function(){return"".concat(c.value,"-upload")}),f=i.computed(function(){return e.locale}),v=Pe(),h=Ve({BrowseIcon:Bf,DeleteIcon:Hf,CheckCircleFilledIcon:er,ErrorCircleFilledIcon:Ea,TimeFilledIcon:Fb,FileExcelIcon:U$,FilePdfIcon:Y$,FileWordIcon:J$,FilePowerpointIcon:G$,FileIcon:Q$,VideoIcon:TB}),g=h.BrowseIcon,p=h.DeleteIcon,m=h.CheckCircleFilledIcon,y=h.ErrorCircleFilledIcon,b=h.TimeFilledIcon,w=h.FileExcelIcon,C=h.FilePdfIcon,x=h.FileWordIcon,k=h.FilePowerpointIcon,P=h.FileIcon,I=h.VideoIcon,D=eg(e.dragEvents,d),L=i.ref([]),O=i.ref(0),S=i.computed(function(){return o.value?"".concat(f.value.progress.uploadingText):f.value.triggerUploadText.normal}),_=i.computed(function(){var z=e.draggable===void 0?!0:e.draggable;return z?{onDrop:D.handleDrop,onDragenter:D.handleDragenter,onDragover:D.handleDragover,onDragleave:D.handleDragleave}:{}}),A=function(){var B={success:i.createVNode(m,null,null),fail:i.createVNode(y,null,null),progress:i.createVNode(an,null,null),waiting:i.createVNode(b,null,null)},q=f.value.progress,Y={success:q==null?void 0:q.successText,fail:q==null?void 0:q.failText,progress:q==null?void 0:q.uploadingText,waiting:q==null?void 0:q.waitingText};return{iconMap:B,textMap:Y}},E=function(){return i.createVNode("div",{class:"".concat(u.value,"__flow-empty")},[D.dragActive.value?f.value.dragger.dragDropText:f.value.dragger.clickAndDragText])},R=function(B,q){var Y=A(),X=Y.iconMap,T=Y.textMap,j=e.abridgeName&&B.name?No.apply(void 0,[B.name].concat(he(e.abridgeName))):B.name;return i.createVNode("li",{class:"".concat(u.value,"__card-item"),key:B.name+q+B.percent+B.status||"0"},[i.createVNode("div",{class:["".concat(u.value,"__card-content"),G({},"".concat(c.value,"-is-bordered"),B.status!=="waiting")]},[["fail","progress"].includes(B.status)&&i.createVNode("div",{class:"".concat(u.value,"__card-status-wrap ").concat(u.value,"__").concat(e.theme,"-").concat(B.status)},[X[B.status],i.createVNode("p",null,[T[B.status],e.showUploadProgress&&B.status==="progress"?" ".concat(B.percent,"%"):""])]),(["waiting","success"].includes(B.status)||!B.status&&B.url)&&i.createVNode($a,{class:"".concat(u.value,"__card-image"),src:B.url||B.raw,error:"",loading:""},null),i.createVNode("div",{class:"".concat(u.value,"__card-mask")},[(B.url||B.raw)&&!["progress","fail"].includes(B.status)&&i.createVNode("span",{class:"".concat(u.value,"__card-mask-item")},[i.createVNode(g,{onClick:function(J){var Z,Q=J.e;O.value=q,L.value=s.value,(Z=e.onPreview)===null||Z===void 0||Z.call(e,{file:B,index:q,e:Q})}},null),i.createVNode("span",{class:"".concat(u.value,"__card-mask-item-divider")},null)]),!l.value&&i.createVNode("span",{class:"".concat(u.value,"__card-mask-item ").concat(u.value,"__delete"),onClick:function(J){return e.onRemove({e:J,index:q,file:B})}},[i.createVNode(p,null,null)])])]),e.showImageFileName&&i.createVNode("p",{class:["".concat(u.value,"__card-name"),"".concat(u.value,"__flow-status")]},[["success","waiting"].includes(B.status)&&X[B.status],j])])},N=function(B){var q,Y,X=A(),T=X.iconMap,j=X.textMap;return i.createVNode("div",{class:"".concat(u.value,"__flow-status")},[T[B.status],i.createVNode("span",{class:"".concat(u.value,"__").concat(e.theme,"-").concat(B.status)},[(q=B.response)!==null&&q!==void 0&&q.error&&((Y=B.response)===null||Y===void 0?void 0:Y.error)||j[B.status],e.showUploadProgress&&B.status==="progress"?" ".concat(B.percent||0,"%"):""])])},F=function(B,q){var Y;return i.createVNode("td",null,[i.createVNode(vt,{theme:"primary",variant:"text",content:(Y=f.value)===null||Y===void 0||(Y=Y.triggerUploadText)===null||Y===void 0?void 0:Y.delete,class:"".concat(u.value,"__delete"),onClick:function(T){return e.onRemove({e:T,index:q,file:B})}},null)])},M=function(B){var q;return B===0?i.createVNode("td",{rowSpan:s.value.length,class:"".concat(u.value,"__flow-table__batch-row")},[i.createVNode(vt,{theme:"primary",variant:"text",content:(q=f.value)===null||q===void 0||(q=q.triggerUploadText)===null||q===void 0?void 0:q.delete,class:"".concat(u.value,"__delete"),onClick:function(X){return e.onRemove({e:X,index:-1,file:void 0})}},null)]):null},$=function(B){return RW.test(B)?i.createVNode(C,null,null):DW.test(B)?i.createVNode(w,null,null):jW.test(B)?i.createVNode(x,null,null):MW.test(B)?i.createVNode(k,null,null):V1.test(B)?i.createVNode(I,null,null):i.createVNode(P,null,null)},W=function(B){if(!B||!B.raw&&B.url)return null;var q=B.raw.type,Y="".concat(u.value,"__file-thumbnail");return EW.test(q)?i.createVNode($a,{class:Y,src:B.url||B.raw,fit:"scale-down",error:"",loading:"",onClick:function(T){var j;T.preventDefault(),L.value=[B],O.value=0,(j=e.onPreview)===null||j===void 0||j.call(e,{file:B,index:0,e:T})}},null):i.createVNode("div",{class:Y},[$(q)])},H=function(){var B,q,Y,X,T=v("fileListDisplay",{params:{cancelUpload:e.cancelUpload,uploadFiles:e.uploadFiles,onPreview:e.onPreview,onRemove:e.onRemove,toUploadFiles:e.toUploadFiles,sizeOverLimitMessage:e.sizeOverLimitMessage,locale:e.locale,files:e.displayFiles,dragEvents:_.value}});return T||e.fileListDisplay?T:i.createVNode("table",i.mergeProps({class:"".concat(u.value,"__flow-table")},_.value),[i.createVNode("thead",null,[i.createVNode("tr",null,[i.createVNode("th",null,[(B=f.value.file)===null||B===void 0?void 0:B.fileNameText]),i.createVNode("th",{style:{minWidth:"120px"}},[(q=f.value.file)===null||q===void 0?void 0:q.fileSizeText]),i.createVNode("th",{style:{minWidth:"120px"}},[(Y=f.value.file)===null||Y===void 0?void 0:Y.fileStatusText]),l.value?null:i.createVNode("th",null,[(X=f.value.file)===null||X===void 0?void 0:X.fileOperationText])])]),i.createVNode("tbody",null,[!s.value.length&&i.createVNode("tr",null,[i.createVNode("td",{colSpan:4},[E()])]),s.value.map(function(j,U){var J,Z=e.isBatchUpload,Q=Z&&s.value.every(function(re){return re.status==="success"||!re.status})?M(U):F(j,U),ee=(J=e.abridgeName)!==null&&J!==void 0&&J.length?No.apply(void 0,[j.name].concat(he(e.abridgeName))):j.name,ne=e.showThumbnail?i.createVNode("div",{class:"".concat(u.value,"__file-info")},[W(j),ee]):ee,V=j.url?i.createVNode(Dc,{href:j.url,target:"_blank",hover:"color",disabled:!1},dle(ne)?ne:{default:function(){return[ne]}}):ne;return i.createVNode("tr",{key:j.name+U+j.size},[i.createVNode("td",{class:"".concat(u.value,"__file-name"),key:j.name+j.url},[V]),i.createVNode("td",null,[LW(j.size)]),i.createVNode("td",null,[N(j)]),l.value?null:Q])})])])},K=function(){var B=v("fileListDisplay",{params:{cancelUpload:e.cancelUpload,uploadFiles:e.uploadFiles,onRemove:e.onRemove,onPreview:e.onPreview,toUploadFiles:e.toUploadFiles,sizeOverLimitMessage:e.sizeOverLimitMessage,locale:e.locale,files:e.displayFiles,dragEvents:_.value}});return B||e.fileListDisplay?B:i.createVNode("ul",{class:"".concat(u.value,"__card clearfix")},[e.displayFiles.map(function(q,Y){return R(q,Y)})])};return function(){var z,B,q,Y="".concat(u.value,"__flow-card-area"),X=l.value||!o.value,T=a.uploadButton||pe(e.uploadButton),j=!!(l.value||o.value||!s.value.length),U=a.cancelUploadButton||pe(e.cancelUploadButton);return i.createVNode("div",{class:"".concat(u.value,"__flow ").concat(u.value,"__flow-").concat(e.theme)},[i.createVNode("div",{class:"".concat(u.value,"__flow-op")},[(z=a.default)===null||z===void 0?void 0:z.call(a),e.placeholder&&i.createVNode("small",{class:"".concat(u.value,"__flow-placeholder ").concat(u.value,"__placeholder")},[e.placeholder])]),e.theme==="image-flow"&&i.createVNode("div",i.mergeProps({class:Y},_.value),[s.value.length?K():E()]),e.theme==="file-flow"&&(s.value.length?H():i.createVNode("div",i.mergeProps({class:Y},_.value),[E()])),!e.autoUpload&&(e.uploadButton!==null||e.cancelUploadButton!==null)&&i.createVNode("div",{class:"".concat(u.value,"__flow-bottom")},[e.cancelUploadButton!==null&&(T?v("cancelUploadButton",{params:{disabled:X,cancelUploadText:(B=f.value)===null||B===void 0?void 0:B.cancelUploadText,cancelUpload:e.cancelUpload}}):i.createVNode(vt,i.mergeProps({theme:"default",disabled:X,content:(q=f.value)===null||q===void 0?void 0:q.cancelUploadText,class:"".concat(u.value,"__cancel"),onClick:function(Z){var Q;return(Q=e.cancelUpload)===null||Q===void 0?void 0:Q.call(e,{e:Z})}},Le(e.cancelUploadButton)?e.cancelUploadButton:{}),null)),e.uploadButton!==null&&(U?v("uploadButton",{params:{disabled:j,uploading:o.value,uploadText:S.value,uploadFiles:e.uploadFiles}}):i.createVNode(vt,i.mergeProps({disabled:j,theme:"primary",loading:o.value,class:"".concat(u.value,"__continue"),content:S.value,onClick:function(){var Z;return(Z=e.uploadFiles)===null||Z===void 0?void 0:Z.call(e)}},Le(e.uploadButton)?e.uploadButton:{}),null))]),i.createVNode(zu,i.mergeProps({images:L.value.map(function(J){return J.url||J.raw}),visible:!!L.value.length,onClose:function(){L.value=[]},index:O.value,onIndexChange:function(Z){return O.value=Z}},e.imageViewerProps),null)])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function l_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function s_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l_(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l_(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var vle=i.defineComponent({name:"UploadCustomFile",props:s_(s_({},Ts),{},{dragEvents:Object,draggable:Boolean,dragContent:Function,trigger:Function,triggerUpload:Function,childrenNode:[String,Function]}),setup:function(e,n){var a=n.slots,r=i.toRefs(e),o=r.classPrefix,l=r.displayFiles,s=r.accept,c=eg(e.dragEvents,s),d=c.dragActive,u=ft(),f=function(){var h,g={dragActive:d.value||!1,files:l.value};return i.createVNode("div",{class:"".concat(o.value,"-upload__dragger ").concat(o.value,"-upload__dragger-center"),onDrop:c.handleDrop,onDragenter:c.handleDragenter,onDragover:c.handleDragover,onDragleave:c.handleDragleave,onClick:e.triggerUpload},[i.createVNode("div",{class:"".concat(o.value,"-upload__trigger")},[u("dragContent","trigger",{params:g})||((h=e.childrenNode)===null||h===void 0?void 0:h.call(e,g))])])};return function(){var v,h;return i.createVNode(i.Fragment,null,[e.draggable?f():i.createVNode("div",{class:"".concat(o.value,"-upload__trigger"),onClick:e.triggerUpload},[((v=e.childrenNode)===null||v===void 0?void 0:v.call(e,{files:l.value}))||((h=a.default)===null||h===void 0?void 0:h.call(a))])])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function c_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function wd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c_(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c_(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function hle(t){var e,n=t.method,a=n===void 0?"POST":n,r=t.action,o=t.withCredentials,l=o===void 0?!1:o,s=t.headers,c=s===void 0?{}:s,d=t.data,u=d===void 0?{}:d,f=t.file,v=t.files,h=v===void 0?[]:v,g=t.name,p=g===void 0?"file":g,m=t.useMockProgress,y=m===void 0?!0:m,b=t.mockProgressDuration,w=b===void 0?300:b,C=t.formatRequest,x=t.onError,k=t.onProgress,P=t.onSuccess,I=h||[],D=0,L=new XMLHttpRequest;l&&(L.withCredentials=!0);var O,S;if(y&&((e=h[0])===null||e===void 0?void 0:e.status)==="progress")var _=setTimeout(function(){O=setInterval(function(){D+10<100?(D=Math.max(D+10,D),h[0]&&D!==h[0].percent&&(h[0].percent=D,k({percent:D,file:f||I[0],files:I.map(function(N){return wd(wd({},N),{},{percent:D})}),type:"mock",XMLHttpRequest:L}))):clearInterval(O)},w),clearTimeout(_)},w);var A={};if(u){var E=pe(u)?u(I):u;Object.assign(A,E)}I.forEach(function(N,F){var M=I.length>1?"".concat(p,"[").concat(F,"]"):p;A[M]=N.raw}),I.length===1?A[p]=I[0].raw:A[p]=I.map(function(N){return N.raw}),A.length=I.length,C&&(A=C(A));var R=new FormData;return Object.keys(A).forEach(function(N){R.append(N,A[N])}),L.open(a,r,!0),Object.keys(c).forEach(function(N){L.setRequestHeader(N,c[N])}),L.onerror=function(N){x({event:N,file:f,files:I,XMLHttpRequest:L}),clearInterval(O),clearTimeout(S)},L.ontimeout=function(N){x({event:N,file:f,files:I,XMLHttpRequest:L})},L.upload&&(L.upload.onprogress=function(N){var F,M=0;if(N.total>0&&(M=Math.round(N.loaded/N.total*100)),D=Math.max(M,D),D!==M&&((F=I[0])===null||F===void 0?void 0:F.percent)!==D){var $=I.map(function(W){return wd(wd({},W),{},{percent:D})});k({event:N,percent:D,file:f||$[0],files:$,type:"real",XMLHttpRequest:L})}}),L.onload=function(N){var F={};F.XMLHttpRequest=L;var M=L.status<200||L.status>=300;if(M)return x({event:N,file:f,files:I,response:F,XMLHttpRequest:L});var $=L.responseText||L.response;try{F=JSON.parse($)}catch{F=$,He.error("Upload","response does not a valid json")}clearInterval(O),clearTimeout(S),I.forEach(function(W){var H;W.percent=100,W.status="success",W.uploadTime=((H=F)===null||H===void 0?void 0:H.uploadTime)||tw()}),Je(F)==="object"&&(F.XMLHttpRequest=L),P({event:N,file:f||I[0],files:he(I),XMLHttpRequest:L,response:F})},L.send(R),L.upload.requestParams=A,L.upload.requestHeaders=c,L}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function u_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u_(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u_(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function gle(t,e){var n=e.sizeLimit,a=e.beforeUpload,r=new Promise(function(c){var d=null;if(n){var u=nt(n)?{size:n,unit:"KB"}:n,f=BW(t.size,u.size,u.unit);f&&(d=u)}c(d)}),o=[r,void 0];if(pe(a)){var l=a(t),s=l instanceof Promise?l:new Promise(function(c){return c(l)});o[1]=s}return new Promise(function(c){Promise.all(o).then(function(d){c(d)})})}function d_(t){var e=t.event,n=t.files,a=t.response,r=t.XMLHttpRequest,o=t.formatResponse,l=a;return pe(o)&&(l=o(a,{file:n[0],currentFiles:n})),n.forEach(function(s){s.status="fail",s.response=l}),{response:l,event:e,files:n,XMLHttpRequest:r}}function ple(t){var e=t.event,n=t.files,a=t.response,r=t.XMLHttpRequest;(n==null?void 0:n.length)<=0&&He.error("Upload","Empty File in Success Callback"),n.forEach(function(l){var s;l.percent=100,l.status="success",(s=l.response)===null||s===void 0||delete s.error});var o=a;return n[0].url=o.url||n[0].url,{response:o,event:e,files:n,XMLHttpRequest:r}}function mle(t){return t?t.status?["success","fail"].includes(t.status)?(t.status==="success"&&(!t.response||!t.response.url&&!t.response.files)&&He.warn("Upload","`requestMethodResponse.response.url` or `requestMethodResponse.response.files` is required if `status` is `success`"),!0):(He.error("Upload","`requestMethodResponse.status` must be `success` or `fail`, examples `{ status: 'success', response: { url: '' } }`"),!1):(He.error("Upload","`requestMethodResponse.status` is missing, which value only can be `success` or `fail`"),!1):(He.error("Upload","`requestMethodResponse` is required."),!1)}function f_(t){var e=t.action,n=t.toUploadFiles,a=t.requestMethod;return new Promise(function(r){if(!e&&!a){He.error("Upload","one of action and requestMethod must be exist."),r({});return}if(!n||!n.length){He.warn("Upload","No files need to be uploaded"),r({});return}if(n.forEach(function(s){s.status="progress"}),a)a(t.multiple?n:n[0]).then(function(s){if(!mle(s)){r({});return}var c=s.response||{};pe(t.formatResponse)&&(c=t.formatResponse(c,{file:n[0],currentFiles:n})),s.status==="fail"&&(c.error=s.error||c.error);var d=[];s.status==="success"&&c.files?d=c.files.map(function(h){var g=n.find(function(p){return h.name&&p.name===h.name||h.raw&&p.raw===h.raw});return fn(fn(fn({},g),h),{},{status:s.status,response:c})}):(n.forEach(function(h){var g;h.status=s.status,h.response=c,h.url=c.url,h.percent=s.status==="success"?100:0,h.uploadTime=((g=c)===null||g===void 0?void 0:g.uploadTime)||tw()}),d=n);var u={response:c,file:d[0],files:d};if(s.status==="success"){var f;(f=t.onResponseSuccess)===null||f===void 0||f.call(t,u)}else if(s.status==="fail"){var v;(v=t.onResponseError)===null||v===void 0||v.call(t,u)}r({status:s.status,data:u})});else{var o,l=hle({action:t.action,files:t.toUploadFiles,useMockProgress:t.useMockProgress,mockProgressDuration:t.mockProgressDuration,onError:function(c){var d,u=d_(fn(fn({},c),{},{formatResponse:t.formatResponse}));(d=t.onResponseError)===null||d===void 0||d.call(t,u),r({status:"fail",data:u})},onProgress:t.onResponseProgress,onSuccess:function(c){var d=t.formatResponse,u=c.response;if(pe(d)&&(u=d(c.response,{file:c.file,currentFiles:c.files})),u.error){var f,v=d_(fn(fn({},c),{},{response:u}));(f=t.onResponseError)===null||f===void 0||f.call(t,v),r({status:"fail",data:v})}else{var h;c.file.response=u,c.files[0].response=u;var g=ple(fn(fn({},c),{},{response:u}));(h=t.onResponseSuccess)===null||h===void 0||h.call(t,g),r({status:"success",data:g})}},formatRequest:t.formatRequest,data:t.data,name:t.name,headers:t.headers,withCredentials:t.withCredentials,method:t.method});(o=t.setXhrObject)===null||o===void 0||o.call(t,{files:t.toUploadFiles,xhrReq:l})}})}function yle(t,e){for(var n=t.filter(function(s){return s.url}),a=n,r=function(){var c=e[o],d=t.findIndex(function(f){return f.raw&&f.raw===c.raw||f.name&&f.name===c.name}),u=d>=0?fn(fn({},t[d]),c):c;a.push(u)},o=0,l=e.length;o<l;o++)r();return a}function ble(t){var e=t.uploadAllFilesInOneRequest,n=t.toUploadFiles,a=t.uploadedFiles,r=t.isBatchUpload,o=n.filter(function(l){return!l.response||l.response&&!l.response.error});return new Promise(function(l){if(e||!t.multiple){f_(t).then(function(c){c.status==="success"&&(c.data.files=r||!t.multiple?c.data.files:yle(a,c.data.files));var d=c.status==="fail"?c.data.files:[];l(fn(fn({},c),{},{failedFiles:d}))});return}var s=o.map(function(c){return f_(fn(fn({},t),{},{toUploadFiles:[c]}))});Promise.all(s).then(function(c){var d=[],u=[];c.forEach(function(h){h.status==="success"?d.push(h.data.files[0]):h.status==="fail"&&u.push(h.data.files[0])});var f=t.autoUpload?a.concat(d):a,v=r||!t.multiple?d:f;l({status:d.length?"success":"fail",data:{files:v},failedFiles:u,list:c})})})}function tg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return t.map(function(r){var o=r;pe(e)&&(o=e(r));var l=fn({raw:r,lastModified:r.lastModified,name:r.name,size:r.size,type:r.type,percent:a,status:n},o);return l})}function wle(t){var e=t.files,n=t.uploadValue,a=t.max,r=t.allowUploadDuplicateFile;return new Promise(function(o){var l=e.filter(function(m){var y=n.find(function(b){return b.name===m.name});return r||!y}),s=!1;if(l.length<e.length&&(s=!0),!l.length){var c=tg(e,t.format,t.autoUpload?"progress":"waiting");o({hasSameNameFile:s,file:c==null?void 0:c[0],files:c,validateResult:{type:"FILTER_FILE_SAME_NAME"}});return}var d=!1;if(a&&l.length&&!t.isBatchUpload){var u=l.length;l=l.slice(0,a-n.length),u+n.length>a&&(d=!0)}var f=tg(l,t.format,t.autoUpload?"progress":"waiting"),v;if(t.beforeAllFilesUpload){var h,g=(h=t.beforeAllFilesUpload)===null||h===void 0?void 0:h.call(t,f);v=g instanceof Promise?g:new Promise(function(m){return m(g)})}var p=f.map(function(m){return new Promise(function(y){gle(m,{beforeUpload:t.beforeUpload,sizeLimit:t.sizeLimit}).then(function(b){var w=Ce(b,2),C=w[0],x=w[1];C?y({file:m,validateResult:{type:"FILE_OVER_SIZE_LIMIT",extra:C}}):x===!1&&y({file:m,validateResult:{type:"CUSTOM_BEFORE_UPLOAD"}}),y({file:m})})})});Promise.all([v].concat(p)).then(function(m){var y=p2(m),b=y[0],w=y.slice(1);o(b===!1?{lengthOverLimit:d,hasSameNameFile:s,validateResult:{type:"BEFORE_ALL_FILES_UPLOAD"},files:f}:{lengthOverLimit:d,hasSameNameFile:s,fileValidateList:w,files:f})})})}function Cle(t,e){var n=[],a=[],r=[];return t.forEach(function(o){var l,s;if(((l=o.validateResult)===null||l===void 0?void 0:l.type)==="CUSTOM_BEFORE_UPLOAD"){a.push(o.file);return}if(((s=o.validateResult)===null||s===void 0?void 0:s.type)==="FILE_OVER_SIZE_LIMIT"){o.file.response||(o.file.response={}),o.file.response.error=o.file.response.error||e(o.validateResult.extra),n.push(o);return}r.push(o.file)}),{sizeLimitErrors:n,beforeUploadErrorFiles:a,toFiles:r}}function xle(t){return t.isBatchUpload&&t.status||t.status==="fail"?"reupload":t.status==="progress"?"uploading":t.status==="success"||!t.autoUpload&&t.status==="waiting"?t.multiple?"continueUpload":"reupload":"fileInput"}function Sle(t){var e=t.multiple,n=t.uploadValue,a=t.toUploadFiles,r=t.autoUpload,o=r?a:a.filter(function(l){return l.status!=="success"});return e&&!t.isBatchUpload?r?(o.length?n.concat(o):n)||[]:n:(o.length?o:n)||[]}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function v_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Cd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v_(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v_(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Ole(t){var e=i.ref(),n=i.toRefs(t),a=n.disabled,r=n.autoUpload,o=n.isBatchUpload,l=n.multiple,s=n.files,c=n.modelValue,d=n.defaultFiles,u=Re("upload"),f=u.globalConfig,v=u.t,h=u.classPrefix,g=ot(s,c,d.value,t.onChange,"files"),p=Ce(g,2),m=p[0],y=p[1],b=i.ref([]),w=i.ref([]),C=i.ref(""),x=i.computed(function(){return fc({},f.value,t.locale)}),k="".concat(h.value,"-upload__tips ").concat(h.value,"-size-s"),P=[k].concat("".concat(h.value,"-upload__tips-error")),I="".concat(h.value,"-upload__placeholder"),D=i.computed(function(){var Y,X=xle({isBatchUpload:o.value,multiple:l.value,status:(Y=m.value)===null||Y===void 0||(Y=Y[0])===null||Y===void 0?void 0:Y.status,autoUpload:r.value});return x.value.triggerUploadText[X]}),L=i.ref(!1),O=i.computed(function(){return Sle({multiple:t.multiple,toUploadFiles:w.value,uploadValue:m.value,autoUpload:r.value,isBatchUpload:o.value})}),S=function(X){var T=X.file,j=X.percent,U=r.value?w:m,J=U.value.findIndex(function(Z){return T.raw===Z.raw});U.value[J]=Cd(Cd({},U.value[J]),{},{percent:j})},_=function(){t.autoUpload&&(w.value=he(w.value))},A=function(X){var T;if(!(!X||!X.files||!X.files[0])){var j=X.response,U=X.event,J=X.files;_(),(T=t.onOneFileFail)===null||T===void 0||T.call(t,{e:U,file:J==null?void 0:J[0],currentFiles:J,failedFiles:J,response:j}),(!t.multiple||t.isBatchUpload)&&y([],{trigger:"progress-fail",e:X.event,file:X.files[0]})}},E=function(X){var T;_(),(T=t.onProgress)===null||T===void 0||T.call(t,{e:X.event,file:X.file,currentFiles:X.files,percent:X.percent,type:X.type,XMLHttpRequest:X.XMLHttpRequest})},R=function(X){if(t.multiple&&!t.uploadAllFilesInOneRequest){var T;_(),(T=t.onOneFileSuccess)===null||T===void 0||T.call(t,{e:X.event,file:X.files[0],response:X.response})}};function N(Y){var X=Y;return X.message?v(X.message,{sizeLimit:X.size}):"".concat(v(x.value.sizeLimitMessage,{sizeLimit:X.size})," ").concat(X.unit)}var F=function(X){var T=t.multiple&&!o.value?m.value.concat(X):X;T.length&&(y(T,{trigger:"add",index:m.value.length,file:X[0],files:X}),w.value=[])},M=function(X){var T;if(!a.value){var j={currentSelectedFiles:tg(he(X),t.format)};(T=t.onSelectChange)===null||T===void 0||T.call(t,he(X),j),wle({uploadValue:m.value,files:he(X),allowUploadDuplicateFile:t.allowUploadDuplicateFile,max:t.multiple?t.max:0,sizeLimit:t.sizeLimit,isBatchUpload:o.value,autoUpload:r.value,format:t.format,beforeUpload:t.beforeUpload,beforeAllFilesUpload:t.beforeAllFilesUpload}).then(function(U){var J;if(((J=U.validateResult)===null||J===void 0?void 0:J.type)==="BEFORE_ALL_FILES_UPLOAD"){var Z,Q={type:"BEFORE_ALL_FILES_UPLOAD",files:U.files};(Z=t.onValidate)===null||Z===void 0||Z.call(t,Q);return}if(U.lengthOverLimit){var ee,ne={type:"FILES_OVER_LENGTH_LIMIT",files:U.files};if((ee=t.onValidate)===null||ee===void 0||ee.call(t,ne),!U.files.length)return}if(U.hasSameNameFile){var V,re={type:"FILTER_FILE_SAME_NAME",files:U.files};(V=t.onValidate)===null||V===void 0||V.call(t,re)}if(U.fileValidateList instanceof Array){var ce,se=Cle(U.fileValidateList,N),ue=se.sizeLimitErrors,ye=se.beforeUploadErrorFiles,me=se.toFiles,ge=r.value?me:w.value.concat(me);if(w.value=ge,(ce=t.onWaitingUploadFilesChange)===null||ce===void 0||ce.call(t,{files:ge,trigger:"validate"}),ue[0]){var xe;C.value=ue[0].file.response.error,(xe=t.onValidate)===null||xe===void 0||xe.call(t,{type:"FILE_OVER_SIZE_LIMIT",files:ue.map(function(oe){return oe.file})})}else if(C.value="",ye.length){var le,ie={type:"CUSTOM_BEFORE_UPLOAD",files:ye};(le=t.onValidate)===null||le===void 0||le.call(t,ie)}r.value?K(ge):F(ge)}}),e.value.value=null}},$=function(X){var T=nw(X.target.files);M==null||M(T)};function W(Y){M==null||M(Y)}function H(Y){M==null||M(he(Y.clipboardData.files))}function K(Y){var X=m.value.filter(function(j){return j.status!=="success"}),T=r.value?Y||w.value:X;!T||!T.length||(L.value=!0,b.value=[],ble({action:t.action,headers:t.headers,method:t.method,name:t.name,withCredentials:t.withCredentials,uploadedFiles:m.value,toUploadFiles:T,multiple:t.multiple,isBatchUpload:o.value,autoUpload:t.autoUpload,uploadAllFilesInOneRequest:t.uploadAllFilesInOneRequest,useMockProgress:t.useMockProgress,data:t.data,mockProgressDuration:t.mockProgressDuration,requestMethod:t.requestMethod,formatRequest:t.formatRequest,formatResponse:t.formatResponse,onResponseProgress:E,onResponseSuccess:R,onResponseError:A,setXhrObject:function(U){var J;(J=U.files[0])!==null&&J!==void 0&&J.raw&&b.value.find(function(Z){var Q;return((Q=Z.files[0])===null||Q===void 0?void 0:Q.raw)===U.files[0].raw})||(b.value=b.value.concat(U))}}).then(function(j){var U=j.status,J=j.data,Z=j.list,Q=j.failedFiles;if(L.value=!1,U==="success"){var ee;y(he(J.files),{trigger:"add",file:J.files[0]}),b.value=[],(ee=t.onSuccess)===null||ee===void 0||ee.call(t,{fileList:J.files,currentFiles:T,file:T[0],results:Z==null?void 0:Z.map(function(re){return re.data}),response:J.response||Z.map(function(re){return re.data.response}),XMLHttpRequest:J.XMLHttpRequest})}else if(Q!=null&&Q[0]){var ne;(ne=t.onFail)===null||ne===void 0||ne.call(t,{e:J.event,file:Q[0],failedFiles:Q,currentFiles:T,response:J.response,XMLHttpRequest:J.XMLHttpRequest})}if(r.value){var V;w.value=Q,(V=t.onWaitingUploadFilesChange)===null||V===void 0||V.call(t,{files:Q,trigger:"uploaded"})}}))}function z(Y){var X,T,j;C.value="",(X=(T=Y.e).stopPropagation)===null||X===void 0||X.call(T);var U={e:Y.e,trigger:"remove",index:Y.index,file:Y.file};if(t.isBatchUpload||!t.multiple){var J;w.value=[],(J=t.onWaitingUploadFilesChange)===null||J===void 0||J.call(t,{files:[],trigger:"remove"}),y([],U)}else if(!t.autoUpload)m.value.splice(Y.index,1),y(he(m.value),U);else if(Y.index<m.value.length)m.value.splice(Y.index,1),y(he(m.value),U);else{var Z;w.value.splice(Y.index-m.value.length,1),w.value=he(w.value),(Z=t.onWaitingUploadFilesChange)===null||Z===void 0||Z.call(t,{files:he(w.value),trigger:"remove"})}(j=t.onRemove)===null||j===void 0||j.call(t,Y)}var B=function(X){var T;a.value||!e.value||(X==null||(T=X.stopPropagation)===null||T===void 0||T.call(X),e.value.click())},q=function(X){var T,j;(T=b.value)===null||T===void 0||T.forEach(function(U){var J;(J=U.xhrReq)===null||J===void 0||J.abort()}),L.value=!1,r.value?w.value=[]:y(m.value.map(function(U){return U.status!=="success"?Cd(Cd({},U),{},{status:"waiting"}):U}),{trigger:"abort"}),X!=null&&X.file&&!r.value&&(z==null||z({file:X.file,e:X.e,index:0})),(j=t.onCancelUpload)===null||j===void 0||j.call(t)};return{t:v,locale:x,classPrefix:h,triggerUploadText:D,toUploadFiles:w,uploadValue:m,displayFiles:O,sizeOverLimitMessage:C,uploading:L,tipsClasses:k,errorClasses:P,placeholderClass:I,inputRef:e,disabled:a,xhrReq:b,uploadFilePercent:S,uploadFiles:K,onFileChange:M,onNormalFileChange:$,onDragFileChange:W,onPasteFileChange:H,onInnerRemove:z,triggerUpload:B,cancelUpload:q}}/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function h_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function kle(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h_(Object(n),!0).forEach(function(a){G(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h_(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var Ple=i.defineComponent({name:"TUpload",props:rle,setup:function(e,n){var a=n.slots,r=n.expose,o=ft(),l=Pe(),s=Ole(e),c=s.locale,d=s.classPrefix,u=s.triggerUploadText,f=s.toUploadFiles,v=s.displayFiles,h=s.uploadValue,g=s.sizeOverLimitMessage,p=s.uploading,m=s.tipsClasses,y=s.errorClasses,b=s.placeholderClass,w=s.inputRef,C=s.onInnerRemove,x=s.uploadFiles,k=s.onNormalFileChange,P=s.onDragFileChange,I=s.onPasteFileChange,D=s.triggerUpload,L=s.cancelUpload,O=s.uploadFilePercent,S=St(),_=Ve({UploadIcon:IB}),A=_.UploadIcon,E=i.computed(function(){var B,q;return((B=e.triggerButtonProps)===null||B===void 0?void 0:B.default)||((q=e.triggerButtonProps)===null||q===void 0?void 0:q.content)||u.value});r({upload:w.value,uploading:p,triggerUpload:D,uploadFiles:x,cancelUpload:L,uploadFilePercent:O});var R=function(){var q=function(){return e.theme==="file-input"?i.createVNode(vt,i.mergeProps({disabled:S.value,variant:"outline"},e.triggerButtonProps),{default:function(){return[E.value]}}):i.createVNode(vt,i.mergeProps({disabled:S.value,variant:"outline",icon:function(){return i.createVNode(A,null,null)}},e.triggerButtonProps),{default:function(){return[E.value]}})};return o("default","trigger",{params:{dragActive:!1,files:h.value}})||q()},N=i.computed(function(){return{accept:e.accept,files:h.value,toUploadFiles:f.value,displayFiles:v.value,theme:e.theme,placeholder:e.placeholder,disabled:S.value,tips:e.tips,status:e.status,sizeOverLimitMessage:g.value,uploading:p.value,classPrefix:d.value,tipsClasses:m,errorClasses:y,placeholderClass:b,locale:c.value,autoUpload:e.autoUpload,abridgeName:e.abridgeName,showUploadProgress:e.showUploadProgress,fileListDisplay:e.fileListDisplay,onRemove:C,uploadPastedFiles:e.uploadPastedFiles,onPasteFileChange:I,imageViewerProps:e.imageViewerProps}}),F={onDragFileChange:P,onDragenter:e.onDragenter,onDragleave:e.onDragleave,onDrop:e.onDrop},M=i.computed(function(){return["".concat(d.value,"-upload"),G({},"".concat(d.value,"-upload--theme-").concat(e.theme),e.theme==="file-input")]}),$=function(){return i.createVNode(lle,i.mergeProps(N.value,{multiple:e.multiple}),{default:function(){return[i.createVNode("div",{class:"".concat(d.value,"-upload__trigger"),onClick:D},[R()])]},fileListDisplay:a.fileListDisplay,"file-list-display":a["file-list-display"]})},W=function(){return i.createVNode(sle,i.mergeProps(N.value,{dragEvents:F,trigger:e.trigger,cancelUpload:L,triggerUpload:D,uploadFiles:x,onCancelUpload:e.onCancelUpload}),{fileListDisplay:a.fileListDisplay,"file-list-display":a["file-list-display"]})},H=function(){return i.createVNode(ule,i.mergeProps(N.value,{multiple:e.multiple,max:e.max,showUploadProgress:e.showUploadProgress,triggerUpload:D,uploadFiles:x,cancelUpload:L,onPreview:e.onPreview,showImageFileName:e.showImageFileName}),{fileListDisplay:a.fileListDisplay,"file-list-display":a["file-list-display"]})},K=function(){return i.createVNode(fle,i.mergeProps(N.value,{isBatchUpload:e.isBatchUpload,draggable:e.draggable,dragEvents:F,uploadFiles:x,cancelUpload:L,onPreview:e.onPreview,showImageFileName:e.showImageFileName,showThumbnail:e.showThumbnail,uploadButton:e.uploadButton,cancelUploadButton:e.cancelUploadButton}),{default:function(){return[i.createVNode("div",{class:"".concat(d.value,"-upload__trigger"),onClick:D},[!e.draggable&&R()])]},fileListDisplay:a.fileListDisplay,"file-list-display":a["file-list-display"],uploadButton:a.uploadButton,"upload-button":a["upload-button"],cancelUploadButton:a.cancelUploadButton,"cancel-upload-button":a["cancel-upload-button"]})},z=function(){return i.createVNode(vle,i.mergeProps(N.value,{draggable:e.draggable,dragContent:e.dragContent,dragEvents:F,triggerUpload:D,trigger:e.trigger,childrenNode:a.default}),{default:function(){return[R()]},dragContent:a.dragContent,"drag-content":a["drag-content"],trigger:a.trigger})};return function(){return i.createVNode("div",{class:M.value,onPaste:e.uploadPastedFiles?I:void 0},[i.createVNode("input",i.mergeProps({ref:w,type:"file",disabled:S.value,onChange:k,multiple:e.multiple,accept:e.accept,hidden:!0},e.inputAttributes?kle({},e.inputAttributes):{}),null),["file","file-input"].includes(e.theme)&&!e.draggable&&$(),["file","image"].includes(e.theme)&&e.draggable&&W(),e.theme==="image"&&!e.draggable&&H(),["image-flow","file-flow"].includes(e.theme)&&K(),e.theme==="custom"&&z(),!!(e.tips||a.tips)&&i.createVNode("small",{class:[m,G({},"".concat(d.value,"-upload__tips-").concat(e.status),e.status)]},[l("tips")]),g.value&&i.createVNode("small",{class:y},[g.value])])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var _le=be(Ple);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Ile={globalConfig:Object},Nle=i.defineComponent({name:"TConfigProvider",props:Ile,setup:function(e){uM(e);var n=Pe();return function(){return i.createVNode(i.Fragment,null,[n("default")])}}});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var Tle=be(Nle);/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */var ng=Object.freeze({__proto__:null,Button:vt,Icon:Uf,Link:Dc,Row:rz,Col:iz,Aside:hz,Layout:gz,Header:pz,Footer:mz,Content:yz,Divider:Yf,Space:qf,Descriptions:Ez,DescriptionsItem:Az,Affix:So,Anchor:VW,AnchorItem:eU,AnchorTarget:tU,Breadcrumb:GU,BreadcrumbItem:XU,Dropdown:aK,DropdownItem:rK,DropdownMenu:iK,Menu:DK,HeadMenu:jK,Submenu:MK,MenuItem:FK,MenuGroup:LK,Pagination:Nv,PaginationMini:tx,Steps:zG,StepItem:HG,Tabs:zw,TabPanel:Hw,StickyItem:UG,StickyTool:KG,BackTop:GG,AutoComplete:nX,HighlightOption:aX,Cascader:KX,CascaderPanel:YX,Checkbox:Fa,CheckboxGroup:rs,DatePicker:lQ,DatePickerPanel:sQ,DateRangePicker:cQ,DateRangePickerPanel:uQ,Form:OQ,FormItem:kQ,InputAdornment:VC,Input:ga,InputGroup:GK,InputNumber:ts,Radio:nO,RadioGroup:ku,RadioButton:th,Select:pi,Option:QC,OptionGroup:OG,Slider:JQ,SliderButton:ZQ,Switch:tV,TagInput:AC,SelectInput:Do,Textarea:sV,Transfer:MV,TimePicker:BV,TimeRangePicker:zV,TimePickerPanel:HV,TreeSelect:Wee,ColorPickerPanel:Fte,ColorPicker:Lte,RangeInput:eQ,RangeInputPopup:Wv,Avatar:Kte,AvatarGroup:Yte,Badge:Xte,Calendar:yne,Card:xne,Comment:Pne,Empty:Dne,Image:$a,ImageViewer:zu,List:mae,ListItem:yae,ListItemMeta:bae,Progress:Sae,Skeleton:Vk,Statistic:Rae,Swiper:Lae,SwiperItem:$ae,BaseTable:Die,PrimaryTable:jie,EnhancedTable:Mie,Table:Lie,Tag:Pv,CheckTag:NC,CheckTagGroup:Wq,Timeline:Wie,TimelineItem:Uie,Tooltip:pn,Tree:FO,Collapse:Jie,CollapsePanel:Zie,Watermark:ooe,Rate:uoe,Typography:koe,Text:Poe,Title:_oe,Paragraph:Ioe,Alert:Eoe,DialogPlugin:Bu,Dialog:Hk,Drawer:Loe,Guide:Uoe,LoadingPlugin:Ff,LoadingDirective:D0,Loading:an,MessagePlugin:ci,Message:Koe,NotifyPlugin:Ns,Notification:Voe,Popconfirm:ale,Popup:Bn,Upload:_le,ConfigProvider:Tle});/**
 * tdesign v1.10.4
 * (c) 2024 tdesign
 * @license MIT
 */function Ele(t,e){Object.keys(ng).forEach(function(n){/directive/i.test(n)||(/plugin/i.test(n)?t.use(ng[n]):t.use(ng[n],e))})}var g_={install:Ele,version:"1.10.4"};const p_={createFolder(t){return new Promise((e,n)=>{})},deleteFolder(t){return new Promise((e,n)=>{})},saveComponent(t){return new Promise((e,n)=>{})},deleteComponent(t){return new Promise((e,n)=>{})},getTree(t){return new Promise((e,n)=>{e({code:200,data:[]})})}};function Ale(t){if(!t)throw new Error("api is required!");Object.assign(p_,t)}function Rle(){return new Proxy(p_,{get(t,e){return typeof t[e]=="function"?t[e].bind(t):(console.error(`api proxy: ${e} not found!`),function(){return new Promise((n,a)=>{a(new Error(`数据接口: ${e} 不存在，请先在插件选项中定义`))})})}})}function Dle(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function y_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m_(Object(n),!0).forEach(function(a){Dle(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m_(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function jle(t,e){if(t==null)return{};var n={},a=Object.keys(t),r,o;for(o=0;o<a.length;o++)r=a[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function Mle(t,e){if(t==null)return{};var n=jle(t,e),a,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)a=o[r],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function Fle(t,e){return Lle(t)||$le(t,e)||Ble(t,e)||zle()}function Lle(t){if(Array.isArray(t))return t}function $le(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],a=!0,r=!1,o=void 0;try{for(var l=t[Symbol.iterator](),s;!(a=(s=l.next()).done)&&(n.push(s.value),!(e&&n.length===e));a=!0);}catch(c){r=!0,o=c}finally{try{!a&&l.return!=null&&l.return()}finally{if(r)throw o}}return n}}function Ble(t,e){if(t){if(typeof t=="string")return b_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b_(t,e)}}function b_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function zle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hle(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function C_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w_(Object(n),!0).forEach(function(a){Hle(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w_(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Wle(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(a){return e.reduceRight(function(r,o){return o(r)},a)}}function Es(t){return function e(){for(var n=this,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return r.length>=t.length?t.apply(this,r):function(){for(var l=arguments.length,s=new Array(l),c=0;c<l;c++)s[c]=arguments[c];return e.apply(n,[].concat(r,s))}}}function xd(t){return{}.toString.call(t).includes("Object")}function Ule(t){return!Object.keys(t).length}function As(t){return typeof t=="function"}function Kle(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Yle(t,e){return xd(e)||zr("changeType"),Object.keys(e).some(function(n){return!Kle(t,n)})&&zr("changeField"),e}function qle(t){As(t)||zr("selectorType")}function Gle(t){As(t)||xd(t)||zr("handlerType"),xd(t)&&Object.values(t).some(function(e){return!As(e)})&&zr("handlersType")}function Xle(t){t||zr("initialIsRequired"),xd(t)||zr("initialType"),Ule(t)&&zr("initialContent")}function Jle(t,e){throw new Error(t[e]||t.default)}var Zle={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},zr=Es(Jle)(Zle),Sd={changes:Yle,selector:qle,handler:Gle,initial:Xle};function Qle(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Sd.initial(t),Sd.handler(e);var n={current:t},a=Es(tse)(n,e),r=Es(ese)(n),o=Es(Sd.changes)(t),l=Es(Vle)(n);function s(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(u){return u};return Sd.selector(d),d(n.current)}function c(d){Wle(a,r,o,l)(d)}return[s,c]}function Vle(t,e){return As(e)?e(t.current):e}function ese(t,e){return t.current=C_(C_({},t.current),e),e}function tse(t,e,n){return As(e)?e(t.current):Object.keys(n).forEach(function(a){var r;return(r=e[a])===null||r===void 0?void 0:r.call(e,t.current[a])}),n}var nse={create:Qle},ase={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}};function rse(t){return function e(){for(var n=this,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return r.length>=t.length?t.apply(this,r):function(){for(var l=arguments.length,s=new Array(l),c=0;c<l;c++)s[c]=arguments[c];return e.apply(n,[].concat(r,s))}}}function ise(t){return{}.toString.call(t).includes("Object")}function ose(t){return t||S_("configIsRequired"),ise(t)||S_("configType"),t.urls?(lse(),{paths:{vs:t.urls.monacoBase}}):t}function lse(){console.warn(x_.deprecation)}function sse(t,e){throw new Error(t[e]||t.default)}var x_={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},S_=rse(sse)(x_),cse={config:ose},use=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return function(r){return n.reduceRight(function(o,l){return l(o)},r)}};function O_(t,e){return Object.keys(e).forEach(function(n){e[n]instanceof Object&&t[n]&&Object.assign(e[n],O_(t[n],e[n]))}),y_(y_({},t),e)}var dse={type:"cancelation",msg:"operation is manually canceled"};function ag(t){var e=!1,n=new Promise(function(a,r){t.then(function(o){return e?r(dse):a(o)}),t.catch(r)});return n.cancel=function(){return e=!0},n}var fse=nse.create({config:ase,isInitialized:!1,resolve:null,reject:null,monaco:null}),k_=Fle(fse,2),Rs=k_[0],Od=k_[1];function vse(t){var e=cse.config(t),n=e.monaco,a=Mle(e,["monaco"]);Od(function(r){return{config:O_(r.config,a),monaco:n}})}function hse(){var t=Rs(function(e){var n=e.monaco,a=e.isInitialized,r=e.resolve;return{monaco:n,isInitialized:a,resolve:r}});if(!t.isInitialized){if(Od({isInitialized:!0}),t.monaco)return t.resolve(t.monaco),ag(rg);if(window.monaco&&window.monaco.editor)return P_(window.monaco),t.resolve(window.monaco),ag(rg);use(gse,mse)(yse)}return ag(rg)}function gse(t){return document.body.appendChild(t)}function pse(t){var e=document.createElement("script");return t&&(e.src=t),e}function mse(t){var e=Rs(function(a){var r=a.config,o=a.reject;return{config:r,reject:o}}),n=pse("".concat(e.config.paths.vs,"/loader.js"));return n.onload=function(){return t()},n.onerror=e.reject,n}function yse(){var t=Rs(function(n){var a=n.config,r=n.resolve,o=n.reject;return{config:a,resolve:r,reject:o}}),e=window.require;e.config(t.config),e(["vs/editor/editor.main"],function(n){P_(n),t.resolve(n)},function(n){t.reject(n)})}function P_(t){Rs().monaco||Od({monaco:t})}function bse(){return Rs(function(t){var e=t.monaco;return e})}var rg=new Promise(function(t,e){return Od({resolve:t,reject:e})}),ig={config:vse,init:hse,__getMonacoInstance:bse},wse=Object.defineProperty,Cse=Object.defineProperties,xse=Object.getOwnPropertyDescriptors,__=Object.getOwnPropertySymbols,Sse=Object.prototype.hasOwnProperty,Ose=Object.prototype.propertyIsEnumerable,I_=(t,e,n)=>e in t?wse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,og=(t,e)=>{for(var n in e||(e={}))Sse.call(e,n)&&I_(t,n,e[n]);if(__)for(var n of __(e))Ose.call(e,n)&&I_(t,n,e[n]);return t},kse=(t,e)=>Cse(t,xse(e));const lg={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}};function N_(t,e){const n=i.computed(()=>{const{width:r,height:o}=t;return kse(og({},lg.wrapper),{width:r,height:o})}),a=i.computed(()=>og(og({},lg.fullWidth),!e.value&&lg.hide));return{wrapperStyle:n,containerStyle:a}}function T_(){const t=i.shallowRef(ig.__getMonacoInstance()),e=i.ref(!1);let n;return i.onMounted(()=>{t.value||(n=ig.init(),n.then(r=>t.value=r).catch(r=>{(r==null?void 0:r.type)!=="cancelation"&&(e.value=!0,console.error("Monaco initialization error:",r))}))}),{monacoRef:t,unload:()=>n==null?void 0:n.cancel(),isLoadFailed:e}}function kd(t){return typeof t=="function"?t():t}function sg(t){return t===void 0}function cl(t,e,n,a){return Pse(t,a)||_se(t,e,n,a)}function Pse(t,e){return t.editor.getModel(E_(t,e))}function _se(t,e,n,a){return t.editor.createModel(e,n,a?E_(t,a):void 0)}function E_(t,e){return t.Uri.parse(e)}var Ise=Object.defineProperty,A_=Object.getOwnPropertySymbols,Nse=Object.prototype.hasOwnProperty,Tse=Object.prototype.propertyIsEnumerable,R_=(t,e,n)=>e in t?Ise(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ese=(t,e)=>{for(var n in e||(e={}))Nse.call(e,n)&&R_(t,n,e[n]);if(A_)for(var n of A_(e))Tse.call(e,n)&&R_(t,n,e[n]);return t};const Ase={display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"};var Rse=i.defineComponent({name:"VueMonacoEditor",model:{prop:"value",event:"update:value"},props:{defaultValue:String,defaultPath:String,defaultLanguage:String,value:String,language:String,path:String,theme:{type:String,default:"vs"},line:Number,options:{type:Object,default:()=>({})},overrideServices:{type:Object,default:()=>({})},saveViewState:{type:Boolean,default:!0},width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:"100%"},className:String},emits:["update:value","beforeMount","mount","change","validate"],setup(t,e){const n=new Map,a=i.shallowRef(null),{monacoRef:r,unload:o,isLoadFailed:l}=T_(),{editorRef:s}=Dse(e,t,r,a),{disposeValidator:c}=jse(e,t,r,s),d=i.computed(()=>!!r.value&&!!s.value),{wrapperStyle:u,containerStyle:f}=N_(t,d);return i.onUnmounted(()=>{var v,h;(v=c.value)==null||v.call(c),s.value?((h=s.value.getModel())==null||h.dispose(),s.value.dispose()):o()}),i.watch([()=>t.path,()=>t.value,()=>t.language,()=>t.line],([v,h,g,p],[m,y,b,w])=>{if(d.value){if(v!==m){const C=cl(r.value,h||t.defaultValue||"",g||t.defaultLanguage||"",v||t.defaultPath||"");t.saveViewState&&n.set(m,s.value.saveViewState()),s.value.setModel(C),t.saveViewState&&s.value.restoreViewState(n.get(v)),sg(p)||s.value.revealLine(p);return}s.value.getValue()!==h&&s.value.setValue(h),g!==b&&r.value.editor.setModelLanguage(s.value.getModel(),g),!sg(p)&&p!==w&&s.value.revealLine(p)}}),i.watch(()=>t.options,v=>s.value&&s.value.updateOptions(v),{deep:!0}),i.watch(()=>t.theme,v=>r.value&&r.value.editor.setTheme(v)),{containerRef:a,isEditorReady:d,isLoadFailed:l,wrapperStyle:u,containerStyle:f}},render(){const{$slots:t,isEditorReady:e,isLoadFailed:n,wrapperStyle:a,containerStyle:r,className:o}=this;return i.h("div",{style:a},[!e&&i.h("div",{style:Ase},n?t.failure?kd(t.failure):"load failed":t.default?kd(t.default):"loading..."),i.h("div",{ref:"containerRef",key:"monaco_editor_container",style:r,class:o})])}});function Dse({emit:t},e,n,a){const r=i.shallowRef(null);i.onMounted(()=>{const l=i.watch(n,()=>{a.value&&n.value&&(i.nextTick(()=>l()),o())},{immediate:!0})});function o(){var l;if(!a.value||!n.value||r.value)return;t("beforeMount",n.value);const s=e.path||e.defaultPath,c=cl(n.value,e.value||e.defaultValue||"",e.language||e.defaultLanguage||"",s||"");r.value=n.value.editor.create(a.value,Ese({model:c,theme:e.theme,automaticLayout:!0,autoIndent:"brackets",formatOnPaste:!0,formatOnType:!0},e.options),e.overrideServices),(l=r.value)==null||l.onDidChangeModelContent(d=>{const u=r.value.getValue();u!==e.value&&(t("update:value",u),t("change",u,d))}),r.value&&!sg(e.line)&&r.value.revealLine(e.line),t("mount",r.value,n.value)}return{editorRef:r}}function jse({emit:t},e,n,a){const r=i.ref(null),o=i.watch([n,a],()=>{if(n.value&&a.value){i.nextTick(()=>o());const l=n.value.editor.onDidChangeMarkers(s=>{var c,d;const u=(d=(c=a.value)==null?void 0:c.getModel())==null?void 0:d.uri;if(u&&s.find(v=>v.path===u.path)){const v=n.value.editor.getModelMarkers({resource:u});t("validate",v)}});r.value=()=>l==null?void 0:l.dispose()}});return{disposeValidator:r}}var Mse=Object.defineProperty,D_=Object.getOwnPropertySymbols,Fse=Object.prototype.hasOwnProperty,Lse=Object.prototype.propertyIsEnumerable,j_=(t,e,n)=>e in t?Mse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$se=(t,e)=>{for(var n in e||(e={}))Fse.call(e,n)&&j_(t,n,e[n]);if(D_)for(var n of D_(e))Lse.call(e,n)&&j_(t,n,e[n]);return t};const Bse={display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"};i.defineComponent({name:"VueMonacoDiffEditor",props:{original:String,modified:String,language:String,originalLanguage:String,modifiedLanguage:String,originalModelPath:String,modifiedModelPath:String,theme:{type:String,default:"vs"},options:{type:Object,default:()=>({})},width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:"100%"},className:String},setup(t,e){const n=i.shallowRef(null),{monacoRef:a,unload:r,isLoadFailed:o}=T_(),{diffEditorRef:l}=zse(e,t,a,n),s=i.computed(()=>!!a.value&&!!l.value),{wrapperStyle:c,containerStyle:d}=N_(t,s);return i.onUnmounted(()=>{var u,f,v,h,g,p,m,y;!a.value&&r();const b=(f=(u=l.value)==null?void 0:u.getModel)==null?void 0:f.call(u);(h=(v=b==null?void 0:b.original)==null?void 0:v.dispose)==null||h.call(v),(p=(g=b==null?void 0:b.modified)==null?void 0:g.dispose)==null||p.call(g),(y=(m=l.value)==null?void 0:m.dispose)==null||y.call(m)}),i.watch([()=>t.originalModelPath,()=>t.original,()=>t.originalLanguage,()=>t.language],([u,f,v,h],[g,p,m,y])=>{if(!s.value)return;const b=l.value.getOriginalEditor();if(u!==g){const w=cl(a.value,f||"",v||h||"text",u||"");b.setModel(w);return}f!==b.getValue()&&b.setValue(f||""),(v!==m||h!==y)&&a.value.editor.setModelLanguage(l.value.getModel().original,v||h||"text")}),i.watch([()=>t.modifiedModelPath,()=>t.modified,()=>t.modifiedLanguage,()=>t.language],([u,f,v,h],[g,p,m,y])=>{if(!s.value)return;const b=l.value.getModifiedEditor();if(g!==u){const w=cl(a.value,f||"",v||h||"text",u||"");b.setModel(w);return}if(f!==b.getValue()){const w=a.value.editor.EditorOption.readOnly;b.getOption(w)?b.setValue(f||""):(b.executeEdits("",[{range:b.getModel().getFullModelRange(),text:f||"",forceMoveMarkers:!0}]),b.pushUndoStop())}(v!==m||h!==y)&&a.value.editor.setModelLanguage(l.value.getModel().modified,v||h||"text")}),i.watch(()=>t.theme,()=>{var u;return(u=a.value)==null?void 0:u.editor.setTheme(t.theme)}),i.watch(()=>t.options,()=>{var u;return(u=l.value)==null?void 0:u.updateOptions(t.options)},{deep:!0}),{containerRef:n,isDiffEditorReady:s,isLoadFailed:o,wrapperStyle:c,containerStyle:d}},render(){const{$slots:t,isDiffEditorReady:e,isLoadFailed:n,wrapperStyle:a,containerStyle:r,className:o}=this;return i.h("div",{style:a},[!e&&i.h("div",{style:Bse},n?t.failure?kd(t.failure):"load failed":t.default?kd(t.default):"loading..."),i.h("div",{ref:"containerRef",key:"monaco_diff_editor_container",style:r,class:o})])}});function zse({emit:t},e,n,a){const r=i.shallowRef(null);i.onMounted(()=>{const l=i.watch(n,()=>{a.value&&n.value&&(i.nextTick(()=>l()),o())},{immediate:!0})});function o(){var l;if(!a.value||!n.value||r.value)return;t("beforeMount",n.value),r.value=n.value.editor.createDiffEditor(a.value,$se({automaticLayout:!0,autoIndent:"brackets",theme:e.theme,formatOnPaste:!0,formatOnType:!0},e.options));const s=cl(n.value,e.original||"",e.originalLanguage||e.language||"text",e.originalModelPath||""),c=cl(n.value,e.modified||"",e.modifiedLanguage||e.language||"text",e.modifiedModelPath||"");(l=r.value)==null||l.setModel({original:s,modified:c}),t("mount",r.value,n.value)}return{diffEditorRef:r}}ig.config({paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}});const Hse=()=>Promise.resolve().then(()=>Vpe),Wse=()=>Promise.resolve().then(()=>rme);function Use(t,e){console.log("install meta2d...",t),Ale(e==null?void 0:e.api),t.use(g_)}const Kse="/favicon.ico";/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */var M_;(function(t){t.pop="pop",t.push="push"})(M_||(M_={}));var F_;(function(t){t.back="back",t.forward="forward",t.unknown=""})(F_||(F_={})),Symbol(process.env.NODE_ENV!=="production"?"navigation failure":"");var L_;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(L_||(L_={})),Symbol(process.env.NODE_ENV!=="production"?"router view location matched":""),Symbol(process.env.NODE_ENV!=="production"?"router view depth":"");const Yse=Symbol(process.env.NODE_ENV!=="production"?"router":"");Symbol(process.env.NODE_ENV!=="production"?"route location":""),Symbol(process.env.NODE_ENV!=="production"?"router view location":"");function qse(){return i.inject(Yse)}function Ai(t,e){const n=e||new Path2D;let a=t.calculative.borderRadius||0,r=a;const{x:o,y:l,width:s,height:c,ex:d,ey:u}=t.calculative.worldRect;a<1&&(a=s*a,r=c*r);let f=a<r?a:r;if(s<2*f&&(f=s/2),c<2*f&&(f=c/2),n.moveTo(o+f,l),n.arcTo(d,l,d,u,f),n.arcTo(d,u,o,u,f),n.arcTo(o,u,o,l,f),n.arcTo(o,l,d,l,f),n.closePath(),n instanceof Path2D)return n}const Gse=Ai;function Xse(t,e){const n=e||new Path2D,{x:a,y:r,width:o,height:l}=t.calculative.worldRect;if(n.ellipse(a+o/2,r+l/2,o/2,l/2,0,0,Math.PI*2),n instanceof Path2D)return n}var mt=(t=>(t[t.Node=0]="Node",t[t.Line=1]="Line",t))(mt||{}),st=(t=>(t[t.None=0]="None",t[t.DisableEdit=1]="DisableEdit",t[t.DisableMove=2]="DisableMove",t[t.DisableScale=3]="DisableScale",t[t.DisableMoveScale=4]="DisableMoveScale",t[t.Disable=10]="Disable",t))(st||{}),Ds=(t=>(t[t.None=0]="None",t[t.Linear=1]="Linear",t[t.Radial=2]="Radial",t))(Ds||{}),gt=(t=>(t[t.CanvasTemplate=1]="CanvasTemplate",t[t.CanvasImageBottom=2]="CanvasImageBottom",t[t.CanvasMain=3]="CanvasMain",t[t.CanvasImage=4]="CanvasImage",t))(gt||{});const Jse=["text","textWidth","textHeight","textLeft","textTop","fontFamily","fontSize","lineHeight","fontStyle","fontWeight","textAlign","textBaseline","whiteSpace","ellipsis","keepDecimal"],Zse=["x","y","width","height","flipX","flipY"],Qse=["paddingTop","paddingRight","paddingBottom","paddingLeft","flipX","flipY","visible","showChild"],Vse=["iconLeft","iconTop","iconRotate"];var ca=(t=>(t[t.Normal=0]="Normal",t[t.Beads=1]="Beads",t[t.Dot=2]="Dot",t[t.Arrow=3]="Arrow",t[t.WaterDrop=4]="WaterDrop",t))(ca||{});const ece=["gif","iframe","video","echarts","highcharts","lightningCharts"],cg=["radio","checkbox","button","inputDom","slider","echarts"],js=new Set(["borderRadius","paddingLeft","paddingRight","paddingTop","paddingBottom","progress","progressColor","verticalProgress","reverseProgress","flipX","flipY","input","lineDash","lineCap","lineJoin","strokeType","lineGradientFromColor","lineGradientToColor","lineGradientAngle","color","hoverColor","activeColor","lineWidth","bkType","gradientFromColor","gradientToColor","gradientAngle","gradientRadius","hoverBackground","activeBackground","globalAlpha","anchorColor","anchorRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textHasShadow","fontFamily","fontSize","textColor","hoverTextColor","activeTextColor","textBackground","fontStyle","fontWeight","textAlign","textBaseline","lineHeight","whiteSpace","textWidth","textHeight","textLeft","textTop","ellipsis","hiddenText","keepDecimal","borderWidth","borderColor","animateLineWidth","lineAnimateType","frames","animateColor","animateType","animateReverse","background","gradientColors","lineGradientColors","animateLineWidth","gradientSmooth","lineSmooth","animations"]);function tce(t){t.onAdd=void 0,t.onValue=void 0,t.onBeforeValue=void 0,t.onDestroy=void 0,t.onMove=void 0,t.onResize=void 0,t.onRotate=void 0,t.onClick=void 0,t.onMouseEnter=void 0,t.onMouseLeave=void 0,t.onMouseDown=void 0,t.onMouseMove=void 0,t.onMouseUp=void 0,t.onShowInput=void 0,t.onInput=void 0,t.onChangeId=void 0,t.onBinds=void 0,t.onStartVideo=void 0,t.onPauseVideo=void 0,t.onStopVideo=void 0,t.onRenderPenRaw=void 0,t.onKeyDown=void 0,t.onContextmenu=void 0,t.onScale=void 0,t.onWheel=void 0,t.onConnectLine=void 0}var Fe=(t=>(t[t.None=0]="None",t[t.LineAnchor=1]="LineAnchor",t[t.NodeAnchor=2]="NodeAnchor",t[t.Line=3]="Line",t[t.Node=4]="Node",t[t.Resize=5]="Resize",t[t.Rotate=6]="Rotate",t[t.LineAnchorPrev=7]="LineAnchorPrev",t[t.LineAnchorNext=8]="LineAnchorNext",t))(Fe||{}),xt=(t=>(t[t.None=0]="None",t[t.Translate=1]="Translate",t[t.Select=2]="Select",t[t.Resize=3]="Resize",t[t.AddAnchor=4]="AddAnchor",t))(xt||{}),Hr=(t=>(t[t.None=0]="None",t[t.Down=1]="Down",t[t.Translate=2]="Translate",t))(Hr||{}),at=(t=>(t[t.None=-1]="None",t[t.Up=0]="Up",t[t.Right=1]="Right",t[t.Bottom=2]="Bottom",t[t.Left=3]="Left",t))(at||{});const $_=["nw-resize","ne-resize","se-resize","sw-resize"],B_=["n-resize","e-resize","s-resize","w-resize"],nce=["curve","polyline","line"],z_=["dash","lineWidth","lineCap","lineJoin","strokeType","color","lineGradientFromColor","lineGradientToColor","lineGradientAngle","globalAlpha","bkType","background","gradientFromColor","gradientToColor","gradientAngle","gradientRadius","fontFamily","fontSize","textColor","hoverTextColor","activeTextColor","textBackground","fontStyle","fontWeight","textAlign","textBaseline","lineHeight","whiteSpace","textLeft","textTop","flipX","flipY","lineDash","visible","iconColor"];var ul=(t=>(t[t.Mirror=0]="Mirror",t[t.Bilateral=1]="Bilateral",t[t.Free=2]="Free",t))(ul||{}),vn=(t=>(t[t.Default=0]="Default",t[t.In=1]="In",t[t.Out=2]="Out",t[t.DisableConnected=3]="DisableConnected",t[t.DisableConnectTo=4]="DisableConnectTo",t[t.Disable=10]="Disable",t))(vn||{}),Ri=(t=>(t[t.Default=0]="Default",t[t.Line=1]="Line",t))(Ri||{});function Ot(t,e,n){if(!e||e%360===0)return;const a=e*Math.PI/180,r=(t.x-n.x)*Math.cos(a)-(t.y-n.y)*Math.sin(a)+n.x,o=(t.x-n.x)*Math.sin(a)+(t.y-n.y)*Math.cos(a)+n.y;t.x=r,t.y=o,t.prev&&Ot(t.prev,e,n),t.next&&Ot(t.next,e,n)}function dl(t,e,n=5,a){if(e.type===1){let r=a.rotate;a.flipX&&(r*=-1),a.flipY&&(r*=-1);let o=e.rotate+r;return a.flipX&&(o*=-1),a.flipY&&(o*=-1),Kr(t,{x:e.x-e.length*a.calculative.canvas.store.data.scale/2,y:e.y-n,width:e.length*a.calculative.canvas.store.data.scale,height:n*2,rotate:o})}else return t.x>e.x-n&&t.x<e.x+n&&t.y>e.y-n&&t.y<e.y+n}function Pd(t,e,n){t.x=n.x-(n.x-t.x)*e,t.y=n.y-(n.y-t.y)*e}function ua(t,e){if(t.x===e.x)return t.y<=e.y?0:180;if(t.y===e.y)return t.x<e.x?270:90;const n=t.x-e.x,a=t.y-e.y;let r=Math.atan(Math.abs(n/a))/(2*Math.PI)*360;return n>0&&a>0?r=180-r:n<0&&a>0?r+=180:n<0&&a<0&&(r=360-r),r}function _d(t,e){const n=t.x-e.x,a=t.y-e.y;return Math.sqrt(n*n+a*a)}function ace(t,e){let n=at.None;if(!e)return n;const a=t.x-e.x,r=t.y-e.y;return Math.abs(a)>Math.abs(r)?a>0?n=at.Right:n=at.Left:r>0?n=at.Bottom:n=at.Up,n}function Ms(t,e,n){t&&(t.x+=e,t.y+=n,t.next&&(t.next.x+=e,t.next.y+=n),t.prev&&(t.prev.x+=e,t.prev.y+=n))}function H_(t,e){return t.anchorId===e.anchorId&&t.connectTo===e.connectTo}function Id(t,e,n){let a=Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))/n.data.scale;e.rotate===0?t.x<e.x?n.pens[e.penId].flipX||(a*=-1):n.pens[e.penId].flipX&&(a*=-1):t.y<e.y?n.pens[e.penId].flipY||(a*=-1):n.pens[e.penId].flipY&&(a*=-1),t.distance=a}const W_={name:"@meta2d/core",version:"1.0.42",description:"@meta2d/core: Powerful, Beautiful, Simple, Open - Web-Based 2D At Its Best .",main:"index.ts",types:"index.d.ts",scripts:{build:"tsc"},keywords:["meta2d","diagram","2D","canvas"],author:"alsmile123@qq.com",license:"MIT",repository:{type:"git",url:"git+https://github.com/le5le-com/meta2d.js.git"},bugs:{url:"https://github.com/le5le-com/meta2d.js/issues"},homepage:"https://github.com/le5le-com/meta2d.js#readme",devDependencies:{"@types/marked":"^4.0.3","@types/offscreencanvas":"latest"},dependencies:{mitt:"^2.1.0",mqtt:"^4.2.6"},publishConfig:{access:"public"},gitHead:"78f2a53ca1839c89b56e2e498d17ba4eb987ad14"},Ye={version:W_.version,path2dDraws:{},canvasDraws:{},anchors:{},htmlElements:{}};function Di(t){Object.assign(Ye.path2dDraws,t)}function fl(t){Object.assign(Ye.canvasDraws,t)}function ug(t){Object.assign(Ye.anchors,t)}function rce(t){return{all:t=t||new Map,on:function(e,n){var a=t.get(e);a&&a.push(n)||t.set(e,[n])},off:function(e,n){var a=t.get(e);a&&a.splice(a.indexOf(n)>>>0,1)},emit:function(e,n){(t.get(e)||[]).slice().map(function(a){a(n)}),(t.get("*")||[]).slice().map(function(a){a(e,n)})}}}var Fs=(t=>(t[t.None=-1]="None",t[t.Document=0]="Document",t[t.Canvas=1]="Canvas",t))(Fs||{});const ice={fontFamily:'"Hiragino Sans GB", "Microsoft YaHei", "Helvetica Neue", Helvetica, Arial',fontSize:12,lineHeight:1.5,textAlign:"center",textBaseline:"middle",color:"#222222",activeColor:"#278df8",hoverColor:"rgba(39,141,248,0.50)",anchorColor:"#278DF8",hoverAnchorColor:"#FF4101",anchorRadius:4,anchorBackground:"#fff",dockColor:"rgba(39,141,248,0.50)",dockPenColor:"#1890FF",dragColor:"#1890ff",rotateCursor:"rotate.cur",rightCursor:"right.cur",downCursor:"down.cur",hoverCursor:"pointer",minScale:.1,maxScale:10,keydown:0,gridSize:20,gridColor:"#e2e2e2",ruleColor:"#888888",drawingLineName:"curve",interval:30,animateInterval:30,autoPolyline:!0,autoAnchor:!0,autoAlignGrid:!1,animateColor:"#30EEDC",ruleLineColor:"#FF4101",shadowOffsetX:0,shadowOffsetY:0,shadowBlur:64,shadowColor:"#00000014",globalAlpha:1,defaultAnchors:[{x:.5,y:0},{x:1,y:.5},{x:.5,y:1},{x:0,y:.5}],measureTextWidth:!0,moveConnectedLine:!0,mouseRightActive:!0,disableClipboard:!1,drawingLineLength:0,disableTouchPadScale:!1,cdn:"",polylineSpace:10,domShapes:[],containerShapes:["tablePlus"],textFlip:!0,textRotate:!0,unavailableKeys:[],diagramOptions:{},svgPathStroke:!0},oce={dark:{color:"#bdc7db",background:"#1e2430",parentBackground:"#080b0f",ruleColor:"#222E47",ruleOptions:{background:"#121924",textColor:"#6E7B91"}},light:{color:"#222222",background:"#FFFFFF",parentBackground:"#F0F1F2",ruleColor:"#C8D0E1",ruleOptions:{background:"#F7F8FA",textColor:"#C8D0E1"}}};var Me=(t=>(t[t.Add=0]="Add",t[t.Update=1]="Update",t[t.Delete=2]="Delete",t[t.Replace=3]="Replace",t))(Me||{});const lce=()=>({data:{x:0,y:0,scale:1,pens:[],origin:{x:0,y:0},center:{x:0,y:0},paths:{},theme:"light"},histories:[],pens:{},path2dMap:new WeakMap,animateMap:new WeakMap,active:[],animates:new Set,options:{...ice},theme:{...oce},emitter:rce(),bindDatas:{},bind:{},pensNetwork:{},cacheDatas:[],messageEvents:{},templatePens:{},globalTriggers:{}}),sce=(t="default")=>(Ye[t]||(Ye[t]=lce(),Ye[t].id=t),Ye[t]),cce=(t,e)=>{const n=t.data.template===e;if(n)for(const a of t.data.pens)a.canvasLayer===gt.CanvasTemplate&&(t.templatePens[a.id]=a);t.lastScale=t.data.scale,t.data={x:0,y:0,scale:1,pens:[],origin:{x:0,y:0},center:{x:0,y:0},paths:{},template:n?e:null},t.sameTemplate=n,t.pens={},t.histories=[],t.historyIndex=null,t.path2dMap=new WeakMap,t.animateMap=new WeakMap,t.bindDatas={},t.bind={},t.pensNetwork={},t.active=[],t.hover=void 0,t.lastHover=void 0,t.animates.clear()};function Ua(t){const{paddingTop:e,paddingBottom:n,paddingLeft:a,paddingRight:r,worldRect:o,canvas:l}=t.calculative;let{textLeft:s,textTop:c,textWidth:d,textHeight:u}=t.calculative,f=a,v=e;const h=o.width-a-r,g=o.height-e-n;d&&d<1&&(d*=o.width),u&&u<1&&(u*=o.height),d<t.calculative.fontSize&&(d=t.calculative.fontSize),f+=(s||0)+o.x,v+=(c||0)+o.y;const p=t.textAlign||l.store.options.textAlign,m=t.textBaseline||l.store.options.textBaseline;switch(p){case"center":f+=(h-(d||h))/2;break;case"right":f+=h-(d||h);break}switch(m){case"middle":v+=(g-(u||g))/2;break;case"bottom":v+=g-(u||g);break}const y={x:f,y:v,width:d||h,height:u||g};Mt(y),t.calculative.worldTextRect=y,Ls(t),t.calculative.textDrawRect=void 0}function U_(t,e){const n=e.calculative.fontSize*e.calculative.lineHeight,a=e.calculative.textLines.length*n,r=uce(t,e),o=e.calculative.worldTextRect;let l=o.x+(o.width-r)/2,s=o.y+(o.height-a)/2;const c=e.calculative.canvas.store.options;switch(e.textAlign||c.textAlign){case"left":l=o.x;break;case"right":l=o.x+o.width-r;break}switch(e.textBaseline||c.textBaseline){case"top":s=o.y;break;case"bottom":s=o.ey-a;break}e.calculative.textDrawRect={x:l,y:s,width:r,height:a},Mt(e.calculative.textDrawRect)}function Ls(t,e=t.calculative.text){if(e==null){t.calculative.textLines=[];return}e=e.toString();let n=[];const a=t.calculative.fontSize*t.calculative.lineHeight,r=t.calculative.worldTextRect.height,o=Math.floor(r/a),l=o>1?o:1;switch(t.whiteSpace){case"nowrap":if(t.ellipsis!==!1){const u=Y_(e.split(""),t);u[0]&&(n.push(u[0]),u.length>1&&dg(n))}else n.push(e);break;case"pre-line":n=e.split(/[\n]/g),t.ellipsis!==!1&&n.length>l&&(n=n.slice(0,l),dg(n));break;case"break-all":default:const c=e.split(/[\n]/g);let d=0;e:for(const u of c){const f=t.whiteSpace==="break-all"?u.split(""):K_(u);let v=Y_(f,t);if(v.length===0&&(v=[""]),t.ellipsis!=!1)for(const h of v)if(d++,d>l){dg(n);break e}else n.push(h);else n.push(...v)}break}const s=t.calculative.keepDecimal;return s!=null&&n.forEach((c,d)=>{const u=Number(c);isNaN(u)||(n[d]=u.toFixed(s))}),t.calculative.textLines=n,n}function K_(t=""){const e=[];let n="";for(let a=0;a<t.length;++a){const r=t.charCodeAt(a);r<33||r>126?(n&&(e.push(n),n=""),e.push(t[a])):n+=t[a]}return n&&e.push(n),e}function Y_(t,e){const n=e.calculative.canvas,a=n.offscreen.getContext("2d"),{fontStyle:r,fontWeight:o,fontSize:l,fontFamily:s,lineHeight:c}=e.calculative;a.save();const d=[];let u=t[0]||"";for(let f=1;f<t.length;++f){const v=t[f]||"",h=u+v;let g=0;if(n.store.options.measureTextWidth)a.font=Jn({fontStyle:r,fontWeight:o,fontFamily:s||n.store.options.fontFamily,fontSize:l,lineHeight:c}),g=a.measureText(h).width;else{const m=h.match(/[^\x00-\xff]/g)||"",y=m.length*l,b=h.match(/\s/g)||"",w=b.length*l*.3,C=(h.length-m.length-b.length)*l*.6;g=y+w+C}const p=e.calculative.worldTextRect.width;g<=p+.1?u+=v:(u.length&&d.push(u),u=v)}return u.length&&d.push(u),a.restore(),d}function uce(t,e){let n=0;return e.calculative.textLineWidths=[],e.calculative.textLines.forEach(a=>{const r=t.measureText(a).width;e.calculative.textLineWidths.push(r),n<r&&(n=r)}),n}function dg(t){t[t.length-1]=t[t.length-1].slice(0,-3)+"..."}function dce(t){let e=t.text.split(`
`);const n=t.calculative.canvas,a=n.offscreen.getContext("2d"),{fontStyle:r,fontWeight:o,fontSize:l,fontFamily:s,lineHeight:c}=t.calculative;let d=0,u=0;a.save();for(let v=0;v<e.length;v++){if(n.store.options.measureTextWidth)a.font=Jn({fontStyle:r,fontWeight:o,fontFamily:s||n.store.options.fontFamily,fontSize:l,lineHeight:c}),u=a.measureText(e[v]).width;else{const h=e[v].match(/[^\x00-\xff]/g)||"",g=h.length*l,p=e[v].match(/\s/g)||"",m=p.length*l*.3,y=(e[v].length-h.length-p.length)*l*.6;u=g+m+y}u>d&&(d=u)}a.restore();let f=e.length*l*c;t.textAlign==="left"||(t.textAlign==="right"?t.x=t.x-(d-t.width):t.x=t.x-(d-t.width)/2),t.textBaseline==="top"||(t.textBaseline==="bottom"?t.y=t.y-(f-t.height):t.y=t.y-(f-t.height)/2),t.height=f+2,t.width=d+2,t.calculative.canvas.updatePenRect(t),t.calculative.canvas.calcActiveRect()}function fe(t,e=!1){if(Array.isArray(t)){const n=[];return t.forEach(a=>{n.push(fe(a,e))}),n}else if(typeof t=="object"){if(t===null)return null;if(t.constructor===RegExp)return t;const n={};for(const a in t)if(!(["canvas","lastFrame"].includes(a)||t[a]instanceof HTMLImageElement||t[a]instanceof HTMLMediaElement)){{if(a==="calculative"&&!e)continue;if(a==="singleton"){e?n[a]={}:n[a]=t[a];continue}}n[a]=fe(t[a],e)}return n}return t}function fg(t,e,n){if(Array.isArray(t)){const a=[];return t.forEach(r=>{a.push(fg(r,e,n))}),a}else if(typeof t=="object"){if(t===null)return null;for(const a in t)if(e.includes(a))if(Array.isArray(t[a]))t[a].forEach((r,o)=>{Number.isNaN(Number(r))||(t[a][o]=Number(r*n))});else{if(Number.isNaN(Number(t[a])))continue;t[a]=Number(t[a])*n}else t[a]=fg(t[a],e,n);return t}return t}const Gn={};function q_(t,e,n){if(!Gn[e.fromArrow])return;const a=Lt(e),{x:r,y:o}=a,l={x:r,y:o};if(l.step=(e.fromArrowSize||10)*n.data.scale,a.next)l.rotate=ua(a.next,a)+90;else{const c=e.calculative.worldAnchors[1];if(!c)return;c.prev?l.rotate=ua(c.prev,a)+90:l.rotate=ua(c,a)+90}t.save(),t.beginPath(),t.setLineDash([]);const s=e.fromArrowColor||e.calculative.color;s&&(t.strokeStyle=s),Gn[e.fromArrow](t,e,n,l),t.restore()}function G_(t,e,n){if(!Gn[e.toArrow]||e.calculative.worldAnchors.length<2)return;t.save();const a=bt(e),{x:r,y:o}=a,l={x:r,y:o};if(l.step=(e.toArrowSize||10)*n.data.scale,a.prev)l.rotate=ua(a.prev,a)+90;else{const c=e.calculative.worldAnchors[e.calculative.worldAnchors.length-2];c.next?l.rotate=ua(c.next,a)+90:l.rotate=ua(c,a)+90}t.beginPath(),t.setLineDash([]);const s=e.toArrowColor||e.calculative.color;s&&(t.strokeStyle=s),Gn[e.toArrow](t,e,n,l),t.restore()}Gn.triangleSolid=(t,e,n,a)=>{t.save(),t.translate(a.x,a.y),t.rotate(a.rotate*Math.PI/180),t.translate(-a.x,-a.y);const r=a.x-a.step;t.moveTo(r,a.y-a.step/4),t.lineTo(a.x,a.y),t.lineTo(r,a.y+a.step/4),t.closePath(),t.stroke(),t.fillStyle=t.strokeStyle,t.fill(),t.restore()},Gn.triangle=(t,e,n,a)=>{t.save(),t.lineWidth<2&&(t.lineWidth=2),t.translate(a.x,a.y),t.rotate(a.rotate*Math.PI/180),t.translate(-a.x,-a.y);const r=a.x-a.step;t.moveTo(r,a.y-a.step/4),t.lineTo(a.x,a.y),t.lineTo(r,a.y+a.step/4),t.closePath(),t.stroke(),t.fillStyle=n.data.background||"#ffffff",t.fill(),t.restore()},Gn.circleSolid=(t,e,n,a)=>{t.save(),t.translate(a.x,a.y),t.rotate(a.rotate*Math.PI/180),t.translate(-a.x,-a.y);const r=a.step/2;t.arc(a.x-r,a.y,r,0,2*Math.PI),t.stroke(),t.fillStyle=t.strokeStyle,t.fill(),t.restore()},Gn.circle=(t,e,n,a)=>{t.save(),t.translate(a.x,a.y),t.rotate(a.rotate*Math.PI/180),t.translate(-a.x,-a.y);const r=a.step/2;t.arc(a.x-r,a.y,r,0,2*Math.PI),t.stroke(),t.fillStyle=n.data.background||"#ffffff",t.fill(),t.restore()},Gn.diamondSolid=(t,e,n,a)=>{t.save(),t.translate(a.x,a.y),t.rotate(a.rotate*Math.PI/180),t.translate(-a.x,-a.y);const r=a.x-a.step,o=a.step/2;t.moveTo(r,a.y),t.lineTo(r+o,a.y-o/2),t.lineTo(a.x,a.y),t.lineTo(r+o,a.y+o/2),t.closePath(),t.stroke(),t.fillStyle=t.strokeStyle,t.fill(),t.restore()},Gn.diamond=(t,e,n,a)=>{t.save(),t.translate(a.x,a.y),t.rotate(a.rotate*Math.PI/180),t.translate(-a.x,-a.y);const r=a.x-a.step,o=a.step/2;t.moveTo(r,a.y),t.lineTo(r+o,a.y-o/2),t.lineTo(a.x,a.y),t.lineTo(r+o,a.y+o/2),t.closePath(),t.stroke(),t.fillStyle=n.data.background||"#ffffff",t.fill(),t.restore()},Gn.line=(t,e,n,a)=>{t.save(),t.translate(a.x,a.y),t.rotate(a.rotate*Math.PI/180),t.translate(-a.x,-a.y);const r=a.x-a.step;t.moveTo(r,a.y-a.step/3),t.lineTo(a.x,a.y),t.lineTo(r,a.y+a.step/3),t.stroke(),t.restore()},Gn.lineUp=(t,e,n,a)=>{t.save(),t.translate(a.x,a.y),t.rotate(a.rotate*Math.PI/180),t.translate(-a.x,-a.y);const r=a.x-a.step;t.moveTo(r,a.y-a.step/3),t.lineTo(a.x,a.y),t.stroke(),t.restore()},Gn.lineDown=(t,e,n,a)=>{t.save(),t.translate(a.x,a.y),t.rotate(a.rotate*Math.PI/180),t.translate(-a.x,-a.y);const r=a.x-a.step;t.moveTo(r,a.y+a.step/3),t.lineTo(a.x,a.y),t.stroke(),t.restore()};function vg(t){const e=parseInt,n=Math.round;let a=t.length,r={};if(a>9){const[o,l,s,c]=t=t.split(",");if(a=t.length,a<3||a>4)return null;r.r=e(o[3]=="a"?o.slice(5):o.slice(4)),r.g=e(l),r.b=e(s),r.a=c?parseFloat(c):-1}else{if(a==8||a==6||a<4)return null;a<6&&(t="#"+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+(a>4?t[4]+t[4]:"")),t=e(t.slice(1),16),a==9||a==5?(r.r=t>>24&255,r.g=t>>16&255,r.b=t>>8&255,r.a=n((t&255)/.255)/1e3):(r.r=t>>16,r.g=t>>8&255,r.b=t&255,r.a=-1)}return r}function ln(t,e,n,a){let r,o,l,s,c,d,u,f=Math.round,v=typeof n=="string";return typeof t!="number"||t<-1||t>1||typeof e!="string"||e[0]!="r"&&e[0]!="#"||n&&!v||(u=e.length>9,u=v?n.length>9?!0:n=="c"?!u:!1:u,c=vg(e),s=t<0,d=n&&n!="c"?vg(n):s?{r:0,g:0,b:0,a:-1}:{r:255,g:255,b:255,a:-1},t=s?t*-1:t,s=1-t,!c||!d)?null:(a?(r=f(s*c.r+t*d.r),o=f(s*c.g+t*d.g),l=f(s*c.b+t*d.b)):(r=f((s*c.r**2+t*d.r**2)**.5),o=f((s*c.g**2+t*d.g**2)**.5),l=f((s*c.b**2+t*d.b**2)**.5)),v=c.a,d=d.a,c=v>=0||d>=0,v=c?v<0?d:d<0?v:v*s+d*t:0,u?"rgb"+(c?"a(":"(")+r+","+o+","+l+(c?","+f(v*1e3)/1e3:"")+")":"#"+(4294967296+r*16777216+o*65536+l*256+(c?f(v*255):0)).toString(16).slice(1,c?void 0:-2))}globalThis.pSBC=ln;function Nd(t,e){const n=vg(t)||{r:0,g:0,b:0};return n.a<0?`rgba(${n.r},${n.g},${n.b},${e})`:`rgba(${n.r},${n.g},${n.b},${e+n.a})`}function vl(t,e){if(isNaN(t)){console.warn("realValue not number");return}if(typeof e!="string"){console.warn("collection must be string");return}const[n,a]=[e[0],e[e.length-1]];if(!["[","("].includes(n)){console.warn('collection must start with "[" or "("');return}if(!["]",")"].includes(a)){console.warn('collection must end with "]" or ")"');return}const r=e.substring(1,e.length-1).split(",");if(r.length!==2){console.warn("collection must have 2 numbers");return}const[o,l]=[+r[0],+r[1]];if(o>=l){console.warn("startNum must less than endNum");return}return t>o||n==="["&&t===o?t<l||a==="]"&&t===l:!1}function hl(t,e){if(typeof e!="string"){console.warn("collection must be string");return}const[n,a]=[e[0],e[e.length-1]];if(n!=="["||a!=="]"){console.warn('collection must start with "[" and end with "]"');return}const r=e.substring(1,e.length-1).split(",");for(const o of r)if(o.includes("..")){const[l,s]=o.split(".."),[c,d]=[+l,+s];if(c>=d){console.warn("startNum must less than endNum");return}if(t>=c&&t<=d)return!0}else if(t==o)return!0;return!1}function fce(){return((1+Math.random())*65536|0).toString(16).substring(1)}function Ue(){return((1+Math.random())*4294967296|0).toString(16).substring(1)}function vce(){return fce()+Ue()}const wr=t=>{let e=0,n=0,a=0,r=0;return typeof t=="number"?e=n=a=r=t:typeof t=="string"?e=n=a=r=parseInt(t,10):Array.isArray(t)&&(e=t[0],a=hg(t[1])?t[0]:t[1],r=hg(t[2])?t[0]:t[2],n=hg(t[3])?a:t[3]),[e,a,r,n]};function hg(t){return t==null}async function hce(t){return new Promise((e,n)=>{const a=new FileReader;a.onload=r=>{e(r.target.result)},a.onerror=r=>{n(r)},a.readAsDataURL(t)})}async function gce(t,e,n,a){const r=new FormData;if(r.append("file",t),n)for(const l in n)n.hasOwnProperty(l)&&r.append(l,n[l]);return(await(await fetch(e,{method:"POST",headers:a,body:r})).json()).url}function pce(t,e,n){var a=document.createElement("link");a.href=t,a.rel="stylesheet",e&&(a.onload=e),document.head.appendChild(a)}function gg(t){let e=t||window.location.search.split("?")[1];const n=new URLSearchParams(e);return Object.fromEntries(n.entries())}function gl(t,e){if(e==null)return t;const n=e.split(".");for(;n.length&&(t=t[n.shift()]););return t}function pg(t,e,n){e!=null&&e.split(".").reduce((a,r,o)=>a[r]=e.split(".").length===++o?n:a[r]||{},t)}function mce(t){const e=["天","一","二","三","四","五","六"],n=new Date,a=n.getFullYear(),r=n.getMonth()+1,o=n.getDate(),l=n.getDay(),s=n.getHours(),c=n.getMinutes(),d=n.getSeconds();return new Function("year","month","day","week","hours","minutes","seconds",t?`return ${t}`:"return `${year}:${month}:${day} ${hours}:${minutes}:${seconds} 星期${week}`")(a,r,o,e[l],s,c,d)}function yce(t,e){if(!t||!e)return!1;let n=Xn(t);for(;n;){if(n.id===e.id)return!0;n=Xn(n)}return!1}function Xn(t,e){if(!t||!t.parentId||!t.calculative)return;const a=t.calculative.canvas.store.pens[t.parentId];return e&&Xn(a,e)||a}function Ka(t,e){if(!t||!t.children)return[];const n=[];return t.children.forEach(a=>{const r=e.pens[a];r&&(n.push(r),n.push(...Ka(r,e)))}),n}function mg(t,e){if(!t||!t.followers)return[];const n=[];return t.followers.forEach(a=>{const r=e.pens[a];r&&!r.parentId&&(n.push(r),n.push(...mg(r,e)))}),n}function bce(t,e){const{worldRect:n,gradientFromColor:a,gradientToColor:r,gradientAngle:o}=e.calculative;return Z_(t,n,a,r,o)}function wce(t,e){const{worldRect:n,gradientFromColor:a,gradientToColor:r,gradientRadius:o}=e.calculative;if(!a||!r)return;const{width:l,height:s,center:c}=n,{x:d,y:u}=c;let f=l;f<s&&(f=s),f*=.5;const v=t.createRadialGradient(d,u,f*(o||0),d,u,f);return v.addColorStop(0,a),v.addColorStop(1,r),v}function Cce(t,e,n,a,r){let o=0;o=Math.PI/2-Math.atan2(a-e,n-t);const l=(t+n)/2,s=(e+a)/2,c=l+r*Math.sin(90*Math.PI/180-o),d=s+r*-Math.cos(90*Math.PI/180-o),u=l+r*Math.sin(270*Math.PI/180-o),f=s+r*-Math.cos(270*Math.PI/180-o);return[c,d,u,f]}function xce(t,e){const{worldRect:n,gradientColors:a,gradientRadius:r}=e.calculative;if(!a)return;let o=e.calculative.gradientColors;e.calculative.checked&&(o=e.calculative.onGradientColors);const{width:l,height:s,center:c}=n,{x:d,y:u}=c;let f=l;f<s&&(f=s),f*=.5;const{colors:v}=ji(o),h=t.createRadialGradient(d,u,f*(r||0),d,u,f);return v.forEach(g=>{h.addColorStop(g.i,g.color)}),h}function Sce(t,e){const{x:n,y:a,ex:r,width:o,height:l,center:s}=e.calculative.worldRect;let c=[{x:r,y:a+l/2},{x:n,y:a+l/2}],d=e.calculative.gradientColors;e.calculative.checked&&(d=e.calculative.onGradientColors);const{angle:u,colors:f}=ji(d);let v=yg(u,o,l);return c.forEach(h=>{Ot(h,u,s)}),Td(t,c,f,v)}function Oce(t,e){const{worldRect:n,textGradientColors:a}=e.calculative;if(!a)return;const{width:r,height:o,center:l}=n,{x:s,y:c}=l;let d=r;d<o&&(d=o),d*=.5;const{colors:u}=ji(a),f=t.createRadialGradient(s,c,0,s,c,d);return u.forEach(v=>{f.addColorStop(v.i,v.color)}),f}function kce(t,e){const{x:n,y:a,ex:r,width:o,height:l,center:s}=e.calculative.worldRect;let c=[{x:r,y:a+l/2},{x:n,y:a+l/2}];const{angle:d,colors:u}=ji(e.calculative.textGradientColors);let f=yg(d,o,l);return c.forEach(v=>{Ot(v,d,s)}),Td(t,c,u,f)}function yg(t,e,n){const a=Math.atan(n/e)/Math.PI*180;let r=(t-90)%360,o=0;return r>a&&r<180-a||r>180+a&&r<360-a||r<0?(r>270?r=360-r:r>180?r=r-180:r>90&&(r=180-r),o=Math.abs(n/Math.sin(r/180*Math.PI)/2)):(r>270?r=360-r:r>180?r=r-180:r>90&&(r=180-r),o=Math.abs(e/Math.cos(r/180*Math.PI)/2)),o}function ji(t){if(typeof t=="string"&&t.startsWith("linear-gradient")){let e=t.slice(16,-2).split("deg,");if(e.length>1){let n=e[1].split("%,");const a=[];return n.forEach(r=>{if(/rgba?/.test(r)){let o=r.split(") ");a.push({color:Pce(o[0]+")"),i:parseFloat(o[1])/100})}else{let o=r.split(" ");o.length>2?a.push({color:o[1],i:parseFloat(o[2])/100}):a.push({color:o[0],i:parseFloat(o[1])/100})}}),{angle:parseFloat(e[0]),colors:a}}else return{angle:parseFloat(e[0]),colors:[]}}else return{angle:0,colors:[]}}function Pce(t){if(/rgba?/.test(t)){let e=t.split(",");if(e.length<3)return"";t="#";for(let n=0,a;a=e[n++];)if(n<4)a=parseInt(a.replace(/[^\d]/gi,""),10).toString(16),t+=a.length==1?"0"+a:a;else{a=a.replace(")","");let o=parseInt(a*255+"").toString(16);o=o.length===2?o:"0"+o,t+=o}t=t.toUpperCase()}return t}function _ce(t,e){const{x:n,y:a,ex:r,width:o,height:l,center:s}=e.calculative.worldRect;let c=[{x:r,y:a+l/2},{x:n,y:a+l/2}];const{angle:d,colors:u}=ji(e.calculative.lineGradientColors);let f=yg(d,o,l);return c.forEach(v=>{Ot(v,d,s)}),Td(t,c,u,f)}function Td(t,e,n,a){let r=Cce(e[0].x,e[0].y,e[1].x,e[1].y,a),o=t.createLinearGradient(r[0],r[1],r[2],r[3]);return n.forEach(l=>{o.addColorStop(l.i,l.color)}),o}function Wr(t,e,n){let a=[];e.calculative.gradientColorStop?a=e.calculative.gradientColorStop:(a=ji(e.calculative.lineGradientColors).colors,e.calculative.gradientColorStop=a),t.strokeStyle=Td(t,n,a,e.calculative.lineWidth/2),t.beginPath(),t.moveTo(n[0].x,n[0].y),t.lineTo(n[1].x,n[1].y),t.stroke()}function X_(t,e){const n=e.calculative.worldAnchors;let a=e.calculative.lineWidth*(e.calculative.gradientSmooth||e.calculative.lineSmooth||0);for(let r=0;r<n.length-1;r++)if((e.lineName==="curve"||e.lineName==="mind")&&n[r].curvePoints){if(r>0){let s=n[r-1].curvePoints;s?Ed(t,e,a,s[s.length-1],n[r],n[r].curvePoints[0]):Ed(t,e,a,n[r-1],n[r],n[r].curvePoints[0]);let c=Cr(a,n[r],n[r].curvePoints[0]);Wr(t,e,[c,n[r].curvePoints[1]])}else Wr(t,e,[n[r],n[r].curvePoints[0]]),Wr(t,e,[n[r].curvePoints[0],n[r].curvePoints[1]]);let o=n[r].curvePoints.length-1;for(let s=1;s<o;s++)Wr(t,e,[n[r].curvePoints[s],n[r].curvePoints[s+1]]);let l=Cr(a,n[r+1],n[r].curvePoints[o]);Wr(t,e,[n[r].curvePoints[o],l])}else{let o=n[r],l=n[r+1];if(r>0&&r<n.length-1){let c=n[r-1].curvePoints;c?Ed(t,e,a,c[c.length-1],n[r],n[r+1]):Ed(t,e,a,n[r-1],n[r],n[r+1])}r>0&&r<n.length-1&&(o=Cr(a,n[r],n[r+1])),r<n.length-2&&(l=Cr(a,n[r+1],n[r]));let s=!1;if(r===0&&e.fromLineCap&&e.fromLineCap!=="butt"&&(t.save(),s=!0,t.lineCap=e.fromLineCap),r!==0&&r===n.length-2&&e.toLineCap&&e.toLineCap!=="butt"&&(t.save(),s=!0,t.lineCap=e.toLineCap),Wr(t,e,[o,l]),s&&t.restore(),n.length===2&&r===0){t.save(),s=!0,t.lineCap=e.toLineCap;let c=.1,d=.1;o.x-l.x===0?d=0:c=(o.y-l.y)/(o.x-l.x)*.1,Wr(t,e,[{x:l.x-d,y:l.y-c},l]),t.restore()}}}function Cr(t,e,n){let a=Math.sqrt((n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y));return a===0?{x:e.x,y:e.y}:t<a?{x:e.x+(n.x-e.x)*t/a,y:e.y+(n.y-e.y)*t/a}:{x:e.x+(n.x-e.x)/a/2,y:e.y+(n.y-e.y)/a/2}}function Ed(t,e,n,a,r,o){let l=Cr(n,r,a),s=Cr(n,r,o),c={x:r.x,y:r.y},d=Ice(e.calculative.canvas.store.data.smoothNum||20,l,c,s);for(let u=0;u<d.length-1;u++)Wr(t,e,[{x:d[u].x,y:d[u].y},{x:d[u+1].x,y:d[u+1].y}])}function J_(t,e,n,a){let r=Cr(e,n,a),o={x:n.x,y:n.y};t.quadraticCurveTo(o.x,o.y,r.x,r.y)}function bg(t){const e=t.calculative.worldAnchors;let n=t.calculative.lineWidth*(t.calculative.gradientSmooth||t.calculative.lineSmooth||0);const a=new Path2D;for(let r=0;r<e.length-1;r++){e[r];let o=e[r+1];if(r==0&&a.moveTo(e[r].x,e[r].y),r>0&&r<e.length-1){let l=e[r-1].curvePoints;J_(a,n,e[r],e[r+1])}r>0&&r<e.length-1&&Cr(n,e[r],e[r+1]),r<e.length-2&&(o=Cr(n,e[r+1],e[r])),a.lineTo(o.x,o.y)}return a}function Ice(t=100,e,n,a,r){let o=null;const l=[];!a&&!r?o=Nce:a&&!r?o=Tce:a&&r&&(o=Ece);for(let s=0;s<t;s++)l.push(o(s/t,e,n,a,r));return a&&l.push(a),l}function Nce(t,e,n){const{x:a,y:r}=e,{x:o,y:l}=n;let s=a+(o-a)*t,c=r+(l-r)*t;return{x:s,y:c}}function Tce(t,e,n,a){const{x:r,y:o}=e,{x:l,y:s}=n,{x:c,y:d}=a;let u=(1-t)*(1-t)*r+2*t*(1-t)*l+t*t*c,f=(1-t)*(1-t)*o+2*t*(1-t)*s+t*t*d;return{x:u,y:f}}function Ece(t,e,n,a,r){const{x:o,y:l}=e,{x:s,y:c}=r,{x:d,y:u}=n,{x:f,y:v}=a;let h=o*(1-t)*(1-t)*(1-t)+3*d*t*(1-t)*(1-t)+3*f*t*t*(1-t)+s*t*t*t,g=l*(1-t)*(1-t)*(1-t)+3*u*t*(1-t)*(1-t)+3*v*t*t*(1-t)+c*t*t*t;return{x:h,y:g}}function Ace(t,e){const{worldRect:n,lineGradientFromColor:a,lineGradientToColor:r,lineGradientAngle:o}=e.calculative;return Z_(t,n,a,r,o)}function Z_(t,e,n,a,r){if(!n||!a)return;const{x:o,y:l,center:s,ex:c,ey:d}=e,u={x:o,y:s.y},f={x:c,y:s.y};r%90===0&&r%180?(u.x=s.x,f.x=s.x,r%270?(u.y=l,f.y=d):(u.y=d,f.y=l)):r&&(Ot(u,r,e.center),Ot(f,r,e.center));const v=t.createLinearGradient(u.x,u.y,f.x,f.y);return v.addColorStop(0,n),v.addColorStop(1,a),v}function Rce(t){const{worldIconRect:e,iconWidth:n,iconHeight:a,imgNaturalWidth:r,imgNaturalHeight:o}=t.calculative;let{x:l,y:s,width:c,height:d}=e;if(n&&(c=n),a&&(d=a),r&&o&&t.imageRatio){const u=e.width/r,f=e.height/o,v=Math.min(u,f),h=r/o;n?d=n/h:a?c=a*h:(c=v*r,d=v*o)}switch(l+=(e.width-c)/2,s+=(e.height-d)/2,t.iconAlign){case"top":s=e.y;break;case"bottom":s=e.ey-d;break;case"left":l=e.x;break;case"right":l=e.ex-c;break;case"left-top":l=e.x,s=e.y;break;case"right-top":l=e.ex-c,s=e.y;break;case"left-bottom":l=e.x,s=e.ey-d;break;case"right-bottom":l=e.ex-c,s=e.ey-d;break}return{x:l,y:s,width:c,height:d}}function pl(t,e){const{x:n,y:a,width:r,height:o}=Rce(e),{worldIconRect:l,iconRotate:s,img:c}=e.calculative;if(s){const{x:d,y:u}=l.center;t.translate(d,u),t.rotate(s*Math.PI/180),t.translate(-d,-u)}if(e.imageRadius){t.save();let d=e.calculative.imageRadius||0,u=d;const{x:f,y:v,width:h,height:g,ex:p,ey:m}=e.calculative.worldRect;d<1&&(d=h*d,u=g*u);let y=d<u?d:u;h<2*y&&(y=h/2),g<2*y&&(y=g/2),t.beginPath(),t.moveTo(f+y,v),t.arcTo(p,v,p,m,y),t.arcTo(p,m,f,m,y),t.arcTo(f,m,f,v,y),t.arcTo(f,v,p,v,y),t.clip(),t.drawImage(c,n,a,r,o),t.restore()}else t.drawImage(c,n,a,r,o)}function Ur(t,e){const{textColor:n,color:a}=t.calculative,{data:r,options:o}=e;return n||a||r.textColor||r.color||o.textColor||o.color}function Q_(t,e){const{fontStyle:n,fontWeight:a,fontSize:r,fontFamily:o,lineHeight:l,text:s,hiddenText:c,canvas:d,textHasShadow:u,textBackground:f,textType:v}=e.calculative;if(s==null||c)return;const h=d.store;t.save(),u||(t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0);let g;e.calculative.disabled?g=e.disabledTextColor||e.disabledColor||ln(.4,Ur(e,h)):e.calculative.hover?g=e.hoverTextColor||e.hoverColor||h.options.hoverColor:e.calculative.active&&(g=e.activeTextColor||e.activeColor||h.options.activeColor);let p;v===Ds.Linear?p=kce(t,e):v===Ds.Radial&&(p=Oce(t,e)),t.fillStyle=g||p||Ur(e,h),t.font=Jn({fontStyle:n,fontWeight:a,fontFamily:o||h.options.fontFamily,fontSize:r,lineHeight:l}),!e.calculative.textDrawRect&&U_(t,e);const{x:m,y,width:b,height:w}=e.calculative.textDrawRect;f&&(t.save(),t.fillStyle=f,t.fillRect(m,y,b,w),t.restore());const C=.55,x=e.textAlign||h.options.textAlign,k=r*l;e.calculative.textLines.forEach((P,I)=>{const D=e.calculative.textLineWidths[I];let L=0;x==="center"?L=(b-D)/2:x==="right"&&(L=b-D),t.fillText(P,m+L,y+(I+C)*k);const{textDecorationColor:O,textDecorationDash:S,textDecoration:_}=e;_&&Dce(t,{x:m+L,y:y+(I+C)*k,width:D},{textDecorationColor:O,textDecorationDash:S,fontSize:r});const{textStrickoutColor:A,textStrickoutDash:E,textStrickout:R}=e;R&&jce(t,{x:m+L,y:y+(I+C)*k,width:D},{textStrickoutColor:A,textStrickoutDash:E,fontSize:r})}),t.restore()}function Dce(t,e,n){const{textDecorationColor:a,textDecorationDash:r,fontSize:o}=n;let{x:l,y:s,width:c}=e;switch(t.textBaseline){case"top":s+=o;break;case"middle":s+=o/2;break}t.save(),t.beginPath(),t.strokeStyle=a||t.fillStyle,t.lineWidth=1,t.moveTo(l,s),t.setLineDash(r||[]),t.lineTo(l+c,s),t.stroke(),t.restore()}function jce(t,e,n){const{textStrickoutColor:a,textStrickoutDash:r,fontSize:o}=n;let{x:l,y:s,width:c}=e;switch(t.textBaseline){case"top":s+=o/2;break;case"bottom":s-=o/2;break}t.save(),t.beginPath(),t.strokeStyle=a||t.fillStyle,t.lineWidth=1,t.moveTo(l,s),t.setLineDash(r||[]),t.lineTo(l+c,s),t.stroke(),t.restore()}function V_(t,e,n){if(n==null)return;const{fontStyle:a,fontWeight:r,fontSize:o,fontFamily:l,lineHeight:s,canvas:c}=e.calculative,d=c.store;t.save();let u;e.calculative.hover?u=e.hoverTextColor||e.hoverColor||d.options.hoverColor:e.calculative.active&&(u=e.activeTextColor||e.activeColor||d.options.activeColor),t.fillStyle=u||Ur(e,d),t.font=Jn({fontStyle:a,fontWeight:r,fontFamily:l||d.options.fontFamily,fontSize:o,lineHeight:s});const f=t.measureText(n).width;let v,h;for(const g of e.calculative.worldAnchors){if(!h){h=g;continue}const p=_d(h,g),m=Math.floor(p/f);v="";for(let b=0;b<m;b++)v+=n;const y=ua(h,g)-270;if(t.save(),y%360!==0){const{x:b,y:w}=h;t.translate(b,w);let C=y*Math.PI/180;t.rotate(C),t.translate(-b,-w)}t.fillText(v,h.x,h.y+s/2),t.restore(),h=g}t.restore()}function eI(t,e){const n=e.calculative.canvas.store;t.save(),t.shadowColor="",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0,t.textAlign="center",t.textBaseline="middle";const a=e.calculative.worldIconRect;let r=a.x+a.width/2,o=a.y+a.height/2;switch(e.iconAlign){case"top":o=a.y,t.textBaseline="top";break;case"bottom":o=a.ey,t.textBaseline="bottom";break;case"left":r=a.x,t.textAlign="left";break;case"right":r=a.ex,t.textAlign="right";break;case"left-top":r=a.x,o=a.y,t.textAlign="left",t.textBaseline="top";break;case"right-top":r=a.ex,o=a.y,t.textAlign="right",t.textBaseline="top";break;case"left-bottom":r=a.x,o=a.ey,t.textAlign="left",t.textBaseline="bottom";break;case"right-bottom":r=a.ex,o=a.ey,t.textAlign="right",t.textBaseline="bottom";break}const l=e.calculative.iconWeight;let s;const c=e.calculative.iconFamily;e.calculative.iconSize>0?s=e.calculative.iconSize:a.width>a.height?s=a.height:s=a.width,t.font=Jn({fontSize:s,fontWeight:l,fontFamily:c}),t.fillStyle=e.calculative.iconColor||Ur(e,n),e.calculative.iconRotate&&(t.translate(a.center.x,a.center.y),t.rotate(e.calculative.iconRotate*Math.PI/180),t.translate(-a.center.x,-a.center.y)),t.beginPath(),t.fillText(e.calculative.icon,r,o),t.restore()}function tI(t,e){const n=e.calculative.canvas.store.data.scale,a=e.calculative.canvas.inputDiv.dataset.penId,{x:r,y:o,width:l,height:s}=e.calculative.worldRect;t.save(),t.beginPath(),e.id===a?(t.moveTo(r+l-20*n,o+s/2+2*n),t.lineTo(r+l-14*n,o+s/2-4*n),t.lineTo(r+l-8*n,o+s/2+2*n)):(t.moveTo(r+l-20*n,o+s/2-4*n),t.lineTo(r+l-14*n,o+s/2+2*n),t.lineTo(r+l-8*n,o+s/2-4*n)),t.stroke(),t.restore()}function Jn({fontStyle:t="normal",textDecoration:e="normal",fontWeight:n="normal",fontSize:a=12,fontFamily:r="Arial",lineHeight:o=1}={}){return`${t} ${e} ${n} ${a}px/${o} ${r}`}function Mi(t,e){const{x:n,ex:a,y:r,ey:o}=e.calculative.worldRect||{};e.calculative.flipX&&(t.translate(n+a+.5,.5),t.scale(-1,1)),e.calculative.flipY&&(t.translate(.5,r+o+.5),t.scale(1,-1))}function xr(t,e,n=!1){const{x:a,y:r}=e.calculative.worldRect.pivot||e.calculative.worldRect.center;t.translate(a,r);let o=e.calculative.rotate*Math.PI/180;n||(e.calculative.flipX&&(o*=-1),e.calculative.flipY&&(o*=-1)),t.rotate(o),t.translate(-a,-r)}function Fi(t,e,n){t.save(),t.translate(.5,.5),t.beginPath();const a=e.calculative.canvas.store,r=e.textFlip||a.options.textFlip,o=e.textRotate||a.options.textRotate;(!r||!o)&&t.save(),Mi(t,e),e.calculative.rotate&&e.name!=="line"&&xr(t,e),(e.calculative.lineWidth>1||n)&&(t.lineWidth=e.calculative.lineWidth),Kce(t,a,e);let l,s=!1,c;e.calculative.disabled?(c=e.disabledColor||a.options.disabledColor||ln(.4,e.calculative.color||$s(a)),l=e.disabledBackground||a.options.disabledBackground||ln(.4,e.calculative.background||a.data.penBackground)):e.mouseDownValid&&e.calculative.mouseDown?(c=e.mouseDownColor||ln(-.4,e.calculative.color||$s(a)),l=e.mouseDownBackground||ln(-.4,e.calculative.background||a.data.penBackground)):e.switch&&e.calculative.checked?e.calculative.bkType||(l=e.onBackground):e.calculative.hover?(c=e.hoverColor||a.options.hoverColor,l=e.hoverBackground||a.options.hoverBackground):e.calculative.active?(c=e.activeColor||a.options.activeColor,l=e.activeBackground||a.options.activeBackground):e.calculative.isDock&&(e.type===mt.Line?c=a.options.dockPenColor:l=Nd(a.options.dockPenColor,.2));const d=e.calculative.strokeImg;if(e.calculative.strokeImage&&d)t.strokeStyle=c||t.createPattern(d,"repeat");else{let f;e.calculative.strokeType?e.calculative.lineGradientColors?e.name==="line"?s=!0:e.calculative.lineGradient?f=e.calculative.lineGradient:(f=_ce(t,e),e.calculative.lineGradient=f):f=Ace(t,e):f=e.calculative.color||(e.type?a.data.lineColor:"")||$s(a),t.strokeStyle=c||f}const u=e.calculative.backgroundImg;if(e.calculative.backgroundImage&&u)t.fillStyle=l||t.createPattern(u,"repeat"),l=!0;else{let f;e.calculative.bkType===Ds.Linear?e.calculative.gradientColors?e.calculative.gradient?f=e.calculative.gradient:(f=Sce(t,e),e.calculative.gradient=f):f=bce(t,e):e.calculative.bkType===Ds.Radial?e.calculative.gradientColors?e.calculative.radialGradient?f=e.calculative.radialGradient:(f=xce(t,e),e.calculative.radialGradient=f):f=wce(t,e):f=e.calculative.background||a.data.penBackground,t.fillStyle=l||f,l=!!f}if(nI(t,e),aI(t,e),$i(t,e),e.calculative.lineDash&&t.setLineDash(e.calculative.lineDash.map(f=>f*e.calculative.canvas.store.data.scale)),e.calculative.lineDashOffset&&(t.lineDashOffset=e.calculative.lineDashOffset),e.calculative.shadowColor&&(t.shadowColor=e.calculative.shadowColor,t.shadowOffsetX=e.calculative.shadowOffsetX,t.shadowOffsetY=e.calculative.shadowOffsetY,t.shadowBlur=e.calculative.shadowBlur),s?(X_(t,e),iI(!0,t,e,a)):(rI(!0,t,e,a,l),yI(t,e)),!(e.image&&e.calculative.img)&&e.calculative.icon&&eI(t,e),e.dropdownList&&tI(t,e),(!r||!o)&&t.restore(),r&&!o&&Mi(t,e),!r&&o&&e.calculative.rotate&&e.name!=="line"&&xr(t,e,!0),Q_(t,e),e.type===mt.Line&&e.fillTexts)for(const f of e.fillTexts)V_(t,e,f);t.restore()}function nI(t,e){const n=e.lineCap||(e.type?"round":"square");n?t.lineCap=n:e.type&&(t.lineCap="round")}function aI(t,e){const n=e.lineJoin;n?t.lineJoin=n:e.type&&(t.lineJoin="round")}function Ad(t,e,n,a){var d;t.save(),n&&t.translate(-n.x,-n.y),(d=t.setAttrs)==null||d.call(t,e);let r=!1;const o=e.calculative.canvas.store,l=e.textFlip||o.options.textFlip,s=e.textRotate||o.options.textRotate;t.beginPath(),(!l||!s)&&t.save(),e.calculative.flipX&&(t.translate(e.calculative.worldRect.x+e.calculative.worldRect.ex,0),t.scale(-1,1)),e.calculative.flipY&&(t.translate(0,e.calculative.worldRect.y+e.calculative.worldRect.ey),t.scale(1,-1)),e.calculative.rotate&&e.name!=="line"&&xr(t,e),(e.calculative.lineWidth>1||a)&&(t.lineWidth=e.calculative.lineWidth);let c;if(e.calculative.hover)t.strokeStyle=e.hoverColor||o.options.hoverColor,t.fillStyle=e.hoverBackground||o.options.hoverBackground,c=e.hoverBackground||o.options.hoverBackground;else if(e.calculative.active)t.strokeStyle=e.activeColor||o.options.activeColor,t.fillStyle=e.activeBackground||o.options.activeBackground,c=e.activeBackground||o.options.activeBackground;else{if(e.strokeImage)e.calculative.strokeImg&&(t.strokeStyle=t.createPattern(e.calculative.strokeImg,"repeat"),c=!0);else{let u;e.calculative.strokeType&&e.calculative.lineGradientColors&&e.name==="line"?r=!0:u=e.calculative.color||$s(o),t.strokeStyle=u}e.backgroundImage?e.calculative.backgroundImg&&(t.fillStyle=t.createPattern(e.calculative.backgroundImg,"repeat"),c=!0):(t.fillStyle=e.background,c=!!e.background)}if(nI(t,e),aI(t,e),$i(t,e),e.calculative.lineDash&&t.setLineDash(e.calculative.lineDash),e.calculative.lineDashOffset&&(t.lineDashOffset=e.calculative.lineDashOffset),e.calculative.shadowColor&&(t.shadowColor=e.calculative.shadowColor,t.shadowOffsetX=e.calculative.shadowOffsetX,t.shadowOffsetY=e.calculative.shadowOffsetY,t.shadowBlur=e.calculative.shadowBlur),r?(X_(t,e),iI(!0,t,e,o)):(rI(!1,t,e,o,c),yI(t,e)),e.calculative.img?(t.save(),t.shadowColor="",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0,pl(t,e),t.restore()):e.calculative.icon&&eI(t,e),e.dropdownList&&tI(t,e),(!l||!s)&&t.restore(),l&&!s&&(e.calculative.flipX&&(t.translate(e.calculative.worldRect.x+e.calculative.worldRect.ex,0),t.scale(-1,1)),e.calculative.flipY&&(t.translate(0,e.calculative.worldRect.y+e.calculative.worldRect.ey),t.scale(1,-1))),!l&&s&&e.calculative.rotate&&e.name!=="line"&&xr(t,e,!0),Q_(t,e),e.type===mt.Line&&e.fillTexts)for(const u of e.fillTexts)V_(t,e,u);t.restore()}function rI(t=!0,e,n,a,r){if(n.name==="drawCommand")return;const o=t?a.path2dMap.get(n):Ye.path2dDraws[n.name];let l=null,s=null;if(n.type===mt.Line&&(n.fromLineCap&&n.fromLineCap!=="butt"&&(e.lineCap="butt",l=new Path2D,l.moveTo(n.calculative.worldAnchors[0].x,n.calculative.worldAnchors[0].y),l.lineTo(n.calculative.worldAnchors[0].x,n.calculative.worldAnchors[0].y)),n.toLineCap&&n.toLineCap!=="butt"&&(e.lineCap="butt",s=new Path2D,s.moveTo(n.calculative.worldAnchors[n.calculative.worldAnchors.length-1].x,n.calculative.worldAnchors[n.calculative.worldAnchors.length-1].y),s.lineTo(n.calculative.worldAnchors[n.calculative.worldAnchors.length-1].x,n.calculative.worldAnchors[n.calculative.worldAnchors.length-1].y))),o){if(n.type===mt.Line&&n.borderWidth){e.save(),e.beginPath();const d=n.calculative.lineWidth+n.calculative.borderWidth;e.lineWidth=d,e.strokeStyle=n.borderColor,l&&(e.save(),e.lineCap=n.fromLineCap,e.stroke(l),e.restore()),o instanceof Path2D?(r&&e.fill(o),d&&e.stroke(o)):(o(n,e),r&&e.fill(),d&&e.stroke()),s&&(e.save(),e.lineCap=n.toLineCap,e.stroke(s),e.restore()),e.restore()}o instanceof Path2D?n.type?n.close&&r&&e.fill(o):r&&e.fill(o):(e.save(),o(n,e),r&&e.fill(),e.restore());const c=n.calculative.progress;if(c!=null){e.save();const{ex:d,x:u,y:f,width:v,height:h,ey:g}=n.calculative.worldRect;let p=null;if(n.calculative.verticalProgress?p=n.reverseProgress?e.createLinearGradient(u,f,u,f+h*c):e.createLinearGradient(u,g,u,f+h*(1-c)):p=n.reverseProgress?e.createLinearGradient(d,f,u+v*(1-c),f):e.createLinearGradient(u,f,u+v*c,f),n.calculative.progressGradientColors){const{colors:m}=ji(n.calculative.progressGradientColors);m.forEach(y=>{p.addColorStop(y.i,y.color)})}else{const m=n.calculative.progressColor||n.calculative.color||a.options.activeColor;p.addColorStop(0,m),p.addColorStop(1,m)}p.addColorStop(1,"transparent"),e.fillStyle=p,o instanceof Path2D?e.fill(o):(o(n,e),e.fill()),e.restore()}if(n.calculative.lineWidth&&(o instanceof Path2D?(a.options.svgPathStroke||n.name!=="svgPath")&&(l&&(e.save(),e.lineCap=n.fromLineCap,e.stroke(l),e.restore()),e.stroke(o),s&&(e.save(),e.lineCap=n.toLineCap,e.stroke(s),e.restore())):(o(n,e),e.stroke())),n.type){if(n.calculative.animatePos){if(e.save(),oI(e,n,a),n.lineAnimateType===ca.Arrow||n.lineAnimateType===ca.WaterDrop){let d=FI(n,e);d instanceof Path2D?(e.stroke(d),e.fill(d)):(e.stroke(),e.fill())}else o instanceof Path2D?(l&&!n.lineAnimateType&&(e.save(),e.lineCap=n.fromLineCap,e.stroke(l),e.restore()),e.lineCap=n.lineCap,e.stroke(o)):(o(n,e),e.stroke());e.restore()}n.fromArrow&&q_(e,n,a),n.toArrow&&G_(e,n,a),n.calculative.active&&!n.calculative.pencil&&!a.options.disableAnchor&&!a.data.locked&&lI(e,n)}}}function iI(t=!0,e,n,a){const r=t?a.path2dMap.get(n):Ye.path2dDraws[n.name];if(r&&n.type){if(n.calculative.animatePos){if(e.save(),oI(e,n,a),e.beginPath(),r instanceof Path2D)if(n.lineName==="polyline"||n.lineName==="line")if(n.lineAnimateType===ca.Arrow||n.lineAnimateType===ca.WaterDrop){const o=FI(n);e.stroke(o),e.fill(o)}else n.calculative.gradientSmooth||n.calculative.lineSmooth?(n.calculative.gradientAnimatePath||(n.calculative.gradientAnimatePath=bg(n)),n.calculative.gradientAnimatePath instanceof Path2D&&e.stroke(n.calculative.gradientAnimatePath)):e.stroke(r);else e.stroke(r);else r(n,e),e.stroke();e.restore()}n.fromArrow&&q_(e,n,a),n.toArrow&&G_(e,n,a),n.calculative.active&&!n.calculative.pencil&&!a.options.disableAnchor&&!a.data.locked&&lI(e,n)}}function oI(t,e,n){t.strokeStyle=e.animateColor||n.options.animateColor,e.animateShadow&&(t.shadowBlur=e.animateShadowBlur||e.animateLineWidth||6,t.shadowColor=e.animateShadowColor||e.animateColor||n.options.animateColor),e.calculative.animateLineWidth&&(t.lineWidth=e.calculative.animateLineWidth*n.data.scale);let a=0;switch(e.lineAnimateType){case ca.Beads:e.animateReverse?t.lineDashOffset=e.calculative.animatePos:t.lineDashOffset=e.length-e.calculative.animatePos,a=e.calculative.lineWidth||5,a<5&&(a=5);const r=e.animateLineDash&&e.animateLineDash.map(o=>o*a/5);t.setLineDash(r||[a,a*2]);break;case ca.Dot:e.animateReverse?t.lineDashOffset=e.calculative.animatePos:t.lineDashOffset=e.length-e.calculative.animatePos,a=e.calculative.animateDotSize||e.calculative.lineWidth*2||6,a<6&&(a=6),a>40&&(a=40),t.lineWidth=(e.calculative.animateLineWidth||a)*n.data.scale,t.setLineDash([.1,e.length]);break;case ca.Arrow:t.fillStyle=e.animateColor||n.options.animateColor,t.lineWidth=1;break;case ca.WaterDrop:t.fillStyle=e.animateColor||n.options.animateColor,t.lineWidth=1;break;default:e.animateReverse?(t.lineDashOffset=Number.EPSILON,t.setLineDash([0,e.length-e.calculative.animatePos+1,e.calculative.animatePos])):t.setLineDash([e.calculative.animatePos,e.length+.01-e.calculative.animatePos]);break}}function $s(t){const{data:e,options:n}=t;return e.color||n.color}function lI(t,e){const n=e.calculative.canvas.store;t.save(),t.lineWidth=1,t.fillStyle=e.activeColor||n.options.activeColor,e.calculative.worldAnchors.forEach(a=>{!a.hidden&&!a.isTemp&&Mce(t,a,e)}),t.restore()}function Mce(t,e,n){if(!e)return;const a=n.calculative.canvas.store.activeAnchor===n.calculative.activeAnchor&&n.calculative.activeAnchor===e;let r=3;n.calculative.lineWidth>3&&(r=n.calculative.lineWidth),n.anchorRadius&&(r=n.anchorRadius),e.radius&&(r=e.radius),a?(e.prev&&(t.save(),t.strokeStyle="#4dffff",t.beginPath(),t.moveTo(e.prev.x,e.prev.y),t.lineTo(e.x,e.y),t.stroke(),t.restore(),t.save(),t.fillStyle="#ffffff",t.beginPath(),t.arc(e.prev.x,e.prev.y,r,0,Math.PI*2),t.fill(),t.stroke(),t.restore()),e.next&&(t.save(),t.strokeStyle="#4dffff",t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(e.next.x,e.next.y),t.stroke(),t.restore(),t.save(),t.fillStyle="#ffffff",t.beginPath(),t.arc(e.next.x,e.next.y,r,0,Math.PI*2),t.fill(),t.stroke(),t.restore(),t.beginPath(),t.arc(e.x,e.y,r,0,Math.PI*2),t.fill(),t.stroke()),t.beginPath(),t.arc(e.x,e.y,r,0,Math.PI*2),t.fill(),t.stroke()):(t.save(),t.fillStyle="#ffffff",t.beginPath(),t.arc(e.x,e.y,r,0,Math.PI*2),t.fill(),t.stroke(),t.restore())}function sI(t){const e=t.calculative.canvas.store;let n={x:t.x,y:t.y};if(!t.parentId||t.parentId&&!e.pens[t.parentId])t.parentId=void 0,n.width=t.width,n.height=t.height,n.rotate=t.rotate,Mt(n),It(n),t.pivot&&_g(n,t.pivot);else{const a=e.pens[t.parentId];let r=a.calculative.worldRect;r||(r=sI(a)),n.x=r.x+r.width*t.x,n.y=r.y+r.height*t.y,n.width=r.width*t.width,n.height=r.height*t.height,a.flipX&&(n.x=r.width-(n.x-r.x+n.width)+r.x),a.flipY&&(n.y=r.height-(n.y-r.y+n.height)+r.y),Mt(n),n.rotate=r.rotate+t.rotate,It(n),t.pivot&&_g(n,t.pivot)}return t.calculative.worldRect=n,wg(t,n),n}function wg(t,e){!t.paddingTop&&(t.calculative.paddingTop=0),!t.paddingBottom&&(t.calculative.paddingBottom=0),!t.paddingLeft&&(t.calculative.paddingLeft=0),!t.paddingRight&&(t.calculative.paddingRight=0),Math.abs(t.calculative.paddingTop)<1&&(t.calculative.paddingTop*=e.height),Math.abs(t.calculative.paddingBottom)<1&&(t.calculative.paddingBottom*=e.height),Math.abs(t.calculative.paddingLeft)<1&&(t.calculative.paddingLeft*=e.width),Math.abs(t.calculative.paddingRight)<1&&(t.calculative.paddingRight*=e.width)}function Rd(t){const e=fe(t.calculative.worldRect);if(delete e.pivot,!t.parentId){Object.assign(t,e);return}const a=t.calculative.canvas.store.pens[t.parentId].calculative.worldRect;Object.assign(t,Yr(e,a))}function ml(t){const e=t.calculative.canvas.store;let n=[];if(t.anchors){let a=fe(t.anchors);t.flipX&&a.forEach(r=>{r.x=.5-(r.x-.5)}),t.flipY&&a.forEach(r=>{r.y=.5-(r.y-.5)}),a.forEach(r=>{n.push(Fce(t,r))})}if(!n.length&&!t.type&&!t.calculative.canvas.parent.isCombine(t)){const{x:a,y:r,width:o,height:l}=t.calculative.worldRect;n=e.options.defaultAnchors.map((s,c)=>({id:`${c}`,penId:t.id,x:a+o*s.x,y:r+l*s.y}))}t.calculative.rotate&&n.forEach(a=>{Ot(a,t.calculative.rotate,t.calculative.worldRect.pivot||t.calculative.worldRect.center)}),(!t.type||t.anchors)&&(t.calculative.worldAnchors=n),t.calculative.activeAnchor&&n.length&&(t.calculative.activeAnchor=n.find(a=>{a.id,t.calculative.activeAnchor.id})),t.calculative.gradientAnimatePath=void 0}function cI(t){var e;if((e=t.children)!=null&&e.length){let n=t.calculative.worldRect;t.children.forEach(a=>{const r=t.calculative.canvas.store.pens[a];r.calculative.initRect&&r.calculative.initRelativeRect&&(r.calculative.initRect.x=n.x+n.width*r.calculative.initRelativeRect.x,r.calculative.initRect.y=n.y+n.height*r.calculative.initRelativeRect.y,r.calculative.initRect.ex=r.calculative.initRect.x+n.width*r.calculative.initRelativeRect.width,r.calculative.initRect.ey=r.calculative.initRect.y+n.height+r.calculative.initRelativeRect.height,It(r.calculative.initRect)),cI(r)})}}function Fce(t,e){const n={...e},{x:a,y:r,width:o,height:l}=t.calculative.worldRect;return n.x=a+o*e.x,n.y=r+l*e.y,e.prev&&(n.prev={penId:t.id,connectTo:e.prev.connectTo,x:a+o*e.prev.x,y:r+l*e.prev.y}),e.next&&(n.next={penId:t.id,connectTo:e.next.connectTo,x:a+o*e.next.x,y:r+l*e.next.y}),n}function uI(t,e){const{paddingTop:n,paddingBottom:a,paddingLeft:r,paddingRight:o}=e.calculative;let l=r,s=n,c=e.calculative.worldRect.width-r-o,d=e.calculative.worldRect.height-n-a,u=e.calculative.iconLeft,f=e.calculative.iconTop;u&&Math.abs(u)<1&&(u=e.calculative.worldRect.width*u),f&&Math.abs(f)<1&&(f=e.calculative.worldRect.height*f),l+=u||0,s+=f||0,c-=u||0,d-=f||0;let v=e.calculative.iconRotate||0;if(e.parentId){const h=t[e.parentId].calculative;h&&(v+=h.rotate,v%=360)}l=e.calculative.worldRect.x+l,s=e.calculative.worldRect.y+s,e.calculative.worldIconRect={x:l,y:s,width:c,height:d,rotate:v},Mt(e.calculative.worldIconRect),It(e.calculative.worldIconRect)}function yl(t,e,n){zs(t.calculative.worldRect,e,n,t.pivot),t.calculative.initRect&&zs(t.calculative.initRect,e,n,t.pivot),dI(t,e,n),t.calculative.x&&Pd(t.calculative,e,n),t.type&&ml(t)}function dI(t,e,n){var a;t&&(a=t.children)!=null&&a.length&&t.children.forEach(r=>{const o=t.calculative.canvas.store.pens[r];o&&(o.calculative.initRect&&zs(o.calculative.initRect,e,n),dI(o,e,n))})}function Lce(t,e){t.anchors||(t.anchors=[]),t.calculative.worldAnchors||(t.calculative.worldAnchors=[]);const n={id:e.id,penId:t.id,x:e.x,y:e.y};if(t.calculative.worldAnchors.push(n),t.calculative.worldRect){t.rotate%360&&Ot(e,-t.rotate,t.calculative.worldRect.center);const a={id:e.id,penId:t.id,x:(e.x-t.calculative.worldRect.x)/t.calculative.worldRect.width,y:(e.y-t.calculative.worldRect.y)/t.calculative.worldRect.height};t.anchors.push(a)}return n}function $ce(t,e,n){t.anchors||(t.anchors=[]),t.calculative.worldAnchors||(t.calculative.worldAnchors=[]);const a=Due(t,e,n);return t.calculative.worldAnchors.splice(n+1,0,a),t.anchors.splice(n+1,0,Hs(a,t.calculative.worldRect)),t.calculative.activeAnchor=a,a}function Bce(t,e){if(!t||!t.calculative.worldAnchors)return;let n=t.calculative.worldAnchors.findIndex(a=>a.id===e.id);n>-1&&t.calculative.worldAnchors.splice(n,1),n=t.anchors.findIndex(a=>a.id===e.id),n>-1&&t.anchors.splice(n,1)}function bl(t,e){if(!e||!e.calculative||!e.calculative.worldRect.center)return at.None;if(t.anchorId){let n=e.anchors.filter(a=>a.id===t.anchorId);if(n.length&&n[0].direction>-1)return n[0].direction}return ace(t,e.calculative.worldRect.center)}function wl(t,e){let n=1/0,a;return t.calculative.worldAnchors.forEach(r=>{const o=_d(e,r);n>o&&(n=o,a=r)}),a}function fI(t,e,n){t.x+=e,t.y+=n,t.anchors&&t.anchors.forEach(a=>{Ms(a,e,n)}),t.calculative.worldAnchors&&t.calculative.worldAnchors.forEach(a=>{Ms(a,e,n)})}function Cg(t){if(t&&t.calculative&&t.calculative.worldAnchors.length){let e=bt(t);if(!t.anchors||!t.anchors.length)for(;t.calculative.worldAnchors.length&&e!==t.calculative.activeAnchor;)t.calculative.worldAnchors.pop(),e=bt(t);else e===t.calculative.activeAnchor?t.calculative.worldAnchors=[t.calculative.worldAnchors[0]]:t.calculative.worldAnchors[0]===t.calculative.activeAnchor&&(t.calculative.worldAnchors=[t.calculative.worldAnchors[t.calculative.worldAnchors.length-1]])}}function Vt(t,e,n,a){var s,c,d,u,f,v;if(!t||!e||!n||!a||e.twoWay===vn.DisableConnected||e.twoWay===vn.Disable||a.twoWay===vn.DisableConnectTo||a.twoWay===vn.Disable)return;if(e.twoWay===vn.In){if(n.calculative.worldAnchors.length===1)return;const h=bt(n);if(a.id!==h.id)return}if(e.twoWay===vn.Out){const h=Lt(n);if(a.id!==h.id)return}if(a.connectTo===t.id&&a.anchorId===e.id)return;if(a.connectTo){const h=t.calculative.canvas.store.pens[a.connectTo];Cl(h,Li(h,a.anchorId),n,a)}t.connectedLines||(t.connectedLines=[]),t.connectedLines.findIndex(h=>h.lineId===n.id&&h.lineAnchor===a.id&&h.anchor===e.id)<0&&t.connectedLines.push({lineId:n.id,lineAnchor:a.id,anchor:e.id}),a.connectTo=t.id,a.anchorId=e.id,t.type&&Vt(n,a,t,e),t.calculative.canvas.store.emitter.emit("connectLine",{line:n,lineAnchor:a,pen:t,anchor:e});let o=((s=n.calculative.worldAnchors)==null?void 0:s.length)>=2?(c=n.calculative.worldAnchors)==null?void 0:c[0].connectTo:void 0,l=((d=n.calculative.worldAnchors)==null?void 0:d.length)>=2?(f=n.calculative.canvas.store.pens[(u=n.calculative.worldAnchors)==null?void 0:u[0].connectTo])==null?void 0:f.anchors.find(h=>{var g;return h.id===((g=n.calculative.worldAnchors)==null?void 0:g[0].anchorId)}):void 0;return(v=t.onConnectLine)==null||v.call(t,t,{line:n,lineAnchor:a,pen:t,anchor:e,fromPen:o,fromAnchor:l}),!0}function Cl(t,e,n,a){if(!(!t||!e||!n||!a)&&!(!t.connectedLines||!t.connectedLines.length))return n.lastConnected||(n.lastConnected={}),n.lastConnected[t.id]||(n.lastConnected[t.id]=fe(t.connectedLines)),t.connectedLines.forEach((r,o,l)=>{(r.lineId===n.id||r.lineId===n.id)&&r.lineAnchor===a.id&&r.anchor===e.id&&l.splice(o,1)}),a.connectTo=void 0,a.anchorId=void 0,t.type&&e.connectTo===n.id&&e.anchorId===a.id&&Cl(n,a,t,e),t.calculative.canvas.store.emitter.emit("disconnectLine",{line:n,lineAnchor:a,pen:t,anchor:e}),!0}function Li(t,e){var n;if(!(!t||!e))return(n=t.calculative.worldAnchors)==null?void 0:n.find(a=>a.id===e)}function Lt(t){if(!(!t||!t.calculative.worldAnchors))return t.calculative.worldAnchors[0]}function bt(t){if(!(!t||!t.calculative.worldAnchors))return t.calculative.worldAnchors[t.calculative.worldAnchors.length-1]}function zce(t,e){var a,r;if(t.calculative.start===0||!t.frames||!t.frames.length)return t.calculative.start=void 0,0;if(!t.calculative.duration){t.calculative.duration=0;for(const o of t.frames){t.calculative.duration+=o.duration;for(const l in o)l!=="duration"&&!t[l]&&l==="scale"&&(t[l]=1)}}if(t.animateCycle||(t.animateCycle=1/0),t.calculative.start){let o=0;const l=Math.ceil((e-t.calculative.start)/t.calculative.duration);if(l>t.animateCycle)return t.currentAnimation=void 0,t.calculative.start=void 0,hI(t,1),0;const s=(e-t.calculative.start)%t.calculative.duration;let c=0;for(const f of t.frames)if(c+=f.duration,s>c)++o;else break;if(!t.frames[o])return!0;t.calculative.frameDuration=t.frames[o].duration,t.calculative.frameStart=t.calculative.start+t.calculative.duration*(l-1),t.calculative.frameEnd=t.calculative.frameStart+t.calculative.frameDuration;const d=o!==t.calculative.frameIndex,u=l>t.calculative.cycleIndex;if(d&&(t.calculative.frameIndex=o),u&&(t.calculative.cycleIndex=l),d||u)if(t.calculative.x=t.calculative.initRect.x,t.calculative.y=t.calculative.initRect.y,(r=t.children)!=null&&r.length&&!t.parentId?t.calculative.canvas.rotatePen(t,(t.calculative.initRect.rotate||0)-(t.calculative.rotate||0),t.calculative.initRect):t.calculative.rotate=t.calculative.initRect.rotate||0,o>0){t.prevFrame={};const f=t.frames[o-1];for(const v in f)t.prevFrame[v]=f[v];Object.assign(t.prevFrame,{rotate:f.rotate||0,x:f.x||0,y:f.y||0,scale:f.scale||1})}else vI(t)}else{if(t.calculative.start=e,t.calculative.frameIndex=0,t.calculative.frameStart=t.calculative.start,t.calculative.frameDuration=t.frames[0].duration,t.calculative.frameEnd=t.calculative.frameStart+t.calculative.frameDuration,t.calculative.cycleIndex=1,t.calculative.x=t.calculative.worldRect.x,t.calculative.y=t.calculative.worldRect.y,t.calculative.initRect=fe(t.calculative.worldRect),t.parentId&&(t.calculative.initRelativeRect={x:t.x,y:t.y,width:t.width,height:t.height}),(a=t.children)!=null&&a.length){const o=t.calculative.canvas.store;t.calculative.childrenVisible={},t.children.forEach(l=>{t.calculative.childrenVisible[l]=o.pens[l].visible})}t.calculative.initRect.rotate=t.calculative.rotate||0,vI(t)}const n=(e-t.calculative.frameStart)/t.calculative.frameDuration%1;return hI(t,n),!0}function vI(t){t.prevFrame={};for(const e in t)(typeof t[e]!="object"||e==="lineDash")&&(t.prevFrame[e]=t[e]);t.prevFrame.rotate=0,t.prevFrame.x=0,t.prevFrame.y=0,t.prevFrame.scale=1}function hI(t,e){var a,r;if(e<0)return;e>1&&(e=1);const n=t.frames[t.calculative.frameIndex];for(const o in n)if(o!=="duration"){if(o==="scale"){t.calculative.worldRect=fe(t.calculative.initRect),zs(t.calculative.worldRect,t.prevFrame.scale,t.calculative.worldRect.center);const l=t.prevFrame.scale+(n[o]-t.prevFrame.scale)*e;zs(t.calculative.worldRect,l/t.prevFrame.scale,t.calculative.worldRect.center),t.calculative.patchFlags=!0}else if(o==="x"){const l=Sg(t,o,t.calculative.frameIndex);t.calculative.worldRect.x=t.calculative.initRect.x+l,t.calculative.worldRect.ex=t.calculative.initRect.ex+l,zi(t.calculative.worldRect,n[o]*e*t.calculative.canvas.store.data.scale,0),t.calculative.patchFlags=!0}else if(o==="y"){const l=Sg(t,o,t.calculative.frameIndex);t.calculative.worldRect.y=t.calculative.initRect.y+l,t.calculative.worldRect.ey=t.calculative.initRect.ey+l,zi(t.calculative.worldRect,0,n[o]*e*t.calculative.canvas.store.data.scale),t.calculative.patchFlags=!0}else if(o==="rotate"){t.prevFrame[o]>=360&&(t.prevFrame[o]%=360);const l=Sg(t,o,t.calculative.frameIndex),s=(t.calculative.initRect.rotate+l+n[o]*e)%360-(t.calculative.rotate||0);(a=t.children)!=null&&a.length?t.calculative.canvas.rotatePen(t,s,t.calculative.initRect):t.calculative.rotate=(t.calculative.initRect.rotate+l+n[o]*e)%360,t.calculative.patchFlags=!0}else if(o==="image")t.image=n.image,t.calculative.image=void 0,t.calculative.canvas.loadImage(t),t.canvasLayer===gt.CanvasImageBottom?t.calculative.canvas.canvasImageBottom.init():t.canvasLayer===gt.CanvasImage&&t.calculative.canvas.canvasImage.init();else if(Hce(n[o],o,t)){t.prevFrame[o]==null&&(o==="globalAlpha"?t.prevFrame[o]=1:t.prevFrame[o]=0);const l=t.prevFrame[o]+(n[o]-t.prevFrame[o])*e;t.calculative[o]=Math.round(l*100)/100}else{if(o==="visible"){if(t.calculative.image)t.canvasLayer===gt.CanvasImageBottom?t.calculative.canvas.canvasImageBottom.init():t.canvasLayer===gt.CanvasImage&&t.calculative.canvas.canvasImage.init();else if((r=t.children)!=null&&r.length){const s=Ka(t,t.calculative.canvas.store);t.calculative.canvas.initImageCanvas(s)}}t.calculative[o]=n[o];const l={};l[o]=n[o],Og(t,l)}o==="text"&&Ls(t)}}function Hce(t,e,n){const a=["strokeType","bkType","showChild"];return typeof t=="number"&&n.linear!==!1&&!a.includes(e)}function Wce(t,e){if(t.calculative.start===0)return t.calculative.start=void 0,0;if(t.animateCycle||(t.animateCycle=1/0),t.animateSpan||(t.animateSpan=1),t.calculative.animatePos+=t.animateSpan*(t.calculative.canvas.store.data.scale||1),!t.calculative.start)t.calculative.start=Date.now(),t.calculative.animatePos=t.animateSpan*(t.calculative.canvas.store.data.scale||1),t.calculative.cycleIndex=1;else if(t.calculative.animatePos>t.length){if(++t.calculative.cycleIndex,t.calculative.cycleIndex>t.animateCycle)return t.currentAnimation=void 0,t.calculative.start=void 0,0;t.calculative.animatePos=t.animateSpan}return!0}function xl(t,e=!0){if(!t.children||t.childActive===!1)return;const n=t.calculative.canvas.store;t.children.forEach(a=>{const r=n.pens[a];r&&(r.calculative.active=e,xl(r,e))})}function Bs(t,e=!0){if(!t)return;const n=t.calculative.canvas.store;t.calculative.hover=e,t.childHover!==!1&&t.children&&t.children.forEach(a=>{var r,o;((r=n.pens[a])==null?void 0:r.hoverColor)==null&&((o=n.pens[a])==null?void 0:o.hoverBackground)==null&&Bs(n.pens[a],e)})}function sn(t,e){if(!e)return;const n=t.calculative.canvas.store,a=t.calculative.worldRect;e.style.opacity=t.globalAlpha+"",e.style.position="absolute",e.style.outline="none",e.style.left=a.x+n.data.x+"px",e.style.top=a.y+n.data.y+"px",e.style.width=a.width+"px",e.style.height=a.height+"px",e.style.display=t.calculative.inView!=!1?t.calculative.cssDisplay||"inline":"none",!t.calculative.rotate&&(t.calculative.rotate=0),e.style.transform=`rotate(${t.calculative.rotate}deg)`,t.calculative.rotate||(t.calculative.flipX&&(e.style.transform="rotateY(180deg)"),t.calculative.flipY&&(e.style.transform="rotateX(180deg)"),t.calculative.flipX&&t.calculative.flipY&&(e.style.transform="rotateZ(180deg)")),e.style.zIndex=t.calculative.zIndex!==void 0?t.calculative.zIndex+"":"5",t.calculative.zIndex>t.calculative.canvas.maxZindex&&(t.calculative.canvas.maxZindex=t.calculative.zIndex),t.locked===st.DisableEdit||t.locked===st.DisableMove||n.data.locked?(e.style.userSelect="initial",e.style.pointerEvents="initial",t.name==="gif"&&(e.style.userSelect="none",e.style.pointerEvents="none")):(e.style.userSelect="none",e.style.pointerEvents="none")}function xg(t){return t.every(e=>e.locked)}function gI(t){return t.every(e=>e.disableRotate)}function pI(t,e,n){var a;t.type?(t.calculative.worldAnchors.forEach(r=>{Ot(r,e,n.center)}),Uce(t),Rd(t)):(t.calculative.rotate?t.calculative.rotate+=e:t.calculative.rotate=e,Ot(t.calculative.worldRect.center,e,n.center),t.parentId&&(t.calculative.worldRect.x=t.calculative.worldRect.center.x-t.calculative.worldRect.width/2,t.calculative.worldRect.y=t.calculative.worldRect.center.y-t.calculative.worldRect.height/2,t.x=(t.calculative.worldRect.x-n.x)/n.width,t.y=(t.calculative.worldRect.y-n.y)/n.height)),(a=t.children)==null||a.forEach(r=>{const o=t.calculative.canvas.store.pens[r];pI(o,e,n)})}function Uce(t){var r;if(!((r=t.calculative.worldAnchors)!=null&&r.length)||!isFinite(t.x)||!isFinite(t.x)||t.x==null||t.y==null)return;const e=Ag(t);t.parentId||Object.assign(t,e);const{fontSize:n,lineHeight:a}=t.calculative.canvas.store.options;t.fontSize?t.fontSize<0&&(t.fontSize=0,t.calculative.fontSize=0):(t.fontSize=n>=0?n:12,t.calculative.fontSize=t.fontSize*t.calculative.canvas.store.data.scale),t.lineHeight||(t.lineHeight=a,t.calculative.lineHeight=t.lineHeight),It(e),t.calculative.worldRect=e,wg(t,e),Ua(t),t.calculative.worldAnchors&&(t.anchors=t.calculative.worldAnchors.map(o=>Hs(o,t.calculative.worldRect)))}function mI(t){return t.every(e=>e.disableSize||e.pivot)}function Sg(t,e,n){if(!t.frames||!e)return 0;let a=0;for(let r=0;r<n;r++)t.frames[r]&&(a+=t.frames[r][e]||0);return a}function Dd(t,e){var a;let n=t;for(;n&&n.parentId;){const r=n;n=e.pens[n.parentId];const o=(a=n==null?void 0:n.calculative)==null?void 0:a.showChild;if(o!=null&&n.children[o]!==r.id)return!1}return!0}function Sr(t,e=!1){var r,o;const{store:n,canvasRect:a}=t.calculative.canvas;if(e&&((r=t.children)==null||r.forEach(l=>{const s=n.pens[l];s&&Sr(s,!0)})),t.calculative.inView=!0,!Dd(t,n)||t.visible==!1||t.calculative.visible==!1)t.calculative.inView=!1;else{const{x:l,y:s,width:c,height:d,rotate:u}=t.calculative.worldRect,f={x:l+n.data.x,y:s+n.data.y,width:c,height:d,rotate:u};Mt(f),kr(f,a)||(t.calculative.inView=!1)}(o=t.calculative.singleton)!=null&&o.div&&sn(t,t.calculative.singleton.div)}function Kce(t,e,n){if(e.fillWorldTextRect){t.save(),t.fillStyle="#c3deb7";const{x:a,y:r,width:o,height:l}=n.calculative.worldTextRect;t.fillRect(a,r,o,l),t.restore()}}function $i(t,e){const n=e.calculative.globalAlpha;typeof n=="number"&&n<1&&!isNaN(n)&&(t.globalAlpha=n)}function yI(t,e){const n=Yce(t,e)||Ye.canvasDraws[e.name];n&&(t.save(),n(t,e),t.restore())}function Yce(t,e){const n=e.drawCommand;if(!(!n||e.name==="line"))return(a,r)=>{n.forEach(o=>{try{o.steps=o.steps.flat(1/0),o.steps.reduce((l,s)=>{const c=qce(s,r,l.x,l.y);try{if(c.c){if(c.c.startsWith("_")){const u=c.c.split("_")[1];return typeof c.v.value=="number"&&(c.v.value*=r.calculative.canvas.store.data.scale),(c.p||a)[u]=c.v.value,{x:l.x,y:l.y}}let d=[];for(const u in c.v)d.push(c.v[u]);return(c.p||a)[c.c](...d),{x:c.startX||c.v.x,y:c.startY||c.v.y}}return{x:l.x,y:l.y}}catch{}},{})}catch{}}),a.stroke()}}function qce(t,e,n,a){return{visio:Xce,dxf:Gce}[e.parseType](t,e,n,a)}function Gce(t,e,n,a){const{x:r,y:o,width:l,height:s}=e.calculative.worldRect,{originWidth:c,originHeight:d}=e.dxfOrigin;switch(t.c){case"beginPath":return{c:"beginPath",v:{}};case"closePath":return{c:"closePath",v:{}};case"moveTo":return{c:"moveTo",v:{x:t.v.x*(l/c)+r,y:t.v.y*(s/d)+o}};case"lineTo":return{c:"lineTo",v:{x:t.v.x*(l/c)+r,y:t.v.y*(s/d)+o}};case"arc":return{c:"ellipse",v:{x:t.v.x*(l/c)+r,y:t.v.y*(s/d)+o,rx:t.v.xr*(l/c),ry:t.v.yr*(s/d),rotation:t.v.rotation||0,startAngle:t.v.startAngle,endAngle:t.v.endAngle,a:t.v.aclockwise??!0}};case"ellipse":return{c:"ellipse",v:{x:t.v.x*(l/c)+r,y:t.v.y*(s/d)+o,rx:t.v.xr*(l/c),ry:t.v.yr*(s/d),rotation:t.v.rotation||0,startAngle:t.v.startAngle,endAngle:t.v.endAngle,a:t.v.aclockwise??!0}};case"_font":return{c:"_font",v:{value:t.v.fontSize*e.calculative.canvas.store.data.scale+"px "+(t.v.fontFamily||e.calculative.canvas.store.options.fontFamily)}};case"_fillStyle":return{c:"_fillStyle",v:{value:e.color||t.v.value}};default:const u={c:t.c,v:{...t.v}};return u.v.x!==void 0&&(u.v.x=t.v.x*(l/c)+r),u.v.y!==void 0&&(u.v.y=t.v.y*(s/d)+o),u}}function Xce(t,e,n,a){const{x:r,y:o,width:l,height:s}=e.calculative.worldRect,{width:c,height:d}=e.origin;switch(t.c){case"MoveTo":return{c:"moveTo",v:{x:+t.v.X*100*(l/c)+r,y:+t.v.Y*100*(s/d)+o}};case"RelMoveTo":return{c:"moveTo",v:{x:+t.v.X*c*(l/c)+r,y:+t.v.Y*d*(s/d)+o}};case"LineTo":return{c:"lineTo",v:{x:+t.v.X*100*(l/c)+r,y:+t.v.Y*100*(s/d)+o}};case"RelLineTo":return{c:"lineTo",v:{x:+t.v.X*c*(l/c)+r,y:+t.v.Y*d*(s/d)+o}};case"Ellipse":let u=t.v.X,f=t.v.Y,v=Math.abs(t.v.A-t.v.C),h=Math.abs(t.v.B-t.v.D);return{c:"ellipse",v:{x:u*100*(l/c)+r,y:f*100*(s/d)+o,radiuX:v*100*(l/c),radiuY:h*100*(s/d),rotation:0,startAngle:0,endAngle:Math.PI*2,anticlockwise:!0}};case"EllipticalArcTo":const g=t.v.X*100*(l/c)+r,p=t.v.Y*100*(s/d)+o,m=t.v.A*100*(l/c)+r,y=t.v.B*100*(s/d)+o;t.v.C;const b=t.v.D*(l/s)*(d/c),w=(g-n)*(y-a)-(p-a)*(m-n)>0,C=bI(n,a,g,p,m,y,b);return!t.orign&&(t.orign={}),!t.orign.startA&&(t.orign.startA=jd(C.x0,C.y0,n,a)),!t.orign.endA&&(t.orign.endA=jd(C.x0,C.y0,g,p)),{c:"ellipse",v:{centerX:C.x0,centerY:C.y0,radiuX:C.a,radiuY:C.b,rotation:0,startAngle:t.orign.startA,endAngle:t.orign.endA,anticlockwise:w},startX:g,startY:p};case"RelEllipticalArcTo":const x=t.v.X*c*(l/c)+r,k=t.v.Y*d*(s/d)+o,P=t.v.A*c*(l/c)+r,I=t.v.B*d*(s/d)+o;t.v.C;const D=t.v.D*(l/s)*(d/c),L=(x-n)*(I-a)-(k-a)*(P-n)>0,O=bI(n,a,x,k,P,I,D);return!t.orign&&(t.orign={}),!t.orign.startA&&(t.orign.startA=jd(O.x0,O.y0,n,a)),!t.orign.endA&&(t.orign.endA=jd(O.x0,O.y0,x,k)),{c:"ellipse",v:{centerX:O.x0,centerY:O.y0,radiuX:O.a,radiuY:O.b,rotation:0,startAngle:t.orign.startA,endAngle:t.orign.endA,anticlockwise:L},startX:x,startY:k};case"ArcTo":let S=t.v.X*100*l/c+r,_=t.v.Y*100*s/d+o,A=t.v.A*100*(l/s)*(d/c),E=(n+S)/2,R=(a+_)/2,N=Math.sqrt((S-n)**2+(_-a)**2),F=N**2/(8*A)+A/2,M=-(_-a)/N,$=(S-n)/N,W=E+M*F,H=R+$*F,K=W,z=H,B=Math.atan2(a-z,n-K),q=Math.atan2(_-z,S-K);return{c:"arc",v:{x:K,y:z,radius:F,startAngle:B,endAngle:q,aclockwise:!0}};default:const Y=fe(t);return Object.entries(Y.v).forEach(([X,T])=>{var j,U;(j=X.endsWith)!=null&&j.call(X,"_x")?typeof T=="number"&&(Y.v[X]=T*(l/c)+r):(U=X.endsWith)!=null&&U.call(X,"_y")?typeof T=="number"&&(Y.v[X]=T*(s/d)+o):typeof T=="number"&&(Y.v[X]=T)}),Y}}function Og(t,e){for(const n in e)z_.includes(n)&&(n=="fontSize"&&e[n]<0&&(e[n]=0),t[n]=e[n],["fontSize","lineWidth"].includes(n)?(t.calculative[n]=e[n]*t.calculative.canvas.store.data.scale,Ua(t)):t.calculative[n]=e[n]);if(t.calculative.canvas.parent.isCombine(t)){const n=t.children;n==null||n.forEach(a=>{let r=fe(e);t.calculative.childrenVisible&&t.calculative.childrenVisible[a]===!1&&delete r.visible;const o=t.calculative.canvas.store.pens[a];o&&Og(o,r)})}}function bI(t,e,n,a,r,o,l){let s=(t-n)*(t+n)*(a-o)-(n-r)*(n+r)*(e-a)+l*l*(e-a)*(a-o)*(e-o),c=2*((t-n)*(a-o)-(n-r)*(e-a)),d=s/c,u=(t-n)*(n-r)*(t-r)+l*l*((n-r)*(e-a)*(e+a)-(t-n)*(a-o)*(a+o)),f=2*l*l*((n-r)*(e-a)-(t-n)*(a-o)),v=u/f,h=Math.sqrt(Math.pow(t-d,2)+Math.pow(l*(e-v),2)),g=h/l;return{x0:d,y0:v,a:h,b:g}}function jd(t,e,n,a){let r=n-t,o=a-e,l=Math.atan2(o,r);return l<0&&(l+=2*Math.PI),l}function wI(t,e,n){let a,r,o=1/0,l=1/0;const s=8;for(const c of t.data.pens){if(c.calculative.inView===!1)continue;kg(c).forEach(u=>{if(u===e||u===n)return;let f=(c.calculative.worldRect.center.x-e.x)*(c.calculative.worldRect.center.x-e.x)+(c.calculative.worldRect.center.y-e.y)*(c.calculative.worldRect.center.y-e.y);const v=Math.abs(u.x-e.x);v>0&&v<s&&f<o&&(a={x:Math.round(u.x)+.5,y:Math.round(u.y)+.5,prev:{x:Math.round(e.x)+.5,y:Math.round(e.y)+.5},step:u.x-e.x},o=f);const h=Math.abs(u.y-e.y);h>0&&h<s&&f<l&&(r={x:Math.round(u.x)+.5,y:Math.round(u.y)+.5,prev:{x:Math.round(e.x)+.5,y:Math.round(e.y)+.5},step:u.y-e.y},l=f)})}return{xDock:a,yDock:r}}function Jce(t,e,n,a){let r=[];return n.length===1?(r=fe(kg(n[0])),r.forEach(o=>{o.x+=a.x,o.y+=a.y})):(It(e),r=[e.center,...Or(e)]),CI(t,r,e,!0)}function kg(t){if(t.type){if(t.type===mt.Line)return t.calculative.worldAnchors}else{const e=Or(t.calculative.worldRect);return It(t.calculative.worldRect),[...t.calculative.worldAnchors,...e,t.calculative.worldRect.center]}}function Zce(t,e,n,a){const r=Or(e);return CI(t,r,e)}function CI(t,e,n,a=!1){let r,o,l=1/0,s=1/0;const c=10,d=aue(n,c);return t.data.pens.forEach(u=>{const{inView:f,worldRect:v,active:h}=u.calculative;if(f===!1||!a&&h||nue(d,v)||u.type&&t.active.some(p=>xI(t,p,u)))return;const g=kg(u);if(g)for(const p of g)for(const m of e){const y=p.x-m.x,b=p.y-m.y,w=Math.abs(y),C=Math.abs(b);n.center||(n.center={x:n.x+n.width/2,y:n.y+n.height/2}),w<c&&w<l&&(r={x:Math.round(p.x)+.5,y:Math.round(p.y)+.5,step:y,prev:{x:Math.round(m.x)+.5,y:Math.round(m.y)+.5},penId:u.id,anchorId:m.id,dockAnchorId:p.id},l=w),C<c&&C<s&&(o={x:Math.round(p.x)+.5,y:Math.round(p.y)+.5,step:b,prev:{x:Math.round(m.x)+.5,y:Math.round(m.y)+.5},penId:u.id,anchorId:m.id,dockAnchorId:p.id},s=C)}}),{xDock:r,yDock:o}}function xI(t,e,n){if(!n.type)return!1;if(Array.isArray(e==null?void 0:e.connectedLines)){for(const a of e==null?void 0:e.connectedLines)if(a.lineId===n.id)return!0}if(Array.isArray(e==null?void 0:e.children))for(const a of e.children){const r=t.pens[a];if(xI(t,r,n))return!0}return!1}function Pg(t,e){return t.toFixed(12)==e}function SI(t){if(t.id=Ue(),Array.isArray(t.anchors))for(const e of t.anchors)t.type&&(e.id=Ue()),e.penId=t.id,e.prev&&(t.type&&(e.prev.id=Ue()),e.prev.penId=t.id),e.next&&(t.type&&(e.next.id=Ue()),e.next.penId=t.id)}function Qce(){let t=null,e=new Map;return(n,a,r,o=!1)=>{if(e.has(n)&&e.get(n)?t=e.get(n):e.set(n,t=new Map),typeof r!="function")return()=>{console.warn("[rewritePenLifeCycle] warn: not a function ")};let l=new Set,s=new Map;t.has(a)&&t.get(a)?l=t.get(a):(s.set(a,n[a]),t.set(a,l)),o?l.delete(r):l.add(r);let c=s.get(a),d=(...u)=>{c==null||c(...u),l.forEach(f=>{f(...u)})};n[a]=d}}let Vce=Qce();function eue(t){return!t.name&&!t.install?(console.error("installPenPlugin Error: Validation Failed"),!1):!0}function Kr(t,e){if(!e)return;if(e.ex==null&&Mt(e),!e.rotate||e.rotate%360===0)return t.x>e.x&&t.x<e.ex&&t.y>e.y&&t.y<e.ey;e.center||It(e);const n=[{x:e.x,y:e.y},{x:e.ex,y:e.y},{x:e.ex,y:e.ey},{x:e.x,y:e.ey}];return n.forEach(a=>{Ot(a,e.rotate,e.pivot||e.center)}),tue(t,n)}function Bi(t,e,n=0){const{x:a,y:r,ex:o,ey:l}=e;return t.x>=a-n&&t.x<=o+n&&t.y>=r-n&&t.y<=l+n}function It(t){t.center||(t.center={}),t.center.x=t.x+t.width/2,t.center.y=t.y+t.height/2}function Mt(t){t.ex=t.x+t.width,t.ey=t.y+t.height}function _g(t,e){t.pivot||(t.pivot={}),t.pivot.x=t.x+t.width*e.x,t.pivot.y=t.y+t.height*e.y}function tue(t,e){if(e.length<3)return!1;let n=!1,a=e[e.length-1];for(const r of e)a.y>t.y!=r.y>t.y&&r.x+(t.y-r.y)*(a.x-r.x)/(a.y-r.y)>t.x&&(n=!n),a=r;return n}function Pa(t){const e=[];t.forEach(a=>{if(a.isRuleLine)return;const r=a.calculative.worldRect;if(r){const o=Or(r);e.push(...o)}});const n=Sl(e);return It(n),n}function Or(t){const e=[{x:t.x,y:t.y},{x:t.ex,y:t.y},{x:t.ex,y:t.ey},{x:t.x,y:t.ey}];return t.rotate&&(t.center||It(t),e.forEach(n=>{Ot(n,t.rotate,t.pivot||t.center)})),e}function Sl(t){let e=1/0,n=1/0,a=-1/0,r=-1/0;return t==null||t.forEach(o=>{!isFinite(o.x)||!isFinite(o.y)||(e=Math.min(e,o.x),n=Math.min(n,o.y),a=Math.max(a,o.x),r=Math.max(r,o.y))}),{x:e,y:n,ex:a,ey:r,width:a-e,height:r-n}}function kr(t,e,n){return t.rotate&&(t=Sl(Or(t))),n?t.x>e.x&&t.ex<e.ex&&t.y>e.y&&t.ey<e.ey:!(t.x>e.ex||t.ex<e.x||t.ey<e.y||t.y>e.ey)}function nue(t,e){return(e.x>t.ex||e.ex<t.x)&&(e.y>t.ey||e.ey<t.y)}function aue(t,e){const n=wr(e),a={x:t.x-n[3],y:t.y-n[0],width:t.width+n[1]+n[3],height:t.height+n[0]+n[2]};return Mt(a),a}function zi(t,e,n){t.x+=e,t.y+=n,t.ex+=e,t.ey+=n,t.center&&(t.center.x+=e,t.center.y+=n),t.pivot&&(t.pivot.x+=e,t.pivot.y+=n)}function rue(t,e){const n=(t.to.y-t.from.y)/(t.to.x-t.from.x),a=(e.to.y-e.from.y)/(e.to.x-e.from.x);return Ig({k:n,point:t.from},{k:a,point:e.from})}function Ig(t,e){if(Pg(t.k,0))return{x:e.point.x,y:t.point.y};if(Pg(e.k,0))return{x:t.point.x,y:e.point.y};const n=t.point.y-t.k*t.point.x,r=(e.point.y-e.k*e.point.x-n)/(t.k-e.k),o=t.k*r+n;return{x:r,y:o}}function iue(t,e){const n=rue({from:t[0],to:t[2]},{from:t[1],to:t[3]});for(const a of t)Ot(a,-e,n);return Sl(t)}function OI(t,e,n,a){let r=t.rotate?t.rotate%360:0;if(r){const o=Or(t),l=(o[0].y-o[1].y)/(o[0].x-o[1].x),s=(o[1].y-o[2].y)/(o[1].x-o[2].x);if(a<4){if(o[a].x+=e,t.ratio)if(a===0||a===2){let u=e*Math.tan((90-(360-r)-Math.atan(t.width/t.height)/Math.PI*180)/180*Math.PI);o[a].y+=u}else{let u=e*Math.tan((90-(360-r)+Math.atan(t.width/t.height)/Math.PI*180)/180*Math.PI);o[a].y+=u}else o[a].y+=n;const d=o[(a+2)%4];o[(a+1)%4]=Ig({k:a%2?s:l,point:o[a]},{k:a%2?l:s,point:d}),o[(a+4-1)%4]=Ig({k:a%2?l:s,point:o[a]},{k:a%2?s:l,point:d})}else{const d=[4,6].includes(a)?s:l;Pg(d,0)?(o[a%4].x+=e,o[(a+1)%4].x+=e):(o[a%4].y+=n,o[a%4].x+=n/d,o[(a+1)%4].y+=n,o[(a+1)%4].x+=n/d)}if((o[0].x-o[1].x)**2+(o[0].y-o[1].y)**2<25||(o[1].x-o[2].x)**2+(o[1].y-o[2].y)**2<25)return;const c=iue(o,t.rotate);It(c),Object.assign(t,c);return}switch(a){case 0:if(t.width-e<5||t.height-n<5)break;t.x+=e,t.y+=n,t.width-=e,t.height-=n;break;case 1:if(t.width+e<5||t.height-n<5)break;t.ex+=e,t.y+=n,t.width+=e,t.height-=n;break;case 2:if(t.width+e<5||t.height+n<5)break;t.ex+=e,t.ey+=n,t.width+=e,t.height+=n;break;case 3:if(t.width-e<5||t.height+n<5)break;t.x+=e,t.ey+=n,t.width-=e,t.height+=n;break;case 4:if(t.height-n<5)break;t.y+=n,t.height-=n;break;case 5:if(t.width+e<5)break;t.ex+=e,t.width+=e;break;case 6:if(t.height+n<5)break;t.ey+=n,t.height+=n;break;case 7:if(t.width-e<5)break;t.x+=e,t.width-=e;break}}function zs(t,e,n,a){t&&(t.width*=e,t.height*=e,Pd(t,e,n),Mt(t),It(t),a&&_g(t,a))}function Yr(t,e){const n={x:(t.x-e.x)/e.width,y:(t.y-e.y)/e.height,width:t.width/e.width,height:t.height/e.height};return Mt(n),n}function Hs(t,e){const{x:n,y:a,width:r,height:o}=e,{penId:l,connectTo:s}=t,c=Object.assign({},t,{x:r?(t.x-n)/r:0,y:o?(t.y-a)/o:0});return t.prev&&(c.prev={penId:l,connectTo:s,x:r?(t.prev.x-n)/r:0,y:o?(t.prev.y-a)/o:0}),t.next&&(c.next={penId:l,connectTo:s,x:r?(t.next.x-n)/r:0,y:o?(t.next.y-a)/o:0}),c}function oue(t,e){let n=!1;for(let a=0,r=e.length-1;a<e.length;r=a++){let o=e[a].x,l=e[a].y,s=e[r].x,c=e[r].y;l>t.y!=c>t.y&&t.x<(s-o)*(t.y-l)/(c-l)+o&&(n=!n)}return n}const lue=/^[\t\n\f\r ]*([MLHVZCSQTAmlhvzcsqta])[\t\n\f\r ]*/,kI=/^[01]/,Pt=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,sue=/^(([\t\n\f\r ]+,?[\t\n\f\r ]*)|(,[\t\n\f\r ]*))/,cue={M:[Pt,Pt],L:[Pt,Pt],H:[Pt],V:[Pt],Z:[],C:[Pt,Pt,Pt,Pt,Pt,Pt],S:[Pt,Pt,Pt,Pt],Q:[Pt,Pt,Pt,Pt],T:[Pt,Pt],A:[Pt,Pt,Pt,kI,kI,Pt,Pt]};function PI(t){let e=0;const n=[];for(;e<t.length;){const a=t.slice(e).match(lue);if(a!==null){const r=a[1];e+=a[0].length;const o=vue(r,t,e);e=o.cursor,n.push(...o.commands)}else throw new Error("malformed path (first error at "+e+")")}return{commands:n}}function Ng(t){let e=1/0,n=1/0,a=-1/0,r=-1/0;return gue(t),t.commands.forEach(o=>{o.worldPoints.forEach((l,s)=>{s%2===0?(l<e&&(e=l),l>a&&(a=l)):(l<n&&(n=l),l>r&&(r=l))})}),--e,--n,{x:e,y:n,ex:a,ey:r,width:a-e+1,height:r-n+1}}function uue(t,e,n){n==null&&(n=e),t.commands.forEach((a,r)=>{if(!(a.relative&&r))switch(a.key){case"A":case"a":a.values[5]+=e,a.values[6]+=n;break;case"V":case"v":a.values[0]+=n;break;default:a.values.forEach((o,l)=>{a.values[l]=o+(l%2===0?e:n)});break}})}function due(t,e,n){n==null&&(n=e),t.commands.forEach(a=>{switch(a.key){case"A":case"a":const r=a.values[0],o=a.values[1],l=Math.PI*a.values[2]/180,s=Math.cos(l),c=Math.sin(l),d=o*o*n*n*s*s+r*r*n*n*c*c,u=2*e*n*s*c*(o*o-r*r),f=r*r*e*e*s*s+o*o*e*e*c*c,v=-(r*r*o*o*e*e*n*n),h=u*u-4*d*f,g=Math.sqrt((d-f)*(d-f)+u*u);a.values[2]=u!==0?Math.atan((f-d-g)/u)*180/Math.PI:d<f?0:90,a.values[0]=-Math.sqrt(2*h*v*(d+f+g))/h,a.values[1]=-Math.sqrt(2*h*v*(d+f-g))/h,a.values[5]*=e,a.values[6]*=n,a.values[4]=e*n>=0?a.values[4]:1-a.values[4];break;case"V":case"v":a.values[0]*=n;break;default:a.values.forEach((p,m)=>{a.values[m]=p*(m%2===0?e:n)});break}})}function fue(t){let e="";return t.commands.forEach(n=>{e+=n.key+" ",n.values.forEach(a=>{e+=a+" "})}),e}function vue(t,e,n){const a=cue[t.toUpperCase()],r=[];for(;n<=e.length;){const o={key:t,values:[]};for(const l of a){const s=e.slice(n).match(l);if(s!==null){o.values.push(+s[0]),n+=s[0].length;const c=e.slice(n).match(sue);c!==null&&(n+=c[0].length)}else{if(o.values.length===0)return{cursor:n,commands:r};throw new Error("malformed path (first error at "+n+")")}}if(o.relative=o.key.toUpperCase()!==o.key,r.push(o),a.length===0)return{cursor:n,commands:r};t==="m"&&(t="l"),t==="M"&&(t="L")}throw new Error("malformed path (first error at "+n+")")}function hue(t,e){const n=[];let a=t.relative&&e?{x:e.worldPoints[e.worldPoints.length-2],y:e.worldPoints[e.worldPoints.length-1]}:{x:0,y:0};for(let r=0;r<t.values.length-1;r+=2)n.push(a.x+t.values[r]),n.push(a.y+t.values[r+1]);t.worldPoints=n}function gue(t){let e,n=0,a=0;t.commands.forEach(r=>{switch(r.key){case"Z":case"z":r.worldPoints=[n,a];break;case"H":r.worldPoints=[r.values[0],e.worldPoints[e.worldPoints.length-1]];break;case"h":r.worldPoints=[r.values[0]+e.worldPoints[e.worldPoints.length-2],e.worldPoints[e.worldPoints.length-1]];break;case"V":r.worldPoints=[e.worldPoints[e.worldPoints.length-2],r.values[0]];break;case"v":r.worldPoints=[e.worldPoints[e.worldPoints.length-2],r.values[0]+e.worldPoints[e.worldPoints.length-1]];break;case"A":r.worldPoints=[e.worldPoints[e.worldPoints.length-2],r.values[0]+e.worldPoints[e.worldPoints.length-1]];break;default:hue(r,e);break}(r.key==="M"||r.key==="m"||r.key==="Z"||r.key==="z")&&(n=r.worldPoints[r.worldPoints.length-2],a=r.worldPoints[r.worldPoints.length-1]),e=r})}function pue(t,e){var c;const a=t.calculative.canvas.store.data.paths[t.pathId];if(!a)return new Path2D;const r=PI(a);t.calculative.svgRect=Ng(r),It(t.calculative.svgRect),(t.calculative.svgRect.width!==t.calculative.worldRect.width||t.calculative.svgRect.height!==t.calculative.worldRect.height)&&(t.calculative.worldRect.width/t.calculative.svgRect.width,t.calculative.worldRect.height/t.calculative.svgRect.height,due(r,t.calculative.worldRect.width/t.calculative.svgRect.width,t.calculative.worldRect.height/t.calculative.svgRect.height));const o=Ng(r);It(o),uue(r,t.calculative.worldRect.x-o.x,t.calculative.worldRect.y-o.y);const l=fue(r);if(e){(c=e.svgPath)==null||c.call(e,l);return}return new Path2D(l)}function mue(t,e){const n=e||new Path2D,{x:a,y:r,width:o,height:l}=t.calculative.worldRect;if(n.moveTo(a+o/2,r),n.lineTo(a+o,r+l/2),n.lineTo(a+o/2,r+l),n.lineTo(a,r+l/2),n.lineTo(a+o/2,r),n.closePath(),n instanceof Path2D)return n}function yue(t,e){const n=e||new Path2D,{x:a,y:r,width:o,height:l}=t.calculative.worldRect;if(n.moveTo(a+o/2,r),n.lineTo(a+o,r+l),n.lineTo(a,r+l),n.lineTo(a+o/2,r),n.closePath(),n instanceof Path2D)return n}function bue(t){const e=[{x:.5,y:0},{x:.75,y:.5},{x:.5,y:1},{x:.25,y:.5}];t.anchors=e.map(({x:n,y:a},r)=>({id:`${r}`,penId:t.id,x:n,y:a}))}function wue(t,e){const n=e||new Path2D,{x:a,y:r,width:o,height:l}=t.calculative.worldRect;if(n.moveTo(a+o/2,r),n.lineTo(a+o,r+l*2/5),n.lineTo(a+o*4/5,r+l),n.lineTo(a+o/5,r+l),n.lineTo(a,r+l*2/5),n.closePath(),n instanceof Path2D)return n}function Cue(t){const e=[{x:.5,y:0},{x:1,y:.4},{x:.8,y:1},{x:.2,y:1},{x:0,y:.4}];t.anchors=e.map(({x:n,y:a},r)=>({id:`${r}`,penId:t.id,x:n,y:a}))}function xue(t,e){t.onResize||(t.onResize=Sue);const n=e||new Path2D,{width:a,height:r,center:o}=t.calculative.worldRect,l=a>r?r:a,s=o.x,c=o.y,d=c-l/2,u=c-l/4,f=-(u-c)*Math.sin(Math.PI/180*324)+s,v=(u-c)*Math.cos(Math.PI/180*324)+c;n.moveTo(f,v);for(let h=0;h<5;++h)n.lineTo(-(d-c)*Math.sin(Math.PI/180*72*h)+s,(d-c)*Math.cos(Math.PI/180*72*h)+c),n.lineTo((f-s)*Math.cos(Math.PI/180*72*(h+1))-(v-c)*Math.sin(Math.PI/180*72*(h+1))+s,(f-s)*Math.sin(Math.PI/180*72*(h+1))+(v-c)*Math.cos(Math.PI/180*72*(h+1))+c);if(n.closePath(),n instanceof Path2D)return n}function _I(t){const{width:e,height:n}=t,a=e>n?n:e,r=[];for(let o=0;o<5;++o)r.push({flag:1,id:String(o),penId:t.id,x:.5+a/2*Math.sin(Math.PI/180*72*o)/e,y:-a/2*Math.cos(Math.PI/180*72*o)/n+.5});t.anchors=r}function Sue(t){const e=t.anchors.filter(n=>n.flag!==1);_I(t),t.anchors=t.anchors.concat(...e)}function Oue(t,e){const n=e||new Path2D,{x:a,y:r,width:o,height:l}=t.calculative.worldRect;if(n.moveTo(a+o/4,r),n.lineTo(a+o*3/4,r),n.lineTo(a+o,r+l/2),n.lineTo(a+o*3/4,r+l),n.lineTo(a+o*1/4,r+l),n.lineTo(a,r+l/2),n.lineTo(a+o/4,r),n.closePath(),n instanceof Path2D)return n}function kue(t,e){const n=e||new Path2D,{x:a,y:r,width:o,height:l}=t.calculative.worldRect;if(n.moveTo(a,r+l/2),n.lineTo(a+l/2,r),n.lineTo(a+l/2,r+l/3),n.lineTo(a+o,r+l/3),n.lineTo(a+o,r+l*2/3),n.lineTo(a+l/2,r+l*2/3),n.lineTo(a+l/2,r+l*2/3),n.lineTo(a+l/2,r+l),n.closePath(),n instanceof Path2D)return n}function Pue(t,e){const n=e||new Path2D,{x:a,y:r,width:o,height:l}=t.calculative.worldRect;if(n.moveTo(a,r+l/3),n.lineTo(a+(o-l/2),r+l/3),n.lineTo(a+(o-l/2),r),n.lineTo(a+o,r+l/2),n.lineTo(a+(o-l/2),r+l),n.lineTo(a+(o-l/2),r+l*2/3),n.lineTo(a,r+l*2/3),n.closePath(),n instanceof Path2D)return n}function _ue(t,e){const n=e||new Path2D,{x:a,y:r,width:o,height:l}=t.calculative.worldRect;if(n.moveTo(a,r+l/2),n.lineTo(a+l/2,r),n.lineTo(a+l/2,r+l/3),n.lineTo(a+(o-l/2),r+l/3),n.lineTo(a+(o-l/2),r),n.lineTo(a+o,r+l/2),n.lineTo(a+(o-l/2),r+l),n.lineTo(a+(o-l/2),r+l*2/3),n.lineTo(a+l/2,r+l*2/3),n.lineTo(a+l/2,r+l),n.closePath(),n instanceof Path2D)return n}function Iue(t,e){const n=e||new Path2D,{x:a,y:r,width:o,height:l,ey:s}=t.calculative.worldRect;if(n.moveTo(a,r),n.lineTo(a+o,r),n.lineTo(a+o,r+l*3/4),n.lineTo(a+o*8/16,r+l*3/4),n.lineTo(a+o/4,s),n.lineTo(a+o*5/16,r+l*3/4),n.lineTo(a,r+l*3/4),n.closePath(),n instanceof Path2D)return n}function Nue(t,e){const n=e||new Path2D,{x:a,y:r,width:o,height:l}=t.calculative.worldRect;if(n.moveTo(a+o/5,r+l*13/16),n.bezierCurveTo(a-o/15,r+l*13/16,a-o/15,r+l*7/16,a+o/5,r+l*7/16),n.bezierCurveTo(a+o/5,r,a+o*4/5,r,a+o*4/5,r+l*7/16),n.bezierCurveTo(a+o*16/15,r+l*7/16,a+o*16/15,r+l*13/16,a+o*4/5,r+l*13/16),n.closePath(),n instanceof Path2D)return n}function Tue(t,e){const n=e||new Path2D,{x:a,y:r,width:o,ex:l,ey:s}=t.calculative.worldRect,c=o/6;if(n.moveTo(a,r),n.lineTo(l-c,r),n.lineTo(l,r+c),n.lineTo(l,s),n.lineTo(a,s),n.closePath(),n.moveTo(l-c,r),n.lineTo(l-c,r+c),n.lineTo(l,r+c),n.closePath(),n instanceof Path2D)return n}function Eue(t,e){const{x:n,y:a,width:r,ex:o,ey:l}=e.calculative.worldRect;let s=r*.25;const c=e.z;c>1?s=c:c>0&&(s=r*c);const d={x:n,y:a+s},u={x:o-s,y:a+s},f={x:o-s,y:l};Tg(t,[d,u,f,{x:n,y:l}],e.backgroundFront||e.background,e.color),Tg(t,[d,{x:n+s,y:a},{x:o,y:a},u],e.backgroundUp||e.background,e.color),Tg(t,[u,{x:o,y:a},{x:o,y:l-s},f],e.backgroundRight||e.background,e.color)}function Tg(t,e,n="",a=""){t.save(),n&&(t.fillStyle=n),a&&(t.strokeStyle=a),t.beginPath();for(let r=0;r<e.length;++r)r?t.lineTo(e[r].x,e[r].y):t.moveTo(e[r].x,e[r].y);t.closePath(),n&&t.fill(),t.stroke(),t.restore()}function Aue(t,e){const n=e||new Path2D,{x:a,y:r,width:o,ex:l,ey:s}=t.calculative.worldRect,c=o/4,d=a+o/2;if(n.arc(d,r+c,c,0,Math.PI*2),n.moveTo(a,r+c*3),n.lineTo(l,r+c*3),n.moveTo(d,r+c*2),n.lineTo(d,r+c*4),n.moveTo(d,r+c*4),n.lineTo(a,s),n.moveTo(d,r+c*4),n.lineTo(l,s),n.closePath(),n instanceof Path2D)return n}function Rue(t,e,n){if(e.calculative.worldAnchors||(e.calculative.worldAnchors=[]),n)e.calculative.activeAnchor&&(e.calculative.activeAnchor.next={penId:e.id,x:n.x,y:n.y},_d(e.calculative.activeAnchor.next,e.calculative.activeAnchor)<5?e.calculative.activeAnchor.next=void 0:(e.calculative.activeAnchor.prev={...e.calculative.activeAnchor.next},Ot(e.calculative.activeAnchor.prev,180,e.calculative.activeAnchor)));else{const a=e.calculative.worldAnchors[0];if(!a.next){const o=bl(a,t.pens[a.connectTo]);II(a,o,50),a.prev=void 0}const r=e.calculative.worldAnchors[e.calculative.worldAnchors.length-1];if(r&&r!==a&&!r.prev){const o=bl(r,t.pens[r.connectTo]);II(r,o,-50),r.next=void 0}}}function II(t,e,n){switch(e){case at.Up:t.prev={penId:t.penId,x:t.x,y:t.y+n},t.next={penId:t.penId,x:t.x,y:t.y-n};break;case at.Right:t.prev={penId:t.penId,x:t.x-n,y:t.y},t.next={penId:t.penId,x:t.x+n,y:t.y};break;case at.Bottom:t.prev={penId:t.penId,x:t.x,y:t.y-n},t.next={penId:t.penId,x:t.x,y:t.y+n};break;case at.Left:t.prev={penId:t.penId,x:t.x+n,y:t.y},t.next={penId:t.penId,x:t.x-n,y:t.y};break}}function Eg(t,e,n,a){const r=1-t,o=r*r*e.x+2*r*t*n.x+t*t*a.x,l=r*r*e.y+2*r*t*n.y+t*t*a.y;return{x:o,y:l,step:t}}function NI(t,e,n,a,r){const{x:o,y:l}=e,{x:s,y:c}=r,{x:d,y:u}=n,{x:f,y:v}=a,h=1-t,g=o*h*h*h+3*d*t*h*h+3*f*t*t*h+s*t*t*t,p=l*h*h*h+3*u*t*h*h+3*v*t*t*h+c*t*t*t;return{x:g,y:p,step:t}}function qr(t,e,n){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function Due(t,e,n){let a=t.calculative.worldAnchors[n],r=t.calculative.worldAnchors[n+1];!r&&t.close&&(r=t.calculative.worldAnchors[0]);const o=e.step;let l;if(a.next&&r.prev){const s=a,c=a.next,d=r.prev,u=r,f=qr(s,c,o),v=qr(c,d,o),h=qr(d,u,o),g=qr(f,v,o),p=qr(v,h,o);l=qr(g,p,o),g.penId=t.id,l.prev=g,p.penId=t.id,l.next=p,a.next.x=f.x,a.next.y=f.y,r.prev.x=h.x,r.prev.y=h.y}else if(a.next||r.prev){const s=a,c=a.next||r.prev,d=r,u=qr(s,c,o),f=qr(c,d,o);l=e,u.penId=t.id,f.penId=t.id,l.prev=u,l.next=f,a.next=void 0,r.prev=void 0}else l=e;return l.penId=t.id,l.id=Ue(),l.prevNextType=ul.Bilateral,l}function jue(t,e,n){if(e.calculative.worldAnchors||(e.calculative.worldAnchors=[]),e.calculative.worldAnchors.length<2)return;let a=e.calculative.activeAnchor,r=n||bt(e);if(!a||!r)return;const o=20,l=t.pens[a.connectTo];let s=bl(a,l);switch(s===at.None&&(r.x>a.x?s=at.Right:s=at.Left),a.next={id:Ue(),penId:e.id,x:a.x,y:a.y,prevNextType:2},r.prev={id:Ue(),penId:e.id,x:r.x,y:r.y,prevNextType:2},s){case at.Up:a.next.y-=o,r.prev.y=a.y;break;case at.Bottom:a.next.y+=o,r.prev.y=a.y;break;case at.Left:a.next.x-=o,r.prev.x=a.x;break;default:a.next.x+=o,r.prev.x=a.x;break}}function Mue(t,e){const n=e||new Path2D;if((t.lineName==="line"||t.lineName==="polyline")&&t.calculative.lineSmooth){let r=bg(t);if(n.addPath(r),n instanceof Path2D)return n}const a=t.calculative.worldAnchors;if(a.length>1){let r;a.forEach(o=>{r?TI(n,r,o):o.start=!0,r=o}),t.close&&(t.lineName==="curve"?TI(n,r,a[0]):n.closePath())}if(n instanceof Path2D)return n}function Fue(t,e,n){var o;if(e.calculative.worldAnchors||(e.calculative.worldAnchors=[]),e.calculative.worldAnchors.length<2||((o=e.anchors)==null?void 0:o.length)>1)return;const a=Lt(e),r=bt(e);!a||!r||!r.id||a===r||(a.next=void 0,Cg(e),r.prev=void 0,e.calculative.worldAnchors.push(r))}function TI(t,e,n){!n||n.isTemp||(e.start&&t.moveTo(e.x,e.y),e.next?n.prev?t.bezierCurveTo(e.next.x,e.next.y,n.prev.x,n.prev.y,n.x,n.y):t.quadraticCurveTo(e.next.x,e.next.y,n.x,n.y):n.prev?t.quadraticCurveTo(n.prev.x,n.prev.y,n.x,n.y):t.lineTo(n.x,n.y))}function Ag(t){return Rg(t),Sl(EI(t))}function EI(t){const e=[];let n;return t.calculative.worldAnchors.forEach(a=>{e.push(a),n&&e.push(...AI(n,a,t)),n=a}),t.close&&t.calculative.worldAnchors.length>1&&e.push(...AI(n,t.calculative.worldAnchors[0],t)),e}function Md(t){return t!=null&&t.lineWidth?t.lineWidth/2+4:4}function AI(t,e,n){const a=[];if(!e)return a;let r=.02;if(t.lineLength&&(r=Md(n)/t.lineLength),t.next)if(e.prev)for(let o=r;o<1;o+=r)a.push(NI(o,t,t.next,e.prev,e));else for(let o=r;o<1;o+=r)a.push(Eg(o,t,t.next,e));else if(e.prev)for(let o=r;o<1;o+=r)a.push(Eg(o,t,e.prev,e));else a.push({x:e.x,y:e.y});return a.length>1&&(t.curvePoints=a),a}function Lue(t,e){const n=Md(e);let a=0,r,o;for(const l of e.calculative.worldAnchors){if(r){if(o=RI(t,r,l,n),o)return{i:a,point:o};++a}r=l}if(e.close&&e.calculative.worldAnchors.length>1&&(o=RI(t,r,e.calculative.worldAnchors[0],n)))return{i:a,point:o}}function RI(t,e,n,a=4){if(!e.next&&!n.prev){const{x:r,y:o}=e,{x:l,y:s}=n,c=Math.min(r,l),d=Math.max(r,l),u=Math.min(o,s),f=Math.max(o,s);return t.x>=c-a&&t.x<=d+a&&t.y>=u-a&&t.y<=f+a?$ue(t,e,n,a):void 0}else if(e.curvePoints){for(const r of e.curvePoints)if(dl(t,r,a))return r}}function $ue(t,e,n,a=4){if(e.x===n.x){if(Math.abs(t.x-e.x)<=a)return{x:e.x,y:t.y}}else{const r=(e.y-n.y)/(e.x-n.x),o=e.y-r*e.x;if(Math.abs((r*t.x+o-t.y)/Math.sqrt(r*r+1))<=a){const c=(t.x+r*t.y-r*o)/(r*r+1);return{x:c,y:r*c+o}}}}function DI(t,e,n,a){if(!e&&!n)return Math.sqrt(Math.pow(Math.abs(t.x-a.x),2)+Math.pow(Math.abs(t.y-a.y),2))||0;const r=document.createElementNS("http://www.w3.org/2000/svg","path");return e&&n?r.setAttribute("d",`M${t.x} ${t.y} C${e.x} ${e.y} ${n.x} ${n.y} ${a.x} ${a.y}`):e?r.setAttribute("d",`M${t.x} ${t.y} Q${e.x} ${e.y} ${a.x} ${a.y}`):r.setAttribute("d",`M${t.x} ${t.y} Q${n.x} ${n.y} ${a.x} ${a.y}`),r.getTotalLength()||0}function Rg(t){if(t.calculative.worldAnchors.length<2)return 0;let e=0,n;if(t.calculative.worldAnchors.forEach(a=>{n&&(n.lineLength=DI(n,n.next,a.prev,a),e+=n.lineLength),n=a}),t.close){const a=Lt(t);n.lineLength=DI(n,n.next,a.prev,a),e+=n.lineLength}return t.calculative.animatePos&&(t.calculative.animatePos=e/t.length*t.calculative.animatePos),t.length=e,e}function Dg(t,e){const n=t.calculative.worldAnchors;for(let a=0;a<n.length-1;a++){const r=n[a],o=n[a+1];if(!r.next&&!o.prev){if(jI(r,o,e))return!0}else if(Bue(r,o,e))return!0}return!1}function jI(t,e,n){if(Bi(t,n)||Bi(e,n))return!0;const a=t.x,r=t.y,o=e.x,l=e.y;let s=n.x,c=n.y,d=n.ex,u=n.ey;const f=r-l,v=o-a,h=a*l-o*r;if(f*s+v*c+h>=0&&f*d+v*u+h<=0||f*s+v*c+h<=0&&f*d+v*u+h>=0||f*s+v*u+h>=0&&f*d+v*c+h<=0||f*s+v*u+h<=0&&f*d+v*c+h>=0){if(s>d){const g=s;s=d,d=g}if(c<u){const g=c;c=u,u=g}return!(a<s&&o<s||a>d&&o>d||r>c&&l>c||r<u&&l<u)}else return!1}function Bue(t,e,n){if(!t.next&&!e.prev)return jI(t,e,n);if(t.next&&e.prev)for(let r=.02;r<1;r+=.02){const o=NI(r,t,t.next,e.prev,e);if(Bi(o,n))return!0}else if(t.next||e.prev)for(let r=.02;r<1;r+=.02){const o=Eg(r,t,t.next||e.prev,e);if(Bi(o,n))return!0}return!1}let Dn=10;function zue(t,e,n){var p;if(e.calculative.worldAnchors||(e.calculative.worldAnchors=[]),Dn=t.options.polylineSpace||10,e.calculative.worldAnchors.length<2)return;let a=Lt(e),r=bt(e);if(!a||!r)return;let o;if((p=e.anchors)!=null&&p.length&&a===e.calculative.activeAnchor?(o=!0,a=r,r=Lt(e)):(!e.anchors||!e.anchors.length)&&a!==e.calculative.activeAnchor&&(a=e.calculative.activeAnchor),!a||!r)return;a.next=void 0,r.prev=void 0;const l=r.connectTo;Cg(e);const s=[],c=t.pens[a.connectTo],d=t.pens[r.connectTo],u=bl(a,c),f=bl(r,d);let v=MI(a,u,Dn);v&&(a=v,s.push(v)),v=MI(r,f,Dn);const h=r;let g;if(v&&(r=v,h.connectTo&&(v.y>h.y&&a.y<h.y||v.y<h.y&&a.y>h.y))){g=v;let m=Dn;a.x<v.x&&(m=-m),Math.abs(a.x-v.x)<m&&(m=-m),r={x:v.x+m,y:v.y,id:Ue()}}switch(u){case at.Up:s.push(...Hue(a,r,f));break;case at.Right:s.push(...Wue(a,r,f));break;case at.Bottom:s.push(...Uue(a,r,f));break;case at.Left:s.push(...Kue(a,r,f));break;default:s.push(...Yue(e,a,r));break}if(s.forEach(m=>{m.id=Ue(),m.penId=e.id,e.calculative.worldAnchors.push(m)}),e.calculative.worldAnchors.push(r),g&&e.calculative.worldAnchors.push(g),v&&e.calculative.worldAnchors.push(h),o&&e.calculative.worldAnchors.reverse(),l){const m=e.calculative.worldAnchors.length-2;e.calculative.worldAnchors[m].isTemp=!1,e.calculative.worldAnchors[1].isTemp=!1}}function MI(t,e,n){const a={x:t.x,y:t.y,id:Ue()};switch(e){case at.Up:a.y-=n;break;case at.Right:a.x+=n;break;case at.Bottom:a.y+=n;break;case at.Left:a.x-=n;break;default:return}return a}function Hue(t,e,n){if(t.x===e.x||t.y===e.y)return[];const a=[];let r,o;switch(n){case at.Up:t.y<e.y?(r=e.x,o=t.y):(r=t.x,o=e.y),a.push({x:r,y:o});break;case at.Bottom:if(r=e.x,o=t.y,e.y>t.y)r=t.x+(e.x-t.x)/2,a.push({x:r,y:t.y},{x:r,y:e.y});else{const l=(t.y+e.y)/2;a.push({x:t.x,y:l},{x:e.x,y:l})}break;case at.Right:r=e.x,o=t.y,e.x<t.x&&e.y<t.y&&(r=t.x,o=e.y),a.push({x:r,y:o});break;case at.Left:r=e.x,o=t.y,e.x>t.x&&e.y<t.y&&(r=t.x,o=e.y),a.push({x:r,y:o});break;default:if(e.y>t.y-Dn)r=t.x+(e.x-t.x)/2,a.push({x:r,y:t.y},{x:r,y:e.y});else{const l=(t.y+e.y+Dn)/2;a.push({x:t.x,y:l},{x:e.x,y:l})}break}return a}function Wue(t,e,n){if(t.x===e.x||t.y===e.y)return[];const a=[];let r,o;switch(n){case at.Up:r=t.x,o=e.y,e.x>t.x&&e.y>t.y&&(r=e.x,o=t.y),a.push({x:r,y:o});break;case at.Bottom:r=t.x,o=e.y,e.x>t.x&&e.y<t.y&&(r=e.x,o=t.y),a.push({x:r,y:o});break;case at.Left:if(r=e.x,o=t.y,e.x<t.x)o=t.y+(e.y-t.y)/2,a.push({x:t.x,y:o},{x:e.x,y:o});else{const l=(t.x+e.x)/2;a.push({x:l,y:o},{x:l,y:e.y})}break;case at.Right:e.x<t.x?a.push({x:t.x,y:e.y}):a.push({x:e.x,y:t.y});break;default:if(r=e.x,o=e.y,e.x<t.x+Dn)a.push({x:t.x,y:o});else{const l=(t.x+e.x-Dn)/2;a.push({x:l,y:t.y},{x:l,y:o})}break}return a}function Uue(t,e,n){if(t.x===e.x||t.y===e.y)return[];const a=[];let r,o;switch(n){case at.Up:if(r=t.x,o=e.y,e.y<t.y)r=t.x+(e.x-t.x)/2,a.push({x:r,y:t.y},{x:r,y:e.y});else{const l=(t.y+e.y)/2;a.push({x:r,y:l},{x:e.x,y:l})}break;case at.Right:r=e.x,o=t.y,e.x<t.x&&e.y>t.y&&(r=t.x,o=e.y),a.push({x:r,y:o});break;case at.Bottom:t.y>e.y?(r=e.x,o=t.y):(r=t.x,o=e.y),a.push({x:r,y:o});break;case at.Left:r=e.x,o=t.y,e.x>t.x&&e.y>t.y&&(r=t.x,o=e.y),a.push({x:r,y:o});break;default:if(r=t.x,e.y<t.y+Dn)r=t.x+(e.x-t.x)/2,a.push({x:r,y:t.y},{x:r,y:e.y});else{const l=(t.y+e.y-Dn)/2;a.push({x:r,y:l},{x:e.x,y:l})}break}return a}function Kue(t,e,n){if(t.x===e.x||t.y===e.y)return[];const a=[];let r,o;switch(n){case at.Up:r=t.x,o=e.y,e.x<t.x&&e.y>t.y&&(r=e.x,o=t.y),a.push({x:r,y:o});break;case at.Bottom:r=t.x,o=e.y,e.x<t.x&&e.y<t.y&&(r=e.x,o=t.y),a.push({x:r,y:o});break;case at.Right:if(r=t.x,o=e.y,e.x>t.x)r=e.x,o=t.y+(e.y-t.y)/2,a.push({x:t.x,y:o},{x:e.x,y:o});else{const l=(t.x+e.x)/2;a.push({x:l,y:t.y},{x:l,y:e.y})}break;case at.Left:e.x>t.x?a.push({x:t.x,y:e.y}):a.push({x:e.x,y:t.y});break;default:if(r=t.x,o=e.y,e.x<t.x-Dn){const l=(t.x+e.x+Dn)/2;a.push({x:l,y:t.y},{x:l,y:o})}else a.push({x:t.x,y:o});break}return a}function Yue(t,e,n){const a=[];t.calculative.drawlineH==null&&(t.calculative.drawlineH=Math.abs(n.x-e.x)>Math.abs(n.y-e.y));let r=t.calculative.worldAnchors.findIndex(o=>o.id==e.id);if(r>1){let o=t.calculative.worldAnchors[r-1];if(o.x===e.x&&o.y!==e.y)return a.push({x:n.x,y:e.y}),a;if(o.y===e.y&&o.x!==e.x)return a.push({x:e.x,y:n.y}),a}return t.calculative.worldAnchors.length&&(n.isTemp=void 0,t.calculative.drawlineH?(a.push({x:n.x,y:e.y}),Math.abs(n.y-e.y)<Dn&&(n.isTemp=!0)):(a.push({x:e.x,y:n.y}),Math.abs(n.x-e.x)<Dn&&(n.isTemp=!0))),a}function Fd(t,e,n=!0){var r,o;let a=t.calculative.worldAnchors;n||(a=[],t.calculative.worldAnchors.forEach(l=>{a.unshift(l)}));for(let l=0;l<a.length&&a[l].id!==e.id;l++)if(a[l].y!==e.y||a[l].x===((r=a[l+1])==null?void 0:r.x)&&a[l].y!==((o=a[l+1])==null?void 0:o.y))return!1;return!0}function Ld(t,e,n=!0){var r,o;let a=t.calculative.worldAnchors;n||(a=[],t.calculative.worldAnchors.forEach(l=>{a.unshift(l)}));for(let l=0;l<a.length&&a[l].id!==e.id;l++)if(a[l].x!==e.x||a[l].y===((r=a[l+1])==null?void 0:r.y)&&a[l].x!==((o=a[l+1])==null?void 0:o.x))return!1;return!0}function que(t,e,n){if(!t.calculative.worldAnchors)return;const a=t.calculative.worldAnchors.findIndex(c=>c.id===e.id),r=Lt(t),o=bt(t);let l=t.calculative.worldAnchors[a-1],s=t.calculative.worldAnchors[a+1];if(t.calculative.h==null&&(r.connectTo&&(Fd(t,e,!0)?t.calculative.h=!0:Ld(t,e,!0)&&(t.calculative.h=!1)),t.calculative.h==null&&o.connectTo&&(Fd(t,e,!1)?t.calculative.h=!0:Ld(t,e,!1)&&(t.calculative.h=!1)),t.calculative.h==null&&(l?t.calculative.h=l.y===e.y:s&&(t.calculative.h=s.y===e.y))),t.calculative.h){if(e.x=n.x,r.connectTo&&Fd(t,e,!0)){s&&s.y!==e.y&&(s.x=e.x);return}if(o.connectTo&&Fd(t,e,!1)){l&&l.y!==e.y&&(l.x=e.x);return}const c=t.anchors[a];let d;for(let u=a-1;u>-1;u--)if(l=t.anchors[u],d==null&&(d=l.y===c.y),d===!0)if(l.y===c.y)t.calculative.worldAnchors[u].y=n.y;else break;else if(l.x===c.x)t.calculative.worldAnchors[u].x=n.x;else break;d=void 0;for(let u=a+1;u<t.calculative.worldAnchors.length&&(s=t.anchors[u],s);u++)if(d==null&&(d=s.y===c.y),d===!0)if(s.y===c.y)t.calculative.worldAnchors[u].y=n.y;else break;else if(s.x===c.x)t.calculative.worldAnchors[u].x=n.x;else break;e.y=n.y}else{if(e.y=n.y,r.connectTo&&Ld(t,e,!0)){s&&s.x!==e.x&&(s.y=e.y);return}if(o.connectTo&&Ld(t,e,!1)){l&&l.x!==e.x&&(l.y=e.y);return}const c=t.anchors[a];let d;for(let u=a-1;u>-1;u--)if(l=t.anchors[u],d==null&&(d=l.x===c.x),d===!0)if(l.x===c.x)t.calculative.worldAnchors[u].x=n.x;else break;else if(l.y===c.y)t.calculative.worldAnchors[u].y=n.y;else break;d=void 0;for(let u=a+1;u<t.calculative.worldAnchors.length&&(s=t.anchors[u],s);u++)if(d==null&&(d=s.x===c.x),d===!0)if(s.x===c.x)t.calculative.worldAnchors[u].x=n.x;else break;else if(s.y===c.y)t.calculative.worldAnchors[u].y=n.y;else break;e.x=n.x}}function jg(t,e,n,a){const r=[];let o,l,s,c,d,u,f,v,h,g,p,m,y,b;h=t[n],g=t[a],s=h.x,c=h.y,f=g.x-s,v=g.y-c,b=f*f+v*v,o=e;for(let w=n+1;w<a;w++)p=t[w],f!==0||v!==0?(m=((p.x-s)*f+(p.y-c)*v)/b,m>1?(d=p.x-g.x,u=p.y-g.y):m>0?(d=p.x-(s+f*m),u=p.y-(c+v*m)):(d=p.x-s,u=p.y-c)):(d=p.x-s,u=p.y-c),y=d*d+u*u,y>o&&(l=w,o=y);return o>e&&(l-n>1&&r.push(...jg(t,e,n,l)),r.push({id:t[l].id,penId:t[l].penId,x:t[l].x,y:t[l].y}),a-l>1&&r.push(...jg(t,e,l,a))),r}function Gue(t,e=.8,n=!1){if(t.length<3)return t;let a,r,o,l,s,c,d,u,f,v,h,g,p,m,y;const b=(w,C,x,k)=>(l=Math.sqrt(w*w+C*C),l>0?(g=w/l,m=C/l):(g=1,m=0),s=Math.sqrt(x*x+k*k),s>0?(p=x/s,y=k/s):(p=1,y=0),Math.acos(g*p+m*y));v=[],h=t.length,a=t[0],t[h-1],v.push({...t[0]});for(let w=0;w<h-1;w++){if(r=t[w],o=t[w+1],f=Math.abs(b(r.x-a.x,r.y-a.y,o.x-r.x,o.y-r.y)),l)if(f<e*3.14)if(n&&(l=Math.min(l,s),s=l),c=(g+p)/2,d=(m+y)/2,u=Math.sqrt(c*c+d*d),u===0)v.push({...r});else{c/=u,d/=u;const C={...r};C.prevNextType=ul.Bilateral,C.prev={penId:C.penId,x:r.x-c*l*.25,y:r.y-d*l*.25},C.next={penId:C.penId,x:r.x+c*s*.25,y:r.y+d*s*.25},v.push(C)}else v.push({...r});a=r}return v.push({...t[t.length-1]}),v}function FI(t,e){const n=e||new Path2D,a=t.calculative.worldAnchors;let r=t.calculative.canvas.store.data.scale,o=(t.calculative.animateLineWidth||6)*r,l=(t.animateLineWidth*2||12)*r;t.lineAnimateType===ca.WaterDrop&&(l=(t.animateLineWidth*4||24)*r);let s=(t.animateInterval||100)*r,c=t.calculative.lineWidth*(t.calculative.lineSmooth||0),d=(t.calculative.animateLineWidth/2||3)*r;if(t.animateReverse&&(l=-l,o=-o),a.length>1){let u,f=0;for(let v=0;v<a.length;v++){let h=a[v];if(u){let g=Xue(u,h),p={x:u.x+(t.calculative.animatePos-f)%s*Math.cos(g*Math.PI/180),y:u.y-(t.calculative.animatePos-f)%s*Math.sin(g*Math.PI/180)};t.animateReverse&&(p={x:u.x+(t.length-(t.calculative.animatePos+f))%s*Math.cos(g*Math.PI/180),y:u.y-(t.length-(t.calculative.animatePos+f))%s*Math.sin(g*Math.PI/180)});let m=Math.sqrt((p.x-u.x)**2+(p.y-u.y)**2),y=Math.sqrt((h.x-u.x)**2+(h.y-u.y)**2);for(;m<y;)(t.animateReverse&&m-l<y||!t.animateReverse&&m>l)&&m>c+l&&y-m>c&&(t.lineAnimateType===ca.Arrow?Jue(n,p,o,g,d,l):t.lineAnimateType===ca.WaterDrop&&Zue(n,p,t.animateReverse,g,d,l)),p.x+=s*Math.cos(g*Math.PI/180),p.y-=s*Math.sin(g*Math.PI/180),m=Math.sqrt((p.x-u.x)**2+(p.y-u.y)**2)}u=h}}if(n instanceof Path2D)return n}function Xue(t,e){let n=e.x-t.x,a=e.y-t.y,r=Math.atan(a/n)*180/Math.PI;return e.x>=t.x?r=-r:r=180-r,r}function Gr(t,e,n){let a=(180-n)*Math.PI/180;return{x:(t.x-e.x)*Math.cos(a)-(t.y-e.y)*Math.sin(a)+e.x,y:(t.x-e.x)*Math.sin(a)+(t.y-e.y)*Math.cos(a)+e.y}}function Jue(t,e,n,a,r,o){let l=Gr({x:e.x+n,y:e.y+.57*n},{x:e.x,y:e.y},a),s=Gr({x:e.x+n,y:e.y-.57*n},{x:e.x,y:e.y},a),c=Gr({x:e.x+n,y:e.y+r/2},{x:e.x,y:e.y},a),d=Gr({x:e.x+o,y:e.y+r/2},{x:e.x,y:e.y},a),u=Gr({x:e.x+n,y:e.y-r/2},{x:e.x,y:e.y},a),f=Gr({x:e.x+o,y:e.y-r/2},{x:e.x,y:e.y},a);t.moveTo(l.x,l.y),t.lineTo(e.x,e.y),t.lineTo(s.x,s.y),t.lineTo(u.x,u.y),t.lineTo(f.x,f.y),t.lineTo(d.x,d.y),t.lineTo(c.x,c.y),t.lineTo(l.x,l.y)}function Zue(t,e,n,a,r,o){let l=r/2;n&&(l=-r/2);let s=Gr({x:e.x,y:e.y+l},{x:e.x,y:e.y},a),c=Gr({x:e.x+o,y:e.y},{x:e.x,y:e.y},a),d=Math.PI/2;n&&(d=-Math.PI/2),t.moveTo(e.x,e.y),t.arc(e.x,e.y,r/2,-d-a/180*Math.PI,d-a/180*Math.PI,!1),t.lineTo(c.x,c.y),t.lineTo(s.x,s.y)}function Que(t){var n;t.onDestroy||(t.onDestroy=Vue,t.onMove=$d,t.onResize=$d,t.onRotate=$d,t.onValue=$d,t.onMouseMove=tde,t.onBeforeValue=ede,t.onRenderPenRaw=nde),t.calculative.singleton||(t.calculative.singleton={});const e=t.calculative.worldRect;if(!t.calculative.singleton.div){const a=document.createElement("div");a.style.position="absolute",a.style.outline="none",a.style.left="-9999px",a.style.top="-9999px",a.style.width=e.width+"px",a.style.height=e.height+"px",document.body.appendChild(a),(n=t.calculative.canvas.externalElements)==null||n.parentElement.appendChild(a),sn(t,a),t.calculative.singleton.div=a;const r=document.createElement("iframe");r.style.width="100%",r.style.height="100%",r.scrolling=t.scrolling||"no",r.frameBorder="0",r.style.border="none",r.src=t.iframe,t.calculative.iframe=t.iframe,a.appendChild(r),$I(t),r.onload=()=>{r.setAttribute("document.domain","")}}return t.calculative.patchFlags&&sn(t,t.calculative.singleton.div),t.onRenderPenRaw(t),new Path2D}function Vue(t){BI(t),t.calculative.singleton&&t.calculative.singleton.div&&(t.calculative.singleton.div.remove(),delete t.calculative.singleton.div)}function $d(t){t.calculative.singleton.div&&sn(t,t.calculative.singleton.div)}function ede(t,e){if(e.iframe&&t.calculative.singleton.div&&(t.calculative.singleton.div.children[0].src=e.iframe,t.calculative.iframe=e.iframe),e.operationalRect||e["operationalRect.x"]!==void 0||e["operationalRect.y"]!==void 0||e["operationalRect.width"]!==void 0||e["operationalRect.height"]!==void 0){t.operationalRect||(t.operationalRect={});let n=fe(e);n.operationalRect||(n.operationalRect={}),n["operationalRect.x"]!==void 0&&(n.operationalRect.x=n["operationalRect.x"]),n["operationalRect.y"]!==void 0&&(n.operationalRect.y=n["operationalRect.y"]),n["operationalRect.width"]!==void 0&&(n.operationalRect.width=n["operationalRect.width"]),n["operationalRect.height"]!==void 0&&(n.operationalRect.height=n["operationalRect.height"]),Object.assign(t.operationalRect,n.operationalRect),t.calculative.singleton.div&&(t.calculative.singleton.div.children.length===1?$I(t):(t.calculative.singleton.div.children[1].style.height=t.operationalRect.y*100+"%",t.calculative.singleton.div.children[1].style.left=t.operationalRect.x*100+"%",t.calculative.singleton.div.children[1].style.width=t.operationalRect.width*100+"%",t.calculative.singleton.div.children[2].style.width=(1-t.operationalRect.x-t.operationalRect.width)*100+"%",t.calculative.singleton.div.children[3].style.height=(1-t.operationalRect.y-t.operationalRect.height)*100+"%",t.calculative.singleton.div.children[3].style.left=t.operationalRect.x*100+"%",t.calculative.singleton.div.children[3].style.width=t.operationalRect.width*100+"%",t.calculative.singleton.div.children[4].style.width=t.operationalRect.x*100+"%"))}if(e.blur!==void 0)for(let n=1;n<5;n++)t.calculative.singleton.div.children[n].style["backdrop-filter"]=`blur(${e.blur||2}px)`;if(e.blurBackground!==void 0)for(let n=1;n<5;n++)t.calculative.singleton.div.children[n].style.backgroundColor=e.blurBackground;return e}function tde(t,e){if(!(!t.calculative.canvas.store.data.locked&&!t.locked)&&LI(t.operationalRect)&&t.calculative.zIndex<5&&e.x>t.x+t.width*t.operationalRect.x&&e.x<t.x+t.width*(t.operationalRect.x+t.operationalRect.width)&&e.y>t.y+t.height*t.operationalRect.y&&e.y<t.y+t.height*(t.operationalRect.y+t.operationalRect.height)&&t.calculative.singleton.div){let n=t.calculative.singleton.div.parentNode.children;for(let a=0;a<6;a++)n[a].style.pointerEvents="none"}}function LI(t){return t?!t.width||!t.height?!1:(t.x===void 0&&(t.x=(1-t.width)/2),t.y===void 0&&(t.y=(1-t.height)/2),!0):!1}function $I(t){if(!LI(t.operationalRect))return;const e=t.calculative.singleton.div;if(!e)return;const n=document.createElement("div");n.style.position="absolute",n.style.left=t.operationalRect.x*100+"%",n.style.top="0px",n.style.width=t.operationalRect.width*100+"%",n.style.height=t.operationalRect.y*100+"%",n.style["backdrop-filter"]=`blur(${t.blur||2}px)`,n.style.backgroundColor=t.blurBackground,e.appendChild(n);const a=document.createElement("div");a.style.position="absolute",a.style.right="0px",a.style.top="0px",a.style.width=(1-t.operationalRect.x-t.operationalRect.width)*100+"%",a.style.height="100%",a.style["backdrop-filter"]=`blur(${t.blur||2}px)`,a.style.backgroundColor=t.blurBackground,e.appendChild(a);const r=document.createElement("div");r.style.position="absolute",r.style.left=t.operationalRect.x*100+"%",r.style.bottom="0px",r.style.width=t.operationalRect.width*100+"%",r.style.height=(1-t.operationalRect.y-t.operationalRect.height)*100+"%",r.style["backdrop-filter"]=`blur(${t.blur||2}px)`,r.style.backgroundColor=t.blurBackground,e.appendChild(r);const o=document.createElement("div");o.style.position="absolute",o.style.left="0px",o.style.top="0px",o.style.width=t.operationalRect.x*100+"%",o.style.height="100%",o.style["backdrop-filter"]=`blur(${t.blur||2}px)`,o.style.backgroundColor=t.blurBackground,e.appendChild(o);let l=()=>{BI(t)};n.onmouseenter=l,r.onmouseenter=l,a.onmouseenter=l,o.onmouseenter=l,e.onmouseleave=l}function BI(t){if(!(!t.calculative.canvas.store.data.locked&&!t.locked)&&t.calculative.zIndex<5){let e=t.calculative.singleton.div.parentNode.children;for(let n=1;n<6;n++)e[n].style.pointerEvents="initial"}}function nde(t){if(t.thumbImg&&!t.calculative.img){const e=new Image;e.crossOrigin=t.crossOrigin==="undefined"?void 0:t.crossOrigin||"anonymous",t.calculative.canvas.store.options.cdn&&!(t.thumbImg.startsWith("http")||t.thumbImg.startsWith("//")||t.thumbImg.startsWith("data:image"))?e.src=t.calculative.canvas.store.options.cdn+t.thumbImg:e.src=t.thumbImg,e.onerror=n=>{e.remove(),t.calculative.img=void 0},t.calculative.img=e}}const jn={},Bd=['<svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M473.088 125.44L256 256H52.224C23.552 256 0 279.552 0 308.224V716.8c0 28.16 23.04 51.2 51.2 51.2h204.8l217.088 130.56c16.896 10.24 38.912-2.048 38.912-22.016V147.456c0-19.968-21.504-32.256-38.912-22.016zM699.904 320.512c-20.992-18.944-53.248-17.408-72.192 3.584-18.944 20.992-17.408 53.248 3.584 72.192 0.512 0.512 58.368 54.784 58.368 121.344 0 37.888-19.456 74.752-58.368 110.08-20.992 18.944-22.528 51.2-3.584 72.192 10.24 11.264 24.064 16.896 37.888 16.896 12.288 0 24.576-4.608 34.304-13.312 61.44-55.296 92.16-117.76 92.16-185.856 0-112.64-88.576-193.536-92.16-197.12z" fill="" p-id="2434"></path><path d="M853.504 166.4c-20.992-18.944-53.248-16.896-72.192 4.096-18.944 20.992-16.896 53.248 4.096 72.192 1.536 1.024 135.68 122.88 135.68 280.576 0 90.624-45.568 177.152-135.68 257.536-20.992 18.944-23.04 51.2-4.096 72.192 10.24 11.264 24.064 16.896 38.4 16.896 12.288 0 24.576-4.096 34.304-12.8 112.64-100.864 169.984-212.992 169.984-333.824-1.024-202.752-163.84-350.208-170.496-356.864z"></path></svg>','<svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" ><path d="M256 768H51.2c-28.16 0-51.2-23.04-51.2-51.2V308.224C0 279.552 23.552 256 52.224 256H256v512zM512 147.456v728.576c0 19.968-21.504 32.256-38.912 22.016L256 768V256l217.088-130.56c17.408-10.24 38.912 2.048 38.912 22.016zM623.104 656.896c-19.968-19.968-19.968-52.224 0-72.192l217.088-217.088c19.968-19.968 52.224-19.968 72.192 0 19.968 19.968 19.968 52.224 0 72.192l-217.088 217.088c-19.456 19.968-52.224 19.968-72.192 0z" fill="" p-id="2582"></path><path d="M623.104 367.104c19.968-19.968 52.224-19.968 72.192 0l217.088 217.088c19.968 19.968 19.968 52.224 0 72.192-19.968 19.968-52.224 19.968-72.192 0l-217.088-217.088c-19.968-19.456-19.968-52.224 0-72.192z"></path></svg>'];function ade(t){var e;if(t.onDestroy||(t.onDestroy=rde,t.onMove=Mg,t.onResize=Mg,t.onRotate=Mg,t.onClick=zI,t.onValue=ode,t.onChangeId=ide),jn[t.id])t.video&&t.calculative.media&&t.video!==t.calculative.video?(console.warn("video 更改, 此处是否执行？"),t.calculative.media.src=t.video,t.autoPlay&&(t.calculative.media.muted=!0,t.calculative.media.autoplay=!0),t.calculative.media.loop=t.playLoop,t.calculative.video=t.video):t.audio&&t.calculative.media&&t.audio!==t.calculative.audio&&(t.calculative.media.src=t.audio,t.autoPlay&&(t.calculative.media.muted=!0,t.calculative.media.autoplay=!0),t.calculative.media.loop=t.playLoop,t.calculative.audio=t.audio);else{const n=document.createElement("div"),a=document.createElement("div");a.style.position="absolute",a.style.outline="none",a.style.left="0",a.style.bottom="0",a.style.width="0",a.style.height="2px",a.style.background="#52c41a",a.style.zIndex="1",t.hideProgress&&(a.style.display="none");const r=document.createElement("div");r.innerHTML=Bd[1],r.style.position="absolute",r.style.right="0",r.style.bottom="0",r.style.width="20px",r.style.height="20px",r.style.fill="hsla(0, 0%, 100%, .8)",r.style.zIndex="1",r.style.display="none",n.appendChild(a),n.appendChild(r),r.onclick=l=>{l.stopPropagation(),t.calculative.media.muted?(r.innerHTML=Bd[0],t.calculative.media.muted=!1):(r.innerHTML=Bd[1],t.calculative.media.muted=!0)},t.calculative.singleton||(t.calculative.singleton={}),t.calculative.singleton.muted=r,n.onmouseenter=l=>{r.style.display="block"},n.onmouseleave=l=>{r.style.display="none"},n.onclick=l=>{l.stopPropagation(),zI(t)};let o;t.video?(o=document.createElement("video"),o.src=t.video):t.audio&&(o=document.createElement("audio"),o.src=t.audio),o.loop=t.playLoop,o.ontimeupdate=()=>{HI(a,o,t.calculative.worldRect.width)},o.onended=()=>{t.calculative.onended&&t.calculative.onended(t)},t.calculative.media=o,o.style.position="absolute",o.style.outline="none",o.style.left="0",o.style.top="0",o.style.width="100%",o.style.height="100%",n.appendChild(o),jn[t.id]=n,(e=t.calculative.canvas.externalElements)==null||e.parentElement.appendChild(n),sn(t,n),t.autoPlay&&(o.autoplay=!0,o.muted=!0)}return t.calculative.patchFlags&&sn(t,jn[t.id]),new Path2D}function rde(t){jn[t.id].onclick=null,jn[t.id].remove(),jn[t.id]=void 0}function Mg(t){sn(t,jn[t.id]);const e=jn[t.id].children[0],n=jn[t.id].children[1];HI(e,n,t.calculative.worldRect.width)}function zI(t){t.calculative.media&&(t.calculative.media.muted=!1,t.calculative.singleton.muted.innerHTML=Bd[0],t.calculative.media.paused?t.calculative.media.play():t.calculative.media.pause())}function HI(t,e,n){t.style.width=e.currentTime/e.duration*n+"px"}function ide(t,e,n){jn[e]&&(jn[n]=jn[e],delete jn[e])}function ode(t){const e=jn[t.id];if(!e)return;sn(t,e);const n=t.calculative.media.getAttribute("src");t.video?n!==t.video&&(t.calculative.media.src=t.video):t.audio&&n!==t.audio&&(t.calculative.media.src=t.audio),t.autoPlay&&(t.calculative.media.muted=!0,t.calculative.media.autoplay=!0),t.calculative.media.loop=t.playLoop}function Ya(){try{const t=new OffscreenCanvas(0,0),e=t.getContext("2d");return e&&e.arc?t:document.createElement("canvas")}catch{return document.createElement("canvas")}}class Ws{constructor(e,n){te(this,"box");te(this,"text");te(this,"arrowUp");te(this,"arrowDown");te(this,"x");te(this,"y");te(this,"currentPen");this.parentElement=e,this.store=n,this.box=document.createElement("div"),this.text=document.createElement("div"),this.arrowUp=document.createElement("div"),this.arrowDown=document.createElement("div"),this.box.className="meta2d-tooltip",this.text.className="text",this.arrowUp.className="arrow",this.arrowDown.className="arrow down",this.box.appendChild(this.text),this.box.appendChild(this.arrowUp),this.box.appendChild(this.arrowDown),e.appendChild(this.box),this.box.onmouseleave=()=>{this.hide(),this.store.lastHover=void 0};let a;for(let r=0;r<document.styleSheets.length;r++)document.styleSheets[r].title==="le5le.com/tooltip"&&(a=document.styleSheets[r]);if(!a){let r=document.createElement("style");r.type="text/css",r.title="le5le.com/tooltip",document.head.appendChild(r),r=document.createElement("style"),r.type="text/css",document.head.appendChild(r),a=r.sheet,a.insertRule(".meta2d-tooltip{position:absolute;padding:8px 0;z-index:10;left: -9999px;top: -9999px;}"),a.insertRule(".meta2d-tooltip .text{max-width:320px;min-height:30px;max-height:400px;outline:none;padding:8px 16px;border-radius:4px;background:#777777;color:#ffffff;line-height:1.8;overflow-y:auto;}"),a.insertRule(".meta2d-tooltip .arrow{position:absolute;border:10px solid transparent;background:transparent;top:-5px;left:50%;transform:translateX(-50%)}"),a.insertRule(".meta2d-tooltip .arrow.down{top:initial;bottom: -1px;}")}}static getTitle(e){if(e.titleFnJs&&!e.titleFn)try{e.titleFn=new Function("pen",e.titleFnJs)}catch(n){console.log("titleFnJs",n)}return e.titleFn?e.titleFn(e):String(e.title)}setText(e){const n=this.box.getBoundingClientRect();let a=globalThis.marked;const r=Ws.getTitle(e);if(a){this.text.innerHTML=a(r);const o=this.text.getElementsByTagName("A");for(let l=0;l<o.length;++l)o[l].setAttribute("target","_blank")}else this.text.innerHTML=r;return n}updateText(e){var r;if(((r=this.currentPen)==null?void 0:r.id)!==e.id||Ws.titleEmpty(e))return;const n=this.setText(e),a=this.box.getBoundingClientRect();this.changePositionByText(n,a)}changePositionByText(e,n){this.x-=(n.width-e.width)/2,this.y-=n.height-e.height,this.box.style.left=this.x+"px",this.box.style.top=this.y+"px"}static titleEmpty(e){return!e.title&&!e.titleFn&&!e.titleFnJs}show(e,n){if(this.currentPen=e,Ws.titleEmpty(e)){let s=Xn(e,!0);s&&this.show(s,n);return}this.setText(e);const a=this.box.getBoundingClientRect(),r=e.calculative.worldRect;let o=e.calculative.canvas.store.data.x+n.x-a.width/2,l=e.calculative.canvas.store.data.y+n.y-a.height;e.type||(o=e.calculative.canvas.store.data.x+r.x-(a.width-r.width)/2,l=e.calculative.canvas.store.data.y+r.ey-a.height-r.height),l>0?(this.arrowUp.style.borderBottomColor="transparent",this.arrowDown.style.borderTopColor="#777777"):(l+=a.height+r.height+5,this.arrowUp.style.borderBottomColor="#777777",this.arrowDown.style.borderTopColor="transparent"),this.x=o,this.y=l,this.box.style.left=this.x+"px",this.box.style.top=this.y+"px"}hide(){this.currentPen=null,this.x=-9999,this.box.style.left="-9999px"}translate(e,n){this.x<-1e3||(this.x+=e,this.y+=n,this.box.style.left=this.x+"px",this.box.style.top=this.y+"px")}destroy(){this.box.onmouseleave=null}}class WI{constructor(e){te(this,"h");te(this,"v");te(this,"isDownH");te(this,"isDownV");te(this,"x");te(this,"y");te(this,"hSize");te(this,"vSize");te(this,"scrollX");te(this,"scrollY");te(this,"lastScrollX");te(this,"lastScrollY");te(this,"rect");te(this,"isShow");te(this,"pageMode");te(this,"onMouseDownH",e=>{e.preventDefault(),e.stopPropagation(),this.isDownH=e.x,this.x=this.parent.store.data.x||0,this.lastScrollX=this.scrollX});te(this,"onMouseDownV",e=>{e.preventDefault(),e.stopPropagation(),this.isDownV=e.y,this.y=this.parent.store.data.y||0,this.lastScrollY=this.scrollY});te(this,"onMouseMove",e=>{if(this.isDownH){const n=e.x-this.isDownH;this.scrollX=this.lastScrollX+n,this.h.style.left=`${this.scrollX}px`,this.parent.store.data.x=this.x-n*this.rect.width/this.parent.parentElement.clientWidth}if(this.isDownV){const n=e.y-this.isDownV;if(this.pageMode&&this.canMouseMove(n))return;this.scrollY=this.lastScrollY+n,this.v.style.top=`${this.scrollY}px`,this.parent.store.data.y=this.y-n*this.rect.height/this.parent.parentElement.clientHeight}(this.isDownH||this.isDownV)&&(this.parent.onMovePens(),this.parent.canvasTemplate.init(),this.parent.canvasImage.init(),this.parent.canvasImageBottom.init(),this.parent.render())});te(this,"onMouseUp",e=>{!this.isDownH&&!this.isDownV||(this.isDownH=void 0,this.isDownV=void 0,this.scrollX<20?(this.scrollX=20,this.h.style.left=`${this.scrollX}px`):this.scrollX>this.parent.parentElement.clientWidth-this.hSize-20&&(this.scrollX=this.parent.parentElement.clientWidth-this.hSize-20,this.h.style.left=`${this.scrollX}px`),this.scrollY<20?(this.scrollY=20,this.v.style.top=`${this.scrollY}px`):this.scrollY>this.parent.parentElement.clientHeight-this.vSize-20&&(this.scrollY=this.parent.parentElement.clientHeight-this.vSize-20,this.v.style.top=`${this.scrollY}px`),this.resize())});this.parent=e,this.h=document.createElement("div"),this.v=document.createElement("div"),this.parent.externalElements.appendChild(this.h),this.parent.externalElements.appendChild(this.v),this.h.className="meta2d-scroll h",this.h.onmousedown=this.onMouseDownH,this.v.className="meta2d-scroll v",this.v.onmousedown=this.onMouseDownV,document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp);let n;for(let a=0;a<document.styleSheets.length;a++)document.styleSheets[a].title==="le5le/scroll"&&(n=document.styleSheets[a]);if(!n){let a=document.createElement("style");a.type="text/css",a.title="le5le.com/scroll",document.head.appendChild(a),a=document.createElement("style"),a.type="text/css",document.head.appendChild(a),n=a.sheet,n.insertRule(".meta2d-scroll{position:absolute;width:8px;height:200px;background:#dddddd;border-radius:10px;z-index:20;cursor:default;}"),n.insertRule(".meta2d-scroll:hover{background:#cccccc;cursor:pointer}"),n.insertRule(".meta2d-scroll.v{right:0;top:calc(50% - 100px);}"),n.insertRule(".meta2d-scroll.h{bottom:2px;left:calc(50% - 100px);width:200px;height:8px;}")}this.init()}init(){this.isShow=!0,this.resize(),this.initPos()}canMouseMove(e){const n=this.parent.parent.getRect();return e<0&&n.y+this.parent.store.data.y>=0||e>0&&n.ey-this.parent.height+this.parent.store.data.y<=0}changeMode(){this.pageMode=!0,this.h.style.display="none",this.parent.parent.getRect().height<this.parent.height&&(this.v.style.display="none")}initPos(){this.scrollX=(this.parent.parentElement.clientWidth-this.hSize)/2,this.scrollY=(this.parent.parentElement.clientHeight-this.vSize)/2,this.h.style.left=`${this.scrollX}px`,this.v.style.top=`${this.scrollY}px`}resize(){this.rect=Pa(this.parent.store.data.pens),this.rect.width<1400&&(this.rect.width=1400),this.rect.height<900&&(this.rect.height=900),this.parent.store.data.x>0?this.rect.width+=this.parent.store.data.x+(this.rect.x>0?0:this.rect.x):this.rect.width-=this.parent.store.data.x+(this.rect.x>0?0:this.rect.x),this.parent.store.data.y>0?this.rect.height+=this.parent.store.data.y+(this.rect.y>0?0:this.rect.y):this.rect.height-=this.parent.store.data.y+(this.rect.y>0?0:this.rect.y),this.rect.width<1400&&(this.rect.width=1400),this.rect.height<900&&(this.rect.height=900),this.hSize=1e3*this.parent.parentElement.clientWidth/this.rect.width/3,this.vSize=1e3*this.parent.parentElement.clientHeight/this.rect.height/3,this.h.style.width=this.hSize+"px",this.v.style.height=this.vSize+"px"}show(){this.isShow=!0,this.h.style.display="block",this.v.style.display="block",document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)}hide(){this.isShow=!1,this.h.style.display="none",this.v.style.display="none",this.destroy()}translate(e,n){e&&(this.scrollX-=e*this.parent.parentElement.clientWidth/this.rect.width,this.h.style.left=`${this.scrollX}px`),n&&(this.scrollY-=n*this.parent.parentElement.clientHeight/this.rect.height,this.v.style.top=`${this.scrollY}px`)}wheel(e){let n=10;e&&(n=-10),!(this.pageMode&&this.canMouseMove(n))&&(this.scrollY+=n,this.v.style.top=`${this.scrollY}px`,this.parent.store.data.y-=n*this.rect.height/this.parent.parentElement.clientHeight,this.parent.onMovePens(),this.parent.canvasTemplate.init(),this.parent.canvasImage.init(),this.parent.canvasImageBottom.init(),this.parent.render())}destroy(){document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)}}class UI{constructor(e,n,a){te(this,"canvas",document.createElement("canvas"));te(this,"otherOffsreen",Ya());te(this,"offscreen",Ya());te(this,"animateOffsScreen",Ya());te(this,"fitOffscreen",Ya());te(this,"fitFlag",!1);te(this,"currentFit");te(this,"activeFit");this.parentElement=e,this.store=n,this.isBottom=a,e.appendChild(this.canvas),this.canvas.style.backgroundRepeat="no-repeat",this.canvas.style.backgroundSize="100% 100%",this.canvas.style.position="absolute",this.canvas.style.top="0",this.canvas.style.left="0"}resize(e,n){this.canvas.style.width=e+"px",this.canvas.style.height=n+"px",e=e*this.store.dpiRatio|0,n=n*this.store.dpiRatio|0,this.canvas.width=e,this.canvas.height=n,this.otherOffsreen.width=e,this.otherOffsreen.height=n,this.offscreen.width=e,this.offscreen.height=n,this.animateOffsScreen.width=e,this.animateOffsScreen.height=n,this.fitOffscreen.width=e,this.fitOffscreen.height=n,this.otherOffsreen.getContext("2d").scale(this.store.dpiRatio,this.store.dpiRatio),this.otherOffsreen.getContext("2d").textBaseline="middle",this.offscreen.getContext("2d").scale(this.store.dpiRatio,this.store.dpiRatio),this.offscreen.getContext("2d").textBaseline="middle",this.animateOffsScreen.getContext("2d").scale(this.store.dpiRatio,this.store.dpiRatio),this.animateOffsScreen.getContext("2d").textBaseline="middle",this.fitOffscreen.getContext("2d").scale(this.store.dpiRatio,this.store.dpiRatio),this.fitOffscreen.getContext("2d").textBaseline="middle",this.init()}init(){this.offscreen.getContext("2d").clearRect(0,0,this.canvas.width,this.canvas.height),this.animateOffsScreen.getContext("2d").clearRect(0,0,this.canvas.width,this.canvas.height),this.fitOffscreen.getContext("2d").clearRect(0,0,this.canvas.width,this.canvas.height);for(const e of this.store.data.pens)this.hasImage(e)&&(e.calculative.imageDrawed=!1);this.isBottom?this.store.patchFlagsBackground=!0:this.store.patchFlagsTop=!0}clear(){this.otherOffsreen.getContext("2d").clearRect(0,0,this.otherOffsreen.width,this.otherOffsreen.height),this.offscreen.getContext("2d").clearRect(0,0,this.canvas.width,this.canvas.height),this.animateOffsScreen.getContext("2d").clearRect(0,0,this.canvas.width,this.canvas.height),this.fitOffscreen.getContext("2d").clearRect(0,0,this.canvas.width,this.canvas.height),this.canvas.getContext("2d").clearRect(0,0,this.canvas.width,this.canvas.height)}hasImage(e){return e.calculative.hasImage=e.calculative&&e.calculative.inView&&(this.isBottom&&e.canvasLayer===gt.CanvasImageBottom||!this.isBottom&&e.canvasLayer===gt.CanvasImage)&&e.image&&e.calculative.img&&e.name!=="gif",e.calculative.hasImage}render(){var l;let e=!1,n=!1;for(const s of this.store.data.pens)this.hasImage(s)&&(this.store.animates.has(s)?n=!0:s.calculative.imageDrawed||(e=!0),s.parentId&&this.store.animates.has(Xn(s,!0))&&(n=!0));const a=this.store.patchFlagsBackground,r=this.store.patchFlagsTop;if(r&&!this.isBottom){const s=this.otherOffsreen.getContext("2d");s.clearRect(0,0,this.canvas.width,this.canvas.height),this.renderRule(s)}if(this.store.patchFlagsLast&&this.offscreen.getContext("2d").clearRect(0,0,this.canvas.width,this.canvas.height),e){const s=this.offscreen.getContext("2d");s.save(),s.clearRect(0,0,this.canvas.width,this.canvas.height),s.translate(this.store.data.x,this.store.data.y);for(const c of this.store.data.pens)!c.calculative.hasImage||this.store.animates.has(c)||this.store.animates.has(Xn(c,!0))||c.canvasLayer!==gt.CanvasTemplate&&(c.name==="combine"&&!c.draw||(c.calculative.imageDrawed=!0,s.save(),Mi(s,c),c.calculative.rotate&&xr(s,c),$i(s,c),pl(s,c),s.restore()));s.restore()}if(n){const s=this.animateOffsScreen.getContext("2d");s.save(),s.clearRect(0,0,this.canvas.width,this.canvas.height),s.translate(this.store.data.x,this.store.data.y);for(const c of this.store.animates)c.calculative.hasImage&&c.canvasLayer!==gt.CanvasTemplate&&(c.calculative.imageDrawed=!0,s.save(),Mi(s,c),c.calculative.rotate&&xr(s,c),$i(s,c),pl(s,c),s.restore());for(const c of this.store.data.pens)!c.calculative.hasImage||!c.parentId||c.canvasLayer!==gt.CanvasTemplate&&this.store.animates.has(Xn(c,!0))&&(c.calculative.imageDrawed=!0,s.save(),Mi(s,c),c.calculative.rotate&&xr(s,c),$i(s,c),pl(s,c),s.restore());s.restore()}if(!this.isBottom&&!this.store.data.locked&&this.fitFlag){const s=(this.store.data.width||this.store.options.width)*this.store.data.scale,c=(this.store.data.height||this.store.options.height)*this.store.data.scale,d=this.store.data.origin.x+this.store.data.x||this.store.options.x||0,u=this.store.data.origin.y+this.store.data.y||this.store.options.y||0,f=this.fitOffscreen.getContext("2d");f.save(),f.clearRect(0,0,this.canvas.width,this.canvas.height),f.fillStyle="#ffffff66",f.strokeStyle=this.store.options.activeColor,(l=this.store.data.fits)==null||l.forEach((v,h)=>{f.fillRect(d+s*v.x,u+c*v.y,s*v.width,c*v.height),v.active&&f.strokeRect(d+s*v.x,u+c*v.y,s*v.width,c*v.height)}),f.restore()}if(e||n||a&&this.isBottom||r&&!this.isBottom){const s=this.canvas.getContext("2d");s.clearRect(0,0,this.canvas.width,this.canvas.height),this.isBottom&&(this.store.patchFlagsBackground=!1),s.drawImage(this.offscreen,0,0,this.canvas.width,this.canvas.height),s.drawImage(this.animateOffsScreen,0,0,this.canvas.width,this.canvas.height),this.isBottom||(s.drawImage(this.otherOffsreen,0,0,this.canvas.width,this.canvas.height),this.store.patchFlagsTop=!1,!this.store.data.locked&&this.fitFlag&&s.drawImage(this.fitOffscreen,0,0,this.canvas.width,this.canvas.height))}}renderRule(e){var w,C,x,k,P,I,D,L;const{data:n,options:a}=this.store,{rule:r,ruleColor:o,scale:l,origin:s}=n;if(!(r??a.rule))return;const c=l*10;e.save();const d=o||a.ruleColor;e.strokeStyle=Nd(d,.7);const u=s.x+n.x,f=s.y+n.y,{width:v,height:h}=this.canvas;let g=((w=a.ruleOptions)==null?void 0:w.height)||20;(C=a.ruleOptions)!=null&&C.background&&(e.beginPath(),e.fillStyle=(x=a.ruleOptions)==null?void 0:x.background,e.rect(0,0,v,g),e.fill(),e.rect(0,0,g,h),e.fill()),(k=a.ruleOptions)!=null&&k.underline&&(e.beginPath(),e.fillStyle=Nd(d,.7),e.moveTo(0,g),e.lineTo(v,g),e.stroke(),e.moveTo(g,0),e.lineTo(g,h),e.stroke());let p=g/4;((P=a.ruleOptions)==null?void 0:P.baseline)==="bottom"&&(p=g*3/4),e.beginPath(),e.lineWidth=g/2,e.lineDashOffset=-u%c,e.setLineDash([1,c-1]),e.moveTo(0,p),e.lineTo(v,p),e.stroke(),e.beginPath(),e.lineDashOffset=-f%c,e.moveTo(p,0),e.lineTo(p,h),e.stroke(),e.strokeStyle=d,e.beginPath(),e.lineWidth=g,e.lineDashOffset=-u%(c*10),e.setLineDash([1,c*10-1]),e.moveTo(0,g/2),e.lineTo(v,g/2),e.stroke(),e.beginPath(),e.lineDashOffset=-f%(c*10),e.moveTo(g/2,0),e.lineTo(g/2,h),e.stroke(),e.beginPath(),e.fillStyle=((I=a.ruleOptions)==null?void 0:I.textColor)||e.strokeStyle;let m=0-Math.floor(u/c/10)*100,y=((D=a.ruleOptions)==null?void 0:D.textTop)||16,b=((L=a.ruleOptions)==null?void 0:L.textLeft)||4;u<0&&(m-=100);for(let O=u%(c*10);O<v;O+=10*c,m+=100)c<3&&m%500||e.fillText(m.toString(),O+b,y);m=0-Math.floor(f/c/10)*100,f<0&&(m-=100);for(let O=f%(c*10);O<h;O+=10*c,m+=100)c<3&&m%500||(e.save(),e.beginPath(),e.translate(y,O-b),e.rotate(270*Math.PI/180),e.fillText(m.toString(),0,0),e.restore());e.restore()}}class lde{constructor(e,n,a){te(this,"canvas",document.createElement("canvas"));te(this,"magnifierScreen",Ya());te(this,"offscreen",Ya());te(this,"domOffscreen",Ya());te(this,"magnifierSize",300);te(this,"magnifier");this.parentCanvas=e,this.parentElement=n,this.store=a,n.appendChild(this.canvas),this.canvas.style.backgroundRepeat="no-repeat",this.canvas.style.backgroundSize="100% 100%",this.canvas.style.position="absolute",this.canvas.style.top="0",this.canvas.style.left="0"}resize(e,n){this.canvas.style.width=e+"px",this.canvas.style.height=n+"px",e=e*this.store.dpiRatio|0,n=n*this.store.dpiRatio|0,this.canvas.width=e,this.canvas.height=n,this.offscreen.width=e,this.offscreen.height=n,this.offscreen.getContext("2d").scale(this.store.dpiRatio,this.store.dpiRatio),this.offscreen.getContext("2d").textBaseline="middle",this.domOffscreen.width=e,this.domOffscreen.height=n,this.domOffscreen.getContext("2d").scale(this.store.dpiRatio,this.store.dpiRatio),this.domOffscreen.getContext("2d").textBaseline="middle",this.magnifierScreen.width=this.magnifierSize+5,this.magnifierScreen.height=this.magnifierSize+5}renderMagnifier(){if(!this.magnifier)return;const e=this.magnifierSize/2,n=this.magnifierSize+5,a=this.magnifierScreen.getContext("2d");a.clearRect(0,0,n,n),a.lineWidth=5,a.save(),a.translate(2.5,2.5),a.save(),a.arc(e,e,e,0,Math.PI*2,!1),a.clip(),a.translate(-e,-e),a.scale(2,2);const r={x:(this.parentCanvas.mousePos.x+this.store.data.x)*this.store.dpiRatio,y:(this.parentCanvas.mousePos.y+this.store.data.y)*this.store.dpiRatio};[this.parentCanvas.canvasTemplate.bgOffscreen,this.parentCanvas.canvasTemplate.offscreen,this.parentCanvas.canvasImageBottom.offscreen,this.parentCanvas.canvasImageBottom.animateOffsScreen,this.parentCanvas.offscreen,this.parentCanvas.canvasImage.offscreen,this.parentCanvas.canvasImage.animateOffsScreen,this.domOffscreen].forEach(c=>{a.drawImage(c,r.x-e,r.y-e,this.magnifierSize,this.magnifierSize,0,0,this.magnifierSize,this.magnifierSize)}),a.restore(),a.beginPath();const l=a.createRadialGradient(e,e,e-5,e,e,e);l.addColorStop(0,"rgba(0,0,0,0.2)"),l.addColorStop(.8,"rgb(200,200,200)"),l.addColorStop(.9,"rgb(200,200,200)"),l.addColorStop(1,"rgba(200,200,200,0.9)"),a.strokeStyle=l,a.arc(e,e,e,0,Math.PI*2,!1),a.stroke(),a.restore(),this.offscreen.getContext("2d").drawImage(this.magnifierScreen,0,0,this.magnifierSize+5,this.magnifierSize+5,(r.x-e-2.5)/this.store.dpiRatio,(r.y-e-2.5)/this.store.dpiRatio,(this.magnifierSize+5)/this.store.dpiRatio,(this.magnifierSize+5)/this.store.dpiRatio)}updateDomOffscreen(){const e=this.domOffscreen.getContext("2d");e.clearRect(0,0,this.domOffscreen.width,this.domOffscreen.height);for(const n of this.store.data.pens)if((n.externElement||n.name==="gif")&&n.calculative.img){e.save(),e.translate(this.store.data.x,this.store.data.y);const{x:a,y:r,width:o,height:l}=n.calculative.worldRect;e.drawImage(n.calculative.img,a,r,o,l),e.restore()}}render(){this.offscreen.getContext("2d").clearRect(0,0,this.canvas.width,this.canvas.height),this.renderMagnifier();const e=this.canvas.getContext("2d");e.clearRect(0,0,this.canvas.width,this.canvas.height),e.drawImage(this.offscreen,0,0,this.canvas.width,this.canvas.height)}}function KI(t){if(t.data.locked)throw new Error("canvas is locked")}class sde{constructor(e){te(this,"box");te(this,"iframe");te(this,"dialog");te(this,"close");te(this,"title");te(this,"body");te(this,"x");te(this,"y");te(this,"url");this.parentElement=e,this.box=document.createElement("div"),this.dialog=document.createElement("div");let n=document.createElement("div");this.title=document.createElement("div"),this.close=document.createElement("span"),this.close.innerHTML=`
      <svg fill="none" viewBox="0 0 16 16" width="1em" height="1em">
      <path
        fill="currentColor"
        d="M8 8.92L11.08 12l.92-.92L8.92 8 12 4.92 11.08 4 8 7.08 4.92 4 4 4.92 7.08 8 4 11.08l.92.92L8 8.92z"
        fill-opacity="0.9"
      ></path>
    </svg>`,this.body=document.createElement("div"),this.iframe=document.createElement("iframe"),this.iframe.setAttribute("frameborder","0"),this.box.className="meta2d-dialog_mask",this.dialog.className="meta2d-dialog",this.body.className="meta2d-dialog_body",n.className="meta2d-dialog_header",this.title.className="meta2d-dialog-content",this.close.className="meta2d-dialog-close",n.appendChild(this.title),n.appendChild(this.close),this.body.appendChild(this.iframe),this.dialog.appendChild(n),this.dialog.appendChild(this.body),this.box.appendChild(this.dialog),e.appendChild(this.box),this.dialog.onclick=r=>{r.stopPropagation()},this.box.onclick=()=>{this.hide()},this.close.onclick=()=>{this.hide()};let a;for(let r=0;r<document.styleSheets.length;r++)document.styleSheets[r].title==="le5le.com/dialog"&&(a=document.styleSheets[r]);if(!a){let r=document.createElement("style");r.type="text/css",r.title="le5le.com/dialog",document.head.appendChild(r),r=document.createElement("style"),r.type="text/css",document.head.appendChild(r),a=r.sheet,a.insertRule(`.meta2d-dialog_mask {
        display: none;
        position: absolute;
        top: 0%;
        left: 0%;
        width: 100%;
        height: 100%;
        background-color: #0000006f;
        z-index: 9999;`),a.insertRule(`.meta2d-dialog_mask .meta2d-dialog {
            position: absolute;
            top: 15vh;
            left: 10%;
            width: 80%;
            height:420px;
            padding: 16px 20px;
            border-radius: 9px;
            background-color: #1e2430;
            z-index: 19999;
            overflow: auto;
        }`),a.insertRule(`.meta2d-dialog_header {
            display: flex;
        }`),a.insertRule(`.meta2d-dialog-content {
            width: calc(100% - 20px);
            font-weight: 600;
            font-size: 14px;
            color: #bdc7db;
            padding-bottom:8px;
        }`),a.insertRule(`.meta2d-dialog-close {
            width: 20px;
            height: 20px;
            line-height: 20px;
            text-align: center;
            color: #617b91;
            position: absolute;
            right:20px;
            top:18px;
        }`),a.insertRule(`.meta2d-dialog-close :hover{
            cursor: pointer;
        }`),a.insertRule(`.meta2d-dialog_body{
            // margin-top: 4px;
        } `),a.insertRule(`.meta2d-dialog_body iframe{
            width: 100%;
            height: 100%;
        }`)}}show(e,n,a){n&&(n!==this.url&&(this.iframe.setAttribute("src",n),this.url=n),e&&(this.title.innerText=e),e?(this.dialog.style.padding="16px 20px",this.title.style.display="block",this.body.style.height="calc(100% - 26px)"):(this.dialog.style.padding="0px",this.title.style.display="none",this.body.style.height="100%",this.body.style.overflow="hidden"),a&&(this.dialog.style.width=a.width?a.width+"px":"80%",this.dialog.style.height=a.height?a.height+"px":"420px",this.dialog.style.top=a.y?a.y+"px":"15vh",this.dialog.style.left=a.x?a.x+"px":`calc( 50% - ${a.width?a.width/2+"px":"40%"} )`),this.box.style.display="block")}hide(){this.box.style.display="none"}destroy(){this.dialog.onclick=void 0,this.box.onclick=void 0,this.close.onclick=void 0}}class zd{constructor(e){te(this,"box");te(this,"currentAnchor");this.parentElement=e,this.box=document.createElement("div"),this.box.className="meta2d-title",e.appendChild(this.box);let n;for(let a=0;a<document.styleSheets.length;a++)document.styleSheets[a].title==="le5le.com/title"&&(n=document.styleSheets[a]);if(!n){let a=document.createElement("style");a.type="text/css",a.title="le5le.com/title",document.head.appendChild(a),a=document.createElement("style"),a.type="text/css",document.head.appendChild(a),n=a.sheet,n.insertRule(".meta2d-title{position:absolute;padding:0;z-index:10;left: -9999px;top: -9999px;background:#fff;color:#000; cursor: crosshair;border: 1px solid black;}")}}static getTitle(e){}setText(e){this.box.innerText=e.title}updateText(e){var n;((n=this.currentAnchor)==null?void 0:n.id)===e.id&&(zd.titleEmpty(e)||(this.setText(e),this.changePositionByAnchor(e)))}changePositionByAnchor(e){this.box.style.left=e.x+10+"px",this.box.style.top=e.y+10+"px"}static titleEmpty(e){return!e.title}show(e,n){if(zd.titleEmpty(e))return;this.currentAnchor=e,this.setText(e);let a={x:n.calculative.canvas.store.data.x+e.x,y:n.calculative.canvas.store.data.y+e.y};this.changePositionByAnchor(a)}hide(){this.box.style.left="-9999px",this.box.innerText="",this.currentAnchor=null}destroy(){this.box.onmouseleave=null}}class cde{constructor(e,n){te(this,"canvas",document.createElement("canvas"));te(this,"offscreen",Ya());te(this,"bgOffscreen",Ya());te(this,"patchFlags");te(this,"bgPatchFlags");this.parentElement=e,this.store=n,e.appendChild(this.canvas),this.canvas.style.backgroundRepeat="no-repeat",this.canvas.style.backgroundSize="100% 100%",this.canvas.style.position="absolute",this.canvas.style.top="0",this.canvas.style.left="0"}resize(e,n){this.canvas.style.width=e+"px",this.canvas.style.height=n+"px",e=e*this.store.dpiRatio|0,n=n*this.store.dpiRatio|0,this.canvas.width=e,this.canvas.height=n,this.bgOffscreen.width=e,this.bgOffscreen.height=n,this.offscreen.width=e,this.offscreen.height=n,this.bgOffscreen.getContext("2d").scale(this.store.dpiRatio,this.store.dpiRatio),this.bgOffscreen.getContext("2d").textBaseline="middle",this.offscreen.getContext("2d").scale(this.store.dpiRatio,this.store.dpiRatio),this.offscreen.getContext("2d").textBaseline="middle",this.init()}init(){this.bgOffscreen.getContext("2d").clearRect(0,0,this.canvas.width,this.canvas.height),this.offscreen.getContext("2d").clearRect(0,0,this.canvas.width,this.canvas.height),this.patchFlags=!0,this.bgPatchFlags=!0}hidden(){this.canvas.style.display="none"}show(){this.canvas.style.display="block"}clear(){this.bgOffscreen.getContext("2d").clearRect(0,0,this.canvas.width,this.canvas.height),this.offscreen.getContext("2d").clearRect(0,0,this.canvas.width,this.canvas.height),this.canvas.getContext("2d").clearRect(0,0,this.canvas.width,this.canvas.height),this.bgPatchFlags=!0,this.patchFlags=!0}render(){if(this.bgPatchFlags){const e=this.bgOffscreen.getContext("2d");e.clearRect(0,0,this.canvas.width,this.canvas.height);const n=this.store.data.width||this.store.options.width,a=this.store.data.height||this.store.options.height,r=this.store.data.x||this.store.options.x||0,o=this.store.data.y||this.store.options.y||0,l=this.store.data.background||this.store.options.background;l&&(e.save(),e.fillStyle=l,e.globalAlpha=this.store.data.globalAlpha??this.store.options.globalAlpha,n&&a?(e.shadowOffsetX=this.store.options.shadowOffsetX,e.shadowOffsetY=this.store.options.shadowOffsetY,e.shadowBlur=this.store.options.shadowBlur,e.shadowColor=this.store.options.shadowColor,e.fillRect(this.store.data.origin.x+r,this.store.data.origin.y+o,n*this.store.data.scale,a*this.store.data.scale)):e.fillRect(0,0,this.canvas.width,this.canvas.height),e.restore()),n&&a&&this.store.bkImg&&(e.save(),e.drawImage(this.store.bkImg,this.store.data.origin.x+r,this.store.data.origin.y+o,n*this.store.data.scale,a*this.store.data.scale),e.restore()),this.renderGrid(e)}if(this.patchFlags){const e=this.offscreen.getContext("2d");e.save(),e.clearRect(0,0,this.canvas.width,this.canvas.height),e.translate(this.store.data.x,this.store.data.y);for(const n of this.store.data.pens)if(isFinite(n.x)&&n.canvasLayer===gt.CanvasTemplate&&n.calculative.inView){if(n.name==="combine"&&!n.draw)continue;Fi(e,n),n.image&&n.name!=="gif"&&n.calculative.img&&(e.save(),Mi(e,n),n.calculative.rotate&&xr(e,n),$i(e,n),pl(e,n),e.restore())}e.restore()}if(this.patchFlags||this.bgPatchFlags){const e=this.canvas.getContext("2d");e.clearRect(0,0,this.canvas.width,this.canvas.height),e.drawImage(this.bgOffscreen,0,0,this.canvas.width,this.canvas.height),e.drawImage(this.offscreen,0,0,this.canvas.width,this.canvas.height),this.patchFlags=!1,this.bgPatchFlags=!1}}renderGrid(e){const{data:n,options:a}=this.store,{grid:r,gridRotate:o,gridColor:l,gridSize:s,scale:c,origin:d}=n;if(!(r??a.grid))return;e.save();const u=(n.width||a.width)*c,f=(n.height||a.height)*c,v=(n.x||a.x||0)+d.x,h=(n.y||a.y||0)+d.y;o&&(e.translate(u/2,f/2),e.rotate(o*Math.PI/180),e.translate(-u/2,-f/2)),e.lineWidth=1,e.strokeStyle=l||a.gridColor,e.beginPath();let g=(s||a.gridSize)*c;if(g=g<0?0:g,!u||!f){const p=this.store.dpiRatio,m=this.canvas.width/p,y=this.canvas.height/p,b=v/g,w=h/g,C=g*10,x=v-Math.ceil(b)*g,k=h-Math.ceil(w)*g,P=m+x+C,I=y+k+C;for(let D=x;D<=P;D+=g)e.moveTo(D,k),e.lineTo(D,y+k+C);for(let D=k;D<=I;D+=g)e.moveTo(x,D),e.lineTo(m+x+C,D)}else{const p=u+v,m=f+h;for(let y=v;y<=p;y+=g)e.moveTo(y,h),e.lineTo(y,f+h);for(let y=h;y<=m;y+=g)e.moveTo(v,y),e.lineTo(u+v,y)}e.stroke(),e.restore()}}const ude={success:{},info:{icon:'<svg fill="none" viewBox="0 0 24 24"><path fill="#0052d9" d="M12 23a11 11 0 100-22 11 11 0 000 22zM11 8.5v-2h2v2h-2zm2 1.5v7.5h-2V10h2z"></path></svg>'},warning:{},error:{}};class dde{constructor(e,n){te(this,"box");te(this,"text");te(this,"arrowUp");te(this,"arrowDown");te(this,"icon");te(this,"confirm");te(this,"cancel");te(this,"x");te(this,"y");this.parentElement=e,this.store=n,this.box=document.createElement("div"),this.text=document.createElement("div"),this.arrowUp=document.createElement("div"),this.arrowDown=document.createElement("div"),this.icon=document.createElement("div"),this.confirm=document.createElement("button"),this.cancel=document.createElement("button"),this.box.className="meta2d-popconfirm",this.text.className="text",this.arrowUp.className="arrow",this.arrowDown.className="arrow down",this.icon.className="icon",this.confirm.className="confirm",this.cancel.className="cancel",this.confirm.innerHTML="确定",this.cancel.innerHTML="取消",this.icon.innerHTML=ude.info.icon,this.box.appendChild(this.text),this.box.appendChild(this.arrowUp),this.box.appendChild(this.arrowDown),this.box.appendChild(this.confirm),this.box.appendChild(this.cancel),this.box.appendChild(this.icon),e.appendChild(this.box);let a;for(let r=0;r<document.styleSheets.length;r++)document.styleSheets[r].title==="le5le.com/popconfirm"&&(a=document.styleSheets[r]);if(!a){let r=document.createElement("style");r.type="text/css",r.title="le5le.com/popconfirm",document.head.appendChild(r),r=document.createElement("style"),r.type="text/css",document.head.appendChild(r),a=r.sheet,a.insertRule(".meta2d-popconfirm{position:absolute;z-index:999;left: -9999px;top: -9999px;padding:16px;max-width:400px;background:#fff;border-radius:6px;box-shadow:0 3px 14px 2px rgba(0, 0, 0, .05),0 8px 10px 1px rgba(0, 0, 0, 6%),0 5px 5px -3px rgba(0, 0, 0, 10%);}"),a.insertRule(".meta2d-popconfirm .text{outline:none;padding:0px 0px 40px 28px;border-radius:4px;color:rgba(0, 0, 0, 0.9);overflow-y:auto;line-height:22px;font-size:13px;}"),a.insertRule(".meta2d-popconfirm .arrow{position:absolute;border:10px solid transparent;background:transparent;top:-18px;left:50%;transform:translateX(-50%)}"),a.insertRule(".meta2d-popconfirm .arrow.down{top:initial;bottom: -18px;}"),a.insertRule(".meta2d-popconfirm .icon{position:absolute;width:22px;height:22px;left:16px;top:16px;}"),a.insertRule(".meta2d-popconfirm .confirm{position:absolute;right:16px;bottom:16px;width:40px;height:24px;text-align:center;background:#4582e6;color:#fff;border-radius:3px;border-color:transparent}"),a.insertRule(".meta2d-popconfirm .confirm:hover{background:#003cab;}"),a.insertRule(".meta2d-popconfirm .cancel{position:absolute;right:64px;bottom:16px;width:40px;height:24px;text-align:center;background:#dcdcdc;color:rgba(0, 0, 0, 0.9);border-radius:3px;border-color:transparent}"),a.insertRule(".meta2d-popconfirm .cancel:hover{background:#a6a6a6;}")}}show(e,n){if(!e)return;const a=this.box.getBoundingClientRect(),r=e.calculative.worldRect;let o=e.calculative.canvas.store.data.x+n.x-a.width/2,l=e.calculative.canvas.store.data.y+n.y-a.height-20;e.type||(o=e.calculative.canvas.store.data.x+r.x-(a.width-r.width)/2,l=e.calculative.canvas.store.data.y+r.ey-a.height-r.height),l>0?(this.arrowUp.style.borderBottomColor="transparent",this.arrowDown.style.borderTopColor="#fff",l-=10):(l+=a.height+r.height+5,l+=10,this.arrowUp.style.borderBottomColor="#fff",this.arrowDown.style.borderTopColor="transparent"),this.x=o,this.y=l,this.box.style.left=this.x+"px",this.box.style.top=this.y+"px"}hide(){this.x=-9999,this.box.style.left="-9999px"}showModal(e,n,a){return new Promise(r=>{this.text.innerHTML=a||"确认执行操作吗？",this.show(e,n),this.confirm.onclick=()=>{r(!0),this.hide()},this.cancel.onclick=()=>{r(!1),this.hide()}})}destroy(){this.box=null}}const Mn="-moving";class YI{constructor(e,n,a){te(this,"canvas",document.createElement("canvas"));te(this,"offscreen",Ya());te(this,"width");te(this,"height");te(this,"externalElements",document.createElement("div"));te(this,"clientRect");te(this,"canvasRect");te(this,"activeRect");te(this,"initActiveRect");te(this,"dragRect");te(this,"lastRotate",0);te(this,"sizeCPs");te(this,"activeInitPos");te(this,"hoverType",Fe.None);te(this,"resizeIndex",0);te(this,"mouseDown");te(this,"hotkeyType");te(this,"mouseRight");te(this,"addCaches");te(this,"touchCenter");te(this,"initTouchDis");te(this,"initScale");te(this,"touchScaling");te(this,"touchMoving");te(this,"startTouches");te(this,"lastOffsetX",0);te(this,"lastOffsetY",0);te(this,"drawingLineName");te(this,"drawLineFns",[...nce]);te(this,"drawingLine");te(this,"pencil");te(this,"pencilLine");te(this,"movingPens");te(this,"patchFlagsLines",new Set);te(this,"dock");te(this,"prevAnchor");te(this,"nextAnchor");te(this,"lastMouseTime",0);te(this,"hoverTimer",0);te(this,"fitTimer",0);te(this,"willInactivePen");te(this,"patchFlags",!1);te(this,"lastRender",0);te(this,"touchStart",0);te(this,"touchStartTimer");te(this,"timer");te(this,"lastAnimateRender",0);te(this,"animateRendering",!1);te(this,"renderTimer");te(this,"initPens");te(this,"pointSize",8);te(this,"pasteOffset",!0);te(this,"opening",!1);te(this,"maxZindex",5);te(this,"canMoveLine",!1);te(this,"randomIdObj");te(this,"keyOptions");te(this,"beforeAddPen");te(this,"beforeAddPens");te(this,"beforeAddAnchor");te(this,"beforeRemovePens");te(this,"beforeRemoveAnchor");te(this,"customResizeDock");te(this,"customMoveDock");te(this,"inputParent",document.createElement("div"));te(this,"inputDiv",document.createElement("div"));te(this,"dropdown",document.createElement("ul"));te(this,"tooltip");te(this,"popconfirm");te(this,"title");te(this,"mousePos",{x:0,y:0});te(this,"scroll");te(this,"movingAnchor");te(this,"canvasTemplate");te(this,"canvasImage");te(this,"canvasImageBottom");te(this,"magnifierCanvas");te(this,"dialog");te(this,"autoPolylineFlag",!1);te(this,"stopPropagation",e=>{e.stopPropagation()});te(this,"curve",Rue);te(this,"polyline",zue);te(this,"mind",jue);te(this,"line",Fue);te(this,"onCopy",e=>{this.store.options.disableClipboard||e.target!==this.externalElements&&e.target!==document.body&&e.target.offsetParent!==this.externalElements||this.copy()});te(this,"onCut",e=>{this.store.options.disableClipboard||e.target!==this.externalElements&&e.target!==document.body&&e.target.offsetParent!==this.externalElements||this.cut()});te(this,"onPaste",e=>{if(this.store.data.locked||this.store.options.disableClipboard||e.target!==this.externalElements&&e.target!==document.body&&e.target.offsetParent!==this.externalElements)return;let n;if(navigator.clipboard&&e.clipboardData){const a=e.clipboardData.items;if(a){for(let r=0;r<a.length;r++)if(a[r].type.indexOf("image")!==-1&&a[r].getAsFile()){n=!0;break}}}if(n){const a=e.clipboardData.items;if(a){for(let r=0;r<a.length;r++)if(a[r].type.indexOf("image")!==-1&&a[r].getAsFile()){const{x:o,y:l}=this.mousePos,s=a[r].getAsFile();let c=a[r].type.slice(6)==="gif"?"gif":"image";if(s!==null){let d;const u=new FileReader;u.onload=f=>{d=f.target.result;const v=new Image;v.src=d,v.onload=()=>{const{width:h,height:g}=v,p={name:c,x:o-50/2,y:l-g/h*50,externElement:c==="gif",width:100,height:g/h*100,image:d};this.addPens([p]),this.active([p]),this.copy([p])}},u.readAsDataURL(s)}}}}else this.paste()});te(this,"onMessage",e=>{if(typeof e.data!="string"||!e.data||e.data.startsWith("setImmediate"))return;let n=JSON.parse(e.data);typeof n=="object"?this.parent.doMessageEvent(n.name,n.value):this.parent.doMessageEvent(n)});te(this,"onwheel",e=>{if(this.inputDiv.contentEditable==="true"||this.drawingLine||this.pencil)return;if(this.store.hover&&this.store.hover.onWheel){this.store.hover.onWheel(this.store.hover,e);return}if(this.store.data.disableScale||this.store.options.disableScale||(e.preventDefault(),e.stopPropagation(),this.mouseDown&&(this.hoverType===Fe.Node||this.hoverType===Fe.Line))||this.store.data.locked===st.Disable||this.store.data.locked===st.DisableScale||this.store.data.locked===st.DisableMoveScale)return;if(!e.ctrlKey&&Math.abs(e.wheelDelta)<100&&e.deltaY.toString().indexOf(".")===-1){if(this.store.options.scroll&&!e.metaKey&&this.scroll){this.scroll.wheel(e.deltaY<0);return}const o=this.store.data.scale||1;this.translate(-e.deltaX/o,-e.deltaY/o);return}if(Math.abs(e.wheelDelta)>100&&this.store.options.scroll&&this.scroll&&!this.store.options.scrollButScale&&!(e.ctrlKey||e.metaKey)){this.scroll.wheel(e.deltaY<0);return}if(this.store.options.disableTouchPadScale)return;let n=.015;if(this.store.options.scaleOff)n=this.store.options.scaleOff,e.deltaY>0&&(n=-this.store.options.scaleOff);else if(/mac os /i.test(navigator.userAgent))e.ctrlKey?e.deltaY>0&&(n*=-1):n*=e.wheelDeltaY/240;else{let l=.2;e.deltaY.toString().indexOf(".")!==-1&&(l=.01),e.deltaY>0?n=-l:n=l}let{offsetX:a,offsetY:r}=e;this.scale(this.store.data.scale+n,{x:a,y:r}),this.externalElements.focus()});te(this,"onkeydown",e=>{var o,l,s;if(this.store.data.locked>=st.DisableEdit&&e.target.tagName!=="INPUT"&&e.target.tagName!=="TEXTAREA"&&!e.target.dataset.meta2dIgnore&&this.store.active.forEach(c=>{var d;(d=c.onKeyDown)==null||d.call(c,c,e.key)}),this.store.data.locked>=st.DisableEdit||e.target.tagName==="INPUT"||e.target.tagName==="TEXTAREA"||e.target.dataset.meta2dIgnore||this.store.options.unavailableKeys.includes(e.key))return;this.keyOptions||(this.keyOptions={}),this.keyOptions.altKey=e.altKey,this.keyOptions.shiftKey=e.shiftKey,this.keyOptions.ctrlKey=e.ctrlKey,this.keyOptions.metaKey=e.metaKey;let n=10,a=10,r=null;if(this.store.options.strictScope){const c=this.store.data.width||this.store.options.width,d=this.store.data.height||this.store.options.height;c&&d&&(r={x:this.store.data.origin.x,y:this.store.data.origin.y,width:c*this.store.data.scale,height:d*this.store.data.scale})}switch(e.key){case" ":this.hotkeyType=xt.Translate;break;case"Control":this.drawingLine?this.drawingLine.calculative.drawlineH=!this.drawingLine.calculative.drawlineH:this.hotkeyType||(this.patchFlags=!0,this.hotkeyType=xt.Select);break;case"Meta":break;case"Shift":this.store.active.length===1&&this.store.active[0].type&&this.store.activeAnchor?this.toggleAnchorHand():this.hotkeyType||(this.patchFlags=!0,this.store.options.resizeMode||(this.hotkeyType=xt.Resize));break;case"Alt":if(!e.ctrlKey&&!e.shiftKey&&this.drawingLine){const c=bt(this.drawingLine);c!==this.drawingLine.calculative.activeAnchor?(Cg(this.drawingLine),this.drawingLine.calculative.worldAnchors.push(c)):this.drawingLine.calculative.worldAnchors.push({x:c.x,y:c.y});const d=this.drawLineFns.indexOf(this.drawingLineName);this.drawingLineName=this.drawLineFns[(d+1)%this.drawLineFns.length],this.drawingLine.lineName=this.drawingLineName,this.drawline(),this.patchFlags=!0}e.preventDefault();break;case"a":case"A":e.ctrlKey||e.metaKey?(this.active(this.store.data.pens.filter(c=>!c.parentId&&c.locked!==st.Disable)),e.preventDefault()):this.toggleAnchorMode();break;case"Delete":case"Backspace":if(this.canvasImage.fitFlag&&this.canvasImage.activeFit){this.deleteFit();break}!this.store.data.locked&&this.delete();break;case"ArrowLeft":if(this.movingAnchor){this.translateAnchor(-1,0);break}if(n=-1,e.shiftKey&&(n=-5),(e.ctrlKey||e.metaKey)&&(n=-10),n=n*this.store.data.scale,this.store.activeAnchor&&this.store.active&&this.store.active.length===1&&this.store.active[0].type){this.moveLineAnchor({x:this.store.activeAnchor.x+n,y:this.store.activeAnchor.y},{});break}r&&this.activeRect.x+n<r.x&&(n=r.x-this.activeRect.x),this.translatePens(this.store.active,n,0);break;case"ArrowUp":if(this.movingAnchor){this.translateAnchor(0,-1);break}if(a=-1,e.shiftKey&&(a=-5),(e.ctrlKey||e.metaKey)&&(a=-10),a=a*this.store.data.scale,r&&this.activeRect.y+a<r.y&&(a=r.y-this.activeRect.y),this.store.activeAnchor&&this.store.active&&this.store.active.length===1&&this.store.active[0].type){this.moveLineAnchor({x:this.store.activeAnchor.x,y:this.store.activeAnchor.y+a},{});break}this.translatePens(this.store.active,0,a);break;case"ArrowRight":if(this.movingAnchor){this.translateAnchor(1,0);break}if(n=1,e.shiftKey&&(n=5),(e.ctrlKey||e.metaKey)&&(n=10),n=n*this.store.data.scale,this.store.activeAnchor&&this.store.active&&this.store.active.length===1&&this.store.active[0].type){this.moveLineAnchor({x:this.store.activeAnchor.x+n,y:this.store.activeAnchor.y},{});break}r&&this.activeRect.x+this.activeRect.width+n>r.x+r.width&&(n=r.x+r.width-(this.activeRect.x+this.activeRect.width)),this.translatePens(this.store.active,n,0);break;case"ArrowDown":if(this.movingAnchor){this.translateAnchor(0,1);break}if(a=1,e.shiftKey&&(a=5),(e.ctrlKey||e.metaKey)&&(a=10),a=a*this.store.data.scale,r&&this.activeRect.y+this.activeRect.height+a>r.y+r.height&&(a=r.y+r.height-(this.activeRect.y+this.activeRect.height)),this.store.activeAnchor&&this.store.active&&this.store.active.length===1&&this.store.active[0].type){this.moveLineAnchor({x:this.store.activeAnchor.x,y:this.store.activeAnchor.y+a},{});break}this.translatePens(this.store.active,0,a);break;case"d":case"D":(o=this.store.active[0])!=null&&o.locked||this.removeAnchorHand();break;case"h":case"H":(l=this.store.active[0])!=null&&l.locked||this.addAnchorHand();break;case"m":case"M":this.toggleMagnifier();break;case"g":case"G":this.hoverType===Fe.NodeAnchor&&(this.movingAnchor=this.store.hoverAnchor,this.externalElements.style.cursor="move");break;case"s":case"S":!this.store.data.locked&&this.hoverType===Fe.LineAnchor&&this.store.hover===this.store.active[0]&&this.splitLine(this.store.active[0],this.store.hoverAnchor),(e.ctrlKey||e.metaKey)&&this.store.emitter.emit("save",{event:e});break;case"c":case"C":(e.ctrlKey||e.metaKey)&&this.store.options.disableClipboard&&this.copy();break;case"x":case"X":(e.ctrlKey||e.metaKey)&&this.store.options.disableClipboard&&this.cut();break;case"√":case"v":case"V":!e.ctrlKey&&!e.metaKey&&(this.pencil&&this.stopPencil(),this.drawingLineName?(this.finishDrawline(),this.drawingLineName=""):this.drawingLineName=this.store.options.drawingLineName),!this.store.data.locked&&(e.ctrlKey||e.metaKey)&&(this.store.options.disableClipboard||!this.store.options.disableClipboard&&e.altKey)&&this.paste();break;case"b":case"B":this.drawingLineName&&(this.finishDrawline(),this.drawingLineName=""),this.pencil?this.stopPencil():this.drawingPencil();break;case"y":case"Y":(e.ctrlKey||e.metaKey)&&this.redo();break;case"z":case"Z":e.ctrlKey||e.metaKey?this.undo():e.shiftKey&&this.redo();break;case"Enter":this.drawingLineName&&(this.finishDrawline(!0),this.store.active[0].anchors[0].connectTo?this.drawingLineName="":this.drawingLineName=this.store.options.drawingLineName),this.store.active&&(this.store.active.forEach(c=>{c.type?(c.close=!c.close,c.close&&EI(c),this.store.path2dMap.set(c,Ye.path2dDraws.line(c)),Rg(c)):c.calculative.focus=!0}),this.render());break;case"Escape":this.drawingLineName&&this.finishDrawline(),this.drawingLineName=void 0,this.stopPencil(),this.store.active&&this.store.active.forEach(c=>{c.type||(c.calculative.focus=!1)}),this.movingPens&&(this.getAllByPens(this.movingPens).forEach(c=>{this.store.pens[c.id]=void 0}),this.movingPens=void 0,this.mouseDown=void 0,this.clearDock(),(s=this.store.active)==null||s.forEach(c=>{this.updateLines(c)}),this.calcActiveRect(),this.patchFlags=!0),this.hotkeyType=xt.None,this.movingAnchor=void 0,this.magnifierCanvas.magnifier&&(this.magnifierCanvas.magnifier=!1,this.patchFlags=!0);break;case"E":case"e":this.store.options.disableAnchor=!this.store.options.disableAnchor,this.store.emitter.emit("disableAnchor",this.store.options.disableAnchor);break;case"=":(e.ctrlKey||e.metaKey)&&(this.scale(this.store.data.scale+.1),e.preventDefault(),e.stopPropagation());break;case"-":(e.ctrlKey||e.metaKey)&&(this.scale(this.store.data.scale-.1),e.preventDefault(),e.stopPropagation());break;case"l":case"L":this.canMoveLine=!0;break;case"[":this.parent.down();break;case"]":this.parent.up();break;case"{":this.parent.bottom();break;case"}":this.parent.top();break;case"F":case"f":this.setFollowers();break}this.render(!1)});te(this,"onkeyup",e=>{switch(e.key){case"l":case"L":this.canMoveLine=!1;break}this.hotkeyType&&this.render(),this.hotkeyType<xt.AddAnchor&&(this.hotkeyType=xt.None)});te(this,"ondrop",async e=>{if(this.store.data.locked){console.warn("canvas is locked, can not drop");return}e.preventDefault(),e.stopPropagation();const n=e.dataTransfer.getData("Meta2d")||e.dataTransfer.getData("Text");let a=null;try{n&&(a=JSON.parse(n))}catch{}if(!a){const{files:r}=e.dataTransfer;if(r.length&&r[0].type.match("image.*")&&!(this.addCaches&&this.addCaches.length)){const o=r[0].type==="image/gif";a=await this.fileToPen(r[0],o)}else if(this.addCaches&&this.addCaches.length)a=this.addCaches,this.addCaches=[];else{this.store.emitter.emit("drop",void 0);return}}if(a=Array.isArray(a)?a:[a],a[0]&&a[0].draggable!==!1){const r={x:e.offsetX,y:e.offsetY};this.calibrateMouse(r),this.dropPens(a,r),this.addCaches=[],this.getContainerHover(r),this.mousePos.x=r.x,this.mousePos.y=r.y,this.store.emitter.emit("mouseup",{x:r.x,y:r.y,pen:this.store.hoverContainer})}this.store.emitter.emit("drop",a||n)});te(this,"ontouchstart",e=>{this.store.data.locked!==st.Disable&&(this.touchStartTimer&&clearTimeout(this.touchStartTimer),this.touchStartTimer=setTimeout(()=>{this.touchStart=performance.now();const n=e.touches[0].pageX-this.clientRect.x,a=e.touches[0].pageY-this.clientRect.y,r={x:n,y:a};if(this.calibrateMouse(r),this.getHover(r),this.onMouseDown({x:n,y:a,clientX:e.touches[0].clientX,clientY:e.touches[0].clientY,pageX:e.touches[0].pageX,pageY:e.touches[0].pageY,ctrlKey:e.ctrlKey||e.metaKey,shiftKey:e.shiftKey,altKey:e.altKey,buttons:1}),e.touches.length===2){this.initTouchDis=Math.hypot(e.touches[0].pageX-e.touches[1].pageX,e.touches[0].pageY-e.touches[1].pageY),this.initScale=this.store.data.scale,this.startTouches=e.touches,this.touchCenter={x:e.touches[0].pageX+(e.touches[1].pageX-e.touches[0].pageX)/2-this.clientRect.x,y:e.touches[0].pageY+(e.touches[1].pageY-e.touches[0].pageY)/2-this.clientRect.y};return}else e.touches.length===3&&(this.store.emitter.emit("contextmenu",{e:{x:n,y:a,clientX:e.touches[0].clientX,clientY:e.touches[0].clientY,pageX:e.touches[0].pageX,pageY:e.touches[0].pageY},clientRect:this.clientRect}),e.preventDefault(),e.stopPropagation());this.touchStartTimer=void 0},50))});te(this,"ontouchmove",e=>{var s;if(this.store.data.locked===st.Disable)return;e.stopPropagation(),e.preventDefault();const n=performance.now();if(n-this.touchStart<50)return;this.touchStart=n;const a=e.touches,r=a.length,o=e.touches[0].pageX-this.clientRect.x,l=e.touches[0].pageY-this.clientRect.y;if(r===1)this.onMouseMove({x:o,y:l,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY,pageX:e.changedTouches[0].pageX,pageY:e.changedTouches[0].pageY,ctrlKey:e.ctrlKey||e.metaKey,shiftKey:e.shiftKey,altKey:e.altKey,buttons:1});else if(r===2&&((s=this.startTouches)==null?void 0:s.length)===2){if(!this.touchMoving&&!this.touchScaling){const c=this.startTouches[0].pageX-a[0].pageX,d=this.startTouches[1].pageX-a[1].pageX,u=this.startTouches[0].pageY-a[0].pageY,f=this.startTouches[1].pageY-a[1].pageY;(c>=0&&d<0||c<=0&&d>0)&&(u>=0&&f<0||u<=0&&f>0)?this.touchScaling=!0:this.touchMoving=!0}if(this.touchScaling){if(this.store.data.disableScale||this.store.options.disableScale)return;const c=Math.hypot(a[0].pageX-a[1].pageX,a[0].pageY-a[1].pageY)/this.initTouchDis;this.scale(this.initScale*c,fe(this.touchCenter))}if(this.touchMoving){if(this.store.data.locked>=st.DisableMove&&this.store.data.locked!==st.DisableScale||this.store.data.disableScale||this.store.options.disableScale)return;if(this.lastOffsetX){const{scale:c}=this.store.data;this.translate((o-this.lastOffsetX)/c,(l-this.lastOffsetY)/c)}this.lastOffsetX=o,this.lastOffsetY=l}}});te(this,"ontouchend",e=>{if(this.store.data.locked===st.Disable)return;this.touchCenter=void 0,this.touchScaling=void 0,this.touchMoving=void 0,this.startTouches=void 0,this.lastOffsetX=0,this.lastOffsetY=0;const n=e.changedTouches[0].pageX-this.clientRect.x,a=e.changedTouches[0].pageY-this.clientRect.y;this.onMouseUp({x:n,y:a,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY,pageX:e.changedTouches[0].pageX,pageY:e.changedTouches[0].pageY,ctrlKey:e.ctrlKey||e.metaKey,shiftKey:e.shiftKey,altKey:e.altKey,buttons:1}),setTimeout(()=>{this.render()},20)});te(this,"onGesturestart",e=>{e.preventDefault()});te(this,"onMouseDown",e=>{var n,a,r,o,l;if(e.buttons===2&&!this.drawingLine&&(this.mouseRight=Hr.Down),this.hideInput(),this.popconfirm.hide(),this.store.data.locked===st.Disable||e.buttons!==1&&e.buttons!==2){this.hoverType=Fe.None;return}if(!this.magnifierCanvas.magnifier){if(this.calibrateMouse(e),this.mousePos.x=e.x,this.mousePos.y=e.y,this.mouseDown=e,this.lastMouseTime=performance.now(),this.canvasImage.fitFlag){this.canvasImage.currentFit||this.calcuActiveFit();return}if(this.hotkeyType===xt.AddAnchor){this.setAnchor(this.store.pointAt);return}if(!this.store.options.autoAnchor&&!this.drawingLine&&e.shiftKey&&e.ctrlKey&&e.altKey){this.setAnchor(this.store.pointAt),this.drawingLineName=this.store.options.drawingLineName;const s=this.store.activeAnchor;if(!s)return;const c={id:Ue(),x:s.x,y:s.y};this.drawingLine=this.createDrawingLine(c);let d=Lt(this.drawingLine);this.drawingLine.calculative.activeAnchor=d,Vt(this.store.hover,s,this.drawingLine,c),this.drawline();return}if(!(this.hotkeyType===xt.Translate||this.mouseRight===Hr.Down&&!this.store.options.mouseRightActive)){if(this.drawingLine){if(this.store.hoverAnchor){const c=bt(this.drawingLine);this.store.hoverAnchor.type===Ri.Line?Id(c,this.store.hoverAnchor,this.store):(c.x=this.store.hoverAnchor.x,c.y=this.store.hoverAnchor.y),Vt(this.store.hover,this.store.hoverAnchor,this.drawingLine,c),this.drawline(),this.finishDrawline(!0);return}if(!this.store.options.autoAnchor&&e.shiftKey&&e.altKey&&e.ctrlKey){this.setAnchor(this.store.pointAt);const c=bt(this.drawingLine),d=this.store.activeAnchor;if(!d)return;c.x=d.x,c.y=d.y,Vt(this.store.hover,d,this.drawingLine,c),this.drawline(),this.finishDrawline(!0);return}if(e.buttons===2||this.drawingLineName==="mind"&&((n=this.drawingLine)==null?void 0:n.calculative.worldAnchors.length)>1||this.store.options.drawingLineLength&&((a=this.drawingLine)==null?void 0:a.calculative.worldAnchors.length)>this.store.options.drawingLineLength){this.finishDrawline(!0),(r=this.store.active[0])!=null&&r.anchors[0].connectTo||this.store.active.length==0?this.drawingLineName="":this.drawingLineName=this.store.options.drawingLineName;return}if(this.store.options.autoAnchor&&this.hoverType===Fe.Node){const c=bt(this.drawingLine),d=wl(this.store.hover,e);c.x=d.x,c.y=d.y,this.drawingLine.autoTo=!0,Vt(this.store.hover,d,this.drawingLine,c),this.drawline(),this.finishDrawline(!0);return}const s=bt(this.drawingLine);s.isTemp?(this.drawingLine.calculative.activeAnchor=this.drawingLine.calculative.worldAnchors[this.drawingLine.calculative.worldAnchors.length-2],s.isTemp=void 0):(this.drawingLine.calculative.activeAnchor=s,this.drawingLine.calculative.worldAnchors.push({x:s.x,y:s.y,penId:s.penId})),this.drawingLine.calculative.drawlineH=void 0,this.drawingLineName!=="polyline"&&this.drawline()}if(this.drawingLineName){if(this.hoverType===Fe.Node)if(this.store.options.autoAnchor){this.inactive(!0);const s=wl(this.store.hover,e);this.store.hoverAnchor=s;const c={id:Ue(),x:s.x,y:s.y};this.drawingLine=this.createDrawingLine(c),this.drawingLine.autoFrom=!0,Vt(this.store.hover,s,this.drawingLine,c)}else this.inactive(),this.hoverType=Fe.None;else if(this.hoverType===Fe.NodeAnchor){this.drawingLineName=this.store.options.drawingLineName;const s={id:Ue(),x:this.store.hoverAnchor.x,y:this.store.hoverAnchor.y};this.drawingLine=this.createDrawingLine(s),this.drawingLine.calculative.activeAnchor=s,Vt(this.store.hover,this.store.hoverAnchor,this.drawingLine,s)}else if(!this.drawingLine&&this.drawingLineName!=="curve"){this.inactive(!0);const s={id:Ue(),x:e.x,y:e.y};this.drawingLine=this.createDrawingLine(s),this.drawingLine.calculative.activeAnchor=s}}else if(this.pencil){this.inactive(!0);const s=Ue(),c={x:e.x,y:e.y,id:Ue(),penId:s};this.pencilLine=this.getInitPencilLine(c)}else{switch(this.hoverType){case Fe.None:(this.store.data.rule||this.store.options.rule)&&!this.store.options.disableRuleLine&&this.addRuleLine(e),this.store.options.resizeMode&&(this.hotkeyType=xt.None),this.inactive();break;case Fe.Node:case Fe.Line:if(this.store.hover){if((o=this.store.active)!=null&&o.length&&this.store.active.length===1&&this.store.hover.id===this.store.active[0].id){this.calcActiveRect();break}const s=Xn(this.store.hover,!0);let c=s||this.store.hover;s&&(s.container||(l=this.store.options.containerShapes)!=null&&l.includes(s.name))&&(c=this.store.hover),e.ctrlKey&&!e.shiftKey?(c.calculative.active?this.willInactivePen=c:this.store.active.length>0&&(c.calculative.active=!0,xl(c),this.store.active.push(c),this.store.emitter.emit("active",this.store.active)),this.patchFlags=!0):e.ctrlKey&&e.shiftKey&&this.store.hover.parentId?this.active([this.store.hover]):(!(this.activeRect&&Kr({x:e.x,y:e.y},this.activeRect))||this.store.active.length==1)&&(c.calculative.active||(this.active([c]),this.store.options.resizeMode&&(this.hotkeyType=xt.Resize))),this.calcActiveRect()}break;case Fe.LineAnchor:this.store.activeAnchor=this.store.hoverAnchor,this.store.hover.calculative.activeAnchor=this.store.hoverAnchor,this.active([this.store.hover]);break;case Fe.LineAnchorPrev:case Fe.LineAnchorNext:this.store.activeAnchor&&(this.prevAnchor={...this.store.activeAnchor.prev},this.nextAnchor={...this.store.activeAnchor.next});break;case Fe.Resize:this.activeInitPos=[],this.store.active.forEach(s=>{this.activeInitPos.push({x:(s.calculative.worldRect.x-this.activeRect.x)/this.activeRect.width,y:(s.calculative.worldRect.y-this.activeRect.y)/this.activeRect.height})});break}this.store.hover&&(this.store.hover.calculative.mouseDown=!0),this.store.emitter.emit("mousedown",{x:e.x,y:e.y,pen:this.store.hover})}this.render()}}});te(this,"onMouseMove",e=>{var a,r,o,l,s,c,d,u;if(this.store.data.locked===st.Disable){this.hoverType=Fe.None;return}if(this.mouseDown&&!this.mouseDown.restore&&e.buttons!==1&&e.buttons!==2){this.onMouseUp(e);return}if(this.lastMouseTime){if(performance.now()-this.lastMouseTime<50){this.lastMouseTime=0;return}this.lastMouseTime=0}if(this.calibrateMouse(e),this.mousePos.x=e.x,this.mousePos.y=e.y,this.magnifierCanvas.magnifier){this.render();return}if(this.canvasImage.fitFlag&&this.canvasImage.activeFit){const f=performance.now();f-this.fitTimer>100&&(this.mouseDown?this.updateFit(e):this.inFitBorder(this.mousePos),this.fitTimer=f);return}if(this.mouseDown&&!this.store.options.disableTranslate&&!this.store.data.disableTranslate){if(this.mouseRight===Hr.Down&&(this.mouseRight=Hr.Translate),this.store.data.locked===st.DisableEdit||this.store.data.locked===st.DisableScale||this.hotkeyType===xt.Translate||this.mouseRight===Hr.Translate){const{scale:f}=this.store.data;let v=(e.x-this.mouseDown.x)/f,h=(e.y-this.mouseDown.y)/f;e.shiftKey&&!e.ctrlKey&&(h=0),e.ctrlKey&&(v=0),this.translate(v,h);return}if(this.store.data.locked)return;if(!this.drawingLine&&!this.pencil){if(!this.drawingLineName&&!this.movingAnchor){if(this.hoverType===Fe.NodeAnchor){if(!this.store.hoverAnchor)return;this.drawingLineName=this.store.options.drawingLineName;const f={id:Ue(),x:this.store.hoverAnchor.x,y:this.store.hoverAnchor.y};this.drawingLine=this.createDrawingLine(f),this.drawingLine.calculative.activeAnchor=f,Vt(this.store.hover,this.store.hoverAnchor,this.drawingLine,f),this.drawline();return}}else if(this.drawingLineName&&this.hoverType===Fe.None){const f={id:Ue(),x:e.x,y:e.y};this.drawingLine=this.createDrawingLine(f),this.drawingLine.calculative.activeAnchor=f,this.drawline();return}if(e.buttons===1&&(e.ctrlKey||!this.hoverType&&!this.hotkeyType)&&!(e.ctrlKey&&(this.store.activeAnchor||(a=this.store.active)!=null&&a.length))){this.dragRect={x:Math.min(this.mouseDown.x,e.x),y:Math.min(this.mouseDown.y,e.y),ex:Math.max(this.mouseDown.x,e.x),ey:Math.max(this.mouseDown.y,e.y),width:Math.abs(e.x-this.mouseDown.x),height:Math.abs(e.y-this.mouseDown.y)},this.render();return}if(this.movingAnchor){const f=e.x-this.movingAnchor.x,v=e.y-this.movingAnchor.y;this.translateAnchor(f,v),this.render();return}else if(!((r=this.store.active[0])!=null&&r.locked)){const f={x:e.x,y:e.y};if(this.hoverType===Fe.LineAnchor){(this.dockInAnchor(e)||((o=this.store.active[0])==null?void 0:o.lineName)==="line")&&!this.store.options.disableDock&&!this.store.options.disableLineDock&&(this.clearDock(),this.dock=wI(this.store,f,this.store.activeAnchor),(l=this.dock)!=null&&l.xDock&&(f.x+=this.dock.xDock.step),(s=this.dock)!=null&&s.yDock&&(f.y+=this.dock.yDock.step)),this.moveLineAnchor(f,e);return}if(this.hoverType===Fe.LineAnchorPrev){this.moveLineAnchorPrev(e);return}if(this.hoverType===Fe.LineAnchorNext){this.moveLineAnchorNext(e);return}}if(this.hoverType===Fe.Rotate){this.rotatePens({x:e.x,y:e.y});return}if(this.hoverType===Fe.Resize){this.resizePens(e);return}if(this.hoverType===Fe.Node||this.hoverType===Fe.Line){const f=e.x-this.mouseDown.x,v=e.y-this.mouseDown.y,h=20;if(e.ctrlKey&&!e.shiftKey&&(Math.abs(f)>=h||Math.abs(v)>=h)&&(this.willInactivePen=void 0),this.store.active.length===1){const g=this.store.active[0];if((g.locked===void 0||g.locked<st.DisableMove)&&((c=g==null?void 0:g.onMouseMove)==null||c.call(g,g,this.mousePos)),g.calculative.focus)return}this.movePens(e),this.getContainerHover(e);return}}else if(this.pencil){const{x:f,y:v}=e,h={x:f,y:v};h.id=Ue(),h.penId=this.pencilLine.id,this.pencilLine.calculative.worldAnchors.push(h),this.store.path2dMap.set(this.pencilLine,Ye.path2dDraws[this.pencilLine.name](this.pencilLine)),this.patchFlags=!0}}if(this.drawingLine){const{x:f,y:v}=e,h={x:f,y:v};if(h.id=Ue(),h.penId=this.drawingLine.id,!this.store.options.disableDock&&!this.store.options.disableLineDock&&(this.clearDock(),this.dock=wI(this.store,h),(d=this.dock)!=null&&d.xDock&&(h.x+=this.dock.xDock.step),(u=this.dock)!=null&&u.yDock&&(h.y+=this.dock.yDock.step)),this.mouseDown&&this.drawingLineName==="curve"&&!this.drawingLine.calculative.worldAnchors[0].connectTo)this.drawline(h);else{let g;if(this.drawingLine.calculative.worldAnchors.length>1&&(g=bt(this.drawingLine)),g?(g.prev=void 0,g.next=void 0,g.id||(g.id=Ue()),g.x=h.x,g.y=h.y,g.connectTo=void 0):(g={...h},this.drawingLine.calculative.worldAnchors.push(g)),(this.hoverType===Fe.NodeAnchor||this.hoverType===Fe.LineAnchor)&&(this.store.hoverAnchor.type!==Ri.Line&&(g.x=this.store.hoverAnchor.x,g.y=this.store.hoverAnchor.y),g.connectTo=this.store.hoverAnchor.penId,this.drawingLineName==="polyline"&&(g.isTemp=!1)),this.drawingLineName==="line"){if(e.ctrlKey&&!e.shiftKey)g.x=this.drawingLine.calculative.worldAnchors[this.drawingLine.calculative.worldAnchors.length-2].x;else if(e.shiftKey&&!e.ctrlKey)g.y=this.drawingLine.calculative.worldAnchors[this.drawingLine.calculative.worldAnchors.length-2].y;else if(e.shiftKey&&e.ctrlKey){let p=this.drawingLine.calculative.worldAnchors[this.drawingLine.calculative.worldAnchors.length-2];this.getSpecialAngle(g,p)}}this.drawline()}}globalThis.debug&&console.time("hover");const n=performance.now();n-this.hoverTimer>50&&(this.hoverTimer=n,this.getHover(e)),globalThis.debug&&console.timeEnd("hover"),this.hotkeyType===xt.AddAnchor&&(this.patchFlags=!0),this.render(!1)});te(this,"onMouseUp",e=>{if(this.store.data.locked===st.Disable){this.hoverType=Fe.None;return}if(this.mouseDown){if(this.mouseRight===Hr.Down&&(this.store.hover&&this.store.hover.onContextmenu?this.store.hover.onContextmenu(this.store.hover,e):this.store.emitter.emit("contextmenu",{e,clientRect:this.clientRect,pen:this.store.hover})),this.mouseRight=Hr.None,this.calibrateMouse(e),this.mousePos.x=e.x,this.mousePos.y=e.y,this.pencil&&this.finishPencil(),this.drawingLine){if(this.store.hoverAnchor){const n=bt(this.drawingLine);this.store.hoverAnchor.type===Ri.Line?Id(n,this.store.hoverAnchor,this.store):(n.x=this.store.hoverAnchor.x,n.y=this.store.hoverAnchor.y),Vt(this.store.hover,this.store.hoverAnchor,this.drawingLine,n),this.drawline(),this.finishDrawline(!0);return}if(this.store.options.autoAnchor&&this.hoverType===Fe.Node){const n=bt(this.drawingLine),a=wl(this.store.hover,e);n.x=a.x,n.y=a.y,this.drawingLine.autoTo=!0,Vt(this.store.hover,a,this.drawingLine,n),this.drawline(),this.finishDrawline(!0);return}}if(this.hoverType===Fe.LineAnchor&&this.store.hover&&this.store.active[0]&&this.store.active[0].name==="line"&&this.store.active[0]!==this.store.hover){const n=this.store.active[0],a=Lt(n),r=bt(n);if(this.store.hoverAnchor){const o=this.store.hover,l=Lt(o)===this.store.hoverAnchor,s=bt(o)===this.store.hoverAnchor,c=a===this.store.activeAnchor,d=r===this.store.activeAnchor;if((e.ctrlKey||e.altKey)&&o.type===mt.Line&&(l||s)&&(c||d)){const u=o.calculative.worldAnchors.map(f=>({...f,penId:n.id}));l?u.shift():s&&u.pop(),(l&&c||s&&d)&&u.reverse(),c?(n.calculative.worldAnchors[0].connectTo=void 0,n.calculative.worldAnchors.unshift(...u)):d&&(n.calculative.worldAnchors[n.calculative.worldAnchors.length-1].connectTo=void 0,n.calculative.worldAnchors.push(...u)),this.delete([o]),this.render()}else this.store.activeAnchor&&(this.store.hoverAnchor.type===Ri.Line?Id(this.store.activeAnchor,this.store.hoverAnchor,this.store):(this.store.activeAnchor.x=this.store.hoverAnchor.x,this.store.activeAnchor.y=this.store.hoverAnchor.y),Vt(this.store.hover,this.store.hoverAnchor,n,this.store.activeAnchor));this[n.lineName]&&n.lineName!=="polyline"&&this[n.lineName](this.store,n),this.store.path2dMap.set(n,Ye.path2dDraws.line(n)),this.initLineRect(n)}else a===this.store.activeAnchor&&n.autoFrom?this.calcAutoAnchor(n,a,this.store.hover):r===this.store.activeAnchor&&n.autoTo&&this.calcAutoAnchor(n,r,this.store.hover)}if(this.addCaches&&this.addCaches.length){if(!this.store.data.locked){if(this.dragRect&&this.addCaches.length===1){const n=this.addCaches[0];n.width=this.dragRect.width/this.store.data.scale,n.height=this.dragRect.height/this.store.data.scale,e.x=(this.dragRect.x+this.dragRect.ex)/2,e.y=(this.dragRect.y+this.dragRect.ey)/2}this.dropPens(this.addCaches,e)}this.addCaches=void 0}if(this.hoverType===Fe.Rotate&&(this.getSizeCPs(),this.store.active.forEach(n=>{n.rotate=n.calculative.rotate})),this.patchFlagsLines.forEach(n=>{n.type&&this.initLineRect(n)}),this.patchFlagsLines.clear(),this.dragRect)if(this.canvasImage.fitFlag)this.makeFit();else{const n=this.store.data.pens.filter(a=>{if(a.visible===!1||a.locked>=st.DisableMove||a.parentId||a.isRuleLine)return!1;if(kr(a.calculative.worldRect,this.dragRect,e.ctrlKey||this.store.options.dragAllIn))return a.type===mt.Line&&!this.store.options.dragAllIn?Dg(a,this.dragRect):!0});this.active(n)}if(e.button!==2&&(_d(this.mouseDown,e)<2&&(this.store.hover&&this.store.hover.input&&this.showInput(this.store.hover),this.store.emitter.emit("click",{x:e.x,y:e.y,pen:this.store.hover})),this.store.hover&&(this.store.hover.calculative.mouseDown=!1),this.store.hover!=this.store.hoverContainer&&this.store.emitter.emit("mouseup",{x:e.x,y:e.y,pen:this.store.hover}),this.store.emitter.emit("mouseup",{x:e.x,y:e.y,pen:this.store.hoverContainer})),this.willInactivePen){this.willInactivePen.calculative.active=void 0,xl(this.willInactivePen,!1);const n=this.store.active.findIndex(a=>a===this.willInactivePen);n>=0&&this.store.active.splice(n,1),this.calcActiveRect(),this.willInactivePen=void 0,this.store.emitter.emit("inactive",[this.willInactivePen]),this.render()}this.movingPens&&(e.altKey&&!e.shiftKey?this.copyMovedPens():this.movedActivePens(e.ctrlKey&&e.shiftKey),this.getAllByPens(this.movingPens).forEach(n=>{this.store.pens[n.id]=void 0}),this.movingPens=void 0),this.store.active&&this.store.active[0]&&(this.store.active[0].calculative.h=void 0),this.mouseDown=void 0,this.lastOffsetX=0,this.lastOffsetY=0,this.clearDock(),this.dragRect=void 0,this.initActiveRect=void 0,this.render()}});te(this,"clearDock",()=>{var o,l,s,c;const e=(l=(o=this.dock)==null?void 0:o.xDock)==null?void 0:l.penId,n=(c=(s=this.dock)==null?void 0:s.yDock)==null?void 0:c.penId,a=this.store.pens[e];a&&(a.calculative.isDock=!1);const r=this.store.pens[n];r&&(r.calculative.isDock=!1),this.dock=void 0});te(this,"onResize",()=>{this.timer&&clearTimeout(this.timer),this.timer=setTimeout(()=>{this.resize(),this.timer=void 0},100)});te(this,"onScroll",()=>{this.timer&&clearTimeout(this.timer),this.timer=setTimeout(()=>{this.clientRect=this.canvas.getBoundingClientRect(),this.timer=void 0},100)});te(this,"calibrateMouse",e=>(e.x-=this.store.data.x,e.y-=this.store.data.y,e));te(this,"getContainerHover",e=>{var a;if(this.dragRect)return;this.store.hoverContainer=void 0;const n=this.store.data.pens.filter(r=>{var o;return r.container||((o=this.store.options.containerShapes)==null?void 0:o.includes(r.name))});if(n.length)for(let r=n.length-1;r>=0;--r){const o=n[r];if(!(o.visible==!1||o.calculative.inView==!1||o.locked===st.Disable)){if(Kr(e,o.calculative.worldRect))this.store.hoverContainer=o,(a=o==null?void 0:o.onMouseMove)==null||a.call(o,o,e),this.store.lastHoverContainer!==this.store.hoverContainer&&(this.patchFlags=!0,this.store.lastHoverContainer&&(this.store.lastHoverContainer.calculative.containerHover=!1,this.store.emitter.emit("leave",this.store.lastHoverContainer)),this.store.hoverContainer&&(this.store.hoverContainer.calculative.containerHover=!0,this.store.emitter.emit("enter",this.store.hoverContainer)),this.store.lastHoverContainer=this.store.hoverContainer);else if(o===this.store.hoverContainer&&(this.store.hoverContainer=void 0,this.store.lastHoverContainer!==this.store.hoverContainer)){this.patchFlags=!0;const l=this.store.lastHoverContainer.calculative.canvas.store.pens[this.store.lastHoverContainer.id+Mn];this.store.lastHoverContainer&&!l&&(this.store.lastHoverContainer.calculative.containerHover=!1,this.store.emitter.emit("leave",this.store.lastHoverContainer)),this.store.lastHoverContainer=this.store.hoverContainer}}}});te(this,"getHover",e=>{var r,o;if(this.dragRect||this.canvasImage.fitFlag)return;let n=Fe.None;this.store.hover=void 0,this.store.hoverAnchor=void 0,this.title.hide(),this.store.pointAt=void 0,this.store.pointAtIndex=void 0;const a=this.store.active.length===1&&this.store.active[0].type;if(!this.drawingLineName&&this.hotkeyType!==xt.AddAnchor&&this.activeRect&&!a&&!this.store.data.locked){const l=xg(this.store.active),s=gI(this.store.active)||this.store.options.disableRotate,c=mI(this.store.active)||this.store.options.disableSize;if(!l&&!s){const d={x:this.activeRect.center.x,y:this.activeRect.y-30};this.activeRect.rotate&&Ot(d,this.activeRect.rotate,this.activeRect.pivot||this.activeRect.center),!this.hotkeyType&&dl(e,d,this.pointSize)&&(n=Fe.Rotate,this.externalElements.style.cursor=`url("${this.store.options.rotateCursor}"), auto`)}if(!l&&!c)for(let d=0;d<8;d++){const u=d<4;if((this.hotkeyType===xt.Resize||u&&!this.hotkeyType)&&dl(e,this.sizeCPs[d],this.pointSize)){let v=u?$_:B_,h=0;Math.abs(this.activeRect.rotate%90-45)<25?(v=u?B_:$_,h=Math.round((this.activeRect.rotate-45)/90)+(u?0:1)):h=Math.round(this.activeRect.rotate/90),n=Fe.Resize,this.resizeIndex=d,this.externalElements.style.cursor=v[(d+h)%4];break}}}n===Fe.None&&(n=this.inPens(e,this.store.data.pens)),!n&&!a&&Kr(e,this.activeRect)&&(n=Fe.Node,this.externalElements.style.cursor="move"),this.hoverType=n,n===Fe.None&&(this.drawingLineName||this.pencil?this.externalElements.style.cursor="crosshair":this.mouseDown||(this.externalElements.style.cursor="default"),this.store.hover=void 0),this.store.lastHover!==this.store.hover&&(this.patchFlags=!0,this.store.lastHover&&(this.store.lastHover.calculative.hover=!1,Bs(Xn(this.store.lastHover,!0)||this.store.lastHover,!1),this.store.emitter.emit("leave",this.store.lastHover),this.tooltip.hide()),this.store.hover&&(this.store.hover.calculative.hover=!0,Bs(Xn(this.store.hover,!0)||this.store.hover),this.store.emitter.emit("enter",this.store.hover),this.tooltip.show(this.store.hover,e)),this.store.lastHover=this.store.hover),(o=(r=this.store.hover)==null?void 0:r.onMouseMove)==null||o.call(r,this.store.hover,this.mousePos)});te(this,"inPens",(e,n)=>{var r;let a=Fe.None;e:for(let o=n.length-1;o>=0;--o){const l=n[o];if(l.visible==!1||l.calculative.inView==!1||l.locked===st.Disable)continue;const s=Md(l);if(!(!l.calculative.active&&!Bi(e,l.calculative.worldRect,s)&&!Kr(e,l.calculative.worldRect))){if(!this.store.data.locked&&this.hotkeyType!==xt.Resize&&l.calculative.worldAnchors){for(const c of l.calculative.worldAnchors)if(a=this.inAnchor(e,l,c),a){let d=fe(c);Object.assign(d,e),this.title.show(d,l);break e}}if(l.type){if(l.isRuleLine){let d=((r=this.store.options.ruleOptions)==null?void 0:r.height)||20;if(e.x+this.store.data.x>d&&e.y+this.store.data.y>d)break}const c=Lue(e,l);if(c){!this.store.data.locked&&!l.locked?this.hotkeyType===xt.AddAnchor?this.externalElements.style.cursor="pointer":this.externalElements.style.cursor="move":this.externalElements.style.cursor=this.store.options.hoverCursor,l.calculative.disabled&&(this.externalElements.style.cursor="not-allowed"),this.store.hover=l,this.store.pointAt=c.point,this.store.pointAtIndex=c.i,this.initTemplateCanvas([this.store.hover]),a=Fe.Line;break}}else{if(l.children){const d=[];if(l.children.forEach(u=>{this.store.pens[u]&&d.push(this.store.pens[u])}),a=this.inPens(e,d),a)break}let c=!1;if(l.name==="line"?c=Bi(e,l.calculative.worldRect,l.lineWidth):c=Kr(e,l.calculative.worldRect),c){if(l.type===mt.Node&&l.name==="line"&&!oue(e,l.calculative.worldAnchors))continue;if(!this.store.data.locked&&!l.locked?this.hotkeyType===xt.AddAnchor?this.externalElements.style.cursor="pointer":this.externalElements.style.cursor="move":this.externalElements.style.cursor=this.store.options.hoverCursor,l.calculative.disabled&&(this.externalElements.style.cursor="not-allowed"),this.store.hover=l,this.initTemplateCanvas([this.store.hover]),a=Fe.Node,this.store.pointAt=e,!e.ctrlKey){let{x:d,y:u,ex:f,ey:v,rotate:h,center:g}=this.store.hover.calculative.worldRect;if(h){const p=[{x:d,y:u},{x:f,y:u},{x:f,y:v},{x:d,y:v}];p.forEach(y=>{Ot(y,h,g)});let m=p[p.length-1];for(const y of p){if(m.y>e.y!=y.y>e.y){const b=y.x+(e.y-y.y)*(m.x-y.x)/(m.y-y.y);Math.abs(b-this.store.pointAt.x)<10&&(this.store.pointAt.x=b)}m=y}}else this.store.pointAt.x-10<d?this.store.pointAt.x=d:this.store.pointAt.x+10>f&&(this.store.pointAt.x=f),this.store.pointAt.y-10<u?this.store.pointAt.y=u:this.store.pointAt.y+10>v&&(this.store.pointAt.y=v)}break}}}}return a});te(this,"dockInAnchor",e=>{var n,a;this.store.hover=void 0;for(let r=this.store.data.pens.length-1;r>=0;--r){const o=this.store.data.pens[r];if(o.visible==!1||o.locked===st.Disable||o===this.store.active[0])continue;let l=Md(o);if(l+=2*this.store.options.anchorRadius,!!Bi(e,o.calculative.worldRect,l)&&(this.store.hover=o,this.hotkeyType!==xt.Resize&&o.calculative.worldAnchors))for(const s of o.calculative.worldAnchors){if(s.twoWay===vn.In){const c=bt(this.store.active[0]);if(this.store.activeAnchor.id!==c.id)continue}if(s.twoWay===vn.Out){const c=Lt(this.store.active[0]);if(this.store.activeAnchor.id!==c.id)continue}if(!(s.twoWay===vn.DisableConnected||s.twoWay===vn.Disable||((n=this.store.activeAnchor)==null?void 0:n.twoWay)===vn.DisableConnectTo||((a=this.store.activeAnchor)==null?void 0:a.twoWay)===vn.Disable)&&(this.title.hide(),this.inAnchor(e,o,s))){let c=fe(s);return Object.assign(c,e),this.title.show(c,o),!0}}}});te(this,"imageTimer");te(this,"templateImageTimer");te(this,"render",e=>{if(e&&(this.opening=!1),this.opening)return;let n;if(e==null||e===!0||e===1/0?(n=performance.now(),this.patchFlags=!0):e>1?n=e:n=performance.now(),!this.patchFlags)return;if(n-this.lastRender<this.store.options.interval){this.renderTimer&&cancelAnimationFrame(this.renderTimer),this.renderTimer=requestAnimationFrame(this.render);return}this.renderTimer=void 0,this.lastRender=n;const a=this.offscreen.getContext("2d");a.clearRect(0,0,this.offscreen.width,this.offscreen.height),a.save(),a.translate(this.store.data.x,this.store.data.y),globalThis.debugRender&&console.time("renderPens"),this.renderPens(),globalThis.debugRender&&console.timeEnd("renderPens"),this.renderBorder(),this.renderHoverPoint(),a.restore(),this.magnifierCanvas.render();const r=this.canvas.getContext("2d");r.clearRect(0,0,this.canvas.width,this.canvas.height),r.drawImage(this.offscreen,0,0,this.width,this.height),this.canvasTemplate.render(),this.canvasImageBottom.render(),this.canvasImage.render(),this.patchFlags=!1});te(this,"renderPens",()=>{const e=this.offscreen.getContext("2d");e.strokeStyle=$s(this.store);for(const n of this.store.data.pens)isFinite(n.x)&&n.canvasLayer!==gt.CanvasTemplate&&(n.name==="combine"&&!n.draw||n.calculative.inView&&(n.canvasLayer===gt.CanvasMain&&n.name!=="gif"&&n.image&&n.calculative.img&&(e.save(),Mi(e,n),n.calculative.rotate&&xr(e,n),$i(e,n),pl(e,n),e.restore()),Fi(e,n)));this.drawingLine&&Fi(e,this.drawingLine),this.pencilLine&&Fi(e,this.pencilLine),this.movingPens&&this.movingPens.forEach(n=>{this.renderPenContainChild(e,n)})});te(this,"renderPenContainChild",(e,n)=>{var a;n.calculative.inView&&Fi(e,n),(a=n.children)==null||a.forEach(r=>{const o=this.store.pens[r];o&&this.renderPenContainChild(e,o)})});te(this,"renderBorder",()=>{if(!this.store.data.locked&&this.activeRect&&!(this.store.active.length===1&&this.store.active[0].type)&&!this.movingPens){const e=this.offscreen.getContext("2d");e.save(),e.translate(.5,.5);const n=this.activeRect.pivot||this.activeRect.center;if(this.activeRect.rotate&&(e.translate(n.x,n.y),e.rotate(this.activeRect.rotate*Math.PI/180),e.translate(-n.x,-n.y)),e.strokeStyle=this.store.options.activeColor,e.globalAlpha=this.store.options.activeGlobalAlpha===void 0?.3:this.store.options.activeGlobalAlpha,e.beginPath(),e.lineWidth=this.store.options.activeLineWidth||1,e.setLineDash(this.store.options.activeLineDash||[]),e.strokeRect(this.activeRect.x,this.activeRect.y,this.activeRect.width,this.activeRect.height),e.setLineDash([]),e.lineWidth=1,e.globalAlpha=1,xg(this.store.active)||gI(this.store.active)||this.store.options.disableRotate){e.restore();return}e.beginPath(),e.moveTo(this.activeRect.center.x,this.activeRect.y),e.lineTo(this.activeRect.center.x,this.activeRect.y-30),e.stroke(),e.beginPath(),e.strokeStyle=this.store.options.activeColor,e.fillStyle="#ffffff",e.arc(this.activeRect.center.x,this.activeRect.y-30,5,0,Math.PI*2),e.fill(),e.stroke(),e.restore()}});te(this,"renderHoverPoint",()=>{if(this.store.data.locked)return;const e=this.offscreen.getContext("2d");if(e.save(),e.translate(.5,.5),!this.store.options.disableAnchor&&this.store.hover&&!this.store.hover.disableAnchor&&(this.hotkeyType!==xt.Resize||this.store.active.length!==1||this.store.active[0]!==this.store.hover)){const n=[...this.store.hover.calculative.worldAnchors];this.store.pointAt&&this.hotkeyType===xt.AddAnchor&&n.push(this.store.pointAt),n&&(e.strokeStyle=this.store.hover.anchorColor||this.store.options.anchorColor,e.fillStyle=this.store.hover.anchorBackground||this.store.options.anchorBackground,n.forEach(a=>{if(a.hidden&&a.locked>st.DisableEdit)return;if(a===this.store.hoverAnchor){e.save();const o=this.store.hover.hoverAnchorColor||this.store.options.hoverAnchorColor;e.strokeStyle=o,e.fillStyle=o}e.beginPath();let r=a.radius||this.store.hover.anchorRadius||this.store.options.anchorRadius;if(this.store.hover.type&&!a.radius&&!this.store.hover.anchorRadius&&(r=3,this.store.hover.calculative.lineWidth>3&&(r=this.store.hover.calculative.lineWidth)),a.type===Ri.Line){let o=this.store.pens[a.penId].rotate||0;this.store.pens[a.penId].calculative.flipX&&(o*=-1),this.store.pens[a.penId].calculative.flipY&&(o*=-1);let l=a.rotate+o;this.store.pens[a.penId].calculative.flipX&&(l*=-1),this.store.pens[a.penId].calculative.flipY&&(l*=-1),e.save(),e.translate(a.x,a.y),e.rotate(l*Math.PI/180),e.translate(-a.x,-a.y),e.rect(a.x-a.length*this.store.data.scale/2,a.y-r,a.length*this.store.data.scale,r*2),e.restore()}else e.arc(a.x,a.y,r,0,Math.PI*2);if(this.store.hover.type&&this.store.hoverAnchor===a?(e.save(),e.strokeStyle=this.store.hover.activeColor||this.store.options.activeColor,e.fillStyle=e.strokeStyle):(a.color||a.background)&&(e.save(),e.strokeStyle=a.color,e.fillStyle=a.background),e.fill(),e.stroke(),a===this.store.hoverAnchor&&e.restore(),(this.store.hover.type&&this.store.hoverAnchor===a||a.color||a.background)&&e.restore(),!this.store.hover.parentId&&this.store.hover.children&&this.store.hover.children.length>0&&a===this.store.hoverAnchor){e.save(),e.beginPath(),e.lineWidth=3;const o=this.store.hover.hoverAnchorColor||this.store.options.hoverAnchorColor;globalThis.pSBC&&(e.strokeStyle=globalThis.pSBC(.5,o)),e.arc(a.x,a.y,r+1.5,0,Math.PI*2),e.stroke(),e.restore()}}))}this.hotkeyType!==xt.AddAnchor&&!this.movingPens&&this.activeRect&&!(this.store.active.length===1&&this.store.active[0].type)&&!xg(this.store.active)&&!mI(this.store.active)&&!this.store.options.disableSize&&(e.strokeStyle=this.store.options.activeColor,e.fillStyle="#ffffff",this.sizeCPs.forEach((n,a)=>{this.activeRect.rotate&&(e.save(),e.translate(n.x,n.y),e.rotate(this.activeRect.rotate*Math.PI/180),e.translate(-n.x,-n.y)),(a<4||this.hotkeyType===xt.Resize)&&(e.beginPath(),e.fillRect(n.x-4.5,n.y-4.5,8,8),e.strokeRect(n.x-5.5,n.y-5.5,10,10)),this.activeRect.rotate&&e.restore()})),!this.store.data.locked&&this.dragRect&&(e.save(),e.fillStyle=Nd(this.store.options.dragColor,.2),e.strokeStyle=this.store.options.dragColor,e.beginPath(),e.strokeRect(this.dragRect.x,this.dragRect.y,this.dragRect.width,this.dragRect.height),e.fillRect(this.dragRect.x,this.dragRect.y,this.dragRect.width,this.dragRect.height),e.restore()),this.dock&&(e.strokeStyle=this.store.options.dockColor,this.dock.xDock&&(e.beginPath(),e.moveTo(this.dock.xDock.x,this.dock.xDock.y),e.lineTo(this.dock.xDock.x,this.dock.xDock.prev.y),e.stroke()),this.dock.yDock&&(e.beginPath(),e.moveTo(this.dock.yDock.x,this.dock.yDock.y),e.lineTo(this.dock.yDock.prev.x,this.dock.yDock.y),e.stroke())),e.restore()});te(this,"pastePen",(e,n)=>{const a=e.id;if(SI(e),e.parentId=n,e.type===mt.Line?this.changeNodeConnectedLine(a,e,this.store.clipboard.pens):this.changeLineAnchors(a,e,this.store.clipboard.pens),!e.parentId){const o=this.getPenRect(e,this.store.clipboard.origin,this.store.clipboard.scale),l=this.getPenRect(this.store.clipboard.initRect,this.store.clipboard.origin,this.store.clipboard.scale),{origin:s,scale:c}=this.store.data;e.x=s.x+o.x*c,e.y=s.y+o.y*c,e.width=o.width*c,e.height=o.height*c,l.x=s.x+l.x*c,l.y=s.y+l.y*c,It(l),this.store.clipboard.pos&&(e.x-=l.center.x-this.store.clipboard.pos.x,e.y-=l.center.y-this.store.clipboard.pos.y),this.keyOptions&&this.keyOptions.altKey&&(this.keyOptions.ctrlKey||this.keyOptions.metaKey)?(e.x=-this.store.data.x+this.width/2-e.width/2,e.y=-this.store.data.y+this.height/2-e.height/2):this.keyOptions&&this.keyOptions.shiftKey&&(this.keyOptions.ctrlKey||this.keyOptions.metaKey)||(e.x+=this.store.clipboard.offset*this.store.data.scale,e.y+=this.store.clipboard.offset*this.store.data.scale)}this.makePen(e);const r=[];if(Array.isArray(e.children))for(const o of e.children){const l=this.store.clipboard.pens.find(s=>s.id===o);l&&r.push(this.pastePen(l,e.id).id)}return e.children=r,Sr(e,!0),e});te(this,"ondblclick",e=>{var n;this.store.hover&&(!this.store.data.locked||this.store.hover.dbInput)&&!this.store.options.disableInput&&(this.store.hover.onShowInput?this.store.hover.onShowInput(this.store.hover,e):this.store.hover&&this.store.hover.parentId?((n=this.store.active)==null?void 0:n.length)===1&&this.store.active[0].id===this.store.hover.id?this.showInput(this.store.hover):(this.store.pens[this.store.hover.parentId].children.forEach(a=>{this.store.pens[a].calculative.active=!1,this.store.pens[a].calculative.hover=!1}),this.active([this.store.hover])):this.showInput(this.store.hover)),this.store.emitter.emit("dblclick",{x:e.x,y:e.y,pen:this.store.hover})});te(this,"showInput",(e,n,a="transparent")=>{if(!window||!this.store.hover||this.store.hover.locked||this.store.hover.externElement||this.store.hover.disableInput||this.store.hover.disabled)return;if(this.inputDiv.dataset.penId===e.id){this.inputDiv.dataset.isInput="true",this.inputDiv.contentEditable="true",this.inputDiv.focus();const u=window.getSelection();u.selectAllChildren(this.inputDiv),u.collapseToEnd(),this.inputDiv.scrollTop=this.inputDiv.scrollHeight,this.inputDiv.scrollLeft=this.inputDiv.scrollWidth;return}!n&&!e.dbInput?this.setInputStyle(e):(this.inputDiv.style.width="100%",this.inputDiv.style.height="100%");const r=n||e.calculative.worldTextRect,s=`${(e.calculative.tempText===void 0?e.text+""||"":e.calculative.tempText).replace(/\x20/g,"&nbsp;").split(/[\s\n]/).join("</div><div>")}</div>`.replace("</div>","").replace(/\<div\>\<\/div\>/g,"<div><br></div>");this.inputDiv.innerHTML=s,this.inputParent.style.left=r.x+this.store.data.x-(e.textLeft||0)+"px",this.inputParent.style.top=r.y+this.store.data.y-(e.textTop||0)+"px";let c=r.width;this.inputParent.style.width=(c<0?12:c)+"px",this.inputParent.style.height=r.height+(e.textTop||0)+"px",this.inputParent.style.zIndex="9999",this.inputParent.style.background=a,e.rotate%360?this.inputParent.style.transform=`rotate(${e.rotate}deg)`:this.inputParent.style.transform=null,this.inputParent.style.display="flex",this.inputDiv.dataset.penId=e.id,this.inputDiv.contentEditable=e.disableInput==null?"true":e.disableInput.toString(),e.dropdownList&&this.dropdown.style.display!=="block"&&(this.dropdown.style.background=e.dropdownBackground||"#fff",this.dropdown.style.color=e.dropdownColor||"#bdc7db",this.setDropdownList()),this.inputDiv.contentEditable="true",this.inputDiv.focus();const d=window.getSelection();d.selectAllChildren(this.inputDiv),d.collapseToEnd(),this.inputDiv.scrollTop=this.inputDiv.scrollHeight,this.inputDiv.scrollLeft=this.inputDiv.scrollWidth,e.calculative.text=void 0,this.initTemplateCanvas([e]),this.render()});te(this,"setInputStyle",e=>{e.text||(e.text="");let n;for(let c=0;c<document.styleSheets.length;c++)document.styleSheets[c].title==="le5le.com"&&(n=document.styleSheets[c]);let a="overflow: scroll;",r="",o=1;const{scale:l}=this.store.data;if(e.fontSize<12&&(o=12/e.fontSize),e.textAlign?a+=`text-align: ${e.textAlign};`:a+="text-align: center;",e.textAlign&&e.whiteSpace==="pre-line"&&(a+=`align-items: ${{left:"start",center:"center",right:"end"}[e.textAlign]};`),e.textBaseline?a+=`justify-content: ${{top:"start",middle:"center",bottom:"end"}[e.textBaseline]};`:a+="justify-content: center;",e.fontFamily&&(a+=`font-family: ${e.fontFamily};`),e.fontSize&&(e.fontSize*l<12?(a+=`font-size:${e.fontSize}px;`,a+=`zoom:${e.fontSize/12*l};`):a+=`font-size:${e.fontSize*l}px;`),a+=`color:${Ur(e,this.store)};`,e.fontStyle&&(a+=`font-style: ${e.fontStyle};`),e.fontWeight&&(a+=`font-weight: ${e.fontWeight};`),e.textLeft&&(a+=`margin-left:${l>1?e.textLeft*o:e.textLeft*o/l}px;`),e.textTop&&(a+=`margin-top:${l>1?e.textTop*o:e.textTop*o/l}px;`),e.lineHeight&&(a+=`line-height:${l>1?e.fontSize*e.lineHeight*l:e.fontSize*e.lineHeight*o}px;`),e.textHeight)a+=`height:${l>1?e.textHeight*o*l:e.textHeight*o}px;`;else{let c=e.calculative.worldRect.height/l;c<0&&(c=0);let d=e.fontSize*l<12?c*o:c*l*o;d<e.fontSize*e.lineHeight*l&&(d=e.fontSize*e.lineHeight*l,a+=`top:-${d/2}px;`),a+=`height:${d}px;`}let s=null;if(e.textWidth)s=e.textWidth<1&&e.textWidth>-1?e.textWidth*e.calculative.worldRect.width:e.textWidth,e.whiteSpace!=="pre-line"&&(s<e.fontSize?a+=`width:${e.fontSize*1.2*o}px;`:a+=`width:${l>1?s*o*l:s*o}px;`);else if(e.whiteSpace===void 0||e.whiteSpace==="break-all"){let c=(e.calculative.worldTextRect.width||12)/l;c<0&&(c=0),a+=`width:${e.fontSize*l<12?c*o:c*l}px;`}if(e.whiteSpace&&(e.whiteSpace==="pre-line"?a+="white-space:pre;":(a+=`white-space:${e.whiteSpace};`,e.whiteSpace==="nowrap"&&(r+="display:contents;"))),e.whiteSpace!=="nowrap"){let c=e.fontSize*1.2*e.text.length,d=(s||e.calculative.worldRect.width/l)*Math.floor(e.calculative.worldRect.height/l/(e.lineHeight*e.fontSize));c>d&&(a+="justify-content: start;")}n.deleteRule(0),n.deleteRule(0),n.insertRule(`.meta2d-input
      .input-div{
        resize:none;border:none;outline:none;background:transparent;position:absolute;flex-grow:1;height:100%;width: 100%;position:absolute;left:0;top:0;display:flex;flex-direction: column;cursor: text;${a}}`),n.insertRule(`.input-div div{${r}}`)});te(this,"hideInput",()=>{if(this.inputParent.style.display==="flex"){this.inputParent.style.display="none";const e=this.store.pens[this.inputDiv.dataset.penId];if(!e)return;if(e.calculative.text=e.text,this.inputDiv.dataset.value=this.inputDiv.innerHTML.replace(/\<div\>/g,`
`).replace(/\<\/div\>/g,"").replace(/\<br\>/g,"").replace(/&nbsp;/g," ").replace(/(<([^>]+)>)/gi,""),this.inputDiv.dataset.value=this.convertSpecialCharacter(this.inputDiv.dataset.value),e.onInput)e.onInput(e,this.inputDiv.dataset.value);else if(e.text!==this.inputDiv.dataset.value){const n=[fe(e,!0)];e.text=this.inputDiv.dataset.value,e.calculative.text=e.text,this.inputDiv.dataset.penId=void 0,e.text&&e.textAutoAdjust&&dce(e),Ua(e),this.patchFlags=!0,this.pushHistory({type:Me.Update,pens:[fe(e,!0)],initPens:n}),this.store.emitter.emit("change",e),this.store.emitter.emit("valueUpdate",e)}else e.text===this.inputDiv.dataset.value&&e.calculative.textLines.length==0&&Ua(e);this.initTemplateCanvas([e])}this.inputDiv.dataset.penId=void 0,this.dropdown.style.display="none",this.inputDiv.dataset.isInput="false",this.inputDiv.contentEditable="false",this.render()});te(this,"setDropdownList",e=>{this.clearDropdownList();const n=this.store.pens[this.inputDiv.dataset.penId];if(!this.store.data.locked&&!["tablePlus"].includes(n.name))return;if(this.dropdown.style.display="block",!n||!n.dropdownList){this.dropdown.style.display="none";return}if(!n.dropdownList.length){const o=document.createElement("div");o.innerText="None",o.style.padding="5px 12px",o.style.color="#ddd",this.dropdown.appendChild(o);return}const a=this.inputDiv.innerHTML.replace(/\<div\>/g,`
`).replace(/\<\/div\>/g,"").replace(/\<br\>/g,"");let r=0;for(const o of n.dropdownList){const l=typeof o=="string"?o:o.text;e&&a?l.includes(a)&&this.dropdownAppendOption(l,r):this.dropdownAppendOption(l,r),++r}if(!this.dropdown.hasChildNodes()){const o=document.createElement("div");o.innerText="None",o.style.padding="5px 12px",o.style.color="#ddd",this.dropdown.appendChild(o)}});te(this,"selectDropdown",e=>{const n=e.target,a=this.store.pens[this.inputDiv.dataset.penId];if(!n||!a||!a.dropdownList)return;const r=+n.dataset.i,o=a.dropdownList[r];if(!o)return;const l=[fe(a,!0)];typeof o=="object"?(this.updateValue(a,{...o}),a.calculative.text=void 0,this.calcActiveRect()):a.text=o+"",this.inputDiv.innerText=a.text,this.hideInput(),this.pushHistory({type:Me.Update,pens:[fe(a,!0)],initPens:l}),this.render(),this.store.emitter.emit("change",a),this.store.emitter.emit("valueUpdate",a)});te(this,"inFitBorder",e=>{let n;const a=this.store.data.width||this.store.options.width,r=this.store.data.height||this.store.options.height;let o={x:(e.x-this.store.data.origin.x)/this.store.data.scale,y:(e.y-this.store.data.origin.y)/this.store.data.scale};const l=this.canvasImage.activeFit;this.externalElements.style.cursor="default",o.y>r*l.y-10&&o.y<r*l.y+10&&(n="top",this.externalElements.style.cursor="row-resize"),o.y>r*(l.y+l.height)-10&&o.y<r*(l.y+l.height)+10&&(n="bottom",this.externalElements.style.cursor="row-resize"),o.x>a*l.x-10&&o.x<a*l.x&&(n="left",this.externalElements.style.cursor="col-resize"),o.x>a*(l.x+l.width)-10&&o.x<a*(l.x+l.width)+10&&(n="right",this.externalElements.style.cursor="col-resize"),this.canvasImage.currentFit=n});this.parent=e,this.parentElement=n,this.store=a,this.canvasTemplate=new cde(n,a),this.canvasTemplate.canvas.style.zIndex="1",this.canvasImageBottom=new UI(n,a,!0),this.canvasImageBottom.canvas.style.zIndex="2",n.appendChild(this.canvas),this.canvas.style.position="absolute",this.canvas.style.backgroundRepeat="no-repeat",this.canvas.style.backgroundSize="100% 100%",this.canvas.style.zIndex="3",this.canvasImage=new UI(n,a),this.canvasImage.canvas.style.zIndex="4",this.magnifierCanvas=new lde(this,n,a),this.magnifierCanvas.canvas.style.zIndex="5",this.externalElements.style.position="absolute",this.externalElements.style.left="0",this.externalElements.style.top="0",this.externalElements.style.outline="none",this.externalElements.style.background="transparent",this.externalElements.style.zIndex="5",n.style.position="relative",n.appendChild(this.externalElements),this.createInput(),this.tooltip=new Ws(n,a),this.tooltip.box.onmouseleave=r=>{this.patchFlags=!0,this.store.lastHover&&(this.store.lastHover.calculative.hover=!1);let o=this.store.data.pens.find(l=>l.calculative.hover===!0);Bs(o,!1)},this.popconfirm=new dde(n,a),this.dialog=new sde(n),this.title=new zd(n),this.store.options.scroll&&(this.scroll=new WI(this)),this.store.dpiRatio=globalThis.devicePixelRatio||1,this.store.dpiRatio<1?this.store.dpiRatio=1:this.store.dpiRatio>1&&this.store.dpiRatio<1.5&&(this.store.dpiRatio=1.5),this.clientRect=this.externalElements.getBoundingClientRect(),this.listen(),window==null||window.addEventListener("resize",this.onResize),window==null||window.addEventListener("scroll",this.onScroll),window==null||window.addEventListener("message",this.onMessage)}listen(){switch(this.externalElements.addEventListener("gesturestart",this.onGesturestart),this.externalElements.ondragover=e=>e.preventDefault(),this.externalElements.ondrop=this.ondrop,this.externalElements.oncontextmenu=e=>e.preventDefault(),this.store.options.interval=50,this.externalElements.ontouchstart=this.ontouchstart,this.externalElements.ontouchmove=this.ontouchmove,this.externalElements.ontouchend=this.ontouchend,this.externalElements.onmousedown=e=>{this.onMouseDown({x:e.offsetX,y:e.offsetY,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,ctrlKey:e.ctrlKey||e.metaKey,shiftKey:e.shiftKey,altKey:e.altKey,buttons:e.buttons})},this.externalElements.onmousemove=e=>{e.target===this.externalElements&&this.onMouseMove({x:e.offsetX,y:e.offsetY,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,ctrlKey:e.ctrlKey||e.metaKey,shiftKey:e.shiftKey,altKey:e.altKey,buttons:e.buttons})},this.externalElements.onmouseup=e=>{this.onMouseUp({x:e.offsetX,y:e.offsetY,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,ctrlKey:e.ctrlKey||e.metaKey,shiftKey:e.shiftKey,altKey:e.altKey,buttons:e.buttons,button:e.button})},this.externalElements.onmouseleave=e=>{this.store.data.pens.forEach(n=>{n.calculative.hover&&(n.calculative.hover=!1)}),this.store.hover&&(this.store.hover.calculative.hover=!1,this.store.hover=void 0),this.render(),e.toElement!==this.tooltip.box&&e.toElement!==this.tooltip.arrowUp&&e.toElement!==this.tooltip.arrowDown&&(this.tooltip.hide(),this.store.lastHover=void 0)},this.externalElements.ondblclick=this.ondblclick,this.externalElements.tabIndex=0,this.externalElements.onblur=()=>{this.mouseDown=void 0},this.externalElements.onwheel=this.onwheel,document.addEventListener("copy",this.onCopy),document.addEventListener("cut",this.onCut),document.addEventListener("paste",this.onPaste),this.store.options.keydown){case Fs.Document:document.addEventListener("keydown",this.onkeydown),document.addEventListener("keyup",this.onkeyup);break;case Fs.Canvas:this.externalElements.addEventListener("keydown",this.onkeydown),this.externalElements.addEventListener("keyup",this.onkeyup);break}}splitLine(e,n){const a=e.calculative.worldAnchors,r=a.findIndex(u=>u===n);if([-1,0,a.length-1].includes(r))return;const o=fe(e,!0),l=fe(e,!0),s=Ue();l.id=s,l.calculative.canvas=this,l.calculative.active=!1,l.calculative.hover=!1;const c=fe(a.slice(0,r+1)),d=fe(a.slice(r)).map(u=>(u.penId=s,u));e.calculative.worldAnchors=c,l.calculative.worldAnchors=d,this.initLineRect(e),this.initLineRect(l),this.store.data.pens.push(l),this.store.pens[s]=l,this.pushHistory({type:Me.Add,pens:[fe(l,!0)],step:2}),this.pushHistory({type:Me.Update,initPens:[o],pens:[fe(e,!0)],step:2})}translateAnchor(e,n){this.movingAnchor.x+=e,this.movingAnchor.y+=n;const a=this.movingAnchor.penId;if(a){const r=this.store.pens[a],o=r.calculative.worldRect;this.movingAnchor.x<o.x?this.movingAnchor.x=o.x:this.movingAnchor.x>o.ex&&(this.movingAnchor.x=o.ex),this.movingAnchor.y<o.y?this.movingAnchor.y=o.y:this.movingAnchor.y>o.ey&&(this.movingAnchor.y=o.ey);const l=Hs(this.movingAnchor,o),s=r.anchors.findIndex(c=>c.id===this.movingAnchor.id);r.anchors[s]=l,this.patchFlags=!0}}async fileToPen(e,n){let a="";return this.store.options.uploadFn?a=await this.store.options.uploadFn(e):this.store.options.uploadUrl?a=await gce(e,this.store.options.uploadUrl,this.store.options.uploadParams,this.store.options.uploadHeaders):a=await hce(e),new Promise((r,o)=>{const l=new Image;l.onload=()=>{Ye.htmlElements[a]=l,r({width:l.width,height:l.height,name:n?"gif":"image",image:a})},l.onerror=s=>{o(s)},l.crossOrigin="anonymous",l.src=a})}async dropPens(e,n){var c;this.randomIdObj={};for(const d of e)!d.parentId&&this.randomCombineId(d,e);if(Object.keys(this.randomIdObj).length!==0)for(const d of e)d.type?(d.anchors[0].connectTo=this.randomIdObj[d.anchors[0].connectTo],d.anchors[d.anchors.length-1].connectTo=this.randomIdObj[d.anchors[d.anchors.length-1].connectTo]):(c=d.connectedLines)==null||c.forEach(u=>{u.lineAnchor=this.randomIdObj[u.lineAnchor],u.lineId=this.randomIdObj[u.lineId]});for(const d of e)d.id||(d.id=Ue()),!d.calculative&&(d.calculative={canvas:this}),this.store.pens[d.id]=d;let a=0,r=0,o=0;for(const d of e)d.parentId||(d.width*=this.store.data.scale,d.height*=this.store.data.scale,d.x=n.x-d.width/2+o,d.y=n.y-d.height/2+r,d.tags&&d.tags.includes("meta3d")&&(d.x=this.store.data.origin.x,d.y=this.store.data.origin.y),d.dataset&&(a%2===0?o=d.width-40*this.store.data.scale:o=0,a++,a%2===0&&(r+=d.height+10*this.store.data.scale)));const l=this.store.data.width||this.store.options.width,s=this.store.data.height||this.store.options.height;if(l&&s){let d={x:this.store.data.origin.x,y:this.store.data.origin.y,width:l*this.store.data.scale,height:s*this.store.data.scale},u=!0;for(const f of e)if(!f.parentId){let v=[{x:f.x,y:f.y},{x:f.x+f.width,y:f.y},{x:f.x,y:f.y+f.height},{x:f.x+f.width,y:f.y+f.height},{x:f.x+f.width/2,y:f.y+f.height/2}];if(f.x===d.x&&f.y===d.y&&f.width===d.width&&f.height===d.height||v.some(h=>Kr(h,d))){u=!1,this.store.options.strictScope&&(f.x<d.x&&(f.x=d.x),f.y<d.y&&(f.y=d.y),f.x+f.width>d.x+d.width&&(f.x=d.x+d.width-f.width),f.y+f.height>d.y+d.height&&(f.y=d.y+d.height-f.height));break}}if(u){console.info("画笔在大屏范围外");return}}await this.addPens(e,!0),this.active(e.filter(d=>!d.parentId)),this.render(),this.externalElements.focus()}randomCombineId(e,n,a){let r=null;e.type?(e.anchors[0].connectTo||e.anchors[e.anchors.length-1].connectTo)&&(r=[e.id,e.anchors[0].id,e.anchors[e.anchors.length-1].id]):e.connectedLines&&e.connectedLines.length&&(r=[e.id]),SI(e),r&&(r.length===1?this.randomIdObj[r[0]]=e.id:(this.randomIdObj[r[0]]=e.id,this.randomIdObj[r[1]]=e.anchors[0].id,this.randomIdObj[r[2]]=e.anchors[e.anchors.length-1].id)),e.parentId=a;const o=[];if(Array.isArray(e.children))for(const l of e.children){const s=n.find(c=>c.id===l);s&&o.push(this.randomCombineId(s,n,e.id).id)}return e.children=o,e}async addPens(e,n,a){if(this.beforeAddPens&&await this.beforeAddPens(e)!=!0)return[];const r=[];for(const o of e)this.beforeAddPen&&this.beforeAddPen(o)!=!0||(a&&(o.x=o.x*this.store.data.scale+this.store.data.origin.x,o.y=o.y*this.store.data.scale+this.store.data.origin.y,o.width=o.width*this.store.data.scale,o.height=o.height*this.store.data.scale),this.makePen(o),r.push(o));return this.render(),this.store.emitter.emit("add",r),n&&this.pushHistory({type:Me.Add,pens:fe(r,!0)}),r}getInitPencilLine(e){const{data:n,options:a}=this.store,r=n.scale,o=n.lineWidth||1;return{id:e.penId,name:"line",x:e.x,y:e.y,type:mt.Line,calculative:{canvas:this,pencil:!0,active:!0,worldAnchors:[e],lineWidth:o*r},fromArrow:n.fromArrow||a.fromArrow,toArrow:n.toArrow||a.toArrow,lineWidth:o}}createDrawingLine(e){this.inactive();const{data:n,options:a}=this.store,r=n.scale,o=n.lineWidth||1;return e.penId=Ue(),{id:e.penId,name:"line",lineName:this.drawingLineName,x:e.x,y:e.y,type:mt.Line,calculative:{canvas:this,active:!0,worldAnchors:[e],lineWidth:o*r},fromArrow:n.fromArrow||a.fromArrow,toArrow:n.toArrow||a.toArrow,lineWidth:o}}addRuleLine(e){const{x:n,y:a,scale:r,origin:o}=this.store.data,l=e.x+n,s=e.y+a;let c=e.x,d=e.y,u=0,f=0,v=0,h=0;if(l<=s&&l<20)c=-n,u=this.width,v=1,e.ctrlKey||(d=Math.round((d-o.y)/(r*10))*(r*10)+o.y);else if(s<l&&s<20)d=-a,f=this.height,h=1,e.ctrlKey||(c=Math.round((c-o.x)/(r*10))*(r*10)+o.x);else return;this.addPen({isRuleLine:!0,type:mt.Line,name:"line",lineName:"line",x:c,y:d,width:u,height:f,color:this.store.options.ruleLineColor,anchors:[{x:0,y:0},{x:v,y:h}]})}clearRuleLines(){this.delete(this.ruleLines)}get ruleLines(){return this.store.data.pens.filter(e=>e.isRuleLine)}alignPenToGrid(e){var a;if(this.store.options.autoAlignGrid&&this.store.data.grid&&!e.type){const r=this.store.data.gridSize||this.store.options.gridSize,{origin:o,scale:l}=this.store.data,{x:s,y:c}=e,d={x:s,y:c},u=this.getPenRect(e),f=parseInt((u.x/r).toFixed()),v=parseInt((u.y/r).toFixed()),h=f*r,g=v*r;d.x=o.x+h*l,d.y=o.y+g*l,Object.assign(e,d),(a=e.onMove)==null||a.call(e,e),this.updatePenRect(e),this.calcActiveRect(),this.getSizeCPs()}}movedActivePens(e){let n=this.getAllFollowersByPens(this.store.active,!1);const a=fe(n,!0),r=this.store.data.gridSize||this.store.options.gridSize,{origin:o,scale:l}=this.store.data,s=this.store.options.autoAlignGrid&&this.store.data.grid;if(n.forEach(v=>{var y;const h=this.movingPens.findIndex(b=>b.id===v.id+Mn);if(h<0)return;const{x:g,y:p}=this.movingPens[h],m={x:g,y:p};if(s&&!this.movingPens[h].type){const b=this.getPenRect(this.movingPens[h]),w=parseInt((b.x/r).toFixed()),C=parseInt((b.y/r).toFixed()),x=w*r,k=C*r;m.x=o.x+x*l,m.y=o.y+k*l}Object.assign(v,m),(y=v.onMove)==null||y.call(v,v),this.updatePenRect(v),this.updateLines(v),this.store.emitter.emit("updateLines",v),this.patchFlagsLines.forEach(b=>{b.type&&this.initLineRect(b)}),this.patchFlagsLines.clear(),v.calculative.x=v.x,v.calculative.y=v.y,v.calculative.initRect&&(v.calculative.initRect.x=v.calculative.x,v.calculative.initRect.y=v.calculative.y,v.calculative.initRect.ex=v.calculative.x+v.calculative.width,v.calculative.initRect.ey=v.calculative.y+v.calculative.height),cI(v),v.parentId&&this.parent.updateRectbyChild(v.calculative.worldRect,v,this.store.pens[v.parentId])}),this.initImageCanvas(this.store.active),this.initTemplateCanvas(this.store.active),!this.dock)return;const{xDock:c,yDock:d}=this.dock;let u;c&&(u=this.store.pens[c.penId]),!u&&d&&(u=this.store.pens[d.penId]);const f=fe(this.store.active,!0);if(e&&this.store.active.length===1&&(u==null?void 0:u.type)===1&&(c!=null&&c.anchorId||d!=null&&d.anchorId)){const v=Lt(u),h=bt(u);if(c!=null&&c.anchorId){const g=this.store.pens[this.store.active[0].id+Mn].calculative.worldAnchors.find(p=>p.id===c.anchorId);g.x===v.x&&g.y===v.y?(a.push(fe(u,!0)),Vt(this.store.active[0],g,u,v),f.push(fe(u,!0))):g.x===h.x&&g.y===h.y&&(a.push(fe(u,!0)),Vt(this.store.active[0],g,u,h),f.push(fe(u,!0)))}else if(d!=null&&d.anchorId){const g=this.store.pens[this.store.active[0].id+Mn].calculative.worldAnchors.find(p=>p.id===d.anchorId);g.x===v.x&&g.y===v.y?(a.push(fe(u,!0)),Vt(this.store.active[0],g,u,v),f.push(fe(u,!0))):g.x===h.x&&g.y===h.y&&(a.push(fe(u,!0)),Vt(this.store.active[0],g,u,h),f.push(fe(u,!0)))}}s&&(this.calcActiveRect(),this.getSizeCPs()),this.pushHistory({type:Me.Update,pens:f,initPens:a}),this.store.emitter.emit("translatePens",f)}copyMovedPens(){this.copy(this.store.active.map((e,n)=>{const{x:a,y:r}=this.movingPens[n];return this.updateLines(e),{...e,x:a,y:r}})),this.pasteOffset=!1,this.paste()}initImageCanvas(e){e.some(n=>this.hasImage(n,!1))&&this.canvasImage.init(),e.some(n=>this.hasImage(n,!0))&&this.canvasImageBottom.init()}initTemplateCanvas(e){e.some(n=>n.canvasLayer===gt.CanvasTemplate)&&this.canvasTemplate.init()}hasImage(e,n){var a;return e.image&&e.name!=="gif"?n?e.canvasLayer===gt.CanvasImageBottom:e.canvasLayer===gt.CanvasImage:(a=e.children)==null?void 0:a.some(r=>{const o=this.store.pens[r];return o&&this.hasImage(o,n)})}inactive(e){this.store.active.length&&(this.initTemplateCanvas(this.store.active),this.store.active.forEach(n=>{n.calculative.active=void 0,n.calculative.activeAnchor=void 0,n.calculative.hover=!1,xl(n,!1)}),!e&&this.store.emitter.emit("inactive",this.store.active),this.store.active=[],this.activeRect=void 0,this.sizeCPs=void 0,this.store.activeAnchor=void 0,this.patchFlags=!0)}active(e,n=!0){if(this.store.active){n&&this.store.emitter.emit("inactive",this.store.active);for(const a of this.store.active)a.calculative.active=void 0,a.calculative.hover=!1,xl(a,!1)}this.store.active=[],e.forEach(a=>{a.calculative.active=!0,xl(a)}),this.store.active.push(...e),this.activeRect=void 0,this.calcActiveRect(),this.initTemplateCanvas(e),this.patchFlags=!0,n&&this.store.emitter.emit("active",this.store.active)}getSizeCPs(){this.sizeCPs=Or(this.activeRect);const e=[{x:.5,y:0},{x:1,y:.5},{x:.5,y:1},{x:0,y:.5}],{x:n,y:a,width:r,height:o,rotate:l,center:s}=this.activeRect;e.forEach(c=>{const d={x:c.x*r+n,y:c.y*o+a};Ot(d,l,s),this.sizeCPs.push(d)})}getSpecialAngle(e,n){let a=0;e.x-n.x!==0?(a=Math.atan((n.y-e.y)/(e.x-n.x))*180/Math.PI,e.x<n.x&&(a>0?a-=180:a+=180)):n.y>e.y?a=90:n.y<e.y&&(a=-90),a=Math.round(a/15)*15;let r=Math.sqrt((n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y));e.x=n.x+Math.cos(a/180*Math.PI)*r,e.y=n.y-Math.sin(a/180*Math.PI)*r}clearHover(){this.hoverType=Fe.None,this.store.hover=null,this.store.hoverAnchor=null}inAnchor(e,n,a){var r;if(this.store.hoverAnchor=void 0,this.movingAnchor=void 0,!a||a.locked>st.DisableEdit||!(n.type&&n.calculative.active)&&this.store.options.disableAnchor||n.disableAnchor)return Fe.None;if((this.mouseDown||this.drawingLine)&&n.name==="line"&&a.connectTo){const o=this.findOne(a.connectTo);if(o!=null&&o.calculative&&!(o!=null&&o.calculative.active)){n=o;const l=o.calculative.worldAnchors.find(s=>s.id===a.anchorId);l&&(a=l)}}if(a.twoWay===vn.Disable&&n.name!=="line")return Fe.None;if(n.name==="line"&&a.connectTo){let o=(r=this.findOne(a.connectTo))==null?void 0:r.anchors.find(l=>l.id===a.anchorId);if(o&&o.twoWay)return Fe.None}if(this.drawingLine){if(a.twoWay===vn.Out)return Fe.None}else if(!(this.mouseDown&&this.hoverType===Fe.LineAnchor)){if(a.twoWay===vn.In)return Fe.None}if(dl(e,a,this.pointSize,a.penId?this.store.pens[a.penId]:void 0))return a!==this.store.hoverAnchor&&(this.patchFlags=!0),this.store.hoverAnchor=a,this.store.hover=n,n.type?a.connectTo&&!n.calculative.active&&(this.store.hover=this.store.pens[a.connectTo],this.store.hover)?(this.store.hoverAnchor=this.store.hover.calculative.worldAnchors.find(o=>o.id===a.anchorId),this.store.hoverAnchor?(this.externalElements.style.cursor="crosshair",Fe.NodeAnchor):Fe.None):(this.hotkeyType===xt.AddAnchor?this.externalElements.style.cursor="vertical-text":this.externalElements.style.cursor="pointer",Fe.LineAnchor):(this.hotkeyType===xt.AddAnchor?this.externalElements.style.cursor="vertical-text":this.externalElements.style.cursor="crosshair",Fe.NodeAnchor);if(!this.mouseDown&&n.type){if(n.calculative.active&&a.prev&&dl(e,a.prev,this.pointSize))return this.store.hoverAnchor=a,this.store.hover=n,this.externalElements.style.cursor="pointer",Fe.LineAnchorPrev;if(n.calculative.active&&a.next&&dl(e,a.next,this.pointSize))return this.store.hoverAnchor=a,this.store.hover=n,this.externalElements.style.cursor="pointer",Fe.LineAnchorNext}return Fe.None}resize(e,n){e=e||this.parentElement.clientWidth,n=n||this.parentElement.clientHeight,this.width=e,this.height=n,this.canvasRect={x:0,y:0,width:e,height:n},Mt(this.canvasRect),this.canvas.style.width=e+"px",this.canvas.style.height=n+"px",this.externalElements.style.width=e+"px",this.externalElements.style.height=n+"px",this.canvasTemplate.resize(e,n),this.canvasImage.resize(e,n),this.canvasImageBottom.resize(e,n),this.magnifierCanvas.resize(e,n),e=e*this.store.dpiRatio|0,n=n*this.store.dpiRatio|0,this.canvas.width=e,this.canvas.height=n,this.offscreen.width=e,this.offscreen.height=n,this.clientRect=this.externalElements.getBoundingClientRect(),this.canvas.getContext("2d").scale(this.store.dpiRatio,this.store.dpiRatio),this.offscreen.getContext("2d").scale(this.store.dpiRatio,this.store.dpiRatio),this.offscreen.getContext("2d").textBaseline="middle";for(const a of this.store.data.pens)a.isRuleLine&&(a.width?a.height||(a.width=this.width):a.height=this.height),Sr(a);this.render()}clearCanvas(){this.activeRect=void 0,this.sizeCPs=void 0,this.canvas.getContext("2d").clearRect(0,0,this.canvas.width,this.canvas.height),this.offscreen.getContext("2d").clearRect(0,0,this.offscreen.width,this.offscreen.height),this.store.data.template||this.canvasTemplate.clear(),this.canvasImage.clear(),this.canvasImageBottom.clear()}async addPen(e,n,a,r){if(!(this.beforeAddPens&&await this.beforeAddPens([e])!=!0)&&!(this.beforeAddPen&&this.beforeAddPen(e)!=!0))return r&&(e.x=e.x*this.store.data.scale+this.store.data.origin.x,e.y=e.y*this.store.data.scale+this.store.data.origin.y,e.width=e.width*this.store.data.scale,e.height=e.height*this.store.data.scale),this.makePen(e),this.active([e]),this.render(),a&&this.store.emitter.emit("add",[e]),n&&this.pushHistory({type:Me.Add,pens:[e]}),e}pushHistory(e){var r;if(this.store.data.locked)return;const{origin:n,scale:a}=this.store.data;e.origin=fe(n),e.scale=a,e.type!==Me.Update&&e.pens&&e.pens.forEach(o=>{o.calculative&&(o.calculative.layer=this.store.data.pens.findIndex(l=>l.id===o.id))}),this.store.historyIndex<this.store.histories.length-1&&this.store.histories.splice(this.store.historyIndex+1,this.store.histories.length-this.store.historyIndex-1),(r=e.pens)==null||r.forEach(o=>{let l;if(e.initPens)for(const s of e.initPens)s.id===o.id&&(l=s);if(l)for(const s in o)l[s]==null&&(l[s]=void 0)}),this.store.histories.push(e),this.store.historyIndex=this.store.histories.length-1,this.store.emitter.emit("update",{previous:e.initPens,current:e.pens})}undo(){if(this.store.data.locked||this.store.historyIndex==null||this.store.historyIndex<0)return;const e=this.store.histories[this.store.historyIndex--];this.doEditAction(e,!0);let n=e.step;for(;n>1;){const a=this.store.histories[this.store.historyIndex--];this.doEditAction(a,!0),n--}(e.type==Me.Add||e.type==Me.Delete||e.type==Me.Update)&&this.activeHistory()}redo(){if(this.store.data.locked||this.store.historyIndex==null||this.store.historyIndex>this.store.histories.length-2)return;const e=this.store.histories[++this.store.historyIndex];this.doEditAction(e,!1);let n=e.step;for(;n>1;){const a=this.store.histories[++this.store.historyIndex];this.doEditAction(a,!1),n--}(e.type==Me.Add||e.type==Me.Delete||e.type==Me.Update)&&this.activeHistory()}activeHistory(){let e=this.store.histories[this.store.historyIndex+1];const n=[];if(e&&e.type===Me.Update){e.pens.forEach(r=>{n.push(this.store.pens[r.id])}),this.active(n);return}let a=this.store.histories[this.store.historyIndex];a&&(a.type===Me.Add||a.type===Me.Delete)&&(a.pens.forEach(r=>{n.push(this.store.pens[r.id])}),this.active(n))}doEditAction(e,n){switch(this.inactive(),this.store.hoverAnchor=void 0,this.store.hover=void 0,e.type){case Me.Add:e.pens.forEach(o=>{var c;const l=fe(o,!0),s=this.store.data.pens.findIndex(d=>d.id===l.id);s>-1&&((c=l.onDestroy)==null||c.call(l,this.store.pens[l.id]),this.store.data.pens.splice(s,1),this.store.pens[l.id]=void 0,l.calculative||(l.calculative={}),l.calculative.canvas=this,this.store.animates.delete(l),this.store.animateMap.delete(l))}),e.type=Me.Delete;break;case Me.Update:const a=n?e.initPens:e.pens,r=n?e.pens:e.initPens;a.forEach(o=>{const l=fe(o,!0),s=this.store.data.pens.findIndex(c=>c.id===l.id);if(s>-1){if(l.calculative=this.store.data.pens[s].calculative,this.store.data.pens[s].type&&this.store.data.pens[s].lastConnected){for(let d in this.store.data.pens[s].lastConnected)if(this.store.pens[d]){let u=fe(this.store.data.pens[s].lastConnected[d]);this.store.pens[d].connectedLines=u,l.anchors.forEach(f=>{u.forEach(v=>{f.id===v.lineAnchor&&(f.connectTo=d)})})}}this.store.data.pens[s]=l,this.store.pens[l.id]=l;for(const d in l)(typeof l[d]!="object"||d==="lineDash")&&(l.calculative[d]=l[d]);l.calculative.image=void 0;const c=this.getPenRect(l,e.origin,e.scale);if(this.setPenRect(l,c,!1),this.updateLines(l,!0),l.calculative.canvas.parent.isCombine(l)){let d=r.find(u=>u.id===l.id);z_.forEach(u=>{l[u]!==d[u]&&this.parent.setValue({id:l.id,[u]:l[u]},{render:!0,doEvent:!1})})}}});break;case Me.Delete:e.pens.reverse().forEach(o=>{var s,c;const l=fe(o,!0);if(l.calculative||(l.calculative={}),this.store.data.pens.splice(((s=l.calculative)==null?void 0:s.layer)!==-1?(c=l.calculative)==null?void 0:c.layer:this.store.data.pens.length,0,l),this.store.pens[l.id]=l,l.type&&l.lastConnected)for(let d in l.lastConnected)this.store.pens[d]&&(this.store.pens[d].connectedLines=l.lastConnected[d]);l.calculative.canvas=this}),e.pens.reverse().forEach(o=>{const l=this.store.pens[o.id],s=this.getPenRect(l,e.origin,e.scale);this.setPenRect(l,s,!1),l.calculative.image=void 0,l.calculative.backgroundImage=void 0,l.calculative.strokeImage=void 0,this.loadImage(l)}),e.type=Me.Add;break;case Me.Replace:{const o=n?e.initPens:e.pens;(n?e.pens:e.initPens).forEach(s=>{var u;const c=fe(s,!0);if(this.store.data.pens.findIndex(f=>f.id===c.id)>-1){(u=c.onDestroy)==null||u.call(c,this.store.data.pens.find(v=>v.id===c.id));const f=this.store.data.pens.findIndex(v=>v.id===c.id);this.store.data.pens.splice(f,1),this.store.pens[c.id]=void 0,c.calculative||(c.calculative={}),c.calculative.canvas=this,this.store.animates.delete(c),this.store.animateMap.delete(c)}}),o.reverse().forEach(s=>{var d,u;const c=fe(s,!0);if(c.calculative||(c.calculative={}),this.store.data.pens.splice(((d=c.calculative)==null?void 0:d.layer)!==-1?(u=c.calculative)==null?void 0:u.layer:this.store.data.pens.length,0,c),this.store.pens[c.id]=c,c.type&&c.lastConnected)for(let f in c.lastConnected)this.store.pens[f]&&(this.store.pens[f].connectedLines=c.lastConnected[f]);c.calculative.canvas=this}),o.reverse().forEach(s=>{const c=this.store.data.pens.find(u=>u.id===s.id),d=this.getPenRect(c,e.origin,e.scale);this.setPenRect(c,d,!1),c.calculative.image=void 0,c.calculative.backgroundImage=void 0,c.calculative.strokeImage=void 0,this.loadImage(c)}),e.type=Me.Replace;break}}if(e.type===Me.Update){let a=[...e.pens,...e.initPens];this.initImageCanvas(a),this.initTemplateCanvas(a)}else this.initImageCanvas(e.pens),this.initTemplateCanvas(e.pens);this.parent.onSizeUpdate(),this.render(),this.store.emitter.emit(n?"undo":"redo",e)}makePen(e){var r;if(e.id||(e.id=Ue()),Math.abs(this.store.lastScale-this.store.data.scale)<1e-4&&this.store.sameTemplate&&this.store.templatePens[e.id]&&e.canvasLayer===gt.CanvasTemplate){e=this.store.templatePens[e.id],this.store.data.pens.push(e),this.updatePenRect(e);return}if(this.store.data.pens.push(e),this.store.pens[e.id]=e,e.path){!e.pathId&&(e.pathId=Ue());const o=this.store.data.paths;!o[e.pathId]&&(o[e.pathId]=e.path),e.path=void 0}e.lineWidth==null&&(e.lineWidth=1);const{fontSize:n,lineHeight:a}=this.store.options;e.fontSize?e.fontSize<0&&(e.fontSize=0):e.fontSize=n>=0?n:12,e.lineHeight||(e.lineHeight=a),e.image&&e.name!=="gif"&&e.canvasLayer===void 0&&(e.isBottom?e.canvasLayer=gt.CanvasImageBottom:e.canvasLayer=gt.CanvasImage,delete e.isBottom),e.template&&(e.canvasLayer=gt.CanvasTemplate),e.calculative={canvas:this,singleton:(r=e.calculative)==null?void 0:r.singleton},(e.video||e.audio)&&(e.calculative.onended=o=>{this.nextAnimate(o)});for(const o in e)(typeof e[o]!="object"||o==="lineDash")&&(e.calculative[o]=e[o]);if(e.calculative.image=void 0,e.calculative.backgroundImage=void 0,e.calculative.strokeImage=void 0,!e.anchors&&Ye.anchors[e.name]&&(e.anchors||(e.anchors=[]),Ye.anchors[e.name](e)),!e.anchors){const o=fe(this.store.options.defaultAnchors);o.forEach((l,s)=>{l.id=`${s}`,l.penId=e.id}),e.anchors=o}this.updatePenRect(e),!e.anchors&&e.calculative.worldAnchors&&(e.anchors=e.calculative.worldAnchors.map(o=>Hs(o,e.calculative.worldRect))),!e.rotate&&(e.rotate=0),this.loadImage(e),this.parent.penNetwork(e)}drawline(e){var n;this.drawingLine&&((n=this[this.drawingLineName])==null||n.call(this,this.store,this.drawingLine,e),this.store.path2dMap.set(this.drawingLine,Ye.path2dDraws.line(this.drawingLine)),this.patchFlags=!0)}initLineRect(e){var o;if(!e)return;if(!((o=e.calculative.worldAnchors)!=null&&o.length)){this._del([e]);return}if(!isFinite(e.x)||!isFinite(e.x)||e.x==null||e.y==null)return;const n=Ag(e);e.parentId||Object.assign(e,n);const{fontSize:a,lineHeight:r}=this.store.options;e.fontSize||(e.fontSize=a>=0?a:12,e.calculative.fontSize=e.fontSize*this.store.data.scale),e.lineHeight||(e.lineHeight=r,e.calculative.lineHeight=e.lineHeight),It(n),e.calculative.worldRect=n,wg(e,n),Ua(e),Sr(e),e.calculative&&(e.calculative.gradientAnimatePath=void 0),this.store.path2dMap.set(e,Ye.path2dDraws[e.name](e)),e.calculative.worldAnchors&&(e.anchors=e.calculative.worldAnchors.map(l=>Hs(l,e.calculative.worldRect)))}drawingPencil(){KI(this.store),this.pencil=!0,this.externalElements.style.cursor="crosshair"}stopPencil(){this.pencil=!1,this.pencilLine=void 0,this.externalElements.style.cursor="default"}async finishDrawline(e){if(!this.drawingLine)return;const n=Lt(this.drawingLine);let a=bt(this.drawingLine);if(a.isTemp&&(this.drawingLine.calculative.worldAnchors.pop(),a=bt(this.drawingLine)),!e&&(!a.connectTo&&this.drawingLine.calculative.worldAnchors.pop(),Lt(this.drawingLine)===this.drawingLine.calculative.activeAnchor)){this.drawingLine=void 0,this.render();return}if(!n.connectTo||!a.connectTo){if(this.store.options.disableEmptyLine){n.connectTo&&(this.store.pens[n.connectTo].connectedLines=this.store.pens[n.connectTo].connectedLines.filter(l=>l.lineId!==this.drawingLine.id)),this.drawingLine=void 0,this.render();return}}else if(this.store.options.disableRepeatLine&&this.store.data.pens.find(s=>{if(s.type){const c=Lt(s),d=bt(s);return H_(c,n)&&H_(d,a)}})){this.drawingLine=void 0,this.render();return}const r=Ag(this.drawingLine);Object.assign(this.drawingLine,r),this.drawingLine.calculative.worldRect=r,this.drawingLine.calculative.activeAnchor=bt(this.drawingLine),this.store.activeAnchor=this.drawingLine.calculative.activeAnchor,(!this.beforeAddPens||await this.beforeAddPens([this.drawingLine]))&&(!this.beforeAddPen||this.beforeAddPen(this.drawingLine))&&(this.initLineRect(this.drawingLine),this.store.data.pens.push(this.drawingLine),this.store.pens[this.drawingLine.id]=this.drawingLine,this.store.emitter.emit("add",[this.drawingLine]),this.active([this.drawingLine]),this.pushHistory({type:Me.Add,pens:fe([this.drawingLine],!0)})),this.store.path2dMap.set(this.drawingLine,Ye.path2dDraws[this.drawingLine.name](this.drawingLine)),this.drawingLine=void 0,this.drawingLineName=void 0,this.render()}async finishPencil(){if(this.pencilLine){const e=jg(this.pencilLine.calculative.worldAnchors,10,0,this.pencilLine.calculative.worldAnchors.length-1);let n=Lt(this.pencilLine);e.unshift({id:n.id,penId:n.penId,x:n.x,y:n.y}),n=bt(this.pencilLine),e.push({id:n.id,penId:n.penId,x:n.x,y:n.y}),this.pencilLine.calculative.worldAnchors=Gue(e),this.pencilLine.calculative.worldAnchors.length>1&&(this.pencilLine.calculative.pencil=!1,this.store.path2dMap.set(this.pencilLine,Ye.path2dDraws[this.pencilLine.name](this.pencilLine)),(!this.beforeAddPens||await this.beforeAddPens([this.pencilLine]))&&(!this.beforeAddPen||this.beforeAddPen(this.pencilLine))&&(this.initLineRect(this.pencilLine),this.store.data.pens.push(this.pencilLine),this.store.pens[this.pencilLine.id]=this.pencilLine,this.store.emitter.emit("add",[this.pencilLine]),this.active([this.pencilLine]),this.pushHistory({type:Me.Add,pens:fe([this.pencilLine],!0)}))),this.pencilLine=void 0,this.render()}}firefoxLoadSvg(e){const n=new Image,a=new XMLHttpRequest;a.open("GET",e.image,!0),a.onload=()=>{const l=new DOMParser().parseFromString(a.responseText,"text/xml").getElementsByTagName("svg")[0],{width:s,height:c}=e.calculative.worldRect;l.setAttribute("width",`${s}px`),l.setAttribute("height",`${c}px`);const u="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(new XMLSerializer().serializeToString(l))));n.src=u,n.onload=()=>{e.calculative.img=n,e.calculative.imgNaturalWidth=n.naturalWidth||e.iconWidth,e.calculative.imgNaturalHeight=n.naturalHeight||e.iconHeight,Ye.htmlElements[e.image]=n,this.imageLoaded(),e.canvasLayer===gt.CanvasTemplate&&this.templateImageLoaded()}},a.send()}loadImage(e){if(e.image!==e.calculative.image||!e.calculative.img){if(e.calculative.img=void 0,e.image)if(Ye.htmlElements[e.image]){const n=Ye.htmlElements[e.image];e.calculative.img=n,e.calculative.imgNaturalWidth=n.naturalWidth||e.iconWidth,e.calculative.imgNaturalHeight=n.naturalHeight||e.iconHeight,this.imageLoaded(),e.canvasLayer===gt.CanvasTemplate&&this.templateImageLoaded()}else if(navigator.userAgent.includes("Firefox")&&e.image.endsWith(".svg"))this.firefoxLoadSvg(e);else{const n=new Image;n.crossOrigin=e.crossOrigin==="undefined"?void 0:e.crossOrigin||"anonymous",n.src=e.image,this.store.options.cdn&&!(e.image.startsWith("http")||e.image.startsWith("//")||e.image.startsWith("data:image"))&&(n.src=this.store.options.cdn+e.image),n.onload=()=>{e.calculative.img=n,e.calculative.imgNaturalWidth=n.naturalWidth||e.iconWidth,e.calculative.imgNaturalHeight=n.naturalHeight||e.iconHeight,Ye.htmlElements[e.image]=n,this.imageLoaded(),e.canvasLayer===gt.CanvasTemplate&&this.templateImageLoaded()}}e.calculative.image=e.image}if(e.backgroundImage!==e.calculative.backgroundImage){if(e.calculative.backgroundImg=void 0,e.backgroundImage)if(Ye.htmlElements[e.backgroundImage]){const n=Ye.htmlElements[e.backgroundImage];e.calculative.backgroundImg=n}else{const n=new Image;n.crossOrigin="anonymous",n.src=e.backgroundImage,this.store.options.cdn&&!(e.backgroundImage.startsWith("http")||e.backgroundImage.startsWith("//")||e.backgroundImage.startsWith("data:image"))&&(n.src=this.store.options.cdn+e.backgroundImage),n.onload=()=>{e.calculative.backgroundImg=n,Ye.htmlElements[e.backgroundImage]=n,this.imageLoaded(),e.canvasLayer===gt.CanvasTemplate&&this.templateImageLoaded()}}e.calculative.backgroundImage=e.backgroundImage}if(e.strokeImage!==e.calculative.strokeImage){if(e.calculative.strokeImg=void 0,e.strokeImage)if(Ye.htmlElements[e.strokeImage]){const n=Ye.htmlElements[e.strokeImage];e.calculative.strokeImg=n}else{const n=new Image;n.crossOrigin="anonymous",n.src=e.strokeImage,this.store.options.cdn&&!(e.strokeImage.startsWith("http")||e.strokeImage.startsWith("//")||e.strokeImage.startsWith("data:image"))&&(n.src=this.store.options.cdn+e.strokeImage),n.onload=()=>{e.calculative.strokeImg=n,Ye.htmlElements[e.strokeImage]=n,this.imageLoaded(),e.canvasLayer===gt.CanvasTemplate&&e.name!=="gif"&&this.templateImageLoaded()}}e.calculative.strokeImage=e.strokeImage}}imageLoaded(){this.imageTimer&&clearTimeout(this.imageTimer),this.imageTimer=setTimeout(()=>{this.canvasImage.init(),this.canvasImageBottom.init(),this.render()},100)}templateImageLoaded(){this.templateImageTimer&&clearTimeout(this.templateImageTimer),this.templateImageTimer=setTimeout(()=>{this.canvasTemplate.init(),this.render()},100)}setCalculativeByScale(e){const n=this.store.data.scale;e.calculative.lineWidth=e.lineWidth*n,e.calculative.fontSize=e.fontSize*n,e.fontSize<1&&e.fontSize>0&&(e.calculative.fontSize=e.fontSize*e.calculative.worldRect.height),e.calculative.iconSize=e.iconSize*n,e.calculative.iconWidth=e.iconWidth*n,e.calculative.iconHeight=e.iconHeight*n,e.calculative.iconLeft=e.iconLeft<1&&e.iconLeft>-1?e.iconLeft:e.iconLeft*n,e.calculative.iconTop=e.iconTop<1&&e.iconTop>-1?e.iconTop:e.iconTop*n,e.calculative.textWidth=e.textWidth<1&&e.textWidth>-1?e.textWidth:e.textWidth*n,e.calculative.textHeight=e.textHeight<1&&e.textHeight>-1?e.textHeight:e.textHeight*n,e.calculative.textLeft=e.textLeft<1&&e.textLeft>-1?e.textLeft*e.calculative.worldRect.width:e.textLeft*n,e.calculative.textTop=e.textTop<1&&e.textTop>-1?e.textTop*e.calculative.worldRect.height:e.textTop*n,e.type===mt.Line&&e.borderWidth&&(e.calculative.borderWidth=e.borderWidth*n)}updatePenRect(e,{worldRectIsReady:n,playingAnimate:a}={}){n?Rd(e):sI(e),a||this.setCalculativeByScale(e),ml(e),uI(this.store.pens,e),Ua(e),Sr(e),Ye.path2dDraws[e.name]&&this.store.path2dMap.set(e,Ye.path2dDraws[e.name](e)),e.calculative.patchFlags=!0,this.patchFlags=!0,e.children&&e.children.forEach(r=>{const o=this.store.pens[r];o&&this.updatePenRect(o,{worldRectIsReady:!1})}),e.type&&this.initLineRect(e),e.calculative.gradientTimer&&clearTimeout(e.calculative.gradientTimer),e.calculative.gradientTimer=setTimeout(()=>{e.calculative.lineGradient&&(e.calculative.lineGradient=null),e.calculative.gradient&&(e.calculative.gradient=null),e.calculative.radialGradient&&(e.calculative.radialGradient=null),this.patchFlags=!0,e.calculative.gradientTimer=void 0},50)}translate(e=0,n=0){if(this.store.data.x+=e*this.store.data.scale,this.store.data.y+=n*this.store.data.scale,this.store.data.x=Math.round(this.store.data.x),this.store.data.y=Math.round(this.store.data.y),this.store.options.padding){let a=wr(this.store.options.padding);const r=this.store.data.width||this.store.options.width,o=this.store.data.height||this.store.options.height;this.width<(r+a[1]+a[3])*this.store.data.scale&&(this.store.data.x+this.store.data.origin.x>a[3]*this.store.data.scale&&(this.store.data.x=a[3]*this.store.data.scale-this.store.data.origin.x),this.store.data.x+this.store.data.origin.x+r*this.store.data.scale<this.width-a[1]*this.store.data.scale&&(this.store.data.x=this.width-a[1]*this.store.data.scale-(this.store.data.origin.x+r*this.store.data.scale))),this.height<(o+a[0]+a[2])*this.store.data.scale&&(this.store.data.y+this.store.data.origin.y>a[0]*this.store.data.scale&&(this.store.data.y=a[0]*this.store.data.scale-this.store.data.origin.y),this.store.data.y+this.store.data.origin.y+o*this.store.data.scale<this.height-a[2]*this.store.data.scale&&(this.store.data.y=this.height-a[2]*this.store.data.scale-(this.store.data.origin.y+o*this.store.data.scale)))}this.canvasTemplate.init(),this.canvasImage.init(),this.canvasImageBottom.init(),this.render(),this.store.emitter.emit("translate",{x:this.store.data.x,y:this.store.data.y}),this.tooltip.translate(e,n),this.scroll&&this.scroll.isShow&&this.scroll.translate(e,n),this.onMovePens()}onMovePens(){var n;const e=this.parent.map;e&&e.isShow&&e.setView();for(const a of this.store.data.pens)Sr(a),(n=a.onMove)==null||n.call(a,a),a.isRuleLine&&(a.width?a.height||(a.x=-this.store.data.x):a.y=-this.store.data.y,this.updatePenRect(a))}scale(e,n={x:0,y:0}){var s;const a=this.store.data.minScale||this.store.options.minScale,r=this.store.data.maxScale||this.store.options.maxScale;if(!(e>=a&&e<=r))return;this.calibrateMouse(n);const o=e/this.store.data.scale;this.store.data.scale=e,this.store.data.center=n,(s=this.store.clipboard)!=null&&s.pos&&Pd(this.store.clipboard.pos,o,n),Pd(this.store.data.origin,o,n),this.store.data.pens.forEach(c=>{if(!c.parentId){if(yl(c,o,n),c.onScale&&c.onScale(c),c.isRuleLine){const d=1/o,u=c.calculative.worldRect.center;c.width&&c.height||yl(c,d,u)}this.updatePenRect(c,{worldRectIsReady:!0}),this.execPenResize(c)}}),this.onMovePens(),this.calcActiveRect(),this.canvasTemplate.init(),this.canvasImage.init(),this.canvasImageBottom.init();const l=this.parent.map;l&&l.isShow&&l.setView(),this.render(),this.store.emitter.emit("scale",this.store.data.scale)}templateScale(e,n={x:0,y:0}){const{minScale:a,maxScale:r}=this.store.options;if(!(e>=a&&e<=r))return;const o=e/this.store.data.scale;this.store.data.scale=e,this.store.data.center={x:0,y:0},this.store.data.origin={x:0,y:0},this.store.data.pens.forEach(l=>{if(!l.parentId){if(yl(l,o,n),l.onScale&&l.onScale(l),l.isRuleLine){const s=o>1?1:1/o/o,c=l.calculative.worldRect.center;l.width&&l.height||yl(l,s,c)}this.execPenResize(l)}}),this.calcActiveRect()}rotatePens(e){this.initPens||(this.initPens=fe(this.getAllByPens(this.store.active))),this.activeRect.rotate=ua(e,this.activeRect.center),this.activeRect.rotate%90<10&&(this.activeRect.rotate-=this.activeRect.rotate%90),this.activeRect.rotate%90>80&&(this.activeRect.rotate+=90-this.activeRect.rotate%90),this.store.active.length===1&&(this.lastRotate=this.store.active[0].rotate||0);const n=this.activeRect.rotate-this.lastRotate;for(const a of this.store.active){if(a.parentId)return;this.rotatePen(a,n,this.activeRect),a.onRotate&&a.onRotate(a),this.updateLines(a)}this.lastRotate=this.activeRect.rotate,this.getSizeCPs(),this.initImageCanvas(this.store.active),this.initTemplateCanvas(this.store.active),this.render(),this.store.emitter.emit("rotatePens",this.store.active),this.timer&&clearTimeout(this.timer),this.timer=setTimeout(()=>{this.timer=void 0,this.pushHistory({type:Me.Update,pens:fe(this.getAllByPens(this.store.active)),initPens:this.initPens}),this.initPens=void 0},200)}resizePens(e){if(this.initPens||(this.initPens=fe(this.store.active,!0)),!this.initActiveRect){this.initActiveRect=fe(this.activeRect);return}const n={x:this.mouseDown.x,y:this.mouseDown.y},a={x:e.x,y:e.y};let r=a.x-n.x,o=a.y-n.y;const l=fe(this.initActiveRect);if(OI(l,r,o,this.resizeIndex),It(l),!this.store.options.disableDock){this.clearDock();const h=this.customResizeDock||Zce;this.dock=h(this.store,l,this.store.active,this.resizeIndex);const{xDock:g,yDock:p}=this.dock;if(g){r+=g.step;const m=this.store.pens[g.penId];m.calculative.isDock=!0}if(p){o+=p.step;const m=this.store.pens[p.penId];m.calculative.isDock=!0}}const s=this.activeRect.width,c=this.activeRect.height;let d=r-this.lastOffsetX,u=o-this.lastOffsetY;if(this.lastOffsetX=r,this.lastOffsetY=o,(e.ctrlKey||this.initPens.length===1&&this.initPens[0].ratio)&&(u=([1,3].includes(this.resizeIndex)?-1:1)*(d*c)/s),this.activeRect.ratio=this.initPens[0].ratio,OI(this.activeRect,d,u,this.resizeIndex),this.store.options.strictScope){const h=this.store.data.width||this.store.options.width,g=this.store.data.height||this.store.options.height;if(h&&g){let p={x:this.store.data.origin.x,y:this.store.data.origin.y,width:h*this.store.data.scale,height:g*this.store.data.scale};this.activeRect.x<p.x&&(this.activeRect.width=this.activeRect.width-(p.x-this.activeRect.x),this.activeRect.x=p.x),this.activeRect.y<p.y&&(this.activeRect.height=this.activeRect.height-(p.y-this.activeRect.y),this.activeRect.y=p.y),this.activeRect.x+this.activeRect.width>p.x+p.width&&(this.activeRect.width=this.activeRect.width-(this.activeRect.x+this.activeRect.width-(p.x+p.width)),this.activeRect.x=p.x+p.width-this.activeRect.width,this.activeRect.ex=this.activeRect.x+this.activeRect.width),this.activeRect.y+this.activeRect.height>p.y+p.height&&(this.activeRect.height=this.activeRect.height-(this.activeRect.y+this.activeRect.height-(p.y+p.height)),this.activeRect.y=p.y+p.height-this.activeRect.height,this.activeRect.ey=this.activeRect.y+this.activeRect.height)}}It(this.activeRect);const f=this.activeRect.width/s,v=this.activeRect.height/c;this.store.active.forEach((h,g)=>{h.calculative.worldRect.x=this.activeInitPos[g].x*this.activeRect.width+this.activeRect.x,h.calculative.worldRect.y=this.activeInitPos[g].y*this.activeRect.height+this.activeRect.y,h.calculative.worldRect.width*=f,h.calculative.iconWidth&&(h.calculative.iconWidth*=f),h.calculative.worldRect.height*=v,h.calculative.iconHeight&&(h.calculative.iconHeight*=v),Mt(h.calculative.worldRect),It(h.calculative.worldRect),this.updatePenRect(h,{worldRectIsReady:!0}),this.execPenResize(h),this.updateLines(h)}),this.getSizeCPs(),this.initImageCanvas(this.store.active),this.initTemplateCanvas(this.store.active),this.render(),this.store.emitter.emit("resizePens",this.store.active),this.timer&&clearTimeout(this.timer),this.timer=setTimeout(()=>{this.timer=void 0,this.pushHistory({type:Me.Update,pens:fe(this.store.active,!0),initPens:this.initPens}),this.initPens=void 0},200)}movePens(e){var s,c;if(!this.activeRect||this.store.data.locked)return;if(!this.initActiveRect){this.initActiveRect=fe(this.activeRect);return}if(!this.store.options.moveConnectedLine&&!this.canMoveLine&&this.store.active.length===1&&((s=this.store.active[0].anchors[0])!=null&&s.connectTo||(c=this.store.active[0].anchors[this.store.active[0].anchors.length-1])!=null&&c.connectTo)||(this.movingPens||(this.initMovingPens(),this.store.active.forEach(d=>{Bs(d,!1)}),this.store.hover=void 0),!this.mouseDown))return;let n=e.x-this.mouseDown.x,a=e.y-this.mouseDown.y;e.shiftKey&&!e.ctrlKey&&(a=0),e.ctrlKey&&(n=0);const r=fe(this.initActiveRect);zi(r,n,a);let o=!1;if(this.store.options.strictScope){const d=this.store.data.width||this.store.options.width,u=this.store.data.height||this.store.options.height;if(d&&u){let f={x:this.store.data.origin.x,y:this.store.data.origin.y,width:d*this.store.data.scale,height:u*this.store.data.scale};r.x<f.x&&(r.x=f.x,o=!0),r.y<f.y&&(r.y=f.y,o=!0),r.x+r.width>f.x+f.width&&(r.x=f.x+f.width-r.width,o=!0),r.y+r.height>f.y+f.height&&(r.y=f.y+f.height-r.height,o=!0)}}const l={x:r.x-this.activeRect.x,y:r.y-this.activeRect.y};if(!this.store.options.disableDock&&!o){this.clearDock();const d=this.customMoveDock||Jce;this.dock=d(this.store,r,this.movingPens,l);const{xDock:u,yDock:f}=this.dock;let v;u&&(l.x+=u.step,v=this.store.pens[u.penId],v.calculative.isDock=!0),f&&(l.y+=f.step,v=this.store.pens[f.penId],v.calculative.isDock=!0)}this.translatePens(this.movingPens,l.x,l.y,!0)}changeIdsByMoving(e,n){e.id+=Mn,e.parentId&&n.find(a=>a.id===e.parentId)&&(e.parentId+=Mn),e.children&&(e.children=e.children.map(a=>a+Mn)),e.connectedLines&&(e.connectedLines=e.connectedLines.map(a=>(n.find(r=>r.id===a.lineId)&&(a.lineId+=Mn),a))),e.type&&e.calculative.worldAnchors&&(e.calculative.worldAnchors=e.calculative.worldAnchors.map(a=>(a.connectTo&&n.find(r=>r.id===a.connectTo)&&(a.connectTo+=Mn),a)))}initMovingPens(){var a,r;if(!this.store.options.moveConnectedLine&&!this.canMoveLine)for(let o=0;o<this.store.active.length;o++){const l=this.store.active[o];((a=l.anchors[0])!=null&&a.connectTo||(r=l.anchors[l.anchors.length-1])!=null&&r.connectTo)&&(this.store.active.splice(o,1),l.calculative.active=void 0,--o)}this.movingPens=fe(this.store.active,!0),this.movingPens=this.getAllFollowersByPens(this.movingPens);const e=this.getAllByPens(this.movingPens),n=fe(e,!0);e.forEach(o=>{this.changeIdsByMoving(o,n),this.store.pens[o.id]=o,o.calculative.canvas=this;const l={globalAlpha:.5};o.lineWidth===0&&(l.lineWidth=1),(o.name.endsWith("Dom")||ece.includes(o.name)||this.store.options.domShapes.includes(o.name)||o.image)&&(l.name="rectangle",l.onDestroy=void 0),this.updateValue(o,l),o.calculative.image=void 0})}moveLineAnchor(e,n){var s,c,d,u,f;if(!this.activeRect||this.store.data.locked)return;if(this.initPens||(this.initPens=fe(this.store.active,!0)),(s=this.store.activeAnchor)!=null&&s.connectTo){const v=this.store.pens[this.store.activeAnchor.connectTo];Cl(v,Li(v,this.store.activeAnchor.anchorId),this.store.pens[this.store.activeAnchor.penId],this.store.activeAnchor)}let a=(c=this.store.activeAnchor)==null?void 0:c.id,r=(u=(d=this.store.pens[this.store.activeAnchor.penId])==null?void 0:d.connectedLines)==null?void 0:u.filter(v=>v.anchor===a);r&&r.length>0&&r.forEach(v=>{const h=this.store.pens[v.lineId];Cl(this.store.pens[this.store.activeAnchor.penId],this.store.activeAnchor,h,Li(h,v.lineAnchor))});const o=this.store.active[0];Lt(o);const l=bt(o);if(o.lineName==="polyline"&&!n.shiftKey)que(o,this.store.activeAnchor,e);else{let v=0,h=0;if(o.lineName==="line"){let g=o.calculative.worldAnchors.findIndex(m=>m.id===this.store.activeAnchor.id);g===0&&(g=2);let p=o.calculative.worldAnchors[g-1];if(n.ctrlKey&&n.shiftKey){let m=fe(e);this.getSpecialAngle(m,p),v=m.x-this.store.activeAnchor.x,h=m.y-this.store.activeAnchor.y}else if(!n.ctrlKey&&n.shiftKey){let m={x:e.x,y:p.y};v=m.x-this.store.activeAnchor.x,h=m.y-this.store.activeAnchor.y}else if(n.ctrlKey&&!n.shiftKey){let m={x:p.x,y:e.y};v=m.x-this.store.activeAnchor.x,h=m.y-this.store.activeAnchor.y}else v=e.x-this.store.activeAnchor.x,h=e.y-this.store.activeAnchor.y}else!n.ctrlKey&&n.shiftKey?(v=e.x-this.store.activeAnchor.x,h=0):n.ctrlKey&&!n.shiftKey?(v=0,h=e.y-this.store.activeAnchor.y):(v=e.x-this.store.activeAnchor.x,h=e.y-this.store.activeAnchor.y);Ms(this.store.activeAnchor,v,h),this.store.hover&&this.store.hoverAnchor&&this.store.hoverAnchor.penId!==this.store.activeAnchor.penId&&(this.store.hoverAnchor.type===Ri.Line?(v=e.x-this.store.activeAnchor.x,h=e.y-this.store.activeAnchor.y,Id(this.store.activeAnchor,this.store.hoverAnchor,this.store)):(v=this.store.hoverAnchor.x-this.store.activeAnchor.x,h=this.store.hoverAnchor.y-this.store.activeAnchor.y),Ms(this.store.activeAnchor,v,h),l.prev=void 0,o.lineName!=="polyline"&&((f=this[o.lineName])==null||f.call(this,this.store,o)))}this.patchFlagsLines.add(o),this.store.path2dMap.set(o,Ye.path2dDraws[o.name](o)),this.render(),this.store.active[0].calculative&&(this.store.active[0].calculative.gradientAnimatePath=void 0),this.store.emitter.emit("moveLineAnchor",{pen:this.store.active[0],anchor:this.store.activeAnchor}),this.timer&&clearTimeout(this.timer),this.timer=setTimeout(()=>{this.timer=void 0,this.pushHistory({type:Me.Update,pens:fe(this.store.active,!0),initPens:this.initPens}),this.initPens=void 0},500)}moveLineAnchorPrev(e){if(!this.activeRect||this.store.data.locked||!this.store.activeAnchor)return;if(this.initPens||(this.initPens=fe(this.store.active,!0)),this.store.activeAnchor.prev.x=e.x,this.store.activeAnchor.prev.y=e.y,this.store.activeAnchor.next){if(!this.store.activeAnchor.prevNextType)this.store.activeAnchor.next.x=e.x,this.store.activeAnchor.next.y=e.y,Ot(this.store.activeAnchor.next,180,this.store.activeAnchor);else if(this.store.activeAnchor.prevNextType===ul.Bilateral&&this.prevAnchor){const a=ua(e,this.store.activeAnchor),r=ua(this.prevAnchor,this.store.activeAnchor);this.store.activeAnchor.next.x=this.nextAnchor.x,this.store.activeAnchor.next.y=this.nextAnchor.y,Ot(this.store.activeAnchor.next,a-r,this.store.activeAnchor)}}const n=this.store.active[0];this.patchFlagsLines.add(n),this.store.path2dMap.set(n,Ye.path2dDraws[n.name](n)),this.render(),this.timer&&clearTimeout(this.timer),this.timer=setTimeout(()=>{this.timer=void 0,this.pushHistory({type:Me.Update,pens:fe(this.store.active,!0),initPens:this.initPens}),this.initPens=void 0},200)}moveLineAnchorNext(e){if(!this.activeRect||this.store.data.locked||!this.store.activeAnchor)return;if(this.initPens||(this.initPens=fe(this.store.active,!0)),this.store.activeAnchor.next.x=e.x,this.store.activeAnchor.next.y=e.y,this.store.activeAnchor.prev){if(!this.store.activeAnchor.prevNextType)this.store.activeAnchor.prev.x=e.x,this.store.activeAnchor.prev.y=e.y,Ot(this.store.activeAnchor.prev,180,this.store.activeAnchor);else if(this.store.activeAnchor.prevNextType===ul.Bilateral&&this.nextAnchor){const a=ua(e,this.store.activeAnchor),r=ua(this.nextAnchor,this.store.activeAnchor);this.store.activeAnchor.prev.x=this.prevAnchor.x,this.store.activeAnchor.prev.y=this.prevAnchor.y,Ot(this.store.activeAnchor.prev,a-r,this.store.activeAnchor)}}const n=this.store.active[0];this.patchFlagsLines.add(n),this.store.path2dMap.set(n,Ye.path2dDraws[n.name](n)),this.render(),this.timer&&clearTimeout(this.timer),this.timer=setTimeout(()=>{this.timer=void 0,this.pushHistory({type:Me.Update,pens:fe(this.store.active,!0),initPens:this.initPens}),this.initPens=void 0},200)}async setAnchor(e){var r;const n=[fe(this.store.hover,!0)],a=this.store.hover;if(this.store.hoverAnchor){if(this.beforeRemoveAnchor&&!await this.beforeRemoveAnchor(a,this.store.hoverAnchor))return;a.type===mt.Line&&((r=a.calculative.worldAnchors)==null?void 0:r.length)<=2?this.delete([a]):(Bce(a,this.store.hoverAnchor),a.type===mt.Line&&this.initLineRect(a)),this.store.hoverAnchor=void 0,this.store.activeAnchor=void 0,this.externalElements.style.cursor="default"}else if(a){if(this.beforeAddAnchor&&!await this.beforeAddAnchor(a,this.store.pointAt))return;if(a.type===mt.Line){this.store.activeAnchor=$ce(a,this.store.pointAt,this.store.pointAtIndex),this.initLineRect(a);const o={x:e.x,y:e.y};this.getHover(o)}else{const o={id:Ue(),x:e.x,y:e.y};this.store.activeAnchor=Lce(a,o)}}this.hotkeyType=xt.None,this.render(),a&&this.pushHistory({type:Me.Update,pens:[fe(a,!0)],initPens:n})}checkDisconnect(e,n){if(e.id.indexOf(Mn)>0){const a=e.id;e=this.store.pens[a.replace(Mn,"")]}e.anchors.forEach(a=>{if(a.connectTo&&!n.find(r=>r.id===a.connectTo||r.id===a.connectTo+Mn)){const r=this.store.pens[a.connectTo];if(!r||r.type)return;Cl(r,Li(r,a.anchorId),e,a)}})}translatePens(e=this.store.active,n,a,r){if(!e||!e.length||e.some(c=>{if(c.locked>=st.DisableMove)return!0}))return;const l=!r&&fe(e,!0);this.activeRect&&zi(this.activeRect,n,a);const s=this.getAllByPens(e);e.forEach(c=>{var d,u;if(!(c.locked>=st.DisableMove)){if(c.type===mt.Line){if(!this.store.options.moveConnectedLine&&!this.canMoveLine||c.isRuleLine)return;fI(c,n,a),this.checkDisconnect(c,s),this.store.path2dMap.set(c,Ye.path2dDraws[c.name](c)),r||(this.initLineRect(c),(d=c.connectedLines)==null||d.forEach(f=>{const v=this.store.pens[f.lineId];this.initLineRect(v)}))}else zi(c.calculative.worldRect,n,a),this.updatePenRect(c,{worldRectIsReady:!0}),c.calculative.x=c.x,c.calculative.y=c.y,c.calculative.initRect&&(c.calculative.initRect.x=c.calculative.x,c.calculative.initRect.y=c.calculative.y,c.calculative.initRect.ex=c.calculative.x+c.calculative.width,c.calculative.initRect.ey=c.calculative.y+c.calculative.height);this.updateLines(c),(u=c.onMove)==null||u.call(c,c)}}),this.activeRect&&this.getSizeCPs(),this.render(),this.tooltip.translate(n,a),r||(this.pushHistory({type:Me.Update,pens:fe(e,!0),initPens:l}),this.initImageCanvas(e),this.initTemplateCanvas(e),this.store.emitter.emit("translatePens",e)),this.store.emitter.emit("translatingPens",e)}templateTranslatePens(e=this.store.active,n,a){if(!e||!e.length)return;const r=this.getAllByPens(e);e.forEach(o=>{var l;if(o.type===mt.Line){if(!this.store.options.moveConnectedLine&&!this.canMoveLine)return;fI(o,n,a),this.checkDisconnect(o,r),this.store.path2dMap.set(o,Ye.path2dDraws[o.name](o))}else zi(o.calculative.worldRect,n,a),this.updatePenRect(o,{worldRectIsReady:!0}),o.calculative.x=o.x,o.calculative.y=o.y,o.calculative.initRect&&(o.calculative.initRect.x=o.calculative.x,o.calculative.initRect.y=o.calculative.y,o.calculative.initRect.ex=o.calculative.x+o.calculative.width,o.calculative.initRect.ey=o.calculative.y+o.calculative.height);(l=o.onMove)==null||l.call(o,o)})}calcAutoAnchor(e,n,a,r){const o=Lt(e),l=bt(e),s=wl(a,n===o?l:o);s&&(n.x=s.x,n.y=s.y,n.prev=void 0,n.next=void 0,r?r.anchor=s.id:Vt(a,s,e,n),this[e.lineName]&&this[e.lineName](this.store,e),this.store.path2dMap.set(e,Ye.path2dDraws.line(e)),this.initLineRect(e))}restoreNodeAnimate(e){var n,a;if(e.calculative.initRect){if(e.keepAnimateState)for(const r in e)e.calculative[r]!==void 0&&r!=="x"&&r!=="y"&&r!=="width"&&r!=="height"&&r!=="initRect"&&(typeof e[r]!="object"||r==="lineDash")&&(r==="fontSize"||r==="lineWidth"?e[r]=e.calculative[r]/e.calculative.canvas.store.data.scale:e[r]=e.calculative[r]);else{const r=e.calculative.initRect.rotate-e.calculative.rotate;for(const l in e)l!=="x"&&l!=="y"&&l!=="width"&&l!=="height"&&l!=="initRect"&&l!=="rotate"&&(typeof e[l]!="object"||l==="lineDash")&&(e.calculative[l]=e[l]);(n=e.children)!=null&&n.length?r&&pI(e,r,e.calculative.worldRect):e.calculative.rotate=e.rotate;const o=fe(this.store.animateMap.get(e));o&&(o.id=e.id,this.parent.setValue(o,{doEvent:!1,render:!0,history:!1})),e.calculative.worldRect=e.calculative.initRect}this.updatePenRect(e,{worldRectIsReady:!0}),this.updateLines(e),e.image&&e.name!=="gif"&&(this.canvasImage.init(),this.canvasImageBottom.init()),e.calculative.text!==e.text&&(e.calculative.text=e.text,Ls(e)),(a=this.store.active)!=null&&a.length&&this.calcActiveRect(),e.calculative.initRect=void 0}}updateLines(e,n){var a;(a=e.children)==null||a.forEach(r=>{const o=this.store.pens[r];o&&this.updateLines(o,n)}),e.connectedLines&&e.connectedLines.forEach((r,o)=>{const l=this.store.pens[r.lineId];if(!l||l.calculative.active)return;const s=Li(l,r.lineAnchor);if(!s)return;if(!s.connectTo){e.connectedLines.splice(o,1);return}if(l.autoFrom){const v=Lt(l);v.id===s.id&&this.calcAutoAnchor(l,v,e,r)}if(l.autoTo){const v=bt(l);v.id===s.id&&this.calcAutoAnchor(l,v,e,r)}const c=Li(e,r.anchor);if(!c)return;let d=e.rotate;e.flipX&&(d*=-1),e.flipY&&(d*=-1);let u=s.distance*this.store.data.scale*Math.cos((d+c.rotate)/180*Math.PI)||0,f=s.distance*this.store.data.scale*Math.sin((d+c.rotate)/180*Math.PI)||0;if(e.flipX&&(u=-u),e.flipY&&(f=-f),Ms(s,c.x-s.x+u,c.y-s.y+f),this.store.options.autoPolyline&&!this.autoPolylineFlag&&l.autoPolyline!==!1&&l.lineName==="polyline"){let v=Lt(l),h=bt(l),g=!1;v.id===s.id?(v=s,g=!0):h.id===s.id&&(h=s,g=!0),g&&(l.calculative.worldAnchors=[v,h],l.calculative.activeAnchor=v,this.polyline(this.store,l,h),this.initLineRect(l))}this.store.path2dMap.set(l,Ye.path2dDraws[l.name](l)),this.patchFlagsLines.add(l),l.calculative.gradientSmooth&&(l.calculative.gradientAnimatePath=bg(l)),n&&Rg(l)})}calcActiveRect(){const e=this.store.active.filter(n=>(!n.locked||n.locked<st.DisableMove)&&n.visible!=!1);if(e.length)e.length===1?(this.activeRect=fe(e[0].calculative.worldRect),this.activeRect.rotate=e[0].calculative.rotate||0,It(this.activeRect)):(this.activeRect=Pa(e),this.activeRect.rotate=0);else return;this.lastRotate=0,this.getSizeCPs()}rotatePen(e,n,a){e.type?(e.calculative.worldAnchors.forEach(r=>{Ot(r,n,a.center)}),this.initLineRect(e),Rd(e)):(e.calculative.rotate?e.calculative.rotate+=n:e.calculative.rotate=n,Ot(e.calculative.worldRect.center,n,a.center),e.parentId?(e.calculative.worldRect.x=e.calculative.worldRect.center.x-e.calculative.worldRect.width/2,e.calculative.worldRect.y=e.calculative.worldRect.center.y-e.calculative.worldRect.height/2,e.x=(e.calculative.worldRect.x-a.x)/a.width,e.y=(e.calculative.worldRect.y-a.y)/a.height):(e.x=e.calculative.worldRect.center.x-e.width/2,e.y=e.calculative.worldRect.center.y-e.height/2),e.rotate=e.calculative.rotate,this.updatePenRect(e),e.children&&e.children.forEach(r=>{const o=this.store.pens[r];this.rotatePen(o,n,e.calculative.worldRect)}))}nextAnimate(e){if(!e)return;this.store.emitter.emit("animateEnd",e);let n;e.nextAnimate&&(n=this.store.data.pens.filter(a=>a.id===e.nextAnimate||a.tags&&a.tags.indexOf(e.nextAnimate)>-1)),n&&(n.forEach(a=>{var r,o,l,s,c;if(a.calculative.pause){const d=Date.now()-a.calculative.pause;a.calculative.pause=void 0,a.calculative.frameStart+=d,a.calculative.frameEnd+=d}else if(a.name==="video")a.calculative.media.currentTime=0,(r=a.calculative.media)==null||r.play(),(o=a.onStartVideo)==null||o.call(a,a);else if(a.type||(l=a.frames)!=null&&l.length||a.animations&&a.animations.length){if(a.type){if((c=a.animations)!=null&&c.length){const d=fe(a.animations[0]);delete d.name,d.currentAnimation=0,this.parent.setValue({id:a.id,...d},{doEvent:!1,history:!1})}}else{if(!a.frames&&a.animations&&a.animations.length){let d=(s=a.animations)==null?void 0:s.findIndex(v=>v.autoPlay),u=d===-1?0:d;const f=fe(a.animations[u]);delete f.name,f.currentAnimation=u,!a.type&&f.frames&&(f.showDuration=this.parent.calcAnimateDuration(f)),this.parent.setValue({id:a.id,...f},{doEvent:!1,history:!1})}this.store.animateMap.set(a,this.getFrameProps(a))}this.store.animates.add(a)}}),this.animate())}getFrameProps(e){let n={};return e.frames&&e.frames.forEach(a=>{for(let r in a)!["duration","x","y","width","height","rotate"].includes(r)&&!n[r]&&(n[r]=e[r])}),n}animate(){this.animateRendering||requestAnimationFrame(()=>{const e=Date.now();if(e-this.lastAnimateRender<this.store.options.animateInterval){this.store.animates.size>0&&this.animate();return}this.lastAnimateRender=e,this.animateRendering=!0;const n=[];let a=!1;for(const r of this.store.animates)if(!r.calculative.pause){if(r.calculative.active&&!r.type&&!this.movingPens&&(a=!0),!r.type)zce(r,e)?r.calculative.patchFlags&&(It(r.calculative.worldRect),this.updatePenRect(r,{worldRectIsReady:!0,playingAnimate:!0})):(requestAnimationFrame(()=>{this.restoreNodeAnimate(r)}),n.push(r),this.nextAnimate(r)),this.updateLines(r,!0);else if(!Wce(r)){if(r.keepAnimateState){for(const o in r)r.calculative[o]!==void 0&&o!=="length"&&(typeof r[o]!="object"||o==="lineDash")&&(o==="lineWidth"?r[o]=r.calculative[o]/r.calculative.canvas.store.data.scale:r[o]=r.calculative[o]);Rd(r)}else for(const o in r)(typeof r[o]!="object"||o==="lineDash")&&(o==="lineWidth"?r.calculative[o]=r[o]*r.calculative.canvas.store.data.scale:r.calculative[o]=r[o]);n.push(r),this.nextAnimate(r)}this.patchFlags=!0}a&&this.calcActiveRect(),n.forEach(r=>{this.store.animates.delete(r)}),this.render(!1),this.animateRendering=!1,this.animate()})}get clipboardName(){return"meta2d-clipboard"}async copy(e,n=!0){const a=Ue(),{origin:r,scale:o}=this.store.data;this.store.clipboard=void 0,localStorage.removeItem(this.clipboardName),sessionStorage.setItem("page",a);let l=this.getAllByPens(fe(e||this.store.active,!0));l.forEach(c=>{c.copyIndex=this.store.data.pens.findIndex(d=>d.id===c.id),c.pathId&&(c.path=this.store.data.paths[c.pathId])}),l.sort((c,d)=>c.copyIndex-d.copyIndex),l.forEach(c=>{delete c.copyIndex});const s={meta2d:!0,pens:l,origin:fe(r),scale:o,page:a,initRect:fe(this.activeRect),offset:10};if(navigator.clipboard&&!this.store.options.disableClipboard&&!navigator.userAgent.includes("Firefox"))try{await navigator.clipboard.writeText(JSON.stringify(s))}catch{localStorage.setItem(this.clipboardName,JSON.stringify(s))}else localStorage.setItem(this.clipboardName,JSON.stringify(s));n&&this.store.emitter.emit("copy",s.pens)}cut(e){this.copy(e,!1),this.delete(e),this.store.emitter.emit("cut",e)}async paste(){var s;let e,n;if(navigator.clipboard&&!this.store.options.disableClipboard&&!navigator.userAgent.includes("Firefox"))try{e=await((s=navigator.clipboard)==null?void 0:s.readText())}catch{e=localStorage.getItem(this.clipboardName)}else e=localStorage.getItem(this.clipboardName);if(e){try{n=JSON.parse(e)}catch(c){console.warn("剪切板数据不是json",c.message);return}if(!n||!n.meta2d)return}else return;if(this.beforeAddPens&&await this.beforeAddPens(n.pens)!=!0)return;let a,r;this.store.clipboard&&(a=this.store.clipboard.offset+10,r=this.store.clipboard.pos),this.store.clipboard=fe(n),sessionStorage.getItem("page")!==n.page?(this.store.clipboard.pos={x:this.mousePos.x,y:this.mousePos.y},this.store.clipboard.offset=0):this.pasteOffset?(a&&(this.store.clipboard.offset=a),r&&(this.store.clipboard.pos=r)):(this.store.clipboard.offset=0,this.pasteOffset=!0);const l=this.store.clipboard.pens.filter(c=>!c.parentId);for(const c of l)this.pastePen(c,void 0);sessionStorage.setItem("page",n.page),this.active(l),this.pushHistory({type:Me.Add,pens:this.store.clipboard.pens}),this.render(),this.store.emitter.emit("add",this.store.clipboard.pens),this.store.emitter.emit("paste",this.store.clipboard.pens)}getAllByPens(e){const n=[];for(const a of e)n.push(...fe(Ka(a,this.store),!0));return n.concat(e)}getAllFollowersByPens(e,n=!0){const a=e;for(const r of e){let o=mg(r,this.store);n&&(o=fe(o,!0));for(const l of o)a.find(s=>s.id===l.id)||a.push(l)}return a}setFollowers(e=this.store.active){if(e)if(e.length<2)e[0].followers=[];else{let n=e.map(r=>r.id);n.pop();const a=e[e.length-1];a.followers?n.forEach(r=>{a.followers.includes(r)||a.followers.push(r)}):a.followers=n}}changeLineAnchors(e,n,a){if(Array.isArray(n.connectedLines))for(let r=0;r<n.connectedLines.length;r++){const{lineId:o}=n.connectedLines[r],l=a.find(s=>s.id===o);if(l){const s=l.anchors[0],c=l.anchors[l.anchors.length-1];s.connectTo===e&&(s.connectTo=n.id),c.connectTo===e&&(c.connectTo=n.id)}else n.connectedLines.splice(r,1),r--}}changeNodeConnectedLine(e,n,a){var s;const r=n.anchors[0],o=n.anchors[n.anchors.length-1],l=[r,o];for(const c of l){const d=c.connectTo;if(d){const u=a.find(f=>f.id===d);u?(s=u.connectedLines)==null||s.forEach(f=>{f.lineId===e&&(f.lineId=n.id,f.lineAnchor=c.id)}):(c.connectTo=void 0,c.prev&&(c.prev.connectTo=void 0),c.next&&(c.next.connectTo=void 0))}}}async delete(e=this.store.active,n=!1,a=!0){if(!e||!e.length||this.beforeRemovePens&&await this.beforeRemovePens(e)!=!0||(n||(e=e.filter(o=>!o.locked)),!e||!e.length))return;const r=[];if(this._del(e,r,n),this.initImageCanvas(r),this.initTemplateCanvas(r),this.inactive(),this.clearHover(),this.render(),a){if(r.length===0)return;this.pushHistory({type:Me.Delete,pens:r})}this.store.emitter.emit("delete",e)}_del(e,n,a){e&&e.forEach(r=>{if(r.type&&(r.lastConnected={}),r.parentId)if(this.getLockedParent(r)){console.warn("父节点锁定");return}else{const l=Xn(r),s=l.children.indexOf(r.id);l.children.splice(s,1),n&&this.getDelPens(r,n),this.delForce(r)}else{if(!a&&r.locked)return;n&&this.getDelPens(r,n),this.delForce(r)}})}getDelPens(e,n){if(!e)return;if(this.store.data.pens.findIndex(r=>r.id===e.id)>-1){const r=this.store.pens[e.id];r.calculative.active=void 0,n.push(r)}e.children&&e.children.forEach(r=>{this.getDelPens(this.store.pens[r],n)})}getLockedParent(e){if(!e.parentId)return!1;const n=Xn(e);if(n.locked)return n;this.getLockedParent(n)}delForce(e){var a;if(!e)return;const n=this.store.data.pens.findIndex(r=>r.id===e.id);n>-1&&(this.delConnectedLines(this.store.data.pens[n]),this.store.data.pens.splice(n,1),this.store.pens[e.id]=void 0,delete this.store.pens[e.id],e.pathId&&delete this.store.data.paths[e.pathId]),this.store.animates.delete(e),this.store.animateMap.delete(e),e.children&&e.children.forEach(r=>{this.delForce(this.store.pens[r])}),(a=e.onDestroy)==null||a.call(e,e)}delConnectedLines(e){var n;if(e.connectedLines)for(let a=0;a<e.connectedLines.length;a++){const{lineId:r,lineAnchor:o}=e.connectedLines[a],l=this.store.pens[r];if(l){let s=l.anchors.find(c=>c.id===o);(s==null?void 0:s.connectTo)===e.id&&(s.connectTo=void 0,s.anchorId=void 0,s.prev&&(s.prev.connectTo=void 0),s.next&&(s.next.connectTo=void 0)),s=Li(l,o),s&&(s.connectTo=void 0,s.anchorId=void 0,s.prev&&(s.prev.connectTo=void 0),s.next&&(s.next.connectTo=void 0))}}e.type&&((n=e.calculative.worldAnchors)==null||n.forEach((a,r)=>{var l;if(!a.connectTo)return;const o=this.store.pens[a.connectTo];o&&((l=o.calculative.worldAnchors)==null||l.forEach(s=>{Cl(o,s,e,a)}))}))}convertSpecialCharacter(e){var n={lt:"<",gt:">",nbsp:" ",amp:"&",quot:'"'};return e.replace(/&(lt|gt|nbsp|amp|quot);/gi,function(a,r){return n[r]})}createInput(){this.inputParent.classList.add("meta2d-input"),this.inputDiv.classList.add("input-div"),this.inputParent.appendChild(this.inputDiv),this.dropdown.onmouseleave=()=>{this.store.hover=null},this.inputParent.appendChild(this.dropdown),this.externalElements.appendChild(this.inputParent),this.inputParent.onmousedown=this.stopPropagation,this.inputDiv.onmousedown=this.stopPropagation,this.inputDiv.contentEditable="false",this.dropdown.onmousedown=this.stopPropagation;let e;for(let n=0;n<document.styleSheets.length;n++)document.styleSheets[n].title==="le5le.com"&&(e=document.styleSheets[n]);if(!e){const n=document.createElement("style");n.title="le5le.com",document.head.appendChild(n),e=n.sheet,e.insertRule(".meta2d-input{display:none;position:absolute;outline:none;align-items: center;}"),e.insertRule(".meta2d-input textarea{resize:none;border:none;outline:none;background:transparent;flex-grow:1;height:100%;left:0;top:0}"),e.insertRule(".meta2d-input .right{width:10px;height:10px;flex-shrink:0;border-top: 1px solid;border-right: 1px solid;margin-right: 5px;transition: all .3s cubic-bezier(.645,.045,.355,1);position:absolute;right:1px;}"),e.insertRule(".meta2d-input ul{position:absolute;top:100%;left:-5px;width:calc(100% + 10px);min-height:30px;border-radius: 2px;box-shadow: 0 2px 8px #00000026;list-style-type: none;background-color: #fff;padding: 4px 0;max-height: 105px;overflow-y: auto;}"),e.insertRule(".meta2d-input ul li{padding: 5px 12px;line-height: 22px;white-space: nowrap;cursor: pointer;}"),e.insertRule(".meta2d-input ul li:hover{background: #eeeeee;}"),e.insertRule(".input-div::-webkit-scrollbar {display:none}"),e.insertRule(".input-div{scrollbar-width: none;}"),e.insertRule(".meta2d-input .input-div{resize:none;border:none;outline:none;background:transparent;flex-grow:1;height:100%;width: 100%;left:0;top:0;display:flex;text-align: center;justify-content: center;flex-direction: column;}"),e.insertRule(".input-div div{}")}this.inputDiv.onfocus=n=>{if(navigator.userAgent.includes("Firefox")){if(!n.target.innerText){let a=this.inputDiv.offsetWidth/2;window.getComputedStyle(this.inputDiv,null).textAlign!=="center"&&(a=0),this.inputDiv.innerHTML=`<br style="margin-left:${a}px;margin-top:4px;" />`}}else if(n.target.innerText)this.inputDiv.style.paddingTop="";else{let a=window.getComputedStyle(this.inputDiv,null);a.justifyContent==="center"&&(this.inputDiv.style.paddingTop=` ${this.inputDiv.offsetHeight/2-parseFloat(a.lineHeight)/2}px`)}},this.inputDiv.onblur=()=>{setTimeout(()=>{this.hideInput()},300)},this.inputDiv.oninput=n=>{const a=this.store.pens[this.inputDiv.dataset.penId];if(a&&a.inputType==="number"){const r=n.target.innerText,o=r.replace(/[^0-9]/g,"");r!==o&&(n.preventDefault(),n.target.innerText=o)}if(navigator.userAgent.includes("Firefox")){if(!n.target.innerText.trim()){let r=this.inputDiv.offsetWidth/2;window.getComputedStyle(this.inputDiv,null).textAlign!=="center"&&(r=0),this.inputDiv.innerHTML=`<br style="margin-left:${r}px;margin-top:4px;" />`}}else if(n.target.innerText)this.inputDiv.style.paddingTop="";else{let r=window.getComputedStyle(this.inputDiv,null);r.justifyContent==="center"&&(this.inputDiv.style.paddingTop=` ${this.inputDiv.offsetHeight/2-parseFloat(r.lineHeight)/2}px`)}this.store.emitter.emit("input",a)},this.inputDiv.onclick=n=>{n.stopPropagation();const a=this.store.pens[this.inputDiv.dataset.penId];this.dropdown.style.display==="block"?this.dropdown.style.display="none":a!=null&&a.dropdownList&&this.store.data.locked&&(this.dropdown.style.display="block"),this.store.emitter.emit("clickInput",a)},this.inputDiv.onkeyup=n=>{this.setDropdownList(!0);const a=this.store.pens[this.inputDiv.dataset.penId];this.store.emitter.emit("input",{pen:a,text:n.key}),n.stopPropagation()},this.inputDiv.onkeydown=n=>{n.stopPropagation()},this.inputDiv.onmousedown=this.stopPropagation,this.inputDiv.onwheel=n=>{n.stopPropagation()},this.inputDiv.onpaste=n=>{n.preventDefault();let a="";n.clipboardData&&n.clipboardData.getData&&(a=n.clipboardData.getData("text/plain")),document.execCommand("insertHTML",!1,a)}}clearDropdownList(){if(this.dropdown.hasChildNodes())for(let e=0;e<this.dropdown.childNodes.length;e++)this.dropdown.childNodes[e].remove(),--e}dropdownAppendOption(e,n){const a=document.createElement("li");a.onwheel=this.stopPropagation,a.innerText=e,a.style.overflow="hidden",a.style.textOverflow="ellipsis",a.title=e,a.style.zoom=this.store.data.scale,a.onmousedown=this.stopPropagation,a.dataset.i=n+"",a.onclick=this.selectDropdown;const r=this.store.pens[this.inputDiv.dataset.penId];a.onmouseenter=()=>{a.style.background=r.dropdownHoverBackground||"#eee",a.style.color=r.dropdownHoverColor||"#bdc7db"},a.onmouseleave=()=>{a.style.background=r.dropdownBackground||"#fff",a.style.color=r.dropdownColor||"#bdc7db"},this.dropdown.appendChild(a)}find(e){return this.store.data.pens.filter(n=>n.id==e||n.tags&&n.tags.indexOf(e)>-1)}findOne(e){return this.store.data.pens.find(n=>n.id==e||n.tags&&n.tags.indexOf(e)>-1)}changePenId(e,n){var r,o,l,s,c,d,u;if(e===n)return;const a=this.store.pens[e];if(a&&!this.store.pens[n]){if(a.id=n,this.store.pens[n]=this.store.pens[e],(r=a.onChangeId)==null||r.call(a,a,e,n),delete this.store.pens[e],a.parentId){const f=this.store.pens[a.parentId],v=(o=f.children)==null?void 0:o.findIndex(h=>h===e);v!==-1&&((l=f.children)==null||l.splice(v,1,n))}(s=a.children)==null||s.forEach(f=>{const v=this.store.pens[f];v.parentId=n}),a.type===mt.Line?this.changeNodeConnectedLine(e,a,this.store.data.pens):(this.changeLineAnchors(e,a,this.store.data.pens),(c=a.connectedLines)==null||c.forEach(({lineId:f})=>{const v=this.store.pens[f];ml(v)})),(d=a.anchors)==null||d.forEach(f=>f.penId=n),(u=a.calculative.worldAnchors)==null||u.forEach(f=>f.penId=n)}}updateValue(e,n){var g,p;const a=this.getPenRect(e),r=e.name;Object.assign(e,n);const o=r!==e.name;n.newId&&this.changePenId(e.id,n.newId);let l=!1,s=!1,c=!1,d=!1,u=!1,f=!1,v,h=!1;for(const m in n)m.indexOf(".")===-1?(m==="rotate"?e.disableRotate?e.rotate=e.calculative.rotate||0:v=e.calculative.rotate||0:m==="canvasLayer"||m==="isBottom"||m==="showChild"?f=!0:m==="image"&&(h=!0),(typeof e[m]!="object"||m==="lineDash")&&(!e.disableRotate||m!=="rotate")&&(e.calculative[m]=n[m]),Jse.includes(m)&&(s=!0),["name","borderRadius","lineSmooth","close"].includes(m)&&(l=!0),Zse.includes(m)&&(u=!0),Qse.includes(m)&&(c=!0),Vse.includes(m)&&(d=!0),e.image&&e.name!=="gif"&&["globalAlpha","flipY","flipX","x","y","width","height","iconWidth","iconHeight","imageRatio","iconLeft","iconTop","iconAlign","rotate"].includes(m)&&(h=!0)):(delete e[m],pg(e,m,n[m])),m.split(".")[0]==="anchors"&&ml(e);if(this.setCalculativeByScale(e),o&&((g=e.onDestroy)==null||g.call(e,e),tce(e)),u){const m={x:n.x??a.x,y:n.y??a.y,width:n.width??a.width,height:n.height??a.height};this.setPenRect(e,m,!1),this.updateLines(e,!0),this.store.active&&this.store.active.length&&e.id===this.store.active[0].id&&this.calcActiveRect()}else c?this.updatePenRect(e):(s&&Ua(e),d&&uI(this.store.pens,e),l&&Ye.path2dDraws[e.name]&&this.store.path2dMap.set(e,Ye.path2dDraws[e.name](e)));if(v!==void 0){const m=e.calculative.rotate;e.calculative.rotate=v,this.rotatePen(e,m-v,e.calculative.worldRect)}(n.image||n.backgroundImage||n.strokeImage)&&(e.calculative.image=void 0,e.calculative.backgroundImage=void 0,e.calculative.strokeImage=void 0,this.loadImage(e)),n.lineGradientColors&&(e.calculative.lineGradient=void 0,e.calculative.gradientColorStop=void 0),n.gradientColors&&(e.calculative.gradient=void 0,e.calculative.radialGradient=void 0),n.gradientRadius&&(e.calculative.gradient=void 0,e.calculative.radialGradient=void 0),n.animateLineWidth&&(e.calculative.gradientAnimatePath=void 0),n.gradientSmooth&&(e.calculative.gradientAnimatePath=void 0),f?(this.canvasImage.init(),this.canvasImageBottom.init()):h&&(e.canvasLayer===void 0&&(e.canvasLayer=gt.CanvasImageBottom,e.calculative.canvasLayer=gt.CanvasImageBottom),e.canvasLayer===gt.CanvasImageBottom?this.canvasImageBottom.init():e.canvasLayer===gt.CanvasImage&&this.canvasImage.init()),(n.canvasLayer!==void 0||e.canvasLayer===gt.CanvasTemplate)&&this.initTemplateCanvas([e]),n.zIndex!==void 0&&(p=e.calculative.singleton)!=null&&p.div&&sn(e,e.calculative.singleton.div)}execPenResize(e){var n,a;(n=e.onResize)==null||n.call(e,e),(a=e.children)==null||a.forEach(r=>{const o=this.store.pens[r];o&&this.execPenResize(o)})}setPenRect(e,n,a=!0){if(e.parentId)Object.assign(e,n);else{const{origin:r,scale:o}=this.store.data;e.x=r.x+n.x*o,e.y=r.y+n.y*o,e.width=n.width*o,e.height=n.height*o}this.updatePenRect(e),this.execPenResize(e),a&&this.render()}getPenRect(e,n=this.store.data.origin,a=this.store.data.scale){if(e)return e.parentId?{x:e.x,y:e.y,width:e.width,height:e.height}:{x:(e.x-n.x)/a,y:(e.y-n.y)/a,width:e.width/a,height:e.height/a}}toPng(e=2,n,a=!1,r){const o=Pa(this.store.data.pens),l=this.store.data.scale;if(!isFinite(o.width))throw new Error("can not to png, because width is not finite");const s=fe(o),c=this.store.data,d=a&&!c.background&&this.store.bkImg;let u=!1,f=!1;if(d){if(o.x+=c.x,o.y+=c.y,Mt(o),kr(o,this.canvasRect,!0))Object.assign(o,this.canvasRect);else{const x=Sl([...Or(o),...Or(this.canvasRect)]);Object.assign(o,x)}u=o.x===0,f=o.y===0}const v=this.store.data.width||this.store.options.width,h=this.store.data.height||this.store.options.height;let g=!1;v&&h&&!this.store.data.component&&(g=!0),g&&(o.x=this.store.data.origin.x,o.y=this.store.data.origin.y,o.width=v*this.store.data.scale,o.height=h*this.store.data.scale);const p=fe(o),m=wr(e);o.x-=m[3]*l,o.y-=m[0]*l,o.width+=(m[3]+m[1])*l,o.height+=(m[0]+m[2])*l;const y=(r||1920)/o.width;o.width*=y,o.height*=y,Mt(o);const b=document.createElement("canvas");if(b.width=o.width,b.height=o.height,b.width>32767||b.height>32767||!navigator.userAgent.includes("Firefox")&&b.height*b.width>268435456||navigator.userAgent.includes("Firefox")&&b.height*b.width>472907776)throw new Error("can not to png, because the size exceeds the browser limit");const w=b.getContext("2d");w.textBaseline="middle",w.scale(y,y);const C=this.store.data.background||this.store.options.background;if(C&&(w.save(),w.fillStyle=C,g?w.fillRect(0,0,p.width+(m[1]+m[3])*l,p.height+(m[0]+m[2])*l):w.fillRect(0,0,s.width+(m[3]+m[1])*l,s.height+(m[0]+m[2])*l),w.restore()),d)if(g)w.drawImage(this.store.bkImg,m[3]*l||0,m[0]*l||0,p.width,p.height);else{const x=o.x<0?-o.x:0,k=o.y<0?-o.y:0;w.drawImage(this.store.bkImg,x,k,this.canvasRect.width,this.canvasRect.height)}d?g?w.translate(-s.x+m[3]*l||0,-s.y+m[0]*l||0):w.translate((u?c.x:-s.x)+m[3]*l||0,(f?c.y:-s.y)+m[0]*l||0):w.translate(-o.x,-o.y);for(const x of this.store.data.pens){if(!Dd(x,this.store)||x.visible==!1)continue;const{active:k}=x.calculative;x.calculative.active=!1,x.calculative.img?Ad(w,x):Fi(w,x,!0),x.calculative.active=k}if(n){b.toBlob(n);return}return b.toDataURL()}activeToPng(e=2,n){return this.pensToPng(this.store.active,e,n)}pensToPng(e=this.store.active,n=2,a){if(e.length===0)return;const r=this.getAllByPens(e);let o=r.map(h=>h.id);const l=Pa(r);if(!isFinite(l.width))throw new Error("can not to png, because width is not finite");const s=fe(l),c=wr(n);l.x-=c[3],l.y-=c[0],l.width+=c[3]+c[1],l.height+=c[0]+c[2],Mt(l);const d=(a||l.width)/l.width;l.width*=d,l.height*=d;const u=document.createElement("canvas");if(u.width=l.width,u.height=l.height,u.width>32767||u.height>32767||!navigator.userAgent.includes("Firefox")&&u.height*u.width>268435456||navigator.userAgent.includes("Firefox")&&u.height*u.width>472907776)throw new Error("can not to png, because the size exceeds the browser limit");const f=u.getContext("2d");f.textBaseline="middle",f.scale(d,d);const v=this.store.data.background||this.store.options.background;v&&(f.save(),f.fillStyle=v,f.fillRect(0,0,s.width+(c[3]+c[1]),s.height+(c[0]+c[2])),f.restore()),f.translate(-s.x+c[3],-s.y+c[0]);for(const h of this.store.data.pens)if(o.includes(h.id)){if(!Dd(h,this.store)||h.visible==!1)continue;const{active:g}=h.calculative;h.calculative.active=!1,h.calculative.img?Ad(f,h):Fi(f,h),h.calculative.active=g}return u.toDataURL()}toggleAnchorMode(){var e;if(this.hotkeyType)this.hotkeyType===xt.AddAnchor&&(this.hotkeyType=xt.None,this.store.hoverAnchor?this.externalElements.style.cursor="vertical-text":this.store.hover&&(this.externalElements.style.cursor="move"));else{if(this.store.options.disableAnchor||(e=this.store.hover)!=null&&e.disableAnchor)return;this.hotkeyType=xt.AddAnchor,this.store.hover&&(this.externalElements.style.cursor="pointer")}this.patchFlags=!0}addAnchorHand(){if(this.store.activeAnchor&&this.store.active&&this.store.active.length===1&&this.store.active[0].type){const e=[fe(this.store.active[0],!0)];this.store.activeAnchor.prev?this.store.activeAnchor.next||(this.store.activeAnchor.next={...this.store.activeAnchor.prev},Ot(this.store.activeAnchor.next,180,this.store.activeAnchor),this.initLineRect(this.store.active[0]),this.patchFlags=!0):(this.store.activeAnchor.next||(this.store.activeAnchor.next={penId:this.store.activeAnchor.penId,x:this.store.activeAnchor.x+50,y:this.store.activeAnchor.y}),this.store.activeAnchor.prev={...this.store.activeAnchor.next},Ot(this.store.activeAnchor.prev,180,this.store.activeAnchor),this.initLineRect(this.store.active[0]),this.patchFlags=!0),this.pushHistory({type:Me.Update,pens:[fe(this.store.active[0],!0)],initPens:e})}}removeAnchorHand(){if(this.store.activeAnchor&&this.store.active&&this.store.active.length===1&&this.store.active[0].type){const e=[fe(this.store.active[0],!0)];this.hoverType===Fe.LineAnchorPrev?(this.store.activeAnchor.prev=void 0,this.initLineRect(this.store.active[0]),this.patchFlags=!0):this.hoverType===Fe.LineAnchorNext?(this.store.activeAnchor.next=void 0,this.initLineRect(this.store.active[0]),this.patchFlags=!0):(this.store.activeAnchor.prev=void 0,this.store.activeAnchor.next=void 0,this.initLineRect(this.store.active[0]),this.patchFlags=!0),this.pushHistory({type:Me.Update,pens:[fe(this.store.active[0])],initPens:e})}}toggleAnchorHand(){this.store.active.length===1&&this.store.active[0].type&&this.store.activeAnchor&&(this.store.activeAnchor.prevNextType||(this.store.activeAnchor.prevNextType=ul.Mirror),this.store.activeAnchor.prevNextType=(this.store.activeAnchor.prevNextType+1)%3)}gotoView(e,n){let a=Pa(this.store.data.pens);if(!isFinite(a.width))throw new Error("can not move view, because width is not finite");const r=this.store.data.width||this.store.options.width,o=this.store.data.height||this.store.options.height;r&&o&&(a={x:this.store.data.origin.x,y:this.store.data.origin.y,width:r*this.store.data.scale,height:o*this.store.data.scale}),this.store.data.x=this.canvas.clientWidth/2-e*a.width-a.x,this.store.data.y=this.canvas.clientHeight/2-n*a.height-a.y,this.onMovePens(),this.canvasTemplate.init(),this.canvasImage.init(),this.canvasImageBottom.init(),this.render()}showMagnifier(){this.magnifierCanvas.canvas.style.zIndex="100",this.externalElements.style.zIndex="101",this.magnifierCanvas.magnifier=!0,this.magnifierCanvas.updateDomOffscreen(),this.externalElements.style.cursor="default",this.render()}hideMagnifier(){this.magnifierCanvas.canvas.style.zIndex="5",this.externalElements.style.zIndex="5",this.magnifierCanvas.magnifier=!1,this.externalElements.style.cursor="default",this.render()}showFit(){this.store.data.locked=0,this.canvasImage.fitFlag=!0,this.canvasImage.activeFit=void 0,this.canvasImage.currentFit=void 0,this.store.data.fits||(this.store.data.fits=[]),this.store.data.fits.forEach(e=>e.active=!1),this.canvasImage.init(),this.canvasImage.render()}hideFit(){this.canvasImage.fitFlag=!1,this.canvasImage.activeFit=void 0,this.canvasImage.currentFit=void 0,this.canvasImage.init(),this.canvasImage.render()}makeFit(){if(this.dragRect.width<100&&this.dragRect.height<100)return;const e=this.store.data.pens.filter(d=>{if(d.parentId||d.isRuleLine)return!1;if(kr(d.calculative.worldRect,this.dragRect,!0))return d.type===mt.Line&&!this.store.options.dragAllIn?Dg(d,this.dragRect):!0});if(!e.length)return;const n=this.parent.getRect(e),a=this.store.data.scale,r=this.store.data.width||this.store.options.width,o=this.store.data.height||this.store.options.height;let l=(Math.floor(n.x)-this.store.data.origin.x)/a/r,s=(Math.floor(n.y)-this.store.data.origin.y)/a/o,c={x:l,y:s,width:(Math.ceil(n.width)+1)/a/r,height:(Math.ceil(n.height)+1)/a/o,children:e.map(d=>d.id),id:Ue(),active:!0};c.x<-.1&&(c.x=-.1),c.y<-.1&&(c.y=-.1),c.width>.5?(c.left=!0,c.right=!0,c.leftValue=(c.x-0)*a*r,c.rightValue=(1-(c.x+c.width))*a*r):c.x<.5?(c.left=!0,c.leftValue=(c.x-0)*a*r):(c.right=!0,c.rightValue=(1-(c.x+c.width))*a*r),c.leftValue<1&&(c.leftValue=0),c.rightValue<1&&(c.rightValue=0),c.height>.5?(c.top=!0,c.bottom=!0,c.topValue=(c.y-0)*a*o,c.bottomValue=(1-(c.y+c.height))*a*o):c.y<.5?(c.top=!0,c.topValue=(c.y-0)*a*o):(c.bottom=!0,c.bottomValue=(1-(c.y+c.height))*a*o),c.topValue<1&&(c.topValue=0),c.bottomValue<1&&(c.bottomValue=0),this.store.data.fits||(this.store.data.fits=[]),this.store.data.fits.forEach(d=>{d.active=!1}),this.store.data.fits.push(c),this.canvasImage.activeFit=c,this.store.emitter.emit("fit",c),this.canvasImage.init(),this.canvasImage.render()}updateFit(e){const n=this.store.data.scale,a=this.store.data.width||this.store.options.width,r=this.store.data.height||this.store.options.height;let o=(e.x-this.store.data.origin.x)/n/a,l=(e.y-this.store.data.origin.y)/n/r;if(this.canvasImage.currentFit){const s=this.canvasImage.activeFit;if(this.canvasImage.currentFit==="top"){l<-.1&&(l=-.1);let u=l-s.y;if(s.height-=u,s.height<.01){s.height=.01;return}s.y=l}if(this.canvasImage.currentFit==="bottom"&&(l>1.1&&(l=1.1),s.height=l-s.y,s.height<=.01&&(s.height=.01)),this.canvasImage.currentFit==="left"){o<-.1&&(o=-.1);let u=o-s.x;if(s.width-=u,s.width<.01){s.width=.01;return}s.x=o}this.canvasImage.currentFit==="right"&&(o>1.1&&(o=1.1),s.width=o-s.x,s.width<=.01&&(s.width=.01));let c={x:s.x*a*n+this.store.data.origin.x,y:s.y*r*n+this.store.data.origin.y,width:s.width*a*n,height:s.height*r*n};Mt(c);const d=this.store.data.pens.filter(u=>{if(u.parentId||u.isRuleLine)return!1;if(kr(u.calculative.worldRect,c,!0))return u.type===mt.Line&&!this.store.options.dragAllIn?Dg(u,c):!0});s.left=void 0,s.leftValue=void 0,s.right=void 0,s.rightValue=void 0,s.top=void 0,s.topValue=void 0,s.bottom=void 0,s.bottomValue=void 0,s.width>.5?(s.left=!0,s.right=!0,s.leftValue=(s.x-0)*n*a,s.rightValue=(1-(s.x+s.width))*n*a):s.x<.5?(s.left=!0,s.leftValue=(s.x-0)*n*a):(s.right=!0,s.rightValue=(1-(s.x+s.width))*n*a),Math.abs(s.leftValue)<1&&(s.leftValue=0),Math.abs(s.rightValue)<1&&(s.rightValue=0),s.height>.5?(s.top=!0,s.bottom=!0,s.topValue=(s.y-0)*n*r,s.bottomValue=(1-(s.y+s.height))*n*r):s.y<.5?(s.top=!0,s.topValue=(s.y-0)*n*r):(s.bottom=!0,s.bottomValue=(1-(s.y+s.height))*n*r),Math.abs(s.topValue)<1&&(s.topValue=0),Math.abs(s.bottomValue)<1&&(s.bottomValue=0),s.children=d.map(u=>u.id),this.store.emitter.emit("fit",s),this.mouseDown.x=e.x,this.mouseDown.y=e.y,this.canvasImage.init(),this.canvasImage.render()}}updateFitRect(e=this.canvasImage.activeFit){const n=this.store.data.width||this.store.options.width,a=this.store.data.height||this.store.options.height;e.left&&(e.leftValue?e.x=Math.abs(e.leftValue)<1?e.leftValue:e.leftValue/n:e.x=0),e.right&&(e.rightValue?e.width=1-(Math.abs(e.rightValue)<1?e.rightValue:e.rightValue/n)-e.x:e.width=1-e.x),e.top&&(e.topValue?e.y=Math.abs(e.topValue)<1?e.topValue:e.topValue/a:e.y=0),e.bottom&&(e.bottomValue?e.height=1-(Math.abs(e.bottomValue)<1?e.bottomValue:e.bottomValue/a)-e.y:e.height=1-e.y),this.canvasImage.init(),this.canvasImage.render()}deleteFit(e=this.canvasImage.activeFit){if(!e)return;const n=this.store.data.fits.findIndex(a=>a.id===e.id);this.store.data.fits.splice(n,1),this.canvasImage.activeFit=void 0,this.canvasImage.init(),this.canvasImage.render(),this.store.emitter.emit("fit",void 0)}calcuActiveFit(){var s;const e=this.store.data.width||this.store.options.width,n=this.store.data.height||this.store.options.height;let a=(this.mouseDown.x-this.store.data.origin.x)/this.store.data.scale/e,r=(this.mouseDown.y-this.store.data.origin.y)/this.store.data.scale/n,o=-1,l=-1;(s=this.store.data.fits)==null||s.forEach((c,d)=>{c.ex=null,c.ey=null,Kr({x:a,y:r},c)&&(o=d),c.active&&(l=d)}),o!==-1&&o!==l?(this.canvasImage.activeFit=this.store.data.fits[o],this.store.data.fits[o].active=!0,l!==-1&&(this.store.data.fits[l].active=!1),this.store.emitter.emit("fit",this.store.data.fits[o])):o===-1&&l!==-1&&(this.store.data.fits[l].active=!1,this.store.emitter.emit("fit",void 0),this.canvasImage.activeFit=null),this.inactive(),this.canvasImage.init(),this.canvasImage.render()}toggleMagnifier(){this.magnifierCanvas.magnifier=!this.magnifierCanvas.magnifier,this.magnifierCanvas.magnifier&&(this.externalElements.style.cursor="default"),this.render()}destroy(){var e,n,a,r;switch(this.scroll&&this.scroll.destroy(),(e=this.tooltip)==null||e.destroy(),(n=this.dialog)==null||n.destroy(),(a=this.title)==null||a.destroy(),(r=this.popconfirm)==null||r.destroy(),this.externalElements.removeEventListener("gesturestart",this.onGesturestart),this.externalElements.ondragover=o=>o.preventDefault(),this.externalElements.ondrop=void 0,this.externalElements.ontouchstart=void 0,this.externalElements.ontouchmove=void 0,this.externalElements.ontouchend=void 0,this.externalElements.onmousedown=void 0,this.externalElements.onmousemove=void 0,this.externalElements.onmouseup=void 0,this.externalElements.onmouseleave=void 0,this.externalElements.ondblclick=void 0,this.store.options.keydown){case Fs.Document:document.removeEventListener("keydown",this.onkeydown),document.removeEventListener("keyup",this.onkeyup);break;case Fs.Canvas:this.externalElements.removeEventListener("keydown",this.onkeydown),this.externalElements.removeEventListener("keyup",this.onkeyup);break}document.removeEventListener("copy",this.onCopy),document.removeEventListener("cut",this.onCut),document.removeEventListener("paste",this.onPaste),window&&window.removeEventListener("message",this.onMessage),window&&window.removeEventListener("resize",this.onResize),window&&window.removeEventListener("scroll",this.onScroll),this.parentElement.innerHTML=""}}function fde(t,e){const n=e||new Path2D;t.onDestroy||(t.onDestroy=gde,t.onMove=qI,t.onRotate=qI,t.onMouseEnter=pde,t.onMouseLeave=mde,t.onMouseMove=bde,t.onMouseUp=yde,t.onInput=hde);let a=t.calculative.borderRadius||0,r=a;const{x:o,y:l,width:s,height:c,ex:d,ey:u}=t.calculative.worldRect,{x:f}=t.calculative.worldTextRect;a<1&&(a=s*a,r=c*r);let v=a<r?a:r;s<2*v&&(v=s/2),c<2*v&&(v=c/2);const h=vde(t.text,t.calculative.fontSize);if(n.moveTo(o+v,l),n.lineTo(f-5,l),n.moveTo(f+h+5,l),n.lineTo(f+h+5,l),n.arcTo(d,l,d,u,v),n.arcTo(d,u,o,u,v),n.arcTo(o,u,o,l,v),n.arcTo(o,l,d,l,v),n instanceof Path2D)return n}function vde(t,e){const n=t.match(/[^\x00-\xff]/g)||"",a=n.length*e,r=t.match(/\s/g)||"",o=r.length*e*.3,l=(t.length-n.length-r.length)*e*.6;return a+o+l}function hde(t,e){t.text=e,t.calculative.text=t.text,t.calculative.canvas.updatePenRect(t)}function gde(t){}function qI(t){}function pde(t){}function mde(t){const e=t.calculative.canvas.store.active;e&&e.length&&e.forEach(n=>{if(t.followers){let a=t.followers.findIndex(r=>r===n.id);if(a!==-1){const r=t.calculative.canvas.store.pens[n.id+Mn];r&&r.calculative&&(kr(r.calculative.worldRect,t.calculative.worldRect,!0)||t.followers.splice(a,1))}}})}function yde(t){const e=t.calculative.canvas.store.active;e&&e.length&&e.forEach(n=>{const a=t.calculative.canvas.store.pens[n.id+Mn];if(a&&a.calculative){let r=fe(t.calculative.worldRect);r.x-=1,r.y-=1,r.width+=2,r.height+=2,kr(a.calculative.worldRect,r,!0)&&(t.followers||(t.followers=[]),t.followers.includes(n.id)||t.followers.push(n.id))}})}function bde(t,e){}const Xt={};function wde(t){t.onDestroy||(t.onDestroy=Cde,t.onMove=GI,t.onResize=xde,t.onRotate=GI,t.onValue=Sde,t.onChangeId=Ode);const e=new Path2D;if(t.image){if(!Xt[t.id]){const n=new Image;n.crossOrigin="anonymous",n.src=t.image,t.calculative.canvas.parent.store.options.cdn&&!(t.image.startsWith("http")||t.image.startsWith("//")||t.image.startsWith("data:image"))&&(n.src=t.calculative.canvas.parent.store.options.cdn+t.image),Xt[t.id]=n,n.onload=()=>{var a;Xt[t.id]===n&&(t.calculative.img=n,t.calculative.imgNaturalWidth=n.naturalWidth||t.iconWidth,t.calculative.imgNaturalHeight=n.naturalHeight||t.iconHeight,(a=t.calculative.canvas.externalElements)==null||a.parentElement.appendChild(n),Us(t,n))}}return t.calculative.patchFlags&&Xt[t.id]&&Us(t,Xt[t.id]),e}}function Cde(t){Xt[t.id]&&(Xt[t.id].remove(),Xt[t.id]=void 0)}function GI(t){Xt[t.id]&&Us(t,Xt[t.id])}function xde(t){Xt[t.id]&&Us(t,Xt[t.id])}function Sde(t){Xt[t.id]&&(Us(t,Xt[t.id]),Xt[t.id].getAttribute("src")!==t.image&&(Xt[t.id].src=t.image))}function Ode(t,e,n){Xt[e]&&(Xt[n]=Xt[e],delete Xt[e])}function Us(t,e){e.style.objectFit=t.imageRatio?"contain":"fill",sn(t,e)}function kde(t,e){return t.onResize||(t.onResize=XI,t.onValue=Pde),Ai(t,e)}function XI(t){const e=t.anchors.filter(n=>n.flag!==1);JI(t),t.anchors=t.anchors.concat(...e)}function Pde(t){XI(t),ml(t)}function JI(t){const e=[],{x:n,y:a,width:r,height:o}=t,l=_de(t),s=5;for(let f=0;f<s;f++){if(f===2)continue;let v=n+r*(f+1)/(s+1),h=a;v<n+l?h=Wd(n+l,h+l,v,l,-1):v>n+r-l&&(h=Wd(n+r-l,h+l,v,l,-1)),e.push({id:String(e.length),flag:1,penId:t.id,x:(v-n)/r,y:(h-a)/o})}const c=3;for(let f=0;f<c;f++){let v=a+o*(f+1)/(c+1),h=n+r;v<a+l?h=Hd(h-l,a+l,v,l):v>a+o-l&&(h=Hd(h-l,a+o-l,v,l)),e.push({id:String(e.length),flag:1,penId:t.id,x:(h-n)/r,y:(v-a)/o})}const d=5;for(let f=0;f<d;f++){if(f===2)continue;let v=n+r*(f+1)/(d+1),h=a+o;v<n+l?h=Wd(n+l,h-l,v,l):v>n+r-l&&(h=Wd(n+r-l,h-l,v,l)),e.push({id:String(e.length),flag:1,penId:t.id,x:(v-n)/r,y:(h-a)/o})}const u=3;for(let f=0;f<u;f++){let v=a+o*(f+1)/(u+1),h=n;v<a+l?h=Hd(h+l,a+l,v,l,-1):v>a+o-l&&(h=Hd(h+l,a+o-l,v,l,-1)),e.push({id:String(e.length),flag:1,penId:t.id,x:(h-n)/r,y:(v-a)/o})}t.anchors=e}function _de(t){let e=t.calculative.borderRadius||0,n=t.calculative.borderRadius||0;const{width:a,height:r}=t;t.calculative.borderRadius<1&&(e=a*t.calculative.borderRadius,n=r*t.calculative.borderRadius);let o=e<n?e:n;return a<2*o&&(o=a/2),r<2*o&&(o=r/2),o}function Hd(t,e,n,a,r=1){return r*Math.sqrt(a**2-(n-e)**2)+t}function Wd(t,e,n,a,r=1){return r*Math.sqrt(a**2-(n-t)**2)+e}function Ide(t,e){const n=e||new Path2D,{x:a,y:r,width:o,height:l}=t.calculative.worldRect;if(n.moveTo(a,r+l),n.lineTo(a+o,r+l),n.closePath(),n instanceof Path2D)return n}function Nde(t){const e=[{x:0,y:1},{x:1,y:1}];t.anchors=e.map(({x:n,y:a},r)=>({id:r+"",x:n,y:a,penId:t.id}))}function Tde(){return{rectangle:Ai,square:Gse,circle:Xse,svgPath:pue,diamond:mue,triangle:yue,pentagon:wue,pentagram:xue,hexagon:Oue,leftArrow:kue,rightArrow:Pue,twowayArrow:_ue,message:Iue,cloud:Nue,file:Tue,people:Aue,line:Mue,iframe:Que,video:ade,gif:wde,mindNode:kde,mindLine:Ide,mindNode2:Ai,panel:fde,combine:Ai}}function Ede(){return{triangle:bue,pentagon:Cue,pentagram:_I,mindNode:JI,mindLine:Nde}}var Jt=(t=>(t[t.Link=0]="Link",t[t.SetProps=1]="SetProps",t[t.StartAnimate=2]="StartAnimate",t[t.PauseAnimate=3]="PauseAnimate",t[t.StopAnimate=4]="StopAnimate",t[t.JS=5]="JS",t[t.GlobalFn=6]="GlobalFn",t[t.Emit=7]="Emit",t[t.StartVideo=8]="StartVideo",t[t.PauseVideo=9]="PauseVideo",t[t.StopVideo=10]="StopVideo",t[t.SendPropData=11]="SendPropData",t[t.SendVarData=12]="SendVarData",t[t.Navigator=13]="Navigator",t[t.Dialog=14]="Dialog",t[t.SendData=15]="SendData",t[t.PostMessage=16]="PostMessage",t[t.PostMessageToParent=17]="PostMessageToParent",t[t.Message=18]="Message",t))(Jt||{});class Ade{constructor(e){te(this,"box");te(this,"boxWidth",320);te(this,"boxHeight",180);te(this,"ratio",this.boxWidth/this.boxHeight);te(this,"padding",5);te(this,"img");te(this,"isShow");te(this,"isDown");te(this,"view");te(this,"onMouseDown",e=>{e.preventDefault(),e.stopPropagation(),this.isDown=!0});te(this,"onMouseMove",e=>{if(e.preventDefault(),e.stopPropagation(),this.isDown)try{this.parent.gotoView(e.offsetX/this.box.clientWidth,e.offsetY/this.box.clientHeight)}catch(n){console.warn(n.message),this.isDown=!1}});te(this,"onMouseUp",e=>{e.preventDefault(),e.stopPropagation();try{this.parent.gotoView(e.offsetX/this.box.clientWidth,e.offsetY/this.box.clientHeight)}catch(n){console.warn(n.message)}finally{this.isDown=!1}});te(this,"onWheel",e=>{let n=.015;if(this.parent.store.options.scaleOff)n=this.parent.store.options.scaleOff,e.deltaY>0&&(n=-this.parent.store.options.scaleOff);else if(/mac os /i.test(navigator.userAgent))e.ctrlKey?e.deltaY>0&&(n*=-1):n*=e.wheelDeltaY/240;else{let c=.2;e.deltaY.toString().indexOf(".")!==-1&&(c=.01),e.deltaY>0?n=-c:n=c}let{offsetX:a,offsetY:r}=e;const o=this.parent.store.data.width||this.parent.store.options.width,l=this.parent.store.data.height||this.parent.store.options.height;if(o&&l)a=a/this.boxWidth*o*this.parent.store.data.scale+this.parent.store.data.origin.x+this.parent.store.data.x,r=r/this.boxHeight*l*this.parent.store.data.scale+this.parent.store.data.origin.y+this.parent.store.data.y;else{const s=this.parent.parent.getRect();a=a/this.boxWidth*s.width+s.x+this.parent.store.data.x,r=r/this.boxHeight*s.height+s.y+this.parent.store.data.y}this.parent.scale(this.parent.store.data.scale+n,{x:a,y:r})});var a;this.parent=e,this.box=document.createElement("div"),this.img=new Image,this.view=document.createElement("div"),this.box.appendChild(this.img),this.box.appendChild(this.view),(a=this.parent.externalElements)==null||a.parentElement.appendChild(this.box),this.box.className="meta2d-map",this.box.onmousedown=this.onMouseDown,this.box.onmousemove=this.onMouseMove,this.box.onmouseup=this.onMouseUp,this.box.onwheel=this.onWheel;let n;for(let r=0;r<document.styleSheets.length;r++)document.styleSheets[r].title==="le5le/map"&&(n=document.styleSheets[r]);if(!n){let r=document.createElement("style");r.type="text/css",r.title="le5le.com/map",document.head.appendChild(r),r=document.createElement("style"),r.type="text/css",document.head.appendChild(r),n=r.sheet,n.insertRule(`.meta2d-map{display:flex;width:${this.boxWidth+2*this.padding}px;height:${this.boxHeight+2*this.padding}px;padding:${this.padding}px;background:#f4f4f4;border:1px solid #ffffff;box-shadow: 0px 0px 14px 0px rgba(0,10,38,0.30);border-radius:8px;position:absolute;z-index:9999;right:0;bottom:0;justify-content:center;align-items:center;cursor:default;user-select:none;overflow: hidden;}`),n.insertRule(".meta2d-map img{max-width:100%;max-height:100%;pointer-events: none;}"),n.insertRule(".meta2d-map div{pointer-events: none;border:1px solid #1890ff;position:absolute}")}}show(){this.box.style.display="flex",this.parent.store.data.pens.length?(this.img.style.display="block",this.img.src=this.parent.toPng(),this.setView()):this.img.style.display="none",this.isShow=!0}hide(){this.box.style.display="none",this.isShow=!1}setView(){const e=this.parent.store.data;if(e.pens.length){let n=Pa(e.pens);const a=this.parent.store.data.width||this.parent.store.options.width,r=this.parent.store.data.height||this.parent.store.options.height;if(a&&r&&(n={x:this.parent.store.data.origin.x,y:this.parent.store.data.origin.y,width:a*this.parent.store.data.scale,height:r*this.parent.store.data.scale}),zi(n,e.x,e.y),n.width/n.height>this.ratio){const f=n.width/this.ratio;n.y-=(f-n.height)/2,n.height=f,Mt(n)}else{const f=n.height*this.ratio;n.x-=(f-n.width)/2,n.width=f,Mt(n)}const l=this.parent.canvasRect;let s=0,c=0;if(n.x<0)s=-n.x/n.width;else if(n.x+n.width>l.width){let f=0;l.width>n.width&&(f=l.width-n.width),s=(-n.x+f)/n.width}if(n.y<0)c=-n.y/n.height;else if(n.y+n.height>l.height){let f=0;l.height>n.height&&(f=l.height-n.height),c=(-n.y+f)/n.height}const d=l.width>n.width?1:l.width/n.width,u=l.height>n.height?1:l.height/n.height;this.view.style.left=this.padding+s*this.boxWidth+"px",this.view.style.width=d*this.boxWidth+"px",this.view.style.top=this.padding+c*this.boxHeight+"px",this.view.style.height=u*this.boxHeight+"px"}}}var wn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rde(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ud(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ZI={exports:{}};(function(t,e){(function(n){t.exports=n()})(function(){return function(){return function n(a,r,o){function l(d,u){if(!r[d]){if(!a[d]){var f=typeof Ud=="function"&&Ud;if(!u&&f)return f(d,!0);if(s)return s(d,!0);var v=new Error("Cannot find module '"+d+"'");throw v.code="MODULE_NOT_FOUND",v}var h=r[d]={exports:{}};a[d][0].call(h.exports,function(g){return l(a[d][1][g]||g)},h,h.exports,n,a,r,o)}return r[d].exports}for(var s=typeof Ud=="function"&&Ud,c=0;c<o.length;c++)l(o[c]);return l}}()({1:[function(n,a,r){(function(o,l){(function(){const s=n("events").EventEmitter,c=n("./store"),d=n("./topic-alias-recv"),u=n("./topic-alias-send"),f=n("mqtt-packet"),v=n("./default-message-id-provider"),h=n("readable-stream").Writable,g=n("inherits"),p=n("reinterval"),m=n("rfdc/default"),y=n("./validations"),b=n("xtend"),w=n("debug")("mqttjs:client"),C=o?o.nextTick:function(_){setTimeout(_,0)},x=l.setImmediate||function(_){C(_)},k={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:3e4,clean:!0,resubscribe:!0},P={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};function I(_,A){let E;A.properties&&(E=A.properties.topicAlias);let R=A.topic.toString();if(R.length===0){if(E===void 0)return new Error("Unregistered Topic Alias");if((R=_.topicAliasSend.getTopicByAlias(E))===void 0)return new Error("Unregistered Topic Alias");A.topic=R}E&&delete A.properties.topicAlias}function D(_,A,E){w("sendPacket :: packet: %O",A),w("sendPacket :: emitting `packetsend`"),_.emit("packetsend",A),w("sendPacket :: writing to stream");const R=f.writeToStream(A,_.stream,_.options);w("sendPacket :: writeToStream result %s",R),!R&&E&&E!==O?(w("sendPacket :: handle events on `drain` once through callback."),_.stream.once("drain",E)):E&&(w("sendPacket :: invoking cb"),E())}function L(_,A,E,R){w("storeAndSend :: store packet with cmd %s to outgoingStore",A.cmd);let N,F=A;if(F.cmd==="publish"&&(F=m(A),N=I(_,F)))return E&&E(N);_.outgoingStore.put(F,function(M){if(M)return E&&E(M);R(),D(_,A,E)})}function O(_){w("nop ::",_)}function S(_,A){let E;const R=this;if(!(this instanceof S))return new S(_,A);for(E in this.options=A||{},k)this.options[E]===void 0?this.options[E]=k[E]:this.options[E]=A[E];w("MqttClient :: options.protocol",A.protocol),w("MqttClient :: options.protocolVersion",A.protocolVersion),w("MqttClient :: options.username",A.username),w("MqttClient :: options.keepalive",A.keepalive),w("MqttClient :: options.reconnectPeriod",A.reconnectPeriod),w("MqttClient :: options.rejectUnauthorized",A.rejectUnauthorized),w("MqttClient :: options.topicAliasMaximum",A.topicAliasMaximum),this.options.clientId=typeof A.clientId=="string"?A.clientId:"mqttjs_"+Math.random().toString(16).substr(2,8),w("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=A.protocolVersion===5&&A.customHandleAcks?A.customHandleAcks:function(){arguments[3](0)},this.streamBuilder=_,this.messageIdProvider=this.options.messageIdProvider===void 0?new v:this.options.messageIdProvider,this.outgoingStore=A.outgoingStore||new c,this.incomingStore=A.incomingStore||new c,this.queueQoSZero=A.queueQoSZero===void 0||A.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,A.topicAliasMaximum>0&&(A.topicAliasMaximum>65535?w("MqttClient :: options.topicAliasMaximum is out of range"):this.topicAliasRecv=new d(A.topicAliasMaximum)),this.on("connect",function(){const N=this.queue;w("connect :: sending queued packets"),function F(){const M=N.shift();w("deliver :: entry %o",M);let $=null;if(!M)return void R._resubscribe();$=M.packet,w("deliver :: call _sendPacket for %o",$);let W=!0;$.messageId&&$.messageId!==0&&(R.messageIdProvider.register($.messageId)||(W=!1)),W?R._sendPacket($,function(H){M.cb&&M.cb(H),F()}):(w("messageId: %d has already used. The message is skipped and removed.",$.messageId),F())}()}),this.on("close",function(){w("close :: connected set to `false`"),this.connected=!1,w("close :: clearing connackTimer"),clearTimeout(this.connackTimer),w("close :: clearing ping timer"),R.pingTimer!==null&&(R.pingTimer.clear(),R.pingTimer=null),this.topicAliasRecv&&this.topicAliasRecv.clear(),w("close :: calling _setupReconnect"),this._setupReconnect()}),s.call(this),w("MqttClient :: setting up stream"),this._setupStream()}g(S,s),S.prototype._setupStream=function(){const _=this,A=new h,E=f.parser(this.options);let R=null;const N=[];function F(){if(N.length)C(M);else{const W=R;R=null,W()}}function M(){w("work :: getting next packet in queue");const W=N.shift();if(W)w("work :: packet pulled from queue"),_._handlePacket(W,F);else{w("work :: no packets in queue");const H=R;R=null,w("work :: done flag is %s",!!H),H&&H()}}w("_setupStream :: calling method to clear reconnect"),this._clearReconnect(),w("_setupStream :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),E.on("packet",function(W){w("parser :: on packet push to packets array."),N.push(W)}),A._write=function(W,H,K){R=K,w("writable stream :: parsing buffer"),E.parse(W),M()},w("_setupStream :: pipe stream to writable stream"),this.stream.pipe(A),this.stream.on("error",function(W){w("streamErrorHandler :: error",W.message),W.code?(w("streamErrorHandler :: emitting error"),_.emit("error",W)):O(W)}),this.stream.on("close",function(){var W;w("(%s)stream :: on close",_.options.clientId),(W=_.outgoing)&&(w("flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(W).forEach(function(H){W[H].volatile&&typeof W[H].cb=="function"&&(W[H].cb(new Error("Connection closed")),delete W[H])})),w("stream: emit close to MqttClient"),_.emit("close")}),w("_setupStream: sending packet `connect`");const $=Object.create(this.options);if($.cmd="connect",this.topicAliasRecv&&($.properties||($.properties={}),this.topicAliasRecv&&($.properties.topicAliasMaximum=this.topicAliasRecv.max)),D(this,$),E.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return _.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"&&D(this,b({cmd:"auth",reasonCode:0},this.options.authPacket))}this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(function(){w("!!connectTimeout hit!! Calling _cleanUp with force `true`"),_._cleanUp(!0)},this.options.connectTimeout)},S.prototype._handlePacket=function(_,A){const E=this.options;if(E.protocolVersion===5&&E.properties&&E.properties.maximumPacketSize&&E.properties.maximumPacketSize<_.length)return this.emit("error",new Error("exceeding packets size "+_.cmd)),this.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),this;switch(w("_handlePacket :: emitting packetreceive"),this.emit("packetreceive",_),_.cmd){case"publish":this._handlePublish(_,A);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":this._handleAck(_),A();break;case"pubrel":this._handlePubrel(_,A);break;case"connack":this._handleConnack(_),A();break;case"auth":this._handleAuth(_),A();break;case"pingresp":this._handlePingresp(_),A();break;case"disconnect":this._handleDisconnect(_),A()}},S.prototype._checkDisconnecting=function(_){return this.disconnecting&&(_&&_!==O?_(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting},S.prototype.publish=function(_,A,E,R){w("publish :: message `%s` to topic `%s`",A,_);const N=this.options;if(typeof E=="function"&&(R=E,E=null),E=b({qos:0,retain:!1,dup:!1},E),this._checkDisconnecting(R))return this;const F=this,M=function(){let $=0;if((E.qos===1||E.qos===2)&&($=F._nextId())===null)return w("No messageId left"),!1;const W={cmd:"publish",topic:_,payload:A,qos:E.qos,retain:E.retain,messageId:$,dup:E.dup};switch(N.protocolVersion===5&&(W.properties=E.properties),w("publish :: qos",E.qos),E.qos){case 1:case 2:F.outgoing[W.messageId]={volatile:!1,cb:R||O},w("MqttClient:publish: packet cmd: %s",W.cmd),F._sendPacket(W,void 0,E.cbStorePut);break;default:w("MqttClient:publish: packet cmd: %s",W.cmd),F._sendPacket(W,R,E.cbStorePut)}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!M())&&this._storeProcessingQueue.push({invoke:M,cbStorePut:E.cbStorePut,callback:R}),this},S.prototype.subscribe=function(){const _=this,A=new Array(arguments.length);for(let z=0;z<arguments.length;z++)A[z]=arguments[z];const E=[];let R=A.shift();const N=R.resubscribe;let F=A.pop()||O,M=A.pop();const $=this.options.protocolVersion;delete R.resubscribe,typeof R=="string"&&(R=[R]),typeof F!="function"&&(M=F,F=O);const W=y.validateTopics(R);if(W!==null)return x(F,new Error("Invalid topic "+W)),this;if(this._checkDisconnecting(F))return w("subscribe: discconecting true"),this;const H={qos:0};if($===5&&(H.nl=!1,H.rap=!1,H.rh=0),M=b(H,M),Array.isArray(R)?R.forEach(function(z){if(w("subscribe: array topic %s",z),!Object.prototype.hasOwnProperty.call(_._resubscribeTopics,z)||_._resubscribeTopics[z].qos<M.qos||N){const B={topic:z,qos:M.qos};$===5&&(B.nl=M.nl,B.rap=M.rap,B.rh=M.rh,B.properties=M.properties),w("subscribe: pushing topic `%s` and qos `%s` to subs list",B.topic,B.qos),E.push(B)}}):Object.keys(R).forEach(function(z){if(w("subscribe: object topic %s",z),!Object.prototype.hasOwnProperty.call(_._resubscribeTopics,z)||_._resubscribeTopics[z].qos<R[z].qos||N){const B={topic:z,qos:R[z].qos};$===5&&(B.nl=R[z].nl,B.rap=R[z].rap,B.rh=R[z].rh,B.properties=M.properties),w("subscribe: pushing `%s` to subs list",B),E.push(B)}}),!E.length)return F(null,[]),this;const K=function(){const z=_._nextId();if(z===null)return w("No messageId left"),!1;const B={cmd:"subscribe",subscriptions:E,qos:1,retain:!1,dup:!1,messageId:z};if(M.properties&&(B.properties=M.properties),_.options.resubscribe){w("subscribe :: resubscribe true");const q=[];E.forEach(function(Y){if(_.options.reconnectPeriod>0){const X={qos:Y.qos};$===5&&(X.nl=Y.nl||!1,X.rap=Y.rap||!1,X.rh=Y.rh||0,X.properties=Y.properties),_._resubscribeTopics[Y.topic]=X,q.push(Y.topic)}}),_.messageIdToTopic[B.messageId]=q}return _.outgoing[B.messageId]={volatile:!0,cb:function(q,Y){if(!q){const X=Y.granted;for(let T=0;T<X.length;T+=1)E[T].qos=X[T]}F(q,E)}},w("subscribe :: call _sendPacket"),_._sendPacket(B),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!K())&&this._storeProcessingQueue.push({invoke:K,callback:F}),this},S.prototype.unsubscribe=function(){const _=this,A=new Array(arguments.length);for(let $=0;$<arguments.length;$++)A[$]=arguments[$];let E=A.shift(),R=A.pop()||O,N=A.pop();typeof E=="string"&&(E=[E]),typeof R!="function"&&(N=R,R=O);const F=y.validateTopics(E);if(F!==null)return x(R,new Error("Invalid topic "+F)),this;if(_._checkDisconnecting(R))return this;const M=function(){const $=_._nextId();if($===null)return w("No messageId left"),!1;const W={cmd:"unsubscribe",qos:1,messageId:$};return typeof E=="string"?W.unsubscriptions=[E]:Array.isArray(E)&&(W.unsubscriptions=E),_.options.resubscribe&&W.unsubscriptions.forEach(function(H){delete _._resubscribeTopics[H]}),typeof N=="object"&&N.properties&&(W.properties=N.properties),_.outgoing[W.messageId]={volatile:!0,cb:R},w("unsubscribe: call _sendPacket"),_._sendPacket(W),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!M())&&this._storeProcessingQueue.push({invoke:M,callback:R}),this},S.prototype.end=function(_,A,E){const R=this;function N(){w("end :: (%s) :: finish :: calling _cleanUp with force %s",R.options.clientId,_),R._cleanUp(_,()=>{w("end :: finish :: calling process.nextTick on closeStores"),C((function(){w("end :: closeStores: closing incoming and outgoing stores"),R.disconnected=!0,R.incomingStore.close(function(F){R.outgoingStore.close(function(M){if(w("end :: closeStores: emitting end"),R.emit("end"),E){const $=F||M;w("end :: closeStores: invoking callback with args"),E($)}})}),R._deferredReconnect&&R._deferredReconnect()}).bind(R))},A)}return w("end :: (%s)",this.options.clientId),_!=null&&typeof _=="boolean"||(E=A||O,A=_,_=!1,typeof A!="object"&&(E=A,A=null,typeof E!="function"&&(E=O))),typeof A!="object"&&(E=A,A=null),w("end :: cb? %s",!!E),E=E||O,this.disconnecting?(E(),this):(this._clearReconnect(),this.disconnecting=!0,!_&&Object.keys(this.outgoing).length>0?(w("end :: (%s) :: calling finish in 10ms once outgoing is empty",R.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,N,10))):(w("end :: (%s) :: immediately calling finish",R.options.clientId),N()),this)},S.prototype.removeOutgoingMessage=function(_){const A=this.outgoing[_]?this.outgoing[_].cb:null;return delete this.outgoing[_],this.outgoingStore.del({messageId:_},function(){A(new Error("Message removed"))}),this},S.prototype.reconnect=function(_){w("client reconnect");const A=this,E=function(){_?(A.options.incomingStore=_.incomingStore,A.options.outgoingStore=_.outgoingStore):(A.options.incomingStore=null,A.options.outgoingStore=null),A.incomingStore=A.options.incomingStore||new c,A.outgoingStore=A.options.outgoingStore||new c,A.disconnecting=!1,A.disconnected=!1,A._deferredReconnect=null,A._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=E:E(),this},S.prototype._reconnect=function(){w("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this._setupStream()}),w("client already connected. disconnecting first.")):(w("_reconnect: calling _setupStream"),this._setupStream())},S.prototype._setupReconnect=function(){const _=this;!_.disconnecting&&!_.reconnectTimer&&_.options.reconnectPeriod>0?(this.reconnecting||(w("_setupReconnect :: emit `offline` state"),this.emit("offline"),w("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),w("_setupReconnect :: setting reconnectTimer for %d ms",_.options.reconnectPeriod),_.reconnectTimer=setInterval(function(){w("reconnectTimer :: reconnect triggered!"),_._reconnect()},_.options.reconnectPeriod)):w("_setupReconnect :: doing nothing...")},S.prototype._clearReconnect=function(){w("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)},S.prototype._cleanUp=function(_,A){const E=arguments[2];if(A&&(w("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",A)),w("_cleanUp :: forced? %s",_),_)this.options.reconnectPeriod===0&&this.options.clean&&(R=this.outgoing)&&(w("flush: queue exists? %b",!!R),Object.keys(R).forEach(function(N){typeof R[N].cb=="function"&&(R[N].cb(new Error("Connection closed")),delete R[N])})),w("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{const N=b({cmd:"disconnect"},E);w("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(N,x.bind(null,this.stream.end.bind(this.stream)))}var R;this.disconnecting||(w("_cleanUp :: client not disconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this.pingTimer!==null&&(w("_cleanUp :: clearing pingTimer"),this.pingTimer.clear(),this.pingTimer=null),A&&!this.connected&&(w("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",A),A())},S.prototype._sendPacket=function(_,A,E){w("_sendPacket :: (%s) ::  start",this.options.clientId),E=E||O,A=A||O;const R=function(N,F){if(N.options.protocolVersion===5&&F.cmd==="publish"){let M;F.properties&&(M=F.properties.topicAlias);const $=F.topic.toString();if(N.topicAliasSend)if(M){if($.length!==0&&(w("applyTopicAlias :: register topic: %s - alias: %d",$,M),!N.topicAliasSend.put($,M)))return w("applyTopicAlias :: error out of range. topic: %s - alias: %d",$,M),new Error("Sending Topic Alias out of range")}else $.length!==0&&(N.options.autoAssignTopicAlias?(M=N.topicAliasSend.getAliasByTopic($))?(F.topic="",F.properties={...F.properties,topicAlias:M},w("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",$,M)):(M=N.topicAliasSend.getLruAlias(),N.topicAliasSend.put($,M),F.properties={...F.properties,topicAlias:M},w("applyTopicAlias :: auto assign topic: %s - alias: %d",$,M)):N.options.autoUseTopicAlias&&(M=N.topicAliasSend.getAliasByTopic($))&&(F.topic="",F.properties={...F.properties,topicAlias:M},w("applyTopicAlias :: auto use topic: %s - alias: %d",$,M)));else if(M)return w("applyTopicAlias :: error out of range. topic: %s - alias: %d",$,M),new Error("Sending Topic Alias out of range")}}(this,_);if(R)A(R);else{if(!this.connected)return _.cmd==="auth"?(this._shiftPingInterval(),void D(this,_,A)):(w("_sendPacket :: client not connected. Storing packet offline."),void this._storePacket(_,A,E));switch(this._shiftPingInterval(),_.cmd){case"publish":break;case"pubrel":return void L(this,_,A,E);default:return void D(this,_,A)}switch(_.qos){case 2:case 1:L(this,_,A,E);break;case 0:default:D(this,_,A)}w("_sendPacket :: (%s) ::  end",this.options.clientId)}},S.prototype._storePacket=function(_,A,E){w("_storePacket :: packet: %o",_),w("_storePacket :: cb? %s",!!A),E=E||O;let R=_;if(R.cmd==="publish"){const N=I(this,R=m(_));if(N)return A&&A(N)}(R.qos||0)===0&&this.queueQoSZero||R.cmd!=="publish"?this.queue.push({packet:R,cb:A}):R.qos>0?(A=this.outgoing[R.messageId]?this.outgoing[R.messageId].cb:null,this.outgoingStore.put(R,function(N){if(N)return A&&A(N);E()})):A&&A(new Error("No connection to broker"))},S.prototype._setupPingTimer=function(){w("_setupPingTimer :: keepalive %d (seconds)",this.options.keepalive);const _=this;!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=p(function(){_._checkPing()},1e3*this.options.keepalive))},S.prototype._shiftPingInterval=function(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(1e3*this.options.keepalive)},S.prototype._checkPing=function(){w("_checkPing :: checking ping..."),this.pingResp?(w("_checkPing :: ping response received. Clearing flag and sending `pingreq`"),this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):(w("_checkPing :: calling _cleanUp with force true"),this._cleanUp(!0))},S.prototype._handlePingresp=function(){this.pingResp=!0},S.prototype._handleConnack=function(_){w("_handleConnack");const A=this.options,E=A.protocolVersion===5?_.reasonCode:_.returnCode;if(clearTimeout(this.connackTimer),delete this.topicAliasSend,_.properties){if(_.properties.topicAliasMaximum){if(_.properties.topicAliasMaximum>65535)return void this.emit("error",new Error("topicAliasMaximum from broker is out of range"));_.properties.topicAliasMaximum>0&&(this.topicAliasSend=new u(_.properties.topicAliasMaximum))}_.properties.serverKeepAlive&&A.keepalive&&(A.keepalive=_.properties.serverKeepAlive,this._shiftPingInterval()),_.properties.maximumPacketSize&&(A.properties||(A.properties={}),A.properties.maximumPacketSize=_.properties.maximumPacketSize)}if(E===0)this.reconnecting=!1,this._onConnect(_);else if(E>0){const R=new Error("Connection refused: "+P[E]);R.code=E,this.emit("error",R)}},S.prototype._handleAuth=function(_){const A=this.options.protocolVersion,E=A===5?_.reasonCode:_.returnCode;if(A!==5){const N=new Error("Protocol error: Auth packets are only supported in MQTT 5. Your version:"+A);return N.code=E,void this.emit("error",N)}const R=this;this.handleAuth(_,function(N,F){if(N)R.emit("error",N);else if(E===24)R.reconnecting=!1,R._sendPacket(F);else{const M=new Error("Connection refused: "+P[E]);N.code=E,R.emit("error",M)}})},S.prototype.handleAuth=function(_,A){A()},S.prototype._handlePublish=function(_,A){w("_handlePublish: packet %o",_),A=A!==void 0?A:O;let E=_.topic.toString();const R=_.payload,N=_.qos,F=_.messageId,M=this,$=this.options,W=[0,16,128,131,135,144,145,151,153];if(this.options.protocolVersion===5){let H;if(_.properties&&(H=_.properties.topicAlias),H!==void 0)if(E.length===0){if(!(H>0&&H<=65535))return w("_handlePublish :: topic alias out of range. alias: %d",H),void this.emit("error",new Error("Received Topic Alias is out of range"));{const K=this.topicAliasRecv.getTopicByAlias(H);if(!K)return w("_handlePublish :: unregistered topic alias. alias: %d",H),void this.emit("error",new Error("Received unregistered Topic Alias"));w("_handlePublish :: topic complemented by alias. topic: %s - alias: %d",E=K,H)}}else{if(!this.topicAliasRecv.put(E,H))return w("_handlePublish :: topic alias out of range. alias: %d",H),void this.emit("error",new Error("Received Topic Alias is out of range"));w("_handlePublish :: registered topic: %s - alias: %d",E,H)}}switch(w("_handlePublish: qos %d",N),N){case 2:$.customHandleAcks(E,R,_,function(H,K){return H instanceof Error||(K=H,H=null),H?M.emit("error",H):W.indexOf(K)===-1?M.emit("error",new Error("Wrong reason code for pubrec")):void(K?M._sendPacket({cmd:"pubrec",messageId:F,reasonCode:K},A):M.incomingStore.put(_,function(){M._sendPacket({cmd:"pubrec",messageId:F},A)}))});break;case 1:$.customHandleAcks(E,R,_,function(H,K){return H instanceof Error||(K=H,H=null),H?M.emit("error",H):W.indexOf(K)===-1?M.emit("error",new Error("Wrong reason code for puback")):(K||M.emit("message",E,R,_),void M.handleMessage(_,function(z){if(z)return A&&A(z);M._sendPacket({cmd:"puback",messageId:F,reasonCode:K},A)}))});break;case 0:this.emit("message",E,R,_),this.handleMessage(_,A);break;default:w("_handlePublish: unknown QoS. Doing nothing.")}},S.prototype.handleMessage=function(_,A){A()},S.prototype._handleAck=function(_){const A=_.messageId,E=_.cmd;let R=null;const N=this.outgoing[A]?this.outgoing[A].cb:null,F=this;let M;if(N){switch(w("_handleAck :: packet type",E),E){case"pubcomp":case"puback":{const $=_.reasonCode;$&&$>0&&$!==16&&((M=new Error("Publish error: "+P[$])).code=$,N(M,_)),delete this.outgoing[A],this.outgoingStore.del(_,N),this.messageIdProvider.deallocate(A),this._invokeStoreProcessingQueue();break}case"pubrec":{R={cmd:"pubrel",qos:2,messageId:A};const $=_.reasonCode;$&&$>0&&$!==16?((M=new Error("Publish error: "+P[$])).code=$,N(M,_)):this._sendPacket(R);break}case"suback":delete this.outgoing[A],this.messageIdProvider.deallocate(A);for(let $=0;$<_.granted.length;$++)if(128&_.granted[$]){const W=this.messageIdToTopic[A];W&&W.forEach(function(H){delete F._resubscribeTopics[H]})}this._invokeStoreProcessingQueue(),N(null,_);break;case"unsuback":delete this.outgoing[A],this.messageIdProvider.deallocate(A),this._invokeStoreProcessingQueue(),N(null);break;default:F.emit("error",new Error("unrecognized packet type"))}this.disconnecting&&Object.keys(this.outgoing).length===0&&this.emit("outgoingEmpty")}else w("_handleAck :: Server sent an ack in error. Ignoring.")},S.prototype._handlePubrel=function(_,A){w("handling pubrel packet"),A=A!==void 0?A:O;const E=this,R={cmd:"pubcomp",messageId:_.messageId};E.incomingStore.get(_,function(N,F){N?E._sendPacket(R,A):(E.emit("message",F.topic,F.payload,F),E.handleMessage(F,function(M){if(M)return A(M);E.incomingStore.del(F,O),E._sendPacket(R,A)}))})},S.prototype._handleDisconnect=function(_){this.emit("disconnect",_)},S.prototype._nextId=function(){return this.messageIdProvider.allocate()},S.prototype.getLastMessageId=function(){return this.messageIdProvider.getLastAllocated()},S.prototype._resubscribe=function(){w("_resubscribe");const _=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion===5&&!this.connackPacket.sessionPresent)&&_.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){w("_resubscribe: protocolVersion 5");for(let A=0;A<_.length;A++){const E={};E[_[A]]=this._resubscribeTopics[_[A]],E.resubscribe=!0,this.subscribe(E,{properties:E[_[A]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1},S.prototype._onConnect=function(_){if(this.disconnected)return void this.emit("connect",_);const A=this;this.connackPacket=_,this.messageIdProvider.clear(),this._setupPingTimer(),this.connected=!0,function E(){let R=A.outgoingStore.createStream();function N(){A._storeProcessing=!1,A._packetIdsDuringStoreProcessing={}}function F(){R.destroy(),R=null,A._flushStoreProcessingQueue(),N()}A.once("close",F),R.on("error",function(M){N(),A._flushStoreProcessingQueue(),A.removeListener("close",F),A.emit("error",M)}),R.on("end",function(){let M=!0;for(const $ in A._packetIdsDuringStoreProcessing)if(!A._packetIdsDuringStoreProcessing[$]){M=!1;break}M?(N(),A.removeListener("close",F),A._invokeAllStoreProcessingQueue(),A.emit("connect",_)):E()}),function M(){if(!R)return;A._storeProcessing=!0;const $=R.read(1);let W;$?A._packetIdsDuringStoreProcessing[$.messageId]?M():A.disconnecting||A.reconnectTimer?R.destroy&&R.destroy():(W=A.outgoing[$.messageId]?A.outgoing[$.messageId].cb:null,A.outgoing[$.messageId]={volatile:!1,cb:function(H,K){W&&W(H,K),M()}},A._packetIdsDuringStoreProcessing[$.messageId]=!0,A.messageIdProvider.register($.messageId)?A._sendPacket($):w("messageId: %d has already used.",$.messageId)):R.once("readable",M)}()}()},S.prototype._invokeStoreProcessingQueue=function(){if(this._storeProcessingQueue.length>0){const _=this._storeProcessingQueue[0];if(_&&_.invoke())return this._storeProcessingQueue.shift(),!0}return!1},S.prototype._invokeAllStoreProcessingQueue=function(){for(;this._invokeStoreProcessingQueue(););},S.prototype._flushStoreProcessingQueue=function(){for(const _ of this._storeProcessingQueue)_.cbStorePut&&_.cbStorePut(new Error("Connection closed")),_.callback&&_.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)},a.exports=S}).call(this)}).call(this,n("_process"),typeof wn<"u"?wn:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-message-id-provider":7,"./store":8,"./topic-alias-recv":9,"./topic-alias-send":10,"./validations":11,_process:50,debug:18,events:22,inherits:24,"mqtt-packet":40,"readable-stream":69,reinterval:70,"rfdc/default":71,xtend:81}],2:[function(n,a,r){const{Buffer:o}=n("buffer"),l=n("readable-stream").Transform,s=n("duplexify");let c,d,u,f=!1;a.exports=function(v,h){if(h.hostname=h.hostname||h.host,!h.hostname)throw new Error("Could not determine host. Specify host manually.");const g=h.protocolId==="MQIsdp"&&h.protocolVersion===3?"mqttv3.1":"mqtt";(function(m){m.hostname||(m.hostname="localhost"),m.path||(m.path="/"),m.wsOptions||(m.wsOptions={})})(h);const p=function(m,y){const b=m.protocol==="alis"?"wss":"ws";let w=b+"://"+m.hostname+m.path;return m.port&&m.port!==80&&m.port!==443&&(w=b+"://"+m.hostname+":"+m.port+m.path),typeof m.transformWsUrl=="function"&&(w=m.transformWsUrl(w,m,y)),w}(h,v);return(c=h.my).connectSocket({url:p,protocols:g}),d=function(){const m=new l;return m._write=function(y,b,w){c.sendSocketMessage({data:y.buffer,success:function(){w()},fail:function(){w(new Error)}})},m._flush=function(y){c.closeSocket({success:function(){y()}})},m}(),u=s.obj(),f||(f=!0,c.onSocketOpen(function(){u.setReadable(d),u.setWritable(d),u.emit("connect")}),c.onSocketMessage(function(m){if(typeof m.data=="string"){const y=o.from(m.data,"base64");d.push(y)}else{const y=new FileReader;y.addEventListener("load",function(){let b=y.result;b=b instanceof ArrayBuffer?o.from(b):o.from(b,"utf8"),d.push(b)}),y.readAsArrayBuffer(m.data)}}),c.onSocketClose(function(){u.end(),u.destroy()}),c.onSocketError(function(m){u.destroy(m)})),u}},{buffer:17,duplexify:20,"readable-stream":69}],3:[function(n,a,r){const o=n("net"),l=n("debug")("mqttjs:tcp");a.exports=function(s,c){c.port=c.port||1883,c.hostname=c.hostname||c.host||"localhost";const d=c.port,u=c.hostname;return l("port %d and host %s",d,u),o.createConnection(d,u)}},{debug:18,net:16}],4:[function(n,a,r){const o=n("tls"),l=n("net"),s=n("debug")("mqttjs:tls");a.exports=function(c,d){d.port=d.port||8883,d.host=d.hostname||d.host||"localhost",l.isIP(d.host)===0&&(d.servername=d.host),d.rejectUnauthorized=d.rejectUnauthorized!==!1,delete d.path,s("port %d host %s rejectUnauthorized %b",d.port,d.host,d.rejectUnauthorized);const u=o.connect(d);function f(v){d.rejectUnauthorized&&c.emit("error",v),u.end()}return u.on("secureConnect",function(){d.rejectUnauthorized&&!u.authorized?u.emit("error",new Error("TLS not authorized")):u.removeListener("error",f)}),u.on("error",f),u}},{debug:18,net:16,tls:16}],5:[function(n,a,r){(function(o){(function(){const{Buffer:l}=n("buffer"),s=n("ws"),c=n("debug")("mqttjs:ws"),d=n("duplexify"),u=n("readable-stream").Transform,f=["rejectUnauthorized","ca","cert","key","pfx","passphrase"],v=o!==void 0&&o.title==="browser"||typeof __webpack_require__=="function";function h(p,m){let y=p.protocol+"://"+p.hostname+":"+p.port+p.path;return typeof p.transformWsUrl=="function"&&(y=p.transformWsUrl(y,p,m)),y}function g(p){const m=p;return p.hostname||(m.hostname="localhost"),p.port||(p.protocol==="wss"?m.port=443:m.port=80),p.path||(m.path="/"),p.wsOptions||(m.wsOptions={}),v||p.protocol!=="wss"||f.forEach(function(y){Object.prototype.hasOwnProperty.call(p,y)&&!Object.prototype.hasOwnProperty.call(p.wsOptions,y)&&(m.wsOptions[y]=p[y])}),m}a.exports=v?function(p,m){let y;c("browserStreamBuilder");const b=function(_){const A=g(_);if(A.hostname||(A.hostname=A.host),!A.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");const E=new URL(document.URL);A.hostname=E.hostname,A.port||(A.port=E.port)}return A.objectMode===void 0&&(A.objectMode=!(A.binary===!0||A.binary===void 0)),A}(m).browserBufferSize||524288,w=m.browserBufferTimeout||1e3,C=!m.objectMode,x=function(_,A){const E=A.protocolId==="MQIsdp"&&A.protocolVersion===3?"mqttv3.1":"mqtt",R=h(A,_),N=new WebSocket(R,[E]);return N.binaryType="arraybuffer",N}(p,m),k=function(_,A,E){const R=new u({objectModeMode:_.objectMode});return R._write=A,R._flush=E,R}(m,function _(A,E,R){x.bufferedAmount>b&&setTimeout(_,w,A,E,R),C&&typeof A=="string"&&(A=l.from(A,"utf8"));try{x.send(A)}catch(N){return R(N)}R()},function(_){x.close(),_()});m.objectMode||(k._writev=S),k.on("close",()=>{x.close()});const P=x.addEventListener!==void 0;function I(){y.setReadable(k),y.setWritable(k),y.emit("connect")}function D(){y.end(),y.destroy()}function L(_){y.destroy(_)}function O(_){let A=_.data;A=A instanceof ArrayBuffer?l.from(A):l.from(A,"utf8"),k.push(A)}function S(_,A){const E=new Array(_.length);for(let R=0;R<_.length;R++)typeof _[R].chunk=="string"?E[R]=l.from(_[R],"utf8"):E[R]=_[R].chunk;this._write(l.concat(E),"binary",A)}return x.readyState===x.OPEN?y=k:(y=y=d(void 0,void 0,m),m.objectMode||(y._writev=S),P?x.addEventListener("open",I):x.onopen=I),y.socket=x,P?(x.addEventListener("close",D),x.addEventListener("error",L),x.addEventListener("message",O)):(x.onclose=D,x.onerror=L,x.onmessage=O),y}:function(p,m){c("streamBuilder");const y=g(m),b=h(y,p),w=function(x,k,P){c("createWebSocket"),c("protocol: "+P.protocolId+" "+P.protocolVersion);const I=P.protocolId==="MQIsdp"&&P.protocolVersion===3?"mqttv3.1":"mqtt";return c("creating new Websocket for url: "+k+" and protocol: "+I),new s(k,[I],P.wsOptions)}(0,b,y),C=s.createWebSocketStream(w,y.wsOptions);return C.url=b,w.on("close",()=>{C.destroy()}),C}}).call(this)}).call(this,n("_process"))},{_process:50,buffer:17,debug:18,duplexify:20,"readable-stream":69,ws:80}],6:[function(n,a,r){const{Buffer:o}=n("buffer"),l=n("readable-stream").Transform,s=n("duplexify");let c,d,u;a.exports=function(f,v){if(v.hostname=v.hostname||v.host,!v.hostname)throw new Error("Could not determine host. Specify host manually.");const h=v.protocolId==="MQIsdp"&&v.protocolVersion===3?"mqttv3.1":"mqtt";(function(m){m.hostname||(m.hostname="localhost"),m.path||(m.path="/"),m.wsOptions||(m.wsOptions={})})(v);const g=function(m,y){const b=m.protocol==="wxs"?"wss":"ws";let w=b+"://"+m.hostname+m.path;return m.port&&m.port!==80&&m.port!==443&&(w=b+"://"+m.hostname+":"+m.port+m.path),typeof m.transformWsUrl=="function"&&(w=m.transformWsUrl(w,m,y)),w}(v,f);c=wx.connectSocket({url:g,protocols:[h]}),d=function(){const m=new l;return m._write=function(y,b,w){c.send({data:y.buffer,success:function(){w()},fail:function(C){w(new Error(C))}})},m._flush=function(y){c.close({success:function(){y()}})},m}(),(u=s.obj())._destroy=function(m,y){c.close({success:function(){y&&y(m)}})};const p=u.destroy;return u.destroy=(function(){u.destroy=p;const m=this;setTimeout(function(){c.close({fail:function(){m._destroy(new Error)}})},0)}).bind(u),c.onOpen(function(){u.setReadable(d),u.setWritable(d),u.emit("connect")}),c.onMessage(function(m){let y=m.data;y=y instanceof ArrayBuffer?o.from(y):o.from(y,"utf8"),d.push(y)}),c.onClose(function(){u.end(),u.destroy()}),c.onError(function(m){u.destroy(new Error(m.errMsg))}),u}},{buffer:17,duplexify:20,"readable-stream":69}],7:[function(n,a,r){function o(){if(!(this instanceof o))return new o;this.nextId=Math.max(1,Math.floor(65535*Math.random()))}o.prototype.allocate=function(){const l=this.nextId++;return this.nextId===65536&&(this.nextId=1),l},o.prototype.getLastAllocated=function(){return this.nextId===1?65535:this.nextId-1},o.prototype.register=function(l){return!0},o.prototype.deallocate=function(l){},o.prototype.clear=function(){},a.exports=o},{}],8:[function(n,a,r){const o=n("xtend"),l=n("readable-stream").Readable,s={objectMode:!0},c={clean:!0};function d(u){if(!(this instanceof d))return new d(u);this.options=u||{},this.options=o(c,u),this._inflights=new Map}d.prototype.put=function(u,f){return this._inflights.set(u.messageId,u),f&&f(),this},d.prototype.createStream=function(){const u=new l(s),f=[];let v=!1,h=0;return this._inflights.forEach(function(g,p){f.push(g)}),u._read=function(){!v&&h<f.length?this.push(f[h++]):this.push(null)},u.destroy=function(){if(v)return;const g=this;v=!0,setTimeout(function(){g.emit("close")},0)},u},d.prototype.del=function(u,f){return(u=this._inflights.get(u.messageId))?(this._inflights.delete(u.messageId),f(null,u)):f&&f(new Error("missing packet")),this},d.prototype.get=function(u,f){return(u=this._inflights.get(u.messageId))?f(null,u):f&&f(new Error("missing packet")),this},d.prototype.close=function(u){this.options.clean&&(this._inflights=null),u&&u()},a.exports=d},{"readable-stream":69,xtend:81}],9:[function(n,a,r){function o(l){if(!(this instanceof o))return new o(l);this.aliasToTopic={},this.max=l}o.prototype.put=function(l,s){return!(s===0||s>this.max)&&(this.aliasToTopic[s]=l,this.length=Object.keys(this.aliasToTopic).length,!0)},o.prototype.getTopicByAlias=function(l){return this.aliasToTopic[l]},o.prototype.clear=function(){this.aliasToTopic={}},a.exports=o},{}],10:[function(n,a,r){const o=n("lru-cache"),l=n("number-allocator").NumberAllocator;function s(c){if(!(this instanceof s))return new s(c);c>0&&(this.aliasToTopic=new o({max:c}),this.topicToAlias={},this.numberAllocator=new l(1,c),this.max=c,this.length=0)}s.prototype.put=function(c,d){if(d===0||d>this.max)return!1;const u=this.aliasToTopic.get(d);return u&&delete this.topicToAlias[u],this.aliasToTopic.set(d,c),this.topicToAlias[c]=d,this.numberAllocator.use(d),this.length=this.aliasToTopic.length,!0},s.prototype.getTopicByAlias=function(c){return this.aliasToTopic.get(c)},s.prototype.getAliasByTopic=function(c){const d=this.topicToAlias[c];return d!==void 0&&this.aliasToTopic.get(d),d},s.prototype.clear=function(){this.aliasToTopic.reset(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0},s.prototype.getLruAlias=function(){return this.numberAllocator.firstVacant()||this.aliasToTopic.keys()[this.aliasToTopic.length-1]},a.exports=s},{"lru-cache":37,"number-allocator":46}],11:[function(n,a,r){function o(l){const s=l.split("/");for(let c=0;c<s.length;c++)if(s[c]!=="+"){if(s[c]==="#")return c===s.length-1;if(s[c].indexOf("+")!==-1||s[c].indexOf("#")!==-1)return!1}return!0}a.exports={validateTopics:function(l){if(l.length===0)return"empty_topic_list";for(let s=0;s<l.length;s++)if(!o(l[s]))return l[s];return null}}},{}],12:[function(n,a,r){(function(o){(function(){const l=n("../client"),s=n("../store"),c=n("url"),d=n("xtend"),u=n("debug")("mqttjs"),f={};function v(h,g){if(u("connecting to an MQTT broker..."),typeof h!="object"||g||(g=h,h=null),g=g||{},h){const m=c.parse(h,!0);if(m.port!=null&&(m.port=Number(m.port)),(g=d(m,g)).protocol===null)throw new Error("Missing protocol");g.protocol=g.protocol.replace(/:$/,"")}if(function(m){let y;m.auth&&((y=m.auth.match(/^(.+):(.+)$/))?(m.username=y[1],m.password=y[2]):m.username=m.auth)}(g),g.query&&typeof g.query.clientId=="string"&&(g.clientId=g.query.clientId),g.cert&&g.key){if(!g.protocol)throw new Error("Missing secure protocol key");if(["mqtts","wss","wxs","alis"].indexOf(g.protocol)===-1)switch(g.protocol){case"mqtt":g.protocol="mqtts";break;case"ws":g.protocol="wss";break;case"wx":g.protocol="wxs";break;case"ali":g.protocol="alis";break;default:throw new Error('Unknown protocol for secure connection: "'+g.protocol+'"!')}}if(!f[g.protocol]){const m=["mqtts","wss"].indexOf(g.protocol)!==-1;g.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter(function(y,b){return(!m||b%2!=0)&&typeof f[y]=="function"})[0]}if(g.clean===!1&&!g.clientId)throw new Error("Missing clientId for unclean clients");g.protocol&&(g.defaultProtocol=g.protocol);const p=new l(function(m){return g.servers&&(m._reconnectCount&&m._reconnectCount!==g.servers.length||(m._reconnectCount=0),g.host=g.servers[m._reconnectCount].host,g.port=g.servers[m._reconnectCount].port,g.protocol=g.servers[m._reconnectCount].protocol?g.servers[m._reconnectCount].protocol:g.defaultProtocol,g.hostname=g.host,m._reconnectCount++),u("calling streambuilder for",g.protocol),f[g.protocol](m,g)},g);return p.on("error",function(){}),p}o!==void 0&&o.title!=="browser"||typeof __webpack_require__!="function"?(f.mqtt=n("./tcp"),f.tcp=n("./tcp"),f.ssl=n("./tls"),f.tls=n("./tls"),f.mqtts=n("./tls")):(f.wx=n("./wx"),f.wxs=n("./wx"),f.ali=n("./ali"),f.alis=n("./ali")),f.ws=n("./ws"),f.wss=n("./ws"),a.exports=v,a.exports.connect=v,a.exports.MqttClient=l,a.exports.Store=s}).call(this)}).call(this,n("_process"))},{"../client":1,"../store":8,"./ali":2,"./tcp":3,"./tls":4,"./ws":5,"./wx":6,_process:50,debug:18,url:76,xtend:81}],13:[function(n,a,r){r.byteLength=function(h){var g=f(h),p=g[0],m=g[1];return 3*(p+m)/4-m},r.toByteArray=function(h){var g,p,m=f(h),y=m[0],b=m[1],w=new s(function(k,P,I){return 3*(P+I)/4-I}(0,y,b)),C=0,x=b>0?y-4:y;for(p=0;p<x;p+=4)g=l[h.charCodeAt(p)]<<18|l[h.charCodeAt(p+1)]<<12|l[h.charCodeAt(p+2)]<<6|l[h.charCodeAt(p+3)],w[C++]=g>>16&255,w[C++]=g>>8&255,w[C++]=255&g;return b===2&&(g=l[h.charCodeAt(p)]<<2|l[h.charCodeAt(p+1)]>>4,w[C++]=255&g),b===1&&(g=l[h.charCodeAt(p)]<<10|l[h.charCodeAt(p+1)]<<4|l[h.charCodeAt(p+2)]>>2,w[C++]=g>>8&255,w[C++]=255&g),w},r.fromByteArray=function(h){for(var g,p=h.length,m=p%3,y=[],b=0,w=p-m;b<w;b+=16383)y.push(v(h,b,b+16383>w?w:b+16383));return m===1?(g=h[p-1],y.push(o[g>>2]+o[g<<4&63]+"==")):m===2&&(g=(h[p-2]<<8)+h[p-1],y.push(o[g>>10]+o[g>>4&63]+o[g<<2&63]+"=")),y.join("")};for(var o=[],l=[],s=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,u=c.length;d<u;++d)o[d]=c[d],l[c.charCodeAt(d)]=d;function f(h){var g=h.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var p=h.indexOf("=");return p===-1&&(p=g),[p,p===g?0:4-p%4]}function v(h,g,p){for(var m,y,b=[],w=g;w<p;w+=3)m=(h[w]<<16&16711680)+(h[w+1]<<8&65280)+(255&h[w+2]),b.push(o[(y=m)>>18&63]+o[y>>12&63]+o[y>>6&63]+o[63&y]);return b.join("")}l[45]=62,l[95]=63},{}],14:[function(n,a,r){const{Buffer:o}=n("buffer"),l=Symbol.for("BufferList");function s(c){if(!(this instanceof s))return new s(c);s._init.call(this,c)}s._init=function(c){Object.defineProperty(this,l,{value:!0}),this._bufs=[],this.length=0,c&&this.append(c)},s.prototype._new=function(c){return new s(c)},s.prototype._offset=function(c){if(c===0)return[0,0];let d=0;for(let u=0;u<this._bufs.length;u++){const f=d+this._bufs[u].length;if(c<f||u===this._bufs.length-1)return[u,c-d];d=f}},s.prototype._reverseOffset=function(c){const d=c[0];let u=c[1];for(let f=0;f<d;f++)u+=this._bufs[f].length;return u},s.prototype.get=function(c){if(c>this.length||c<0)return;const d=this._offset(c);return this._bufs[d[0]][d[1]]},s.prototype.slice=function(c,d){return typeof c=="number"&&c<0&&(c+=this.length),typeof d=="number"&&d<0&&(d+=this.length),this.copy(null,0,c,d)},s.prototype.copy=function(c,d,u,f){if((typeof u!="number"||u<0)&&(u=0),(typeof f!="number"||f>this.length)&&(f=this.length),u>=this.length||f<=0)return c||o.alloc(0);const v=!!c,h=this._offset(u),g=f-u;let p=g,m=v&&d||0,y=h[1];if(u===0&&f===this.length){if(!v)return this._bufs.length===1?this._bufs[0]:o.concat(this._bufs,this.length);for(let b=0;b<this._bufs.length;b++)this._bufs[b].copy(c,m),m+=this._bufs[b].length;return c}if(p<=this._bufs[h[0]].length-y)return v?this._bufs[h[0]].copy(c,d,y,y+p):this._bufs[h[0]].slice(y,y+p);v||(c=o.allocUnsafe(g));for(let b=h[0];b<this._bufs.length;b++){const w=this._bufs[b].length-y;if(!(p>w)){this._bufs[b].copy(c,m,y,y+p),m+=w;break}this._bufs[b].copy(c,m,y),m+=w,p-=w,y&&(y=0)}return c.length>m?c.slice(0,m):c},s.prototype.shallowSlice=function(c,d){if(c=c||0,d=typeof d!="number"?this.length:d,c<0&&(c+=this.length),d<0&&(d+=this.length),c===d)return this._new();const u=this._offset(c),f=this._offset(d),v=this._bufs.slice(u[0],f[0]+1);return f[1]===0?v.pop():v[v.length-1]=v[v.length-1].slice(0,f[1]),u[1]!==0&&(v[0]=v[0].slice(u[1])),this._new(v)},s.prototype.toString=function(c,d,u){return this.slice(d,u).toString(c)},s.prototype.consume=function(c){if(c=Math.trunc(c),Number.isNaN(c)||c<=0)return this;for(;this._bufs.length;){if(!(c>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(c),this.length-=c;break}c-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},s.prototype.duplicate=function(){const c=this._new();for(let d=0;d<this._bufs.length;d++)c.append(this._bufs[d]);return c},s.prototype.append=function(c){if(c==null)return this;if(c.buffer)this._appendBuffer(o.from(c.buffer,c.byteOffset,c.byteLength));else if(Array.isArray(c))for(let d=0;d<c.length;d++)this.append(c[d]);else if(this._isBufferList(c))for(let d=0;d<c._bufs.length;d++)this.append(c._bufs[d]);else typeof c=="number"&&(c=c.toString()),this._appendBuffer(o.from(c));return this},s.prototype._appendBuffer=function(c){this._bufs.push(c),this.length+=c.length},s.prototype.indexOf=function(c,d,u){if(u===void 0&&typeof d=="string"&&(u=d,d=void 0),typeof c=="function"||Array.isArray(c))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof c=="number"?c=o.from([c]):typeof c=="string"?c=o.from(c,u):this._isBufferList(c)?c=c.slice():Array.isArray(c.buffer)?c=o.from(c.buffer,c.byteOffset,c.byteLength):o.isBuffer(c)||(c=o.from(c)),d=Number(d||0),isNaN(d)&&(d=0),d<0&&(d=this.length+d),d<0&&(d=0),c.length===0)return d>this.length?this.length:d;const f=this._offset(d);let v=f[0],h=f[1];for(;v<this._bufs.length;v++){const g=this._bufs[v];for(;h<g.length;)if(g.length-h>=c.length){const p=g.indexOf(c,h);if(p!==-1)return this._reverseOffset([v,p]);h=g.length-c.length+1}else{const p=this._reverseOffset([v,h]);if(this._match(p,c))return p;h++}h=0}return-1},s.prototype._match=function(c,d){if(this.length-c<d.length)return!1;for(let u=0;u<d.length;u++)if(this.get(c+u)!==d[u])return!1;return!0},function(){const c={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const d in c)(function(u){s.prototype[u]=c[u]===null?function(f,v){return this.slice(f,f+v)[u](0,v)}:function(f=0){return this.slice(f,f+c[u])[u](0)}})(d)}(),s.prototype._isBufferList=function(c){return c instanceof s||s.isBufferList(c)},s.isBufferList=function(c){return c!=null&&c[l]},a.exports=s},{buffer:17}],15:[function(n,a,r){const o=n("readable-stream").Duplex,l=n("inherits"),s=n("./BufferList");function c(d){if(!(this instanceof c))return new c(d);if(typeof d=="function"){this._callback=d;const u=(function(f){this._callback&&(this._callback(f),this._callback=null)}).bind(this);this.on("pipe",function(f){f.on("error",u)}),this.on("unpipe",function(f){f.removeListener("error",u)}),d=null}s._init.call(this,d),o.call(this)}l(c,o),Object.assign(c.prototype,s.prototype),c.prototype._new=function(d){return new c(d)},c.prototype._write=function(d,u,f){this._appendBuffer(d),typeof f=="function"&&f()},c.prototype._read=function(d){if(!this.length)return this.push(null);d=Math.min(d,this.length),this.push(this.slice(0,d)),this.consume(d)},c.prototype.end=function(d){o.prototype.end.call(this,d),this._callback&&(this._callback(null,this.slice()),this._callback=null)},c.prototype._destroy=function(d,u){this._bufs.length=0,this.length=0,u(d)},c.prototype._isBufferList=function(d){return d instanceof c||d instanceof s||c.isBufferList(d)},c.isBufferList=s.isBufferList,a.exports=c,a.exports.BufferListStream=c,a.exports.BufferList=s},{"./BufferList":14,inherits:24,"readable-stream":69}],16:[function(n,a,r){},{}],17:[function(n,a,r){(function(o){(function(){var l=n("base64-js"),s=n("ieee754");r.Buffer=u,r.SlowBuffer=function(T){return+T!=T&&(T=0),u.alloc(+T)},r.INSPECT_MAX_BYTES=50;var c=2147483647;function d(T){if(T>c)throw new RangeError('The value "'+T+'" is invalid for option "size"');var j=new Uint8Array(T);return j.__proto__=u.prototype,j}function u(T,j,U){if(typeof T=="number"){if(typeof j=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(T)}return f(T,j,U)}function f(T,j,U){if(typeof T=="string")return function(Q,ee){if(typeof ee=="string"&&ee!==""||(ee="utf8"),!u.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);var ne=0|m(Q,ee),V=d(ne),re=V.write(Q,ee);return re!==ne&&(V=V.slice(0,re)),V}(T,j);if(ArrayBuffer.isView(T))return g(T);if(T==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T);if(Y(T,ArrayBuffer)||T&&Y(T.buffer,ArrayBuffer))return function(Q,ee,ne){if(ee<0||Q.byteLength<ee)throw new RangeError('"offset" is outside of buffer bounds');if(Q.byteLength<ee+(ne||0))throw new RangeError('"length" is outside of buffer bounds');var V;return V=ee===void 0&&ne===void 0?new Uint8Array(Q):ne===void 0?new Uint8Array(Q,ee):new Uint8Array(Q,ee,ne),V.__proto__=u.prototype,V}(T,j,U);if(typeof T=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var J=T.valueOf&&T.valueOf();if(J!=null&&J!==T)return u.from(J,j,U);var Z=function(Q){if(u.isBuffer(Q)){var ee=0|p(Q.length),ne=d(ee);return ne.length===0||Q.copy(ne,0,0,ee),ne}if(Q.length!==void 0)return typeof Q.length!="number"||X(Q.length)?d(0):g(Q);if(Q.type==="Buffer"&&Array.isArray(Q.data))return g(Q.data)}(T);if(Z)return Z;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof T[Symbol.toPrimitive]=="function")return u.from(T[Symbol.toPrimitive]("string"),j,U);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T)}function v(T){if(typeof T!="number")throw new TypeError('"size" argument must be of type number');if(T<0)throw new RangeError('The value "'+T+'" is invalid for option "size"')}function h(T){return v(T),d(T<0?0:0|p(T))}function g(T){for(var j=T.length<0?0:0|p(T.length),U=d(j),J=0;J<j;J+=1)U[J]=255&T[J];return U}function p(T){if(T>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c.toString(16)+" bytes");return 0|T}function m(T,j){if(u.isBuffer(T))return T.length;if(ArrayBuffer.isView(T)||Y(T,ArrayBuffer))return T.byteLength;if(typeof T!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof T);var U=T.length,J=arguments.length>2&&arguments[2]===!0;if(!J&&U===0)return 0;for(var Z=!1;;)switch(j){case"ascii":case"latin1":case"binary":return U;case"utf8":case"utf-8":return z(T).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*U;case"hex":return U>>>1;case"base64":return B(T).length;default:if(Z)return J?-1:z(T).length;j=(""+j).toLowerCase(),Z=!0}}function y(T,j,U){var J=T[j];T[j]=T[U],T[U]=J}function b(T,j,U,J,Z){if(T.length===0)return-1;if(typeof U=="string"?(J=U,U=0):U>2147483647?U=2147483647:U<-2147483648&&(U=-2147483648),X(U=+U)&&(U=Z?0:T.length-1),U<0&&(U=T.length+U),U>=T.length){if(Z)return-1;U=T.length-1}else if(U<0){if(!Z)return-1;U=0}if(typeof j=="string"&&(j=u.from(j,J)),u.isBuffer(j))return j.length===0?-1:w(T,j,U,J,Z);if(typeof j=="number")return j&=255,typeof Uint8Array.prototype.indexOf=="function"?Z?Uint8Array.prototype.indexOf.call(T,j,U):Uint8Array.prototype.lastIndexOf.call(T,j,U):w(T,[j],U,J,Z);throw new TypeError("val must be string, number or Buffer")}function w(T,j,U,J,Z){var Q,ee=1,ne=T.length,V=j.length;if(J!==void 0&&((J=String(J).toLowerCase())==="ucs2"||J==="ucs-2"||J==="utf16le"||J==="utf-16le")){if(T.length<2||j.length<2)return-1;ee=2,ne/=2,V/=2,U/=2}function re(ye,me){return ee===1?ye[me]:ye.readUInt16BE(me*ee)}if(Z){var ce=-1;for(Q=U;Q<ne;Q++)if(re(T,Q)===re(j,ce===-1?0:Q-ce)){if(ce===-1&&(ce=Q),Q-ce+1===V)return ce*ee}else ce!==-1&&(Q-=Q-ce),ce=-1}else for(U+V>ne&&(U=ne-V),Q=U;Q>=0;Q--){for(var se=!0,ue=0;ue<V;ue++)if(re(T,Q+ue)!==re(j,ue)){se=!1;break}if(se)return Q}return-1}function C(T,j,U,J){U=Number(U)||0;var Z=T.length-U;J?(J=Number(J))>Z&&(J=Z):J=Z;var Q=j.length;J>Q/2&&(J=Q/2);for(var ee=0;ee<J;++ee){var ne=parseInt(j.substr(2*ee,2),16);if(X(ne))return ee;T[U+ee]=ne}return ee}function x(T,j,U,J){return q(z(j,T.length-U),T,U,J)}function k(T,j,U,J){return q(function(Z){for(var Q=[],ee=0;ee<Z.length;++ee)Q.push(255&Z.charCodeAt(ee));return Q}(j),T,U,J)}function P(T,j,U,J){return k(T,j,U,J)}function I(T,j,U,J){return q(B(j),T,U,J)}function D(T,j,U,J){return q(function(Z,Q){for(var ee,ne,V,re=[],ce=0;ce<Z.length&&!((Q-=2)<0);++ce)ee=Z.charCodeAt(ce),ne=ee>>8,V=ee%256,re.push(V),re.push(ne);return re}(j,T.length-U),T,U,J)}function L(T,j,U){return j===0&&U===T.length?l.fromByteArray(T):l.fromByteArray(T.slice(j,U))}function O(T,j,U){U=Math.min(T.length,U);for(var J=[],Z=j;Z<U;){var Q,ee,ne,V,re=T[Z],ce=null,se=re>239?4:re>223?3:re>191?2:1;if(Z+se<=U)switch(se){case 1:re<128&&(ce=re);break;case 2:(192&(Q=T[Z+1]))==128&&(V=(31&re)<<6|63&Q)>127&&(ce=V);break;case 3:Q=T[Z+1],ee=T[Z+2],(192&Q)==128&&(192&ee)==128&&(V=(15&re)<<12|(63&Q)<<6|63&ee)>2047&&(V<55296||V>57343)&&(ce=V);break;case 4:Q=T[Z+1],ee=T[Z+2],ne=T[Z+3],(192&Q)==128&&(192&ee)==128&&(192&ne)==128&&(V=(15&re)<<18|(63&Q)<<12|(63&ee)<<6|63&ne)>65535&&V<1114112&&(ce=V)}ce===null?(ce=65533,se=1):ce>65535&&(ce-=65536,J.push(ce>>>10&1023|55296),ce=56320|1023&ce),J.push(ce),Z+=se}return function(ue){var ye=ue.length;if(ye<=S)return String.fromCharCode.apply(String,ue);for(var me="",ge=0;ge<ye;)me+=String.fromCharCode.apply(String,ue.slice(ge,ge+=S));return me}(J)}r.kMaxLength=c,u.TYPED_ARRAY_SUPPORT=function(){try{var T=new Uint8Array(1);return T.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},T.foo()===42}catch{return!1}}(),u.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),u.poolSize=8192,u.from=function(T,j,U){return f(T,j,U)},u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,u.alloc=function(T,j,U){return function(J,Z,Q){return v(J),J<=0?d(J):Z!==void 0?typeof Q=="string"?d(J).fill(Z,Q):d(J).fill(Z):d(J)}(T,j,U)},u.allocUnsafe=function(T){return h(T)},u.allocUnsafeSlow=function(T){return h(T)},u.isBuffer=function(T){return T!=null&&T._isBuffer===!0&&T!==u.prototype},u.compare=function(T,j){if(Y(T,Uint8Array)&&(T=u.from(T,T.offset,T.byteLength)),Y(j,Uint8Array)&&(j=u.from(j,j.offset,j.byteLength)),!u.isBuffer(T)||!u.isBuffer(j))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(T===j)return 0;for(var U=T.length,J=j.length,Z=0,Q=Math.min(U,J);Z<Q;++Z)if(T[Z]!==j[Z]){U=T[Z],J=j[Z];break}return U<J?-1:J<U?1:0},u.isEncoding=function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(T,j){if(!Array.isArray(T))throw new TypeError('"list" argument must be an Array of Buffers');if(T.length===0)return u.alloc(0);var U;if(j===void 0)for(j=0,U=0;U<T.length;++U)j+=T[U].length;var J=u.allocUnsafe(j),Z=0;for(U=0;U<T.length;++U){var Q=T[U];if(Y(Q,Uint8Array)&&(Q=u.from(Q)),!u.isBuffer(Q))throw new TypeError('"list" argument must be an Array of Buffers');Q.copy(J,Z),Z+=Q.length}return J},u.byteLength=m,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var T=this.length;if(T%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var j=0;j<T;j+=2)y(this,j,j+1);return this},u.prototype.swap32=function(){var T=this.length;if(T%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var j=0;j<T;j+=4)y(this,j,j+3),y(this,j+1,j+2);return this},u.prototype.swap64=function(){var T=this.length;if(T%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var j=0;j<T;j+=8)y(this,j,j+7),y(this,j+1,j+6),y(this,j+2,j+5),y(this,j+3,j+4);return this},u.prototype.toString=function(){var T=this.length;return T===0?"":arguments.length===0?O(this,0,T):(function(j,U,J){var Z=!1;if((U===void 0||U<0)&&(U=0),U>this.length||((J===void 0||J>this.length)&&(J=this.length),J<=0)||(J>>>=0)<=(U>>>=0))return"";for(j||(j="utf8");;)switch(j){case"hex":return E(this,U,J);case"utf8":case"utf-8":return O(this,U,J);case"ascii":return _(this,U,J);case"latin1":case"binary":return A(this,U,J);case"base64":return L(this,U,J);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,U,J);default:if(Z)throw new TypeError("Unknown encoding: "+j);j=(j+"").toLowerCase(),Z=!0}}).apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(T){if(!u.isBuffer(T))throw new TypeError("Argument must be a Buffer");return this===T||u.compare(this,T)===0},u.prototype.inspect=function(){var T="",j=r.INSPECT_MAX_BYTES;return T=this.toString("hex",0,j).replace(/(.{2})/g,"$1 ").trim(),this.length>j&&(T+=" ... "),"<Buffer "+T+">"},u.prototype.compare=function(T,j,U,J,Z){if(Y(T,Uint8Array)&&(T=u.from(T,T.offset,T.byteLength)),!u.isBuffer(T))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof T);if(j===void 0&&(j=0),U===void 0&&(U=T?T.length:0),J===void 0&&(J=0),Z===void 0&&(Z=this.length),j<0||U>T.length||J<0||Z>this.length)throw new RangeError("out of range index");if(J>=Z&&j>=U)return 0;if(J>=Z)return-1;if(j>=U)return 1;if(j>>>=0,U>>>=0,J>>>=0,Z>>>=0,this===T)return 0;for(var Q=Z-J,ee=U-j,ne=Math.min(Q,ee),V=this.slice(J,Z),re=T.slice(j,U),ce=0;ce<ne;++ce)if(V[ce]!==re[ce]){Q=V[ce],ee=re[ce];break}return Q<ee?-1:ee<Q?1:0},u.prototype.includes=function(T,j,U){return this.indexOf(T,j,U)!==-1},u.prototype.indexOf=function(T,j,U){return b(this,T,j,U,!0)},u.prototype.lastIndexOf=function(T,j,U){return b(this,T,j,U,!1)},u.prototype.write=function(T,j,U,J){if(j===void 0)J="utf8",U=this.length,j=0;else if(U===void 0&&typeof j=="string")J=j,U=this.length,j=0;else{if(!isFinite(j))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");j>>>=0,isFinite(U)?(U>>>=0,J===void 0&&(J="utf8")):(J=U,U=void 0)}var Z=this.length-j;if((U===void 0||U>Z)&&(U=Z),T.length>0&&(U<0||j<0)||j>this.length)throw new RangeError("Attempt to write outside buffer bounds");J||(J="utf8");for(var Q=!1;;)switch(J){case"hex":return C(this,T,j,U);case"utf8":case"utf-8":return x(this,T,j,U);case"ascii":return k(this,T,j,U);case"latin1":case"binary":return P(this,T,j,U);case"base64":return I(this,T,j,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,T,j,U);default:if(Q)throw new TypeError("Unknown encoding: "+J);J=(""+J).toLowerCase(),Q=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function _(T,j,U){var J="";U=Math.min(T.length,U);for(var Z=j;Z<U;++Z)J+=String.fromCharCode(127&T[Z]);return J}function A(T,j,U){var J="";U=Math.min(T.length,U);for(var Z=j;Z<U;++Z)J+=String.fromCharCode(T[Z]);return J}function E(T,j,U){var J=T.length;(!j||j<0)&&(j=0),(!U||U<0||U>J)&&(U=J);for(var Z="",Q=j;Q<U;++Q)Z+=K(T[Q]);return Z}function R(T,j,U){for(var J=T.slice(j,U),Z="",Q=0;Q<J.length;Q+=2)Z+=String.fromCharCode(J[Q]+256*J[Q+1]);return Z}function N(T,j,U){if(T%1!=0||T<0)throw new RangeError("offset is not uint");if(T+j>U)throw new RangeError("Trying to access beyond buffer length")}function F(T,j,U,J,Z,Q){if(!u.isBuffer(T))throw new TypeError('"buffer" argument must be a Buffer instance');if(j>Z||j<Q)throw new RangeError('"value" argument is out of bounds');if(U+J>T.length)throw new RangeError("Index out of range")}function M(T,j,U,J,Z,Q){if(U+J>T.length)throw new RangeError("Index out of range");if(U<0)throw new RangeError("Index out of range")}function $(T,j,U,J,Z){return j=+j,U>>>=0,Z||M(T,0,U,4),s.write(T,j,U,J,23,4),U+4}function W(T,j,U,J,Z){return j=+j,U>>>=0,Z||M(T,0,U,8),s.write(T,j,U,J,52,8),U+8}u.prototype.slice=function(T,j){var U=this.length;T=~~T,j=j===void 0?U:~~j,T<0?(T+=U)<0&&(T=0):T>U&&(T=U),j<0?(j+=U)<0&&(j=0):j>U&&(j=U),j<T&&(j=T);var J=this.subarray(T,j);return J.__proto__=u.prototype,J},u.prototype.readUIntLE=function(T,j,U){T>>>=0,j>>>=0,U||N(T,j,this.length);for(var J=this[T],Z=1,Q=0;++Q<j&&(Z*=256);)J+=this[T+Q]*Z;return J},u.prototype.readUIntBE=function(T,j,U){T>>>=0,j>>>=0,U||N(T,j,this.length);for(var J=this[T+--j],Z=1;j>0&&(Z*=256);)J+=this[T+--j]*Z;return J},u.prototype.readUInt8=function(T,j){return T>>>=0,j||N(T,1,this.length),this[T]},u.prototype.readUInt16LE=function(T,j){return T>>>=0,j||N(T,2,this.length),this[T]|this[T+1]<<8},u.prototype.readUInt16BE=function(T,j){return T>>>=0,j||N(T,2,this.length),this[T]<<8|this[T+1]},u.prototype.readUInt32LE=function(T,j){return T>>>=0,j||N(T,4,this.length),(this[T]|this[T+1]<<8|this[T+2]<<16)+16777216*this[T+3]},u.prototype.readUInt32BE=function(T,j){return T>>>=0,j||N(T,4,this.length),16777216*this[T]+(this[T+1]<<16|this[T+2]<<8|this[T+3])},u.prototype.readIntLE=function(T,j,U){T>>>=0,j>>>=0,U||N(T,j,this.length);for(var J=this[T],Z=1,Q=0;++Q<j&&(Z*=256);)J+=this[T+Q]*Z;return J>=(Z*=128)&&(J-=Math.pow(2,8*j)),J},u.prototype.readIntBE=function(T,j,U){T>>>=0,j>>>=0,U||N(T,j,this.length);for(var J=j,Z=1,Q=this[T+--J];J>0&&(Z*=256);)Q+=this[T+--J]*Z;return Q>=(Z*=128)&&(Q-=Math.pow(2,8*j)),Q},u.prototype.readInt8=function(T,j){return T>>>=0,j||N(T,1,this.length),128&this[T]?-1*(255-this[T]+1):this[T]},u.prototype.readInt16LE=function(T,j){T>>>=0,j||N(T,2,this.length);var U=this[T]|this[T+1]<<8;return 32768&U?4294901760|U:U},u.prototype.readInt16BE=function(T,j){T>>>=0,j||N(T,2,this.length);var U=this[T+1]|this[T]<<8;return 32768&U?4294901760|U:U},u.prototype.readInt32LE=function(T,j){return T>>>=0,j||N(T,4,this.length),this[T]|this[T+1]<<8|this[T+2]<<16|this[T+3]<<24},u.prototype.readInt32BE=function(T,j){return T>>>=0,j||N(T,4,this.length),this[T]<<24|this[T+1]<<16|this[T+2]<<8|this[T+3]},u.prototype.readFloatLE=function(T,j){return T>>>=0,j||N(T,4,this.length),s.read(this,T,!0,23,4)},u.prototype.readFloatBE=function(T,j){return T>>>=0,j||N(T,4,this.length),s.read(this,T,!1,23,4)},u.prototype.readDoubleLE=function(T,j){return T>>>=0,j||N(T,8,this.length),s.read(this,T,!0,52,8)},u.prototype.readDoubleBE=function(T,j){return T>>>=0,j||N(T,8,this.length),s.read(this,T,!1,52,8)},u.prototype.writeUIntLE=function(T,j,U,J){T=+T,j>>>=0,U>>>=0,J||F(this,T,j,U,Math.pow(2,8*U)-1,0);var Z=1,Q=0;for(this[j]=255&T;++Q<U&&(Z*=256);)this[j+Q]=T/Z&255;return j+U},u.prototype.writeUIntBE=function(T,j,U,J){T=+T,j>>>=0,U>>>=0,J||F(this,T,j,U,Math.pow(2,8*U)-1,0);var Z=U-1,Q=1;for(this[j+Z]=255&T;--Z>=0&&(Q*=256);)this[j+Z]=T/Q&255;return j+U},u.prototype.writeUInt8=function(T,j,U){return T=+T,j>>>=0,U||F(this,T,j,1,255,0),this[j]=255&T,j+1},u.prototype.writeUInt16LE=function(T,j,U){return T=+T,j>>>=0,U||F(this,T,j,2,65535,0),this[j]=255&T,this[j+1]=T>>>8,j+2},u.prototype.writeUInt16BE=function(T,j,U){return T=+T,j>>>=0,U||F(this,T,j,2,65535,0),this[j]=T>>>8,this[j+1]=255&T,j+2},u.prototype.writeUInt32LE=function(T,j,U){return T=+T,j>>>=0,U||F(this,T,j,4,4294967295,0),this[j+3]=T>>>24,this[j+2]=T>>>16,this[j+1]=T>>>8,this[j]=255&T,j+4},u.prototype.writeUInt32BE=function(T,j,U){return T=+T,j>>>=0,U||F(this,T,j,4,4294967295,0),this[j]=T>>>24,this[j+1]=T>>>16,this[j+2]=T>>>8,this[j+3]=255&T,j+4},u.prototype.writeIntLE=function(T,j,U,J){if(T=+T,j>>>=0,!J){var Z=Math.pow(2,8*U-1);F(this,T,j,U,Z-1,-Z)}var Q=0,ee=1,ne=0;for(this[j]=255&T;++Q<U&&(ee*=256);)T<0&&ne===0&&this[j+Q-1]!==0&&(ne=1),this[j+Q]=(T/ee>>0)-ne&255;return j+U},u.prototype.writeIntBE=function(T,j,U,J){if(T=+T,j>>>=0,!J){var Z=Math.pow(2,8*U-1);F(this,T,j,U,Z-1,-Z)}var Q=U-1,ee=1,ne=0;for(this[j+Q]=255&T;--Q>=0&&(ee*=256);)T<0&&ne===0&&this[j+Q+1]!==0&&(ne=1),this[j+Q]=(T/ee>>0)-ne&255;return j+U},u.prototype.writeInt8=function(T,j,U){return T=+T,j>>>=0,U||F(this,T,j,1,127,-128),T<0&&(T=255+T+1),this[j]=255&T,j+1},u.prototype.writeInt16LE=function(T,j,U){return T=+T,j>>>=0,U||F(this,T,j,2,32767,-32768),this[j]=255&T,this[j+1]=T>>>8,j+2},u.prototype.writeInt16BE=function(T,j,U){return T=+T,j>>>=0,U||F(this,T,j,2,32767,-32768),this[j]=T>>>8,this[j+1]=255&T,j+2},u.prototype.writeInt32LE=function(T,j,U){return T=+T,j>>>=0,U||F(this,T,j,4,2147483647,-2147483648),this[j]=255&T,this[j+1]=T>>>8,this[j+2]=T>>>16,this[j+3]=T>>>24,j+4},u.prototype.writeInt32BE=function(T,j,U){return T=+T,j>>>=0,U||F(this,T,j,4,2147483647,-2147483648),T<0&&(T=4294967295+T+1),this[j]=T>>>24,this[j+1]=T>>>16,this[j+2]=T>>>8,this[j+3]=255&T,j+4},u.prototype.writeFloatLE=function(T,j,U){return $(this,T,j,!0,U)},u.prototype.writeFloatBE=function(T,j,U){return $(this,T,j,!1,U)},u.prototype.writeDoubleLE=function(T,j,U){return W(this,T,j,!0,U)},u.prototype.writeDoubleBE=function(T,j,U){return W(this,T,j,!1,U)},u.prototype.copy=function(T,j,U,J){if(!u.isBuffer(T))throw new TypeError("argument should be a Buffer");if(U||(U=0),J||J===0||(J=this.length),j>=T.length&&(j=T.length),j||(j=0),J>0&&J<U&&(J=U),J===U||T.length===0||this.length===0)return 0;if(j<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("sourceEnd out of bounds");J>this.length&&(J=this.length),T.length-j<J-U&&(J=T.length-j+U);var Z=J-U;if(this===T&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(j,U,J);else if(this===T&&U<j&&j<J)for(var Q=Z-1;Q>=0;--Q)T[Q+j]=this[Q+U];else Uint8Array.prototype.set.call(T,this.subarray(U,J),j);return Z},u.prototype.fill=function(T,j,U,J){if(typeof T=="string"){if(typeof j=="string"?(J=j,j=0,U=this.length):typeof U=="string"&&(J=U,U=this.length),J!==void 0&&typeof J!="string")throw new TypeError("encoding must be a string");if(typeof J=="string"&&!u.isEncoding(J))throw new TypeError("Unknown encoding: "+J);if(T.length===1){var Z=T.charCodeAt(0);(J==="utf8"&&Z<128||J==="latin1")&&(T=Z)}}else typeof T=="number"&&(T&=255);if(j<0||this.length<j||this.length<U)throw new RangeError("Out of range index");if(U<=j)return this;var Q;if(j>>>=0,U=U===void 0?this.length:U>>>0,T||(T=0),typeof T=="number")for(Q=j;Q<U;++Q)this[Q]=T;else{var ee=u.isBuffer(T)?T:u.from(T,J),ne=ee.length;if(ne===0)throw new TypeError('The value "'+T+'" is invalid for argument "value"');for(Q=0;Q<U-j;++Q)this[Q+j]=ee[Q%ne]}return this};var H=/[^+/0-9A-Za-z-_]/g;function K(T){return T<16?"0"+T.toString(16):T.toString(16)}function z(T,j){var U;j=j||1/0;for(var J=T.length,Z=null,Q=[],ee=0;ee<J;++ee){if((U=T.charCodeAt(ee))>55295&&U<57344){if(!Z){if(U>56319){(j-=3)>-1&&Q.push(239,191,189);continue}if(ee+1===J){(j-=3)>-1&&Q.push(239,191,189);continue}Z=U;continue}if(U<56320){(j-=3)>-1&&Q.push(239,191,189),Z=U;continue}U=65536+(Z-55296<<10|U-56320)}else Z&&(j-=3)>-1&&Q.push(239,191,189);if(Z=null,U<128){if((j-=1)<0)break;Q.push(U)}else if(U<2048){if((j-=2)<0)break;Q.push(U>>6|192,63&U|128)}else if(U<65536){if((j-=3)<0)break;Q.push(U>>12|224,U>>6&63|128,63&U|128)}else{if(!(U<1114112))throw new Error("Invalid code point");if((j-=4)<0)break;Q.push(U>>18|240,U>>12&63|128,U>>6&63|128,63&U|128)}}return Q}function B(T){return l.toByteArray(function(j){if((j=(j=j.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;j.length%4!=0;)j+="=";return j}(T))}function q(T,j,U,J){for(var Z=0;Z<J&&!(Z+U>=j.length||Z>=T.length);++Z)j[Z+U]=T[Z];return Z}function Y(T,j){return T instanceof j||T!=null&&T.constructor!=null&&T.constructor.name!=null&&T.constructor.name===j.name}function X(T){return T!=T}}).call(this)}).call(this,n("buffer").Buffer)},{"base64-js":13,buffer:17,ieee754:23}],18:[function(n,a,r){(function(o){(function(){r.formatArgs=function(s){if(s[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+s[0]+(this.useColors?"%c ":" ")+"+"+a.exports.humanize(this.diff),!this.useColors)return;const c="color: "+this.color;s.splice(1,0,c,"color: inherit");let d=0,u=0;s[0].replace(/%[a-zA-Z%]/g,f=>{f!=="%%"&&f==="%c"&&(u=++d)}),s.splice(u,0,c)},r.save=function(s){try{s?r.storage.setItem("debug",s):r.storage.removeItem("debug")}catch{}},r.load=function(){let s;try{s=r.storage.getItem("debug")}catch{}return!s&&o!==void 0&&"env"in o&&(s=o.env.DEBUG),s},r.useColors=function(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},r.storage=function(){try{return localStorage}catch{}}(),r.destroy=(()=>{let s=!1;return()=>{s||(s=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],r.log=console.debug||console.log||(()=>{}),a.exports=n("./common")(r);const{formatters:l}=a.exports;l.j=function(s){try{return JSON.stringify(s)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}}).call(this)}).call(this,n("_process"))},{"./common":19,_process:50}],19:[function(n,a,r){a.exports=function(o){function l(d){let u,f,v,h=null;function g(...p){if(!g.enabled)return;const m=g,y=Number(new Date),b=y-(u||y);m.diff=b,m.prev=u,m.curr=y,u=y,p[0]=l.coerce(p[0]),typeof p[0]!="string"&&p.unshift("%O");let w=0;p[0]=p[0].replace(/%([a-zA-Z%])/g,(C,x)=>{if(C==="%%")return"%";w++;const k=l.formatters[x];if(typeof k=="function"){const P=p[w];C=k.call(m,P),p.splice(w,1),w--}return C}),l.formatArgs.call(m,p),(m.log||l.log).apply(m,p)}return g.namespace=d,g.useColors=l.useColors(),g.color=l.selectColor(d),g.extend=s,g.destroy=l.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(f!==l.namespaces&&(f=l.namespaces,v=l.enabled(d)),v),set:p=>{h=p}}),typeof l.init=="function"&&l.init(g),g}function s(d,u){const f=l(this.namespace+(u===void 0?":":u)+d);return f.log=this.log,f}function c(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}return l.debug=l,l.default=l,l.coerce=function(d){return d instanceof Error?d.stack||d.message:d},l.disable=function(){const d=[...l.names.map(c),...l.skips.map(c).map(u=>"-"+u)].join(",");return l.enable(""),d},l.enable=function(d){let u;l.save(d),l.namespaces=d,l.names=[],l.skips=[];const f=(typeof d=="string"?d:"").split(/[\s,]+/),v=f.length;for(u=0;u<v;u++)f[u]&&((d=f[u].replace(/\*/g,".*?"))[0]==="-"?l.skips.push(new RegExp("^"+d.substr(1)+"$")):l.names.push(new RegExp("^"+d+"$")))},l.enabled=function(d){if(d[d.length-1]==="*")return!0;let u,f;for(u=0,f=l.skips.length;u<f;u++)if(l.skips[u].test(d))return!1;for(u=0,f=l.names.length;u<f;u++)if(l.names[u].test(d))return!0;return!1},l.humanize=n("ms"),l.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(o).forEach(d=>{l[d]=o[d]}),l.names=[],l.skips=[],l.formatters={},l.selectColor=function(d){let u=0;for(let f=0;f<d.length;f++)u=(u<<5)-u+d.charCodeAt(f),u|=0;return l.colors[Math.abs(u)%l.colors.length]},l.enable(l.load()),l}},{ms:45}],20:[function(n,a,r){(function(o,l){(function(){var s=n("readable-stream"),c=n("end-of-stream"),d=n("inherits"),u=n("stream-shift"),f=l.from&&l.from!==Uint8Array.from?l.from([0]):new l([0]),v=function(m,y){m._corked?m.once("uncork",y):y()},h=function(m,y){return function(b){b?function(w,C){w._autoDestroy&&w.destroy(C)}(m,b.message==="premature close"?null:b):y&&!m._ended&&m.end()}},g=function(){},p=function(m,y,b){if(!(this instanceof p))return new p(m,y,b);s.Duplex.call(this,b),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!b||b.autoDestroy!==!1,this._forwardDestroy=!b||b.destroy!==!1,this._forwardEnd=!b||b.end!==!1,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,m&&this.setWritable(m),y&&this.setReadable(y)};d(p,s.Duplex),p.obj=function(m,y,b){return b||(b={}),b.objectMode=!0,b.highWaterMark=16,new p(m,y,b)},p.prototype.cork=function(){++this._corked==1&&this.emit("cork")},p.prototype.uncork=function(){this._corked&&--this._corked==0&&this.emit("uncork")},p.prototype.setWritable=function(m){if(this._unwrite&&this._unwrite(),this.destroyed)m&&m.destroy&&m.destroy();else if(m!==null&&m!==!1){var y=this,b=c(m,{writable:!0,readable:!1},h(this,this._forwardEnd)),w=function(){var C=y._ondrain;y._ondrain=null,C&&C()};this._unwrite&&o.nextTick(w),this._writable=m,this._writable.on("drain",w),this._unwrite=function(){y._writable.removeListener("drain",w),b()},this.uncork()}else this.end()},p.prototype.setReadable=function(m){if(this._unread&&this._unread(),this.destroyed)m&&m.destroy&&m.destroy();else{if(m===null||m===!1)return this.push(null),void this.resume();var y,b=this,w=c(m,{writable:!1,readable:!0},h(this)),C=function(){b._forward()},x=function(){b.push(null)};this._drained=!0,this._readable=m,this._readable2=m._readableState?m:(y=m,new s.Readable({objectMode:!0,highWaterMark:16}).wrap(y)),this._readable2.on("readable",C),this._readable2.on("end",x),this._unread=function(){b._readable2.removeListener("readable",C),b._readable2.removeListener("end",x),w()},this._forward()}},p.prototype._read=function(){this._drained=!0,this._forward()},p.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){var m;for(this._forwarding=!0;this._drained&&(m=u(this._readable2))!==null;)this.destroyed||(this._drained=this.push(m));this._forwarding=!1}},p.prototype.destroy=function(m,y){if(y||(y=g),this.destroyed)return y(null);this.destroyed=!0;var b=this;o.nextTick(function(){b._destroy(m),y(null)})},p.prototype._destroy=function(m){if(m){var y=this._ondrain;this._ondrain=null,y?y(m):this.emit("error",m)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},p.prototype._write=function(m,y,b){if(!this.destroyed)return this._corked?v(this,this._write.bind(this,m,y,b)):m===f?this._finish(b):this._writable?void(this._writable.write(m)===!1?this._ondrain=b:this.destroyed||b()):b()},p.prototype._finish=function(m){var y=this;this.emit("preend"),v(this,function(){var b,w;b=y._forwardEnd&&y._writable,w=function(){y._writableState.prefinished===!1&&(y._writableState.prefinished=!0),y.emit("prefinish"),v(y,m)},b?b._writableState&&b._writableState.finished?w():b._writableState?b.end(w):(b.end(),w()):w()})},p.prototype.end=function(m,y,b){return typeof m=="function"?this.end(null,null,m):typeof y=="function"?this.end(m,null,y):(this._ended=!0,m&&this.write(m),this._writableState.ending||this._writableState.destroyed||this.write(f),s.Writable.prototype.end.call(this,b))},a.exports=p}).call(this)}).call(this,n("_process"),n("buffer").Buffer)},{_process:50,buffer:17,"end-of-stream":21,inherits:24,"readable-stream":69,"stream-shift":74}],21:[function(n,a,r){(function(o){(function(){var l=n("once"),s=function(){},c=function(d,u,f){if(typeof u=="function")return c(d,null,u);u||(u={}),f=l(f||s);var v=d._writableState,h=d._readableState,g=u.readable||u.readable!==!1&&d.readable,p=u.writable||u.writable!==!1&&d.writable,m=!1,y=function(){d.writable||b()},b=function(){p=!1,g||f.call(d)},w=function(){g=!1,p||f.call(d)},C=function(D){f.call(d,D?new Error("exited with error code: "+D):null)},x=function(D){f.call(d,D)},k=function(){o.nextTick(P)},P=function(){if(!m)return(!g||h&&h.ended&&!h.destroyed)&&(!p||v&&v.ended&&!v.destroyed)?void 0:f.call(d,new Error("premature close"))},I=function(){d.req.on("finish",b)};return function(D){return D.setHeader&&typeof D.abort=="function"}(d)?(d.on("complete",b),d.on("abort",k),d.req?I():d.on("request",I)):p&&!v&&(d.on("end",y),d.on("close",y)),function(D){return D.stdio&&Array.isArray(D.stdio)&&D.stdio.length===3}(d)&&d.on("exit",C),d.on("end",w),d.on("finish",b),u.error!==!1&&d.on("error",x),d.on("close",k),function(){m=!0,d.removeListener("complete",b),d.removeListener("abort",k),d.removeListener("request",I),d.req&&d.req.removeListener("finish",b),d.removeListener("end",y),d.removeListener("close",y),d.removeListener("finish",b),d.removeListener("exit",C),d.removeListener("end",w),d.removeListener("error",x),d.removeListener("close",k)}};a.exports=c}).call(this)}).call(this,n("_process"))},{_process:50,once:48}],22:[function(n,a,r){var o=Object.create||function(w){var C=function(){};return C.prototype=w,new C},l=Object.keys||function(w){var C=[];for(var x in w)Object.prototype.hasOwnProperty.call(w,x)&&C.push(x);return x},s=Function.prototype.bind||function(w){var C=this;return function(){return C.apply(w,arguments)}};function c(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=o(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}a.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._maxListeners=void 0;var d,u=10;try{var f={};Object.defineProperty&&Object.defineProperty(f,"x",{value:0}),d=f.x===0}catch{d=!1}function v(w){return w._maxListeners===void 0?c.defaultMaxListeners:w._maxListeners}function h(w,C,x,k){var P,I,D;if(typeof x!="function")throw new TypeError('"listener" argument must be a function');if((I=w._events)?(I.newListener&&(w.emit("newListener",C,x.listener?x.listener:x),I=w._events),D=I[C]):(I=w._events=o(null),w._eventsCount=0),D){if(typeof D=="function"?D=I[C]=k?[x,D]:[D,x]:k?D.unshift(x):D.push(x),!D.warned&&(P=v(w))&&P>0&&D.length>P){D.warned=!0;var L=new Error("Possible EventEmitter memory leak detected. "+D.length+' "'+String(C)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');L.name="MaxListenersExceededWarning",L.emitter=w,L.type=C,L.count=D.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",L.name,L.message)}}else D=I[C]=x,++w._eventsCount;return w}function g(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var w=new Array(arguments.length),C=0;C<w.length;++C)w[C]=arguments[C];this.listener.apply(this.target,w)}}function p(w,C,x){var k={fired:!1,wrapFn:void 0,target:w,type:C,listener:x},P=s.call(g,k);return P.listener=x,k.wrapFn=P,P}function m(w,C,x){var k=w._events;if(!k)return[];var P=k[C];return P?typeof P=="function"?x?[P.listener||P]:[P]:x?function(I){for(var D=new Array(I.length),L=0;L<D.length;++L)D[L]=I[L].listener||I[L];return D}(P):b(P,P.length):[]}function y(w){var C=this._events;if(C){var x=C[w];if(typeof x=="function")return 1;if(x)return x.length}return 0}function b(w,C){for(var x=new Array(C),k=0;k<C;++k)x[k]=w[k];return x}d?Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(w){if(typeof w!="number"||w<0||w!=w)throw new TypeError('"defaultMaxListeners" must be a positive number');u=w}}):c.defaultMaxListeners=u,c.prototype.setMaxListeners=function(w){if(typeof w!="number"||w<0||isNaN(w))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=w,this},c.prototype.getMaxListeners=function(){return v(this)},c.prototype.emit=function(w){var C,x,k,P,I,D,L=w==="error";if(D=this._events)L=L&&D.error==null;else if(!L)return!1;if(L){if(arguments.length>1&&(C=arguments[1]),C instanceof Error)throw C;var O=new Error('Unhandled "error" event. ('+C+")");throw O.context=C,O}if(!(x=D[w]))return!1;var S=typeof x=="function";switch(k=arguments.length){case 1:(function(_,A,E){if(A)_.call(E);else for(var R=_.length,N=b(_,R),F=0;F<R;++F)N[F].call(E)})(x,S,this);break;case 2:(function(_,A,E,R){if(A)_.call(E,R);else for(var N=_.length,F=b(_,N),M=0;M<N;++M)F[M].call(E,R)})(x,S,this,arguments[1]);break;case 3:(function(_,A,E,R,N){if(A)_.call(E,R,N);else for(var F=_.length,M=b(_,F),$=0;$<F;++$)M[$].call(E,R,N)})(x,S,this,arguments[1],arguments[2]);break;case 4:(function(_,A,E,R,N,F){if(A)_.call(E,R,N,F);else for(var M=_.length,$=b(_,M),W=0;W<M;++W)$[W].call(E,R,N,F)})(x,S,this,arguments[1],arguments[2],arguments[3]);break;default:for(P=new Array(k-1),I=1;I<k;I++)P[I-1]=arguments[I];(function(_,A,E,R){if(A)_.apply(E,R);else for(var N=_.length,F=b(_,N),M=0;M<N;++M)F[M].apply(E,R)})(x,S,this,P)}return!0},c.prototype.addListener=function(w,C){return h(this,w,C,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(w,C){return h(this,w,C,!0)},c.prototype.once=function(w,C){if(typeof C!="function")throw new TypeError('"listener" argument must be a function');return this.on(w,p(this,w,C)),this},c.prototype.prependOnceListener=function(w,C){if(typeof C!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(w,p(this,w,C)),this},c.prototype.removeListener=function(w,C){var x,k,P,I,D;if(typeof C!="function")throw new TypeError('"listener" argument must be a function');if(!(k=this._events))return this;if(!(x=k[w]))return this;if(x===C||x.listener===C)--this._eventsCount==0?this._events=o(null):(delete k[w],k.removeListener&&this.emit("removeListener",w,x.listener||C));else if(typeof x!="function"){for(P=-1,I=x.length-1;I>=0;I--)if(x[I]===C||x[I].listener===C){D=x[I].listener,P=I;break}if(P<0)return this;P===0?x.shift():function(L,O){for(var S=O,_=S+1,A=L.length;_<A;S+=1,_+=1)L[S]=L[_];L.pop()}(x,P),x.length===1&&(k[w]=x[0]),k.removeListener&&this.emit("removeListener",w,D||C)}return this},c.prototype.removeAllListeners=function(w){var C,x,k;if(!(x=this._events))return this;if(!x.removeListener)return arguments.length===0?(this._events=o(null),this._eventsCount=0):x[w]&&(--this._eventsCount==0?this._events=o(null):delete x[w]),this;if(arguments.length===0){var P,I=l(x);for(k=0;k<I.length;++k)(P=I[k])!=="removeListener"&&this.removeAllListeners(P);return this.removeAllListeners("removeListener"),this._events=o(null),this._eventsCount=0,this}if(typeof(C=x[w])=="function")this.removeListener(w,C);else if(C)for(k=C.length-1;k>=0;k--)this.removeListener(w,C[k]);return this},c.prototype.listeners=function(w){return m(this,w,!0)},c.prototype.rawListeners=function(w){return m(this,w,!1)},c.listenerCount=function(w,C){return typeof w.listenerCount=="function"?w.listenerCount(C):y.call(w,C)},c.prototype.listenerCount=y,c.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],23:[function(n,a,r){r.read=function(o,l,s,c,d){var u,f,v=8*d-c-1,h=(1<<v)-1,g=h>>1,p=-7,m=s?d-1:0,y=s?-1:1,b=o[l+m];for(m+=y,u=b&(1<<-p)-1,b>>=-p,p+=v;p>0;u=256*u+o[l+m],m+=y,p-=8);for(f=u&(1<<-p)-1,u>>=-p,p+=c;p>0;f=256*f+o[l+m],m+=y,p-=8);if(u===0)u=1-g;else{if(u===h)return f?NaN:1/0*(b?-1:1);f+=Math.pow(2,c),u-=g}return(b?-1:1)*f*Math.pow(2,u-c)},r.write=function(o,l,s,c,d,u){var f,v,h,g=8*u-d-1,p=(1<<g)-1,m=p>>1,y=d===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=c?0:u-1,w=c?1:-1,C=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(v=isNaN(l)?1:0,f=p):(f=Math.floor(Math.log(l)/Math.LN2),l*(h=Math.pow(2,-f))<1&&(f--,h*=2),(l+=f+m>=1?y/h:y*Math.pow(2,1-m))*h>=2&&(f++,h/=2),f+m>=p?(v=0,f=p):f+m>=1?(v=(l*h-1)*Math.pow(2,d),f+=m):(v=l*Math.pow(2,m-1)*Math.pow(2,d),f=0));d>=8;o[s+b]=255&v,b+=w,v/=256,d-=8);for(f=f<<d|v,g+=d;g>0;o[s+b]=255&f,b+=w,f/=256,g-=8);o[s+b-w]|=128*C}},{}],24:[function(n,a,r){typeof Object.create=="function"?a.exports=function(o,l){l&&(o.super_=l,o.prototype=Object.create(l.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}))}:a.exports=function(o,l){if(l){o.super_=l;var s=function(){};s.prototype=l.prototype,o.prototype=new s,o.prototype.constructor=o}}},{}],25:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(s,c){this.color=!0,this.key=void 0,this.value=void 0,this.parent=void 0,this.brother=void 0,this.leftChild=void 0,this.rightChild=void 0,this.key=s,this.value=c}return l.prototype.rotateLeft=function(){var s=this.parent,c=this.brother,d=this.leftChild,u=this.rightChild;if(!u)throw new Error("unknown error");var f=u.leftChild,v=u.rightChild;return s&&(s.leftChild===this?s.leftChild=u:s.rightChild===this&&(s.rightChild=u)),u.parent=s,u.brother=c,u.leftChild=this,u.rightChild=v,c&&(c.brother=u),this.parent=u,this.brother=v,this.leftChild=d,this.rightChild=f,v&&(v.parent=u,v.brother=this),d&&(d.parent=this,d.brother=f),f&&(f.parent=this,f.brother=d),u},l.prototype.rotateRight=function(){var s=this.parent,c=this.brother,d=this.leftChild;if(!d)throw new Error("unknown error");var u=this.rightChild,f=d.leftChild,v=d.rightChild;return s&&(s.leftChild===this?s.leftChild=d:s.rightChild===this&&(s.rightChild=d)),d.parent=s,d.brother=c,d.leftChild=f,d.rightChild=this,c&&(c.brother=d),f&&(f.parent=d,f.brother=this),this.parent=d,this.brother=f,this.leftChild=v,this.rightChild=u,v&&(v.parent=this,v.brother=u),u&&(u.parent=this,u.brother=v),d},l.prototype.remove=function(){if(this.leftChild||this.rightChild)throw new Error("can only remove leaf node");this.parent&&(this===this.parent.leftChild?this.parent.leftChild=void 0:this===this.parent.rightChild&&(this.parent.rightChild=void 0)),this.brother&&(this.brother.brother=void 0),this.key=void 0,this.value=void 0,this.parent=void 0,this.brother=void 0},l.TreeNodeColorType={red:!0,black:!1},l}();Object.freeze(o),r.default=o},{}],26:[function(n,a,r){var o=this&&this.__generator||function(s,c){var d,u,f,v,h={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return v={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function g(p){return function(m){return function(y){if(d)throw new TypeError("Generator is already executing.");for(;h;)try{if(d=1,u&&(f=2&y[0]?u.return:y[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,y[1])).done)return f;switch(u=0,f&&(y=[2&y[0],f.value]),y[0]){case 0:case 1:f=y;break;case 4:return h.label++,{value:y[1],done:!1};case 5:h.label++,u=y[1],y=[0];continue;case 7:y=h.ops.pop(),h.trys.pop();continue;default:if(!(f=(f=h.trys).length>0&&f[f.length-1])&&(y[0]===6||y[0]===2)){h=0;continue}if(y[0]===3&&(!f||y[1]>f[0]&&y[1]<f[3])){h.label=y[1];break}if(y[0]===6&&h.label<f[1]){h.label=f[1],f=y;break}if(f&&h.label<f[2]){h.label=f[2],h.ops.push(y);break}f[2]&&h.ops.pop(),h.trys.pop();continue}y=c.call(s,h)}catch(b){y=[6,b],u=0}finally{d=f=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([p,m])}}};function l(s){var c=this;s===void 0&&(s=[]);var d=[],u=0,f=0,v=0,h=0,g=0,p=0;this.size=function(){return p},this.empty=function(){return p===0},this.clear=function(){u=v=f=h=g=p=0,y.call(this,l.bucketSize),p=0},this.front=function(){return d[u][f]},this.back=function(){return d[v][h]},this.forEach=function(b){if(!this.empty()){var w=0;if(u!==v){for(x=f;x<l.bucketSize;++x)b(d[u][x],w++);for(x=u+1;x<v;++x)for(var C=0;C<l.bucketSize;++C)b(d[x][C],w++);for(x=0;x<=h;++x)b(d[v][x],w++)}else for(var x=f;x<=h;++x)b(d[u][x],w++)}};var m=function(b){var w=u*l.bucketSize+f,C=w+b,x=v*l.bucketSize+h;if(C<w||C>x)throw new Error("pos should more than 0 and less than queue's size");return{curNodeBucketIndex:Math.floor(C/l.bucketSize),curNodePointerIndex:C%l.bucketSize}};this.getElementByPos=function(b){var w=m(b),C=w.curNodeBucketIndex,x=w.curNodePointerIndex;return d[C][x]},this.eraseElementByPos=function(b){var w=this;if(b<0||b>p)throw new Error("pos should more than 0 and less than queue's size");if(b===0)this.popFront();else if(b===this.size())this.popBack();else{for(var C=[],x=b+1;x<p;++x)C.push(this.getElementByPos(x));this.cut(b),this.popBack(),C.forEach(function(k){return w.pushBack(k)})}},this.eraseElementByValue=function(b){if(!this.empty()){var w=[];this.forEach(function(k){k!==b&&w.push(k)});for(var C=w.length,x=0;x<C;++x)this.setElementByPos(x,w[x]);this.cut(C-1)}};var y=function(b){for(var w=[],C=b*l.sigma,x=Math.max(Math.ceil(C/l.bucketSize),2),k=0;k<x;++k)w.push(new Array(l.bucketSize));var P=Math.ceil(b/l.bucketSize),I=Math.floor(x/2)-Math.floor(P/2),D=I,L=0;if(this.size())for(k=0;k<P;++k){for(var O=0;O<l.bucketSize;++O)if(w[I+k][O]=this.front(),this.popFront(),this.empty()){D=I+k,L=O;break}if(this.empty())break}d=w,u=I,f=0,v=D,h=L,g=x,p=b};this.pushBack=function(b){this.empty()||(v===g-1&&h===l.bucketSize-1&&y.call(this,this.size()),h<l.bucketSize-1?++h:v<g-1&&(++v,h=0)),++p,d[v][h]=b},this.popBack=function(){this.empty()||(this.size()!==1&&(h>0?--h:u<v&&(--v,h=l.bucketSize-1)),p>0&&--p)},this.setElementByPos=function(b,w){var C=m(b),x=C.curNodeBucketIndex,k=C.curNodePointerIndex;d[x][k]=w},this.insert=function(b,w,C){var x=this;if(C===void 0&&(C=1),b===0)for(;C--;)this.pushFront(w);else if(b===this.size())for(;C--;)this.pushBack(w);else{for(var k=[],P=b;P<p;++P)k.push(this.getElementByPos(P));for(this.cut(b-1),P=0;P<C;++P)this.pushBack(w);k.forEach(function(I){return x.pushBack(I)})}},this.find=function(b){if(u===v){for(var w=f;w<=h;++w)if(d[u][w]===b)return!0;return!1}for(w=f;w<l.bucketSize;++w)if(d[u][w]===b)return!0;for(w=u+1;w<v;++w)for(var C=0;C<l.bucketSize;++C)if(d[w][C]===b)return!0;for(w=0;w<=h;++w)if(d[v][w]===b)return!0;return!1},this.reverse=function(){for(var b=0,w=p-1;b<w;){var C=this.getElementByPos(b);this.setElementByPos(b,this.getElementByPos(w)),this.setElementByPos(w,C),++b,--w}},this.unique=function(){if(!this.empty()){var b=[],w=this.front();this.forEach(function(x,k){k!==0&&x===w||(b.push(x),w=x)});for(var C=0;C<p;++C)this.setElementByPos(C,b[C]);this.cut(b.length-1)}},this.sort=function(b){var w=[];this.forEach(function(x){w.push(x)}),w.sort(b);for(var C=0;C<p;++C)this.setElementByPos(C,w[C])},this.pushFront=function(b){this.empty()||(u===0&&f===0&&y.call(this,this.size()),f>0?--f:u>0&&(--u,f=l.bucketSize-1)),++p,d[u][f]=b},this.popFront=function(){this.empty()||(this.size()!==1&&(f<l.bucketSize-1?++f:u<v&&(++u,f=0)),p>0&&--p)},this.shrinkToFit=function(){var b=this,w=[];this.forEach(function(P){w.push(P)});var C=w.length;d=[];for(var x=Math.ceil(C/l.bucketSize),k=0;k<x;++k)d.push(new Array(l.bucketSize));this.clear(),w.forEach(function(P){return b.pushBack(P)})},this.cut=function(b){if(b<0)this.clear();else{var w=m(b),C=w.curNodeBucketIndex,x=w.curNodePointerIndex;v=C,h=x,p=b+1}},this[Symbol.iterator]=function(){return function(){var b,w;return o(this,function(C){switch(C.label){case 0:if(p===0)return[2];if(u!==v)return[3,5];w=f,C.label=1;case 1:return w<=h?[4,d[u][w]]:[3,4];case 2:C.sent(),C.label=3;case 3:return++w,[3,1];case 4:return[2];case 5:w=f,C.label=6;case 6:return w<l.bucketSize?[4,d[u][w]]:[3,9];case 7:C.sent(),C.label=8;case 8:return++w,[3,6];case 9:w=u+1,C.label=10;case 10:if(!(w<v))return[3,15];b=0,C.label=11;case 11:return b<l.bucketSize?[4,d[w][b]]:[3,14];case 12:C.sent(),C.label=13;case 13:return++b,[3,11];case 14:return++w,[3,10];case 15:w=0,C.label=16;case 16:return w<=h?[4,d[v][w]]:[3,19];case 17:C.sent(),C.label=18;case 18:return++w,[3,16];case 19:return[2]}})}()},function(){var b=l.bucketSize;s.size?b=s.size():s.length&&(b=s.length);var w=b*l.sigma;g=Math.ceil(w/l.bucketSize),g=Math.max(g,3);for(var C=0;C<g;++C)d.push(new Array(l.bucketSize));var x=Math.ceil(b/l.bucketSize);u=Math.floor(g/2)-Math.floor(x/2),v=u,s.forEach(function(k){return c.pushBack(k)})}(),Object.freeze(this)}Object.defineProperty(r,"__esModule",{value:!0}),l.sigma=3,l.bucketSize=5e3,Object.freeze(l),r.default=l},{}],27:[function(n,a,r){var o=this&&this.__generator||function(u,f){var v,h,g,p,m={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]};return p={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function y(b){return function(w){return function(C){if(v)throw new TypeError("Generator is already executing.");for(;m;)try{if(v=1,h&&(g=2&C[0]?h.return:C[0]?h.throw||((g=h.return)&&g.call(h),0):h.next)&&!(g=g.call(h,C[1])).done)return g;switch(h=0,g&&(C=[2&C[0],g.value]),C[0]){case 0:case 1:g=C;break;case 4:return m.label++,{value:C[1],done:!1};case 5:m.label++,h=C[1],C=[0];continue;case 7:C=m.ops.pop(),m.trys.pop();continue;default:if(!(g=(g=m.trys).length>0&&g[g.length-1])&&(C[0]===6||C[0]===2)){m=0;continue}if(C[0]===3&&(!g||C[1]>g[0]&&C[1]<g[3])){m.label=C[1];break}if(C[0]===6&&m.label<g[1]){m.label=g[1],g=C;break}if(g&&m.label<g[2]){m.label=g[2],m.ops.push(C);break}g[2]&&m.ops.pop(),m.trys.pop();continue}C=f.call(u,m)}catch(x){C=[6,x],h=0}finally{v=g=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([b,w])}}},l=this&&this.__values||function(u){var f=typeof Symbol=="function"&&Symbol.iterator,v=f&&u[f],h=0;if(v)return v.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&h>=u.length&&(u=void 0),{value:u&&u[h++],done:!u}}};throw new TypeError(f?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=n("../LinkList/LinkList"),c=n("../Map/Map");function d(u,f,v){var h=this;if(u===void 0&&(u=[]),f===void 0&&(f=d.initSize),v=v||function(y){var b,w,C=0,x="";if(typeof y=="number")C=((C=Math.floor(y))<<5)-C,C&=C;else{x=typeof y!="string"?JSON.stringify(y):y;try{for(var k=l(x),P=k.next();!P.done;P=k.next())C=(C<<5)-C+P.value.charCodeAt(0),C&=C}catch(I){b={error:I}}finally{try{P&&!P.done&&(w=k.return)&&w.call(k)}finally{if(b)throw b.error}}}return C^=C>>>16},(f&f-1)!=0)throw new Error("initBucketNum must be 2 to the power of n");var g=0,p=[],m=Math.max(d.initSize,Math.min(d.maxSize,f));this.size=function(){return g},this.empty=function(){return g===0},this.clear=function(){g=0,m=f,p=[]},this.forEach=function(y){var b=0;p.forEach(function(w){w.forEach(function(C){y(C,b++)})})},this.setElement=function(y,b){var w,C;if(y==null)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(b!=null){var x=v(y)&m-1;if(p[x]){var k=p[x].size();if(p[x]instanceof s.default){try{for(var P=l(p[x]),I=P.next();!I.done;I=P.next()){var D=I.value;if(D.key===y)return void(D.value=b)}}catch(O){w={error:O}}finally{try{I&&!I.done&&(C=P.return)&&C.call(P)}finally{if(w)throw w.error}}p[x].pushBack({key:y,value:b}),p[x].size()>=d.treeifyThreshold&&(p[x]=new c.default(p[x]))}else p[x].setElement(y,b);var L=p[x].size();g+=L-k}else++g,p[x]=new s.default([{key:y,value:b}]);g>m*d.sigma&&(function(O){if(!(O>=d.maxSize)){m=2*O;var S=[];p.forEach(function(_,A){if(!_.empty()){if(_ instanceof s.default&&_.size()===1){var E=_.front(),R=E.key,N=E.value;S[v(R)&m-1]=new s.default([{key:R,value:N}])}else if(_ instanceof c.default){var F=new s.default,M=new s.default;_.forEach(function(H){v(H.key)&O?M.pushBack(H):F.pushBack(H)}),F.size()>d.untreeifyThreshold?S[A]=new c.default(F):F.size()&&(S[A]=F),M.size()>d.untreeifyThreshold?S[A+O]=new c.default(M):M.size()&&(S[A+O]=M)}else{var $=new s.default,W=new s.default;_.forEach(function(H){v(H.key)&O?W.pushBack(H):$.pushBack(H)}),$.size()&&(S[A]=$),W.size()&&(S[A+O]=W)}p[A].clear()}}),p=S}}).call(this,m)}else this.eraseElementByKey(y)},this.getElementByKey=function(y){var b,w,C=v(y)&m-1;if(p[C]){if(p[C]instanceof c.default)return p[C].getElementByKey(y);try{for(var x=l(p[C]),k=x.next();!k.done;k=x.next()){var P=k.value;if(P.key===y)return P.value}}catch(I){b={error:I}}finally{try{k&&!k.done&&(w=x.return)&&w.call(x)}finally{if(b)throw b.error}}}},this.eraseElementByKey=function(y){var b,w,C=v(y)&m-1;if(p[C]){var x=p[C].size();if(p[C]instanceof c.default)p[C].eraseElementByKey(y),p[C].size()<=d.untreeifyThreshold&&(p[C]=new s.default(p[C]));else{var k=-1;try{for(var P=l(p[C]),I=P.next();!I.done;I=P.next())if(++k,I.value.key===y){p[C].eraseElementByPos(k);break}}catch(L){b={error:L}}finally{try{I&&!I.done&&(w=P.return)&&w.call(P)}finally{if(b)throw b.error}}}var D=p[C].size();g+=D-x}},this.find=function(y){var b,w,C=v(y)&m-1;if(!p[C])return!1;if(p[C]instanceof c.default)return p[C].find(y);try{for(var x=l(p[C]),k=x.next();!k.done;k=x.next())if(k.value.key===y)return!0}catch(P){b={error:P}}finally{try{k&&!k.done&&(w=x.return)&&w.call(x)}finally{if(b)throw b.error}}return!1},this[Symbol.iterator]=function(){return function(){var y,b,w,C,x,k;return o(this,function(P){switch(P.label){case 0:y=0,P.label=1;case 1:if(!(y<m))return[3,10];for(;y<m&&!p[y];)++y;if(y>=m)return[3,10];P.label=2;case 2:P.trys.push([2,7,8,9]),x=void 0,b=l(p[y]),w=b.next(),P.label=3;case 3:return w.done?[3,6]:[4,w.value];case 4:P.sent(),P.label=5;case 5:return w=b.next(),[3,3];case 6:return[3,9];case 7:return C=P.sent(),x={error:C},[3,9];case 8:try{w&&!w.done&&(k=b.return)&&k.call(b)}finally{if(x)throw x.error}return[7];case 9:return++y,[3,1];case 10:return[2]}})}()},u.forEach(function(y){var b=y.key,w=y.value;return h.setElement(b,w)}),Object.freeze(this)}d.initSize=16,d.maxSize=1<<30,d.sigma=.75,d.treeifyThreshold=8,d.untreeifyThreshold=6,d.minTreeifySize=64,Object.freeze(d),r.default=d},{"../LinkList/LinkList":29,"../Map/Map":30}],28:[function(n,a,r){var o=this&&this.__generator||function(u,f){var v,h,g,p,m={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]};return p={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function y(b){return function(w){return function(C){if(v)throw new TypeError("Generator is already executing.");for(;m;)try{if(v=1,h&&(g=2&C[0]?h.return:C[0]?h.throw||((g=h.return)&&g.call(h),0):h.next)&&!(g=g.call(h,C[1])).done)return g;switch(h=0,g&&(C=[2&C[0],g.value]),C[0]){case 0:case 1:g=C;break;case 4:return m.label++,{value:C[1],done:!1};case 5:m.label++,h=C[1],C=[0];continue;case 7:C=m.ops.pop(),m.trys.pop();continue;default:if(!(g=(g=m.trys).length>0&&g[g.length-1])&&(C[0]===6||C[0]===2)){m=0;continue}if(C[0]===3&&(!g||C[1]>g[0]&&C[1]<g[3])){m.label=C[1];break}if(C[0]===6&&m.label<g[1]){m.label=g[1],g=C;break}if(g&&m.label<g[2]){m.label=g[2],m.ops.push(C);break}g[2]&&m.ops.pop(),m.trys.pop();continue}C=f.call(u,m)}catch(x){C=[6,x],h=0}finally{v=g=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([b,w])}}},l=this&&this.__values||function(u){var f=typeof Symbol=="function"&&Symbol.iterator,v=f&&u[f],h=0;if(v)return v.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&h>=u.length&&(u=void 0),{value:u&&u[h++],done:!u}}};throw new TypeError(f?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=n("../Set/Set"),c=n("../LinkList/LinkList");function d(u,f,v){var h=this;if(u===void 0&&(u=[]),f===void 0&&(f=d.initSize),v=v||function(y){var b=0,w="";if(typeof y=="number")b=((b=Math.floor(y))<<5)-b,b&=b;else{w=typeof y!="string"?JSON.stringify(y):y;for(var C=0;C<w.length;C++)b=(b<<5)-b+w.charCodeAt(C),b&=b}return b^=b>>>16},(f&f-1)!=0)throw new Error("initBucketNum must be 2 to the power of n");var g=0,p=[],m=Math.max(d.initSize,Math.min(d.maxSize,f));this.size=function(){return g},this.empty=function(){return g===0},this.clear=function(){g=0,m=f,p=[]},this.forEach=function(y){var b=0;p.forEach(function(w){w.forEach(function(C){y(C,b++)})})},this.insert=function(y){if(y==null)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");var b=v(y)&m-1;if(p[b]){var w=p[b].size();if(p[b]instanceof c.default){if(p[b].find(y))return;p[b].pushBack(y),p[b].size()>=d.treeifyThreshold&&(p[b]=new s.default(p[b]))}else p[b].insert(y);var C=p[b].size();g+=C-w}else p[b]=new c.default([y]),++g;g>m*d.sigma&&(function(x){if(!(x>=d.maxSize)){m=2*x;var k=[];p.forEach(function(P,I){if(!P.empty()){if(P instanceof c.default&&P.size()===1){var D=P.front();if(D===void 0)throw new Error("unknown error");k[v(D)&m-1]=new c.default([D])}else if(P instanceof s.default){var L=new c.default,O=new c.default;P.forEach(function(A){v(A)&x?O.pushBack(A):L.pushBack(A)}),L.size()>d.untreeifyThreshold?k[I]=new s.default(L):L.size()&&(k[I]=L),O.size()>d.untreeifyThreshold?k[I+x]=new s.default(O):O.size()&&(k[I+x]=O)}else{var S=new c.default,_=new c.default;P.forEach(function(A){v(A)&x?_.pushBack(A):S.pushBack(A)}),S.size()&&(k[I]=S),_.size()&&(k[I+x]=_)}p[I].clear()}}),p=k}}).call(this,m)},this.eraseElementByValue=function(y){var b=v(y)&m-1;if(p[b]){var w=p[b].size();p[b].eraseElementByValue(y),p[b]instanceof s.default&&p[b].size()<=d.untreeifyThreshold&&(p[b]=new c.default(p[b]));var C=p[b].size();g+=C-w}},this.find=function(y){var b=v(y)&m-1;return!!p[b]&&p[b].find(y)},this[Symbol.iterator]=function(){return function(){var y,b,w,C,x,k;return o(this,function(P){switch(P.label){case 0:y=0,P.label=1;case 1:if(!(y<m))return[3,10];for(;y<m&&!p[y];)++y;if(y>=m)return[3,10];P.label=2;case 2:P.trys.push([2,7,8,9]),x=void 0,b=l(p[y]),w=b.next(),P.label=3;case 3:return w.done?[3,6]:[4,w.value];case 4:P.sent(),P.label=5;case 5:return w=b.next(),[3,3];case 6:return[3,9];case 7:return C=P.sent(),x={error:C},[3,9];case 8:try{w&&!w.done&&(k=b.return)&&k.call(b)}finally{if(x)throw x.error}return[7];case 9:return++y,[3,1];case 10:return[2]}})}()},u.forEach(function(y){return h.insert(y)}),Object.freeze(this)}d.initSize=16,d.maxSize=1<<30,d.sigma=.75,d.treeifyThreshold=8,d.untreeifyThreshold=6,d.minTreeifySize=64,Object.freeze(d),r.default=d},{"../LinkList/LinkList":29,"../Set/Set":33}],29:[function(n,a,r){var o=this&&this.__generator||function(c,d){var u,f,v,h,g={label:0,sent:function(){if(1&v[0])throw v[1];return v[1]},trys:[],ops:[]};return h={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function p(m){return function(y){return function(b){if(u)throw new TypeError("Generator is already executing.");for(;g;)try{if(u=1,f&&(v=2&b[0]?f.return:b[0]?f.throw||((v=f.return)&&v.call(f),0):f.next)&&!(v=v.call(f,b[1])).done)return v;switch(f=0,v&&(b=[2&b[0],v.value]),b[0]){case 0:case 1:v=b;break;case 4:return g.label++,{value:b[1],done:!1};case 5:g.label++,f=b[1],b=[0];continue;case 7:b=g.ops.pop(),g.trys.pop();continue;default:if(!(v=(v=g.trys).length>0&&v[v.length-1])&&(b[0]===6||b[0]===2)){g=0;continue}if(b[0]===3&&(!v||b[1]>v[0]&&b[1]<v[3])){g.label=b[1];break}if(b[0]===6&&g.label<v[1]){g.label=v[1],v=b;break}if(v&&g.label<v[2]){g.label=v[2],g.ops.push(b);break}v[2]&&g.ops.pop(),g.trys.pop();continue}b=d.call(c,g)}catch(w){b=[6,w],f=0}finally{u=v=0}if(5&b[0])throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}([m,y])}}};Object.defineProperty(r,"__esModule",{value:!0});var l=function(){return function(c){this.value=void 0,this.pre=void 0,this.next=void 0,this.value=c}}();function s(c){var d=this;c===void 0&&(c=[]);var u=0,f=void 0,v=void 0;this.size=function(){return u},this.empty=function(){return u===0},this.clear=function(){f=v=void 0,u=0},this.front=function(){return f==null?void 0:f.value},this.back=function(){return v==null?void 0:v.value},this.forEach=function(h){for(var g=f,p=0;g;){if(g.value===void 0)throw new Error("unknown error");h(g.value,p++),g=g.next}},this.getElementByPos=function(h){if(h<0||h>=u)throw new Error("pos must more then 0 and less then the list length");for(var g=f;h--&&g;)g=g.next;if(!g||g.value===void 0)throw new Error("unknown error");return g.value},this.eraseElementByPos=function(h){if(h<0||h>=u)throw new Error("erase pos must more then 0 and less then the list length");if(h===0)this.popFront();else if(h===u-1)this.popBack();else{for(var g=f;h--;){if(!(g!=null&&g.next))throw new Error("unknown error");g=g.next}if(!g||!g.pre||!g.next)throw new Error("unknown error");var p=g.pre,m=g.next;m.pre=p,p.next=m,u>0&&--u}},this.eraseElementByValue=function(h){for(;f&&f.value===h;)this.popFront();for(;v&&v.value===h;)this.popBack();if(f)for(var g=f;g;){if(g.value===h){var p=g.pre,m=g.next;m&&(m.pre=p),p&&(p.next=m),u>0&&--u}g=g.next}},this.pushBack=function(h){if(h==null)throw new Error("you can't push null or undefined here");++u;var g=new l(h);v?(v.next=g,g.pre=v,v=g):f=v=g},this.popBack=function(){v&&(u>0&&--u,v&&(f===v?f=v=void 0:(v=v.pre)&&(v.next=void 0)))},this.setElementByPos=function(h,g){if(g==null)throw new Error("you can't set null or undefined here");if(h<0||h>=u)throw new Error("pos must more then 0 and less then the list length");for(var p=f;h--;){if(!p)throw new Error("unknown error");p=p.next}p&&(p.value=g)},this.insert=function(h,g,p){if(p===void 0&&(p=1),g==null)throw new Error("you can't insert null or undefined here");if(h<0||h>u)throw new Error("insert pos must more then 0 and less then or equal to the list length");if(p<0)throw new Error("insert size must more than 0");if(h===0)for(;p--;)this.pushFront(g);else if(h===u)for(;p--;)this.pushBack(g);else{for(var m=f,y=1;y<h;++y){if(!(m!=null&&m.next))throw new Error("unknown error");m=m==null?void 0:m.next}if(!m)throw new Error("unknown error");var b=m.next;for(u+=p;p--;)m.next=new l(g),m.next.pre=m,m=m.next;m.next=b,b&&(b.pre=m)}},this.find=function(h){for(var g=f;g;){if(g.value===h)return!0;g=g.next}return!1},this.reverse=function(){for(var h=f,g=v,p=0;h&&g&&2*p<u;){var m=h.value;h.value=g.value,g.value=m,h=h.next,g=g.pre,++p}},this.unique=function(){for(var h=f;h;){for(var g=h;g&&g.next&&g.value===g.next.value;)g=g.next,u>0&&--u;h.next=g.next,h.next&&(h.next.pre=h),h=h.next}},this.sort=function(h){var g=[];this.forEach(function(m){g.push(m)}),g.sort(h);var p=f;g.forEach(function(m){p&&(p.value=m,p=p.next)})},this.pushFront=function(h){if(h==null)throw new Error("you can't push null or undefined here");++u;var g=new l(h);f?(g.next=f,f.pre=g,f=g):f=v=g},this.popFront=function(){f&&(u>0&&--u,f&&(f===v?f=v=void 0:(f=f.next)&&(f.pre=void 0)))},this.merge=function(h){var g=this,p=f;h.forEach(function(m){for(;p&&p.value!==void 0&&p.value<=m;)p=p.next;if(p===void 0)g.pushBack(m),p=v;else if(p===f)g.pushFront(m),p=f;else{++u;var y=p.pre;y&&(y.next=new l(m),y.next.pre=y,y.next.next=p,p&&(p.pre=y.next))}})},this[Symbol.iterator]=function(){return function(){var h;return o(this,function(g){switch(g.label){case 0:h=f,g.label=1;case 1:if(h===void 0)return[3,3];if(!h.value)throw new Error("unknown error");return[4,h.value];case 2:return g.sent(),h=h.next,[3,1];case 3:return[2]}})}()},c.forEach(function(h){return d.pushBack(h)}),Object.freeze(this)}Object.freeze(s),r.default=s},{}],30:[function(n,a,r){var o=this&&this.__generator||function(d,u){var f,v,h,g,p={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(y){return function(b){return function(w){if(f)throw new TypeError("Generator is already executing.");for(;p;)try{if(f=1,v&&(h=2&w[0]?v.return:w[0]?v.throw||((h=v.return)&&h.call(v),0):v.next)&&!(h=h.call(v,w[1])).done)return h;switch(v=0,h&&(w=[2&w[0],h.value]),w[0]){case 0:case 1:h=w;break;case 4:return p.label++,{value:w[1],done:!1};case 5:p.label++,v=w[1],w=[0];continue;case 7:w=p.ops.pop(),p.trys.pop();continue;default:if(!(h=(h=p.trys).length>0&&h[h.length-1])&&(w[0]===6||w[0]===2)){p=0;continue}if(w[0]===3&&(!h||w[1]>h[0]&&w[1]<h[3])){p.label=w[1];break}if(w[0]===6&&p.label<h[1]){p.label=h[1],h=w;break}if(h&&p.label<h[2]){p.label=h[2],p.ops.push(w);break}h[2]&&p.ops.pop(),p.trys.pop();continue}w=u.call(d,p)}catch(C){w=[6,C],v=0}finally{f=h=0}if(5&w[0])throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}([y,b])}}},l=this&&this.__values||function(d){var u=typeof Symbol=="function"&&Symbol.iterator,f=u&&d[u],v=0;if(f)return f.call(d);if(d&&typeof d.length=="number")return{next:function(){return d&&v>=d.length&&(d=void 0),{value:d&&d[v++],done:!d}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=n("../Base/TreeNode");function c(d,u){var f=this;d===void 0&&(d=[]),u=u||function(O,S){return O<S?-1:O>S?1:0};var v=0,h=new s.default;h.color=s.default.TreeNodeColorType.black,this.size=function(){return v},this.empty=function(){return v===0},this.clear=function(){v=0,h.key=h.value=void 0,h.leftChild=h.rightChild=h.brother=void 0};var g=function(O){if(!O||O.key===void 0)throw new Error("unknown error");return O.leftChild?g(O.leftChild):O},p=function(O){if(!O||O.key===void 0)throw new Error("unknown error");return O.rightChild?p(O.rightChild):O};this.front=function(){if(!this.empty()){var O=g(h);if(O.key===void 0||O.value===void 0)throw new Error("unknown error");return{key:O.key,value:O.value}}},this.back=function(){if(!this.empty()){var O=p(h);if(O.key===void 0||O.value===void 0)throw new Error("unknown error");return{key:O.key,value:O.value}}},this.forEach=function(O){var S,_,A=0;try{for(var E=l(this),R=E.next();!R.done;R=E.next())O(R.value,A++)}catch(N){S={error:N}}finally{try{R&&!R.done&&(_=E.return)&&_.call(E)}finally{if(S)throw S.error}}},this.getElementByPos=function(O){var S,_;if(O<0||O>=this.size())throw new Error("pos must more than 0 and less than set's size");var A=0;try{for(var E=l(this),R=E.next();!R.done;R=E.next()){var N=R.value;if(A===O)return N;++A}}catch(F){S={error:F}}finally{try{R&&!R.done&&(_=E.return)&&_.call(E)}finally{if(S)throw S.error}}throw new Error("unknown Error")};var m=function(O,S){if(O&&O.key!==void 0&&O.value!==void 0){var _=u(O.key,S);return _===0?{key:O.key,value:O.value}:_<0?m(O.rightChild,S):m(O.leftChild,S)||{key:O.key,value:O.value}}};this.lowerBound=function(O){return m(h,O)};var y=function(O,S){if(O&&O.key!==void 0&&O.value!==void 0)return u(O.key,S)<=0?y(O.rightChild,S):y(O.leftChild,S)||{key:O.key,value:O.value}};this.upperBound=function(O){return y(h,O)};var b=function(O,S){if(O&&O.key!==void 0&&O.value!==void 0){var _=u(O.key,S);return _===0?{key:O.key,value:O.value}:_>0?b(O.leftChild,S):b(O.rightChild,S)||{key:O.key,value:O.value}}};this.reverseLowerBound=function(O){return b(h,O)};var w=function(O,S){if(O&&O.key!==void 0&&O.value!==void 0)return u(O.key,S)>=0?w(O.leftChild,S):w(O.rightChild,S)||{key:O.key,value:O.value}};this.reverseUpperBound=function(O){return w(h,O)};var C=function(O){var S=O.parent;if(!S){if(O===h)return;throw new Error("unknown error")}if(O.color!==s.default.TreeNodeColorType.red){var _=O.brother;if(!_)throw new Error("unknown error");if(O===S.leftChild)if(_.color===s.default.TreeNodeColorType.red){_.color=s.default.TreeNodeColorType.black,S.color=s.default.TreeNodeColorType.red;var A=S.rotateLeft();h===S&&(h=A),C(O)}else _.color===s.default.TreeNodeColorType.black&&(_.rightChild&&_.rightChild.color===s.default.TreeNodeColorType.red?(_.color=S.color,S.color=s.default.TreeNodeColorType.black,_.rightChild&&(_.rightChild.color=s.default.TreeNodeColorType.black),A=S.rotateLeft(),h===S&&(h=A),O.color=s.default.TreeNodeColorType.black):_.rightChild&&_.rightChild.color!==s.default.TreeNodeColorType.black||!_.leftChild||_.leftChild.color!==s.default.TreeNodeColorType.red?_.leftChild&&_.leftChild.color!==s.default.TreeNodeColorType.black||_.rightChild&&_.rightChild.color!==s.default.TreeNodeColorType.black||(_.color=s.default.TreeNodeColorType.red,C(S)):(_.color=s.default.TreeNodeColorType.red,_.leftChild&&(_.leftChild.color=s.default.TreeNodeColorType.black),A=_.rotateRight(),h===_&&(h=A),C(O)));else O===S.rightChild&&(_.color===s.default.TreeNodeColorType.red?(_.color=s.default.TreeNodeColorType.black,S.color=s.default.TreeNodeColorType.red,A=S.rotateRight(),h===S&&(h=A),C(O)):_.color===s.default.TreeNodeColorType.black&&(_.leftChild&&_.leftChild.color===s.default.TreeNodeColorType.red?(_.color=S.color,S.color=s.default.TreeNodeColorType.black,_.leftChild&&(_.leftChild.color=s.default.TreeNodeColorType.black),A=S.rotateRight(),h===S&&(h=A),O.color=s.default.TreeNodeColorType.black):_.leftChild&&_.leftChild.color!==s.default.TreeNodeColorType.black||!_.rightChild||_.rightChild.color!==s.default.TreeNodeColorType.red?_.leftChild&&_.leftChild.color!==s.default.TreeNodeColorType.black||_.rightChild&&_.rightChild.color!==s.default.TreeNodeColorType.black||(_.color=s.default.TreeNodeColorType.red,C(S)):(_.color=s.default.TreeNodeColorType.red,_.rightChild&&(_.rightChild.color=s.default.TreeNodeColorType.black),A=_.rotateLeft(),h===_&&(h=A),C(O))))}else O.color=s.default.TreeNodeColorType.black},x=function(O){for(var S=O;S.leftChild||S.rightChild;){if(S.rightChild){S=g(S.rightChild);var _=O.key;O.key=S.key,S.key=_;var A=O.value;O.value=S.value,S.value=A,O=S}S.leftChild&&(S=p(S.leftChild),_=O.key,O.key=S.key,S.key=_,A=O.value,O.value=S.value,S.value=A,O=S)}C(S),S&&S.remove(),--v,h.color=s.default.TreeNodeColorType.black},k=function(O,S){return!(!O||O.key===void 0)&&(!!k(O.leftChild,S)||!!S(O)||k(O.rightChild,S))};this.eraseElementByPos=function(O){if(O<0||O>=v)throw new Error("pos must more than 0 and less than set's size");var S=0;k(h,function(_){return O===S?(x(_),!0):(++S,!1)})},this.eraseElementByKey=function(O){if(!this.empty()){var S=D(h,O);S!==void 0&&S.key!==void 0&&u(S.key,O)===0&&x(S)}};var P=function(O,S){if(!O||O.key===void 0)throw new Error("unknown error");var _=u(S,O.key);return _<0?O.leftChild?P(O.leftChild,S):(O.leftChild=new s.default,O.leftChild.parent=O,O.leftChild.brother=O.rightChild,O.rightChild&&(O.rightChild.brother=O.leftChild),O.leftChild):_>0?O.rightChild?P(O.rightChild,S):(O.rightChild=new s.default,O.rightChild.parent=O,O.rightChild.brother=O.leftChild,O.leftChild&&(O.leftChild.brother=O.rightChild),O.rightChild):O},I=function(O){var S=O.parent;if(!S){if(O===h)return;throw new Error("unknown error")}if(S.color!==s.default.TreeNodeColorType.black&&S.color===s.default.TreeNodeColorType.red){var _=S.brother,A=S.parent;if(!A)throw new Error("unknown error");if(_&&_.color===s.default.TreeNodeColorType.red)_.color=S.color=s.default.TreeNodeColorType.black,A.color=s.default.TreeNodeColorType.red,I(A);else if(!_||_.color===s.default.TreeNodeColorType.black)if(S===A.leftChild)if(O===S.leftChild){S.color=s.default.TreeNodeColorType.black,A.color=s.default.TreeNodeColorType.red;var E=A.rotateRight();A===h&&(h=E)}else O===S.rightChild&&(E=S.rotateLeft(),A===h&&(h=E),I(S));else S===A.rightChild&&(O===S.leftChild?(E=S.rotateRight(),A===h&&(h=E),I(S)):O===S.rightChild&&(S.color=s.default.TreeNodeColorType.black,A.color=s.default.TreeNodeColorType.red,E=A.rotateLeft(),A===h&&(h=E)))}};this.setElement=function(O,S){if(O==null)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(S!=null){if(this.empty())return++v,h.key=O,h.value=S,void(h.color=s.default.TreeNodeColorType.black);var _=P(h,O);_.key===void 0||u(_.key,O)!==0?(++v,_.key=O,_.value=S,I(_),h.color=s.default.TreeNodeColorType.black):_.value=S}else this.eraseElementByKey(O)};var D=function(O,S){if(O&&O.key!==void 0){var _=u(S,O.key);return _<0?D(O.leftChild,S):_>0?D(O.rightChild,S):O}};this.find=function(O){return!!D(h,O)},this.getElementByKey=function(O){var S=D(h,O);if((S==null?void 0:S.key)===void 0||(S==null?void 0:S.value)===void 0)throw new Error("unknown error");return S.value},this.union=function(O){var S=this;O.forEach(function(_){var A=_.key,E=_.value;return S.setElement(A,E)})},this.getHeight=function(){if(this.empty())return 0;var O=function(S){return S?Math.max(O(S.leftChild),O(S.rightChild))+1:1};return O(h)};var L=function(O){return o(this,function(S){switch(S.label){case 0:return O&&O.key!==void 0&&O.value!==void 0?[5,l(L(O.leftChild))]:[2];case 1:return S.sent(),[4,{key:O.key,value:O.value}];case 2:return S.sent(),[5,l(L(O.rightChild))];case 3:return S.sent(),[2]}})};this[Symbol.iterator]=function(){return L(h)},d.forEach(function(O){var S=O.key,_=O.value;return f.setElement(S,_)}),Object.freeze(this)}Object.freeze(c),r.default=c},{"../Base/TreeNode":25}],31:[function(n,a,r){function o(l,s){l===void 0&&(l=[]),s=s||function(v,h){return v>h?-1:v<h?1:0};var c=[];l.forEach(function(v){return c.push(v)});var d=c.length,u=function(v,h){if(v<0||v>=d)throw new Error("unknown error");if(h<0||h>=d)throw new Error("unknown error");var g=c[v];c[v]=c[h],c[h]=g},f=function(v){if(v<0||v>=d)throw new Error("unknown error");var h=2*v+1,g=2*v+2;h<d&&s(c[v],c[h])>0&&u(v,h),g<d&&s(c[v],c[g])>0&&u(v,g)};(function(){for(var v=Math.floor((d-1)/2);v>=0;--v)for(var h=v,g=2*h+1;g<d;){var p=g+1,m=g;if(p<d&&s(c[g],c[p])>0&&(m=p),s(c[h],c[m])<=0)break;u(h,m),g=2*(h=m)+1}})(),this.size=function(){return d},this.empty=function(){return d===0},this.clear=function(){d=0,c.length=0},this.push=function(v){if(c.push(v),++d!==1)for(var h=d-1;h>0;){var g=Math.floor((h-1)/2);if(s(c[g],v)<=0)break;f(g),h=g}},this.pop=function(){if(!this.empty())if(this.size()!==1){var v=c[d-1];--d;for(var h=0;h<this.size();){var g=2*h+1,p=2*h+2;if(g>=this.size())break;var m=g;if(p<this.size()&&s(c[g],c[p])>0&&(m=p),s(c[m],v)>=0)break;c[h]=c[m],h=m}c[h]=v}else--d},this.top=function(){return c[0]},Object.freeze(this)}Object.defineProperty(r,"__esModule",{value:!0}),Object.freeze(o),r.default=o},{}],32:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0});var o=n("../LinkList/LinkList");function l(s){s===void 0&&(s=[]);var c=new o.default(s);this.size=function(){return c.size()},this.empty=function(){return c.empty()},this.clear=function(){c.clear()},this.push=function(d){c.pushBack(d)},this.pop=function(){c.popFront()},this.front=function(){return c.front()},Object.freeze(this)}Object.freeze(l),r.default=l},{"../LinkList/LinkList":29}],33:[function(n,a,r){var o=this&&this.__generator||function(d,u){var f,v,h,g,p={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(y){return function(b){return function(w){if(f)throw new TypeError("Generator is already executing.");for(;p;)try{if(f=1,v&&(h=2&w[0]?v.return:w[0]?v.throw||((h=v.return)&&h.call(v),0):v.next)&&!(h=h.call(v,w[1])).done)return h;switch(v=0,h&&(w=[2&w[0],h.value]),w[0]){case 0:case 1:h=w;break;case 4:return p.label++,{value:w[1],done:!1};case 5:p.label++,v=w[1],w=[0];continue;case 7:w=p.ops.pop(),p.trys.pop();continue;default:if(!(h=(h=p.trys).length>0&&h[h.length-1])&&(w[0]===6||w[0]===2)){p=0;continue}if(w[0]===3&&(!h||w[1]>h[0]&&w[1]<h[3])){p.label=w[1];break}if(w[0]===6&&p.label<h[1]){p.label=h[1],h=w;break}if(h&&p.label<h[2]){p.label=h[2],p.ops.push(w);break}h[2]&&p.ops.pop(),p.trys.pop();continue}w=u.call(d,p)}catch(C){w=[6,C],v=0}finally{f=h=0}if(5&w[0])throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}([y,b])}}},l=this&&this.__values||function(d){var u=typeof Symbol=="function"&&Symbol.iterator,f=u&&d[u],v=0;if(f)return f.call(d);if(d&&typeof d.length=="number")return{next:function(){return d&&v>=d.length&&(d=void 0),{value:d&&d[v++],done:!d}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=n("../Base/TreeNode");function c(d,u){var f=this;d===void 0&&(d=[]),u=u||function(O,S){return O<S?-1:O>S?1:0};var v=0,h=new s.default;h.color=s.default.TreeNodeColorType.black,this.size=function(){return v},this.empty=function(){return v===0},this.clear=function(){v=0,h.key=void 0,h.leftChild=h.rightChild=h.brother=h.parent=void 0,h.color=s.default.TreeNodeColorType.black};var g=function(O){if(!O||O.key===void 0)throw new Error("unknown error");return O.leftChild?g(O.leftChild):O},p=function(O){if(!O||O.key===void 0)throw new Error("unknown error");return O.rightChild?p(O.rightChild):O};this.front=function(){if(!this.empty())return g(h).key},this.back=function(){if(!this.empty())return p(h).key},this.forEach=function(O){var S,_,A=0;try{for(var E=l(this),R=E.next();!R.done;R=E.next())O(R.value,A++)}catch(N){S={error:N}}finally{try{R&&!R.done&&(_=E.return)&&_.call(E)}finally{if(S)throw S.error}}},this.getElementByPos=function(O){var S,_;if(O<0||O>=this.size())throw new Error("pos must more than 0 and less than set's size");var A=0;try{for(var E=l(this),R=E.next();!R.done;R=E.next()){var N=R.value;if(A===O)return N;++A}}catch(F){S={error:F}}finally{try{R&&!R.done&&(_=E.return)&&_.call(E)}finally{if(S)throw S.error}}throw new Error("unknown error")};var m=function(O){var S=O.parent;if(!S){if(O===h)return;throw new Error("unknown error")}if(O.color!==s.default.TreeNodeColorType.red){var _=O.brother;if(!_)throw new Error("unknown error");if(O===S.leftChild)if(_.color===s.default.TreeNodeColorType.red){_.color=s.default.TreeNodeColorType.black,S.color=s.default.TreeNodeColorType.red;var A=S.rotateLeft();h===S&&(h=A),m(O)}else _.color===s.default.TreeNodeColorType.black&&(_.rightChild&&_.rightChild.color===s.default.TreeNodeColorType.red?(_.color=S.color,S.color=s.default.TreeNodeColorType.black,_.rightChild&&(_.rightChild.color=s.default.TreeNodeColorType.black),A=S.rotateLeft(),h===S&&(h=A),O.color=s.default.TreeNodeColorType.black):_.rightChild&&_.rightChild.color!==s.default.TreeNodeColorType.black||!_.leftChild||_.leftChild.color!==s.default.TreeNodeColorType.red?_.leftChild&&_.leftChild.color!==s.default.TreeNodeColorType.black||_.rightChild&&_.rightChild.color!==s.default.TreeNodeColorType.black||(_.color=s.default.TreeNodeColorType.red,m(S)):(_.color=s.default.TreeNodeColorType.red,_.leftChild&&(_.leftChild.color=s.default.TreeNodeColorType.black),A=_.rotateRight(),h===_&&(h=A),m(O)));else O===S.rightChild&&(_.color===s.default.TreeNodeColorType.red?(_.color=s.default.TreeNodeColorType.black,S.color=s.default.TreeNodeColorType.red,A=S.rotateRight(),h===S&&(h=A),m(O)):_.color===s.default.TreeNodeColorType.black&&(_.leftChild&&_.leftChild.color===s.default.TreeNodeColorType.red?(_.color=S.color,S.color=s.default.TreeNodeColorType.black,_.leftChild&&(_.leftChild.color=s.default.TreeNodeColorType.black),A=S.rotateRight(),h===S&&(h=A),O.color=s.default.TreeNodeColorType.black):_.leftChild&&_.leftChild.color!==s.default.TreeNodeColorType.black||!_.rightChild||_.rightChild.color!==s.default.TreeNodeColorType.red?_.leftChild&&_.leftChild.color!==s.default.TreeNodeColorType.black||_.rightChild&&_.rightChild.color!==s.default.TreeNodeColorType.black||(_.color=s.default.TreeNodeColorType.red,m(S)):(_.color=s.default.TreeNodeColorType.red,_.rightChild&&(_.rightChild.color=s.default.TreeNodeColorType.black),A=_.rotateLeft(),h===_&&(h=A),m(O))))}else O.color=s.default.TreeNodeColorType.black},y=function(O){for(var S=O;S.leftChild||S.rightChild;){if(S.rightChild){S=g(S.rightChild);var _=O.key;O.key=S.key,S.key=_,O=S}S.leftChild&&(S=p(S.leftChild),_=O.key,O.key=S.key,S.key=_,O=S)}m(S),S&&S.remove(),--v,h.color=s.default.TreeNodeColorType.black},b=function(O,S){return!(!O||O.key===void 0)&&(!!b(O.leftChild,S)||!!S(O)||b(O.rightChild,S))};this.eraseElementByPos=function(O){if(O<0||O>=v)throw new Error("pos must more than 0 and less than set's size");var S=0;b(h,function(_){return O===S?(y(_),!0):(++S,!1)})},this.eraseElementByValue=function(O){if(!this.empty()){var S=x(h,O);S!==void 0&&S.key!==void 0&&u(S.key,O)===0&&y(S)}};var w=function(O,S){if(!O||O.key===void 0)throw new Error("unknown error");var _=u(S,O.key);return _<0?O.leftChild?w(O.leftChild,S):(O.leftChild=new s.default,O.leftChild.parent=O,O.leftChild.brother=O.rightChild,O.rightChild&&(O.rightChild.brother=O.leftChild),O.leftChild):_>0?O.rightChild?w(O.rightChild,S):(O.rightChild=new s.default,O.rightChild.parent=O,O.rightChild.brother=O.leftChild,O.leftChild&&(O.leftChild.brother=O.rightChild),O.rightChild):O},C=function(O){var S=O.parent;if(!S){if(O===h)return;throw new Error("unknown error")}if(S.color!==s.default.TreeNodeColorType.black&&S.color===s.default.TreeNodeColorType.red){var _=S.brother,A=S.parent;if(!A)throw new Error("unknown error");if(_&&_.color===s.default.TreeNodeColorType.red)_.color=S.color=s.default.TreeNodeColorType.black,A.color=s.default.TreeNodeColorType.red,C(A);else if(!_||_.color===s.default.TreeNodeColorType.black)if(S===A.leftChild)if(O===S.leftChild){S.color=s.default.TreeNodeColorType.black,A.color=s.default.TreeNodeColorType.red;var E=A.rotateRight();A===h&&(h=E)}else O===S.rightChild&&(E=S.rotateLeft(),A===h&&(h=E),C(S));else S===A.rightChild&&(O===S.leftChild?(E=S.rotateRight(),A===h&&(h=E),C(S)):O===S.rightChild&&(S.color=s.default.TreeNodeColorType.black,A.color=s.default.TreeNodeColorType.red,E=A.rotateLeft(),A===h&&(h=E)))}};this.insert=function(O){if(O==null)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(this.empty())return++v,h.key=O,void(h.color=s.default.TreeNodeColorType.black);var S=w(h,O);S.key!==void 0&&u(S.key,O)===0||(++v,S.key=O,C(S),h.color=s.default.TreeNodeColorType.black)};var x=function(O,S){if(O&&O.key!==void 0){var _=u(S,O.key);return _<0?x(O.leftChild,S):_>0?x(O.rightChild,S):O}};this.find=function(O){var S=x(h,O);return S!==void 0&&S.key!==void 0&&u(S.key,O)===0};var k=function(O,S){if(O&&O.key!==void 0){var _=u(O.key,S);if(_===0)return O.key;if(_<0)return k(O.rightChild,S);var A=k(O.leftChild,S);return A!==void 0?A:O.key}};this.lowerBound=function(O){return k(h,O)};var P=function(O,S){if(O&&O.key!==void 0){if(u(O.key,S)<=0)return P(O.rightChild,S);var _=P(O.leftChild,S);return _!==void 0?_:O.key}};this.upperBound=function(O){return P(h,O)};var I=function(O,S){if(O&&O.key!==void 0){var _=u(O.key,S);if(_===0)return O.key;if(_>0)return I(O.leftChild,S);var A=I(O.rightChild,S);return A!==void 0?A:O.key}};this.reverseLowerBound=function(O){return I(h,O)};var D=function(O,S){if(O&&O.key!==void 0){if(u(O.key,S)>=0)return D(O.leftChild,S);var _=D(O.rightChild,S);return _!==void 0?_:O.key}};this.reverseUpperBound=function(O){return D(h,O)},this.union=function(O){var S=this;O.forEach(function(_){return S.insert(_)})},this.getHeight=function(){if(this.empty())return 0;var O=function(S){return S?Math.max(O(S.leftChild),O(S.rightChild))+1:1};return O(h)};var L=function(O){return o(this,function(S){switch(S.label){case 0:return O&&O.key!==void 0?[5,l(L(O.leftChild))]:[2];case 1:return S.sent(),[4,O.key];case 2:return S.sent(),[5,l(L(O.rightChild))];case 3:return S.sent(),[2]}})};this[Symbol.iterator]=function(){return L(h)},d.forEach(function(O){return f.insert(O)}),Object.freeze(this)}Object.freeze(c),r.default=c},{"../Base/TreeNode":25}],34:[function(n,a,r){function o(l){var s=this;l===void 0&&(l=[]);var c=0,d=[];this.size=function(){return c},this.empty=function(){return c===0},this.clear=function(){c=0,d.length=0},this.push=function(u){d.push(u),++c},this.pop=function(){d.pop(),c>0&&--c},this.top=function(){return d[c-1]},l.forEach(function(u){return s.push(u)}),Object.freeze(this)}Object.defineProperty(r,"__esModule",{value:!0}),Object.freeze(o),r.default=o},{}],35:[function(n,a,r){var o=this&&this.__generator||function(u,f){var v,h,g,p,m={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]};return p={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function y(b){return function(w){return function(C){if(v)throw new TypeError("Generator is already executing.");for(;m;)try{if(v=1,h&&(g=2&C[0]?h.return:C[0]?h.throw||((g=h.return)&&g.call(h),0):h.next)&&!(g=g.call(h,C[1])).done)return g;switch(h=0,g&&(C=[2&C[0],g.value]),C[0]){case 0:case 1:g=C;break;case 4:return m.label++,{value:C[1],done:!1};case 5:m.label++,h=C[1],C=[0];continue;case 7:C=m.ops.pop(),m.trys.pop();continue;default:if(!(g=(g=m.trys).length>0&&g[g.length-1])&&(C[0]===6||C[0]===2)){m=0;continue}if(C[0]===3&&(!g||C[1]>g[0]&&C[1]<g[3])){m.label=C[1];break}if(C[0]===6&&m.label<g[1]){m.label=g[1],g=C;break}if(g&&m.label<g[2]){m.label=g[2],m.ops.push(C);break}g[2]&&m.ops.pop(),m.trys.pop();continue}C=f.call(u,m)}catch(x){C=[6,x],h=0}finally{v=g=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([b,w])}}},l=this&&this.__read||function(u,f){var v=typeof Symbol=="function"&&u[Symbol.iterator];if(!v)return u;var h,g,p=v.call(u),m=[];try{for(;(f===void 0||f-- >0)&&!(h=p.next()).done;)m.push(h.value)}catch(y){g={error:y}}finally{try{h&&!h.done&&(v=p.return)&&v.call(p)}finally{if(g)throw g.error}}return m},s=this&&this.__spreadArray||function(u,f,v){if(v||arguments.length===2)for(var h,g=0,p=f.length;g<p;g++)!h&&g in f||(h||(h=Array.prototype.slice.call(f,0,g)),h[g]=f[g]);return u.concat(h||Array.prototype.slice.call(f))},c=this&&this.__values||function(u){var f=typeof Symbol=="function"&&Symbol.iterator,v=f&&u[f],h=0;if(v)return v.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&h>=u.length&&(u=void 0),{value:u&&u[h++],done:!u}}};throw new TypeError(f?"Object is not iterable.":"Symbol.iterator is not defined.")};function d(u){var f=this;u===void 0&&(u=[]);var v=0,h=[];this.size=function(){return v},this.empty=function(){return v===0},this.clear=function(){v=0,h.length=0},this.front=function(){if(!this.empty())return h[0]},this.back=function(){if(!this.empty())return h[v-1]},this.forEach=function(g){h.forEach(g)},this.getElementByPos=function(g){if(g<0||g>=v)throw new Error("pos must more than 0 and less than vector's size");return h[g]},this.eraseElementByPos=function(g){if(g<0||g>=v)throw new Error("pos must more than 0 and less than vector's size");for(var p=g;p<v-1;++p)h[p]=h[p+1];this.popBack()},this.eraseElementByValue=function(g){var p=[];this.forEach(function(y){y!==g&&p.push(y)}),p.forEach(function(y,b){h[b]=y});for(var m=p.length;v>m;)this.popBack()},this.pushBack=function(g){h.push(g),++v},this.popBack=function(){h.pop(),v>0&&--v},this.setElementByPos=function(g,p){if(g<0||g>=v)throw new Error("pos must more than 0 and less than vector's size");h[g]=p},this.insert=function(g,p,m){if(m===void 0&&(m=1),g<0||g>v)throw new Error("pos must more than 0 and less than or equal to vector's size");h.splice.apply(h,s([g,0],l(new Array(m).fill(p)),!1)),v+=m},this.find=function(g){return h.includes(g)},this.reverse=function(){h.reverse()},this.unique=function(){var g,p=[];this.forEach(function(y,b){b!==0&&y===g||(p.push(y),g=y)}),p.forEach(function(y,b){h[b]=y});for(var m=p.length;v>m;)this.popBack()},this.sort=function(g){h.sort(g)},this[Symbol.iterator]=function(){return function(){return o(this,function(g){switch(g.label){case 0:return[5,c(h)];case 1:return[2,g.sent()]}})}()},u.forEach(function(g){return f.pushBack(g)}),Object.freeze(this)}Object.defineProperty(r,"__esModule",{value:!0}),Object.freeze(d),r.default=d},{}],36:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.HashMap=r.HashSet=r.Map=r.Set=r.PriorityQueue=r.Deque=r.LinkList=r.Queue=r.Stack=r.Vector=void 0;var o=n("./Vector/Vector");r.Vector=o.default;var l=n("./Stack/Stack");r.Stack=l.default;var s=n("./Queue/Queue");r.Queue=s.default;var c=n("./LinkList/LinkList");r.LinkList=c.default;var d=n("./Deque/Deque");r.Deque=d.default;var u=n("./PriorityQueue/PriorityQueue");r.PriorityQueue=u.default;var f=n("./Set/Set");r.Set=f.default;var v=n("./Map/Map");r.Map=v.default;var h=n("./HashSet/HashSet");r.HashSet=h.default;var g=n("./HashMap/HashMap");r.HashMap=g.default},{"./Deque/Deque":26,"./HashMap/HashMap":27,"./HashSet/HashSet":28,"./LinkList/LinkList":29,"./Map/Map":30,"./PriorityQueue/PriorityQueue":31,"./Queue/Queue":32,"./Set/Set":33,"./Stack/Stack":34,"./Vector/Vector":35}],37:[function(n,a,r){const o=n("yallist"),l=Symbol("max"),s=Symbol("length"),c=Symbol("lengthCalculator"),d=Symbol("allowStale"),u=Symbol("maxAge"),f=Symbol("dispose"),v=Symbol("noDisposeOnSet"),h=Symbol("lruList"),g=Symbol("cache"),p=Symbol("updateAgeOnGet"),m=()=>1,y=(P,I,D)=>{const L=P[g].get(I);if(L){const O=L.value;if(b(P,O)){if(C(P,L),!P[d])return}else D&&(P[p]&&(L.value.now=Date.now()),P[h].unshiftNode(L));return O.value}},b=(P,I)=>{if(!I||!I.maxAge&&!P[u])return!1;const D=Date.now()-I.now;return I.maxAge?D>I.maxAge:P[u]&&D>P[u]},w=P=>{if(P[s]>P[l])for(let I=P[h].tail;P[s]>P[l]&&I!==null;){const D=I.prev;C(P,I),I=D}},C=(P,I)=>{if(I){const D=I.value;P[f]&&P[f](D.key,D.value),P[s]-=D.length,P[g].delete(D.key),P[h].removeNode(I)}};class x{constructor(I,D,L,O,S){this.key=I,this.value=D,this.length=L,this.now=O,this.maxAge=S||0}}const k=(P,I,D,L)=>{let O=D.value;b(P,O)&&(C(P,D),P[d]||(O=void 0)),O&&I.call(L,O.value,O.key,P)};a.exports=class{constructor(P){if(typeof P=="number"&&(P={max:P}),P||(P={}),P.max&&(typeof P.max!="number"||P.max<0))throw new TypeError("max must be a non-negative number");this[l]=P.max||1/0;const I=P.length||m;if(this[c]=typeof I!="function"?m:I,this[d]=P.stale||!1,P.maxAge&&typeof P.maxAge!="number")throw new TypeError("maxAge must be a number");this[u]=P.maxAge||0,this[f]=P.dispose,this[v]=P.noDisposeOnSet||!1,this[p]=P.updateAgeOnGet||!1,this.reset()}set max(P){if(typeof P!="number"||P<0)throw new TypeError("max must be a non-negative number");this[l]=P||1/0,w(this)}get max(){return this[l]}set allowStale(P){this[d]=!!P}get allowStale(){return this[d]}set maxAge(P){if(typeof P!="number")throw new TypeError("maxAge must be a non-negative number");this[u]=P,w(this)}get maxAge(){return this[u]}set lengthCalculator(P){typeof P!="function"&&(P=m),P!==this[c]&&(this[c]=P,this[s]=0,this[h].forEach(I=>{I.length=this[c](I.value,I.key),this[s]+=I.length})),w(this)}get lengthCalculator(){return this[c]}get length(){return this[s]}get itemCount(){return this[h].length}rforEach(P,I){I=I||this;for(let D=this[h].tail;D!==null;){const L=D.prev;k(this,P,D,I),D=L}}forEach(P,I){I=I||this;for(let D=this[h].head;D!==null;){const L=D.next;k(this,P,D,I),D=L}}keys(){return this[h].toArray().map(P=>P.key)}values(){return this[h].toArray().map(P=>P.value)}reset(){this[f]&&this[h]&&this[h].length&&this[h].forEach(P=>this[f](P.key,P.value)),this[g]=new Map,this[h]=new o,this[s]=0}dump(){return this[h].map(P=>!b(this,P)&&{k:P.key,v:P.value,e:P.now+(P.maxAge||0)}).toArray().filter(P=>P)}dumpLru(){return this[h]}set(P,I,D){if((D=D||this[u])&&typeof D!="number")throw new TypeError("maxAge must be a number");const L=D?Date.now():0,O=this[c](I,P);if(this[g].has(P)){if(O>this[l])return C(this,this[g].get(P)),!1;const _=this[g].get(P).value;return this[f]&&(this[v]||this[f](P,_.value)),_.now=L,_.maxAge=D,_.value=I,this[s]+=O-_.length,_.length=O,this.get(P),w(this),!0}const S=new x(P,I,O,L,D);return S.length>this[l]?(this[f]&&this[f](P,I),!1):(this[s]+=S.length,this[h].unshift(S),this[g].set(P,this[h].head),w(this),!0)}has(P){if(!this[g].has(P))return!1;const I=this[g].get(P).value;return!b(this,I)}get(P){return y(this,P,!0)}peek(P){return y(this,P,!1)}pop(){const P=this[h].tail;return P?(C(this,P),P.value):null}del(P){C(this,this[g].get(P))}load(P){this.reset();const I=Date.now();for(let D=P.length-1;D>=0;D--){const L=P[D],O=L.e||0;if(O===0)this.set(L.k,L.v);else{const S=O-I;S>0&&this.set(L.k,L.v,S)}}}prune(){this[g].forEach((P,I)=>y(this,I,!1))}}},{yallist:83}],38:[function(n,a,r){(function(o){(function(){const l=a.exports;l.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},l.codes={};for(const c in l.types){const d=l.types[c];l.codes[d]=c}l.CMD_SHIFT=4,l.CMD_MASK=240,l.DUP_MASK=8,l.QOS_MASK=3,l.QOS_SHIFT=1,l.RETAIN_MASK=1,l.VARBYTEINT_MASK=127,l.VARBYTEINT_FIN_MASK=128,l.VARBYTEINT_MAX=268435455,l.SESSIONPRESENT_MASK=1,l.SESSIONPRESENT_HEADER=o.from([l.SESSIONPRESENT_MASK]),l.CONNACK_HEADER=o.from([l.codes.connack<<l.CMD_SHIFT]),l.USERNAME_MASK=128,l.PASSWORD_MASK=64,l.WILL_RETAIN_MASK=32,l.WILL_QOS_MASK=24,l.WILL_QOS_SHIFT=3,l.WILL_FLAG_MASK=4,l.CLEAN_SESSION_MASK=2,l.CONNECT_HEADER=o.from([l.codes.connect<<l.CMD_SHIFT]),l.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},l.propertiesCodes={};for(const c in l.properties){const d=l.properties[c];l.propertiesCodes[d]=c}function s(c){return[0,1,2].map(d=>[0,1].map(u=>[0,1].map(f=>{const v=o.alloc(1);return v.writeUInt8(l.codes[c]<<l.CMD_SHIFT|(u?l.DUP_MASK:0)|d<<l.QOS_SHIFT|f,0,!0),v})))}l.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"},l.PUBLISH_HEADER=s("publish"),l.SUBSCRIBE_HEADER=s("subscribe"),l.SUBSCRIBE_OPTIONS_QOS_MASK=3,l.SUBSCRIBE_OPTIONS_NL_MASK=1,l.SUBSCRIBE_OPTIONS_NL_SHIFT=2,l.SUBSCRIBE_OPTIONS_RAP_MASK=1,l.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,l.SUBSCRIBE_OPTIONS_RH_MASK=3,l.SUBSCRIBE_OPTIONS_RH_SHIFT=4,l.SUBSCRIBE_OPTIONS_RH=[0,16,32],l.SUBSCRIBE_OPTIONS_NL=4,l.SUBSCRIBE_OPTIONS_RAP=8,l.SUBSCRIBE_OPTIONS_QOS=[0,1,2],l.UNSUBSCRIBE_HEADER=s("unsubscribe"),l.ACKS={unsuback:s("unsuback"),puback:s("puback"),pubcomp:s("pubcomp"),pubrel:s("pubrel"),pubrec:s("pubrec")},l.SUBACK_HEADER=o.from([l.codes.suback<<l.CMD_SHIFT]),l.VERSION3=o.from([3]),l.VERSION4=o.from([4]),l.VERSION5=o.from([5]),l.VERSION131=o.from([131]),l.VERSION132=o.from([132]),l.QOS=[0,1,2].map(c=>o.from([c])),l.EMPTY={pingreq:o.from([l.codes.pingreq<<4,0]),pingresp:o.from([l.codes.pingresp<<4,0]),disconnect:o.from([l.codes.disconnect<<4,0])}}).call(this)}).call(this,n("buffer").Buffer)},{buffer:17}],39:[function(n,a,r){(function(o){(function(){const l=n("./writeToStream"),s=n("events");class c extends s{constructor(){super(),this._array=new Array(20),this._i=0}write(u){return this._array[this._i++]=u,!0}concat(){let u=0;const f=new Array(this._array.length),v=this._array;let h,g=0;for(h=0;h<v.length&&v[h]!==void 0;h++)typeof v[h]!="string"?f[h]=v[h].length:f[h]=o.byteLength(v[h]),u+=f[h];const p=o.allocUnsafe(u);for(h=0;h<v.length&&v[h]!==void 0;h++)typeof v[h]!="string"?(v[h].copy(p,g),g+=f[h]):(p.write(v[h],g),g+=f[h]);return p}}a.exports=function(d,u){const f=new c;return l(d,f,u),f.concat()}}).call(this)}).call(this,n("buffer").Buffer)},{"./writeToStream":44,buffer:17,events:22}],40:[function(n,a,r){r.parser=n("./parser").parser,r.generate=n("./generate"),r.writeToStream=n("./writeToStream")},{"./generate":39,"./parser":43,"./writeToStream":44}],41:[function(n,a,r){(function(o){(function(){const s={},c=o.isBuffer(o.from([1,2]).subarray(0,1));function d(u){const f=o.allocUnsafe(2);return f.writeUInt8(u>>8,0),f.writeUInt8(255&u,1),f}a.exports={cache:s,generateCache:function(){for(let u=0;u<65536;u++)s[u]=d(u)},generateNumber:d,genBufVariableByteInt:function(u){let f=0,v=0;const h=o.allocUnsafe(4);do f=u%128|0,(u=u/128|0)>0&&(f|=128),h.writeUInt8(f,v++);while(u>0&&v<4);return u>0&&(v=0),c?h.subarray(0,v):h.slice(0,v)},generate4ByteBuffer:function(u){const f=o.allocUnsafe(4);return f.writeUInt32BE(u,0),f}}}).call(this)}).call(this,n("buffer").Buffer)},{buffer:17}],42:[function(n,a,r){a.exports=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}}},{}],43:[function(n,a,r){const o=n("bl"),l=n("events"),s=n("./packet"),c=n("./constants"),d=n("debug")("mqtt-packet:parser");class u extends l{constructor(){super(),this.parser=this.constructor.parser}static parser(v){return this instanceof u?(this.settings=v||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new u().parser(v)}_resetState(){d("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new s,this.error=null,this._list=o(),this._stateCounter=0}parse(v){for(this.error&&this._resetState(),this._list.append(v),d("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,d("parse: state complete. _stateCounter is now: %d",this._stateCounter),d("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return d("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){const v=this._list.readUInt8(0);return this.packet.cmd=c.types[v>>c.CMD_SHIFT],this.packet.retain=(v&c.RETAIN_MASK)!=0,this.packet.qos=v>>c.QOS_SHIFT&c.QOS_MASK,this.packet.dup=(v&c.DUP_MASK)!=0,d("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0}_parseLength(){const v=this._parseVarByteNum(!0);return v&&(this.packet.length=v.value,this._list.consume(v.bytes)),d("_parseLength %d",v.value),!!v}_parsePayload(){d("_parsePayload: payload %O",this._list);let v=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}v=!0}return d("_parsePayload complete result: %s",v),v}_parseConnect(){let v,h,g,p;d("_parseConnect");const m={},y=this.packet,b=this._parseString();if(b===null)return this._emitError(new Error("Cannot parse protocolId"));if(b!=="MQTT"&&b!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(y.protocolId=b,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(y.protocolVersion=this._list.readUInt8(this._pos),y.protocolVersion>=128&&(y.bridgeMode=!0,y.protocolVersion=y.protocolVersion-128),y.protocolVersion!==3&&y.protocolVersion!==4&&y.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(m.username=this._list.readUInt8(this._pos)&c.USERNAME_MASK,m.password=this._list.readUInt8(this._pos)&c.PASSWORD_MASK,m.will=this._list.readUInt8(this._pos)&c.WILL_FLAG_MASK,m.will&&(y.will={},y.will.retain=(this._list.readUInt8(this._pos)&c.WILL_RETAIN_MASK)!=0,y.will.qos=(this._list.readUInt8(this._pos)&c.WILL_QOS_MASK)>>c.WILL_QOS_SHIFT),y.clean=(this._list.readUInt8(this._pos)&c.CLEAN_SESSION_MASK)!=0,this._pos++,y.keepalive=this._parseNum(),y.keepalive===-1)return this._emitError(new Error("Packet too short"));if(y.protocolVersion===5){const C=this._parseProperties();Object.getOwnPropertyNames(C).length&&(y.properties=C)}const w=this._parseString();if(w===null)return this._emitError(new Error("Packet too short"));if(y.clientId=w,d("_parseConnect: packet.clientId: %s",y.clientId),m.will){if(y.protocolVersion===5){const C=this._parseProperties();Object.getOwnPropertyNames(C).length&&(y.will.properties=C)}if((v=this._parseString())===null)return this._emitError(new Error("Cannot parse will topic"));if(y.will.topic=v,d("_parseConnect: packet.will.topic: %s",y.will.topic),(h=this._parseBuffer())===null)return this._emitError(new Error("Cannot parse will payload"));y.will.payload=h,d("_parseConnect: packet.will.paylaod: %s",y.will.payload)}if(m.username){if((p=this._parseString())===null)return this._emitError(new Error("Cannot parse username"));y.username=p,d("_parseConnect: packet.username: %s",y.username)}if(m.password){if((g=this._parseBuffer())===null)return this._emitError(new Error("Cannot parse password"));y.password=g}return this.settings=y,d("_parseConnect: complete"),y}_parseConnack(){d("_parseConnack");const v=this.packet;if(this._list.length<1)return null;if(v.sessionPresent=!!(this._list.readUInt8(this._pos++)&c.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?v.reasonCode=this._list.readUInt8(this._pos++):v.reasonCode=0;else{if(this._list.length<2)return null;v.returnCode=this._list.readUInt8(this._pos++)}if(v.returnCode===-1||v.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){const h=this._parseProperties();Object.getOwnPropertyNames(h).length&&(v.properties=h)}d("_parseConnack: complete")}_parsePublish(){d("_parsePublish");const v=this.packet;if(v.topic=this._parseString(),v.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(v.qos>0)||this._parseMessageId()){if(this.settings.protocolVersion===5){const h=this._parseProperties();Object.getOwnPropertyNames(h).length&&(v.properties=h)}v.payload=this._list.slice(this._pos,v.length),d("_parsePublish: payload from buffer list: %o",v.payload)}}_parseSubscribe(){d("_parseSubscribe");const v=this.packet;let h,g,p,m,y,b,w;if(v.qos!==1)return this._emitError(new Error("Wrong subscribe header"));if(v.subscriptions=[],this._parseMessageId()){if(this.settings.protocolVersion===5){const C=this._parseProperties();Object.getOwnPropertyNames(C).length&&(v.properties=C)}for(;this._pos<v.length;){if((h=this._parseString())===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=v.length)return this._emitError(new Error("Malformed Subscribe Payload"));p=(g=this._parseByte())&c.SUBSCRIBE_OPTIONS_QOS_MASK,b=(g>>c.SUBSCRIBE_OPTIONS_NL_SHIFT&c.SUBSCRIBE_OPTIONS_NL_MASK)!=0,y=(g>>c.SUBSCRIBE_OPTIONS_RAP_SHIFT&c.SUBSCRIBE_OPTIONS_RAP_MASK)!=0,m=g>>c.SUBSCRIBE_OPTIONS_RH_SHIFT&c.SUBSCRIBE_OPTIONS_RH_MASK,w={topic:h,qos:p},this.settings.protocolVersion===5?(w.nl=b,w.rap=y,w.rh=m):this.settings.bridgeMode&&(w.rh=0,w.rap=!0,w.nl=!0),d("_parseSubscribe: push subscription `%s` to subscription",w),v.subscriptions.push(w)}}}_parseSuback(){d("_parseSuback");const v=this.packet;if(this.packet.granted=[],this._parseMessageId()){if(this.settings.protocolVersion===5){const h=this._parseProperties();Object.getOwnPropertyNames(h).length&&(v.properties=h)}for(;this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseUnsubscribe(){d("_parseUnsubscribe");const v=this.packet;if(v.unsubscriptions=[],this._parseMessageId()){if(this.settings.protocolVersion===5){const h=this._parseProperties();Object.getOwnPropertyNames(h).length&&(v.properties=h)}for(;this._pos<v.length;){const h=this._parseString();if(h===null)return this._emitError(new Error("Cannot parse topic"));d("_parseUnsubscribe: push topic `%s` to unsubscriptions",h),v.unsubscriptions.push(h)}}}_parseUnsuback(){d("_parseUnsuback");const v=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if(this.settings.protocolVersion===5){const h=this._parseProperties();for(Object.getOwnPropertyNames(h).length&&(v.properties=h),v.granted=[];this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseConfirmation(){d("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);const v=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5&&(v.length>2?(v.reasonCode=this._parseByte(),d("_parseConfirmation: packet.reasonCode `%d`",v.reasonCode)):v.reasonCode=0,v.length>3)){const h=this._parseProperties();Object.getOwnPropertyNames(h).length&&(v.properties=h)}return!0}_parseDisconnect(){const v=this.packet;if(d("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?v.reasonCode=this._parseByte():v.reasonCode=0;const h=this._parseProperties();Object.getOwnPropertyNames(h).length&&(v.properties=h)}return d("_parseDisconnect result: true"),!0}_parseAuth(){d("_parseAuth");const v=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));v.reasonCode=this._parseByte();const h=this._parseProperties();return Object.getOwnPropertyNames(h).length&&(v.properties=h),d("_parseAuth: result: true"),!0}_parseMessageId(){const v=this.packet;return v.messageId=this._parseNum(),v.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(d("_parseMessageId: packet.messageId %d",v.messageId),!0)}_parseString(v){const h=this._parseNum(),g=h+this._pos;if(h===-1||g>this._list.length||g>this.packet.length)return null;const p=this._list.toString("utf8",this._pos,g);return this._pos+=h,d("_parseString: result: %s",p),p}_parseStringPair(){return d("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){const v=this._parseNum(),h=v+this._pos;if(v===-1||h>this._list.length||h>this.packet.length)return null;const g=this._list.slice(this._pos,h);return this._pos+=v,d("_parseBuffer: result: %o",g),g}_parseNum(){if(this._list.length-this._pos<2)return-1;const v=this._list.readUInt16BE(this._pos);return this._pos+=2,d("_parseNum: result: %s",v),v}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;const v=this._list.readUInt32BE(this._pos);return this._pos+=4,d("_parse4ByteNum: result: %s",v),v}_parseVarByteNum(v){d("_parseVarByteNum");let h,g=0,p=1,m=0,y=!1;const b=this._pos?this._pos:0;for(;g<4&&b+g<this._list.length;){if(m+=p*((h=this._list.readUInt8(b+g++))&c.VARBYTEINT_MASK),p*=128,(h&c.VARBYTEINT_FIN_MASK)==0){y=!0;break}if(this._list.length<=g)break}return!y&&g===4&&this._list.length>=g&&this._emitError(new Error("Invalid variable byte integer")),b&&(this._pos+=g),d("_parseVarByteNum: result: %o",y=!!y&&(v?{bytes:g,value:m}:m)),y}_parseByte(){let v;return this._pos<this._list.length&&(v=this._list.readUInt8(this._pos),this._pos++),d("_parseByte: result: %o",v),v}_parseByType(v){switch(d("_parseByType: type: %s",v),v){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){d("_parseProperties");const v=this._parseVarByteNum(),h=this._pos+v,g={};for(;this._pos<h;){const p=this._parseByte();if(!p)return this._emitError(new Error("Cannot parse property code type")),!1;const m=c.propertiesCodes[p];if(!m)return this._emitError(new Error("Unknown property")),!1;if(m!=="userProperties")g[m]?Array.isArray(g[m])?g[m].push(this._parseByType(c.propertiesTypes[m])):(g[m]=[g[m]],g[m].push(this._parseByType(c.propertiesTypes[m]))):g[m]=this._parseByType(c.propertiesTypes[m]);else{g[m]||(g[m]=Object.create(null));const y=this._parseByType(c.propertiesTypes[m]);if(g[m][y.name])if(Array.isArray(g[m][y.name]))g[m][y.name].push(y.value);else{const b=g[m][y.name];g[m][y.name]=[b],g[m][y.name].push(y.value)}else g[m][y.name]=y.value}}return g}_newPacket(){return d("_newPacket"),this.packet&&(this._list.consume(this.packet.length),d("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),d("_newPacket: new packet"),this.packet=new s,this._pos=0,!0}_emitError(v){d("_emitError"),this.error=v,this.emit("error",v)}}a.exports=u},{"./constants":38,"./packet":42,bl:15,debug:18,events:22}],44:[function(n,a,r){(function(o){(function(){const l=n("./constants"),s=o.allocUnsafe(0),c=o.from([0]),d=n("./numbers"),u=n("process-nextick-args").nextTick,f=n("debug")("mqtt-packet:writeToStream"),v=d.cache,h=d.generateNumber,g=d.generateCache,p=d.genBufVariableByteInt,m=d.generate4ByteBuffer;let y=D,b=!0;function w(F,M,$){switch(f("generate called"),M.cork&&(M.cork(),u(C,M)),b&&(b=!1,g()),f("generate: packet.cmd: %s",F.cmd),F.cmd){case"connect":return function(W,H,K){const z=W||{},B=z.protocolId||"MQTT";let q=z.protocolVersion||4;const Y=z.will;let X=z.clean;const T=z.keepalive||0,j=z.clientId||"",U=z.username,J=z.password,Z=z.properties;X===void 0&&(X=!0);let Q=0;if(!B||typeof B!="string"&&!o.isBuffer(B))return H.emit("error",new Error("Invalid protocolId")),!1;if(Q+=B.length+2,q!==3&&q!==4&&q!==5)return H.emit("error",new Error("Invalid protocol version")),!1;if(Q+=1,(typeof j=="string"||o.isBuffer(j))&&(j||q>=4)&&(j||X))Q+=o.byteLength(j)+2;else{if(q<4)return H.emit("error",new Error("clientId must be supplied before 3.1.1")),!1;if(1*X==0)return H.emit("error",new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof T!="number"||T<0||T>65535||T%1!=0)return H.emit("error",new Error("Invalid keepalive")),!1;if(Q+=2,Q+=1,q===5){var ee=S(H,Z);if(!ee)return!1;Q+=ee.length}if(Y){if(typeof Y!="object")return H.emit("error",new Error("Invalid will")),!1;if(!Y.topic||typeof Y.topic!="string")return H.emit("error",new Error("Invalid will topic")),!1;if(Q+=o.byteLength(Y.topic)+2,Q+=2,Y.payload){if(!(Y.payload.length>=0))return H.emit("error",new Error("Invalid will payload")),!1;typeof Y.payload=="string"?Q+=o.byteLength(Y.payload):Q+=Y.payload.length}var ne={};if(q===5){if(!(ne=S(H,Y.properties)))return!1;Q+=ne.length}}let V=!1;if(U!=null){if(!N(U))return H.emit("error",new Error("Invalid username")),!1;V=!0,Q+=o.byteLength(U)+2}if(J!=null){if(!V)return H.emit("error",new Error("Username is required to use password")),!1;if(!N(J))return H.emit("error",new Error("Invalid password")),!1;Q+=R(J)+2}H.write(l.CONNECT_HEADER),k(H,Q),O(H,B),z.bridgeMode&&(q+=128),H.write(q===131?l.VERSION131:q===132?l.VERSION132:q===4?l.VERSION4:q===5?l.VERSION5:l.VERSION3);let re=0;return re|=U!=null?l.USERNAME_MASK:0,re|=J!=null?l.PASSWORD_MASK:0,re|=Y&&Y.retain?l.WILL_RETAIN_MASK:0,re|=Y&&Y.qos?Y.qos<<l.WILL_QOS_SHIFT:0,re|=Y?l.WILL_FLAG_MASK:0,re|=X?l.CLEAN_SESSION_MASK:0,H.write(o.from([re])),y(H,T),q===5&&ee.write(),O(H,j),Y&&(q===5&&ne.write(),P(H,Y.topic),O(H,Y.payload)),U!=null&&O(H,U),J!=null&&O(H,J),!0}(F,M);case"connack":return function(W,H,K){const z=K?K.protocolVersion:4,B=W||{},q=z===5?B.reasonCode:B.returnCode,Y=B.properties;let X=2;if(typeof q!="number")return H.emit("error",new Error("Invalid return code")),!1;let T=null;if(z===5){if(!(T=S(H,Y)))return!1;X+=T.length}return H.write(l.CONNACK_HEADER),k(H,X),H.write(B.sessionPresent?l.SESSIONPRESENT_HEADER:c),H.write(o.from([q])),T!=null&&T.write(),!0}(F,M,$);case"publish":return function(W,H,K){f("publish: packet: %o",W);const z=K?K.protocolVersion:4,B=W||{},q=B.qos||0,Y=B.retain?l.RETAIN_MASK:0,X=B.topic,T=B.payload||s,j=B.messageId,U=B.properties;let J=0;if(typeof X=="string")J+=o.byteLength(X)+2;else{if(!o.isBuffer(X))return H.emit("error",new Error("Invalid topic")),!1;J+=X.length+2}if(o.isBuffer(T)?J+=T.length:J+=o.byteLength(T),q&&typeof j!="number")return H.emit("error",new Error("Invalid messageId")),!1;q&&(J+=2);let Z=null;if(z===5){if(!(Z=S(H,U)))return!1;J+=Z.length}return H.write(l.PUBLISH_HEADER[q][B.dup?1:0][Y?1:0]),k(H,J),y(H,R(X)),H.write(X),q>0&&y(H,j),Z!=null&&Z.write(),f("publish: payload: %o",T),H.write(T)}(F,M,$);case"puback":case"pubrec":case"pubrel":case"pubcomp":return function(W,H,K){const z=K?K.protocolVersion:4,B=W||{},q=B.cmd||"puback",Y=B.messageId,X=B.dup&&q==="pubrel"?l.DUP_MASK:0;let T=0;const j=B.reasonCode,U=B.properties;let J=z===5?3:2;if(q==="pubrel"&&(T=1),typeof Y!="number")return H.emit("error",new Error("Invalid messageId")),!1;let Z=null;if(z===5&&typeof U=="object"){if(!(Z=_(H,U,K,J)))return!1;J+=Z.length}return H.write(l.ACKS[q][T][X][0]),k(H,J),y(H,Y),z===5&&H.write(o.from([j])),Z!==null&&Z.write(),!0}(F,M,$);case"subscribe":return function(W,H,K){f("subscribe: packet: ");const z=K?K.protocolVersion:4,B=W||{},q=B.dup?l.DUP_MASK:0,Y=B.messageId,X=B.subscriptions,T=B.properties;let j=0;if(typeof Y!="number")return H.emit("error",new Error("Invalid messageId")),!1;j+=2;let U=null;if(z===5){if(!(U=S(H,T)))return!1;j+=U.length}if(typeof X!="object"||!X.length)return H.emit("error",new Error("Invalid subscriptions")),!1;for(let Z=0;Z<X.length;Z+=1){const Q=X[Z].topic,ee=X[Z].qos;if(typeof Q!="string")return H.emit("error",new Error("Invalid subscriptions - invalid topic")),!1;if(typeof ee!="number")return H.emit("error",new Error("Invalid subscriptions - invalid qos")),!1;if(z===5){if(typeof(X[Z].nl||!1)!="boolean")return H.emit("error",new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(X[Z].rap||!1)!="boolean")return H.emit("error",new Error("Invalid subscriptions - invalid Retain as Published")),!1;const re=X[Z].rh||0;if(typeof re!="number"||re>2)return H.emit("error",new Error("Invalid subscriptions - invalid Retain Handling")),!1}j+=o.byteLength(Q)+2+1}f("subscribe: writing to stream: %o",l.SUBSCRIBE_HEADER),H.write(l.SUBSCRIBE_HEADER[1][q?1:0][0]),k(H,j),y(H,Y),U!==null&&U.write();let J=!0;for(const Z of X){const Q=Z.topic,ee=Z.qos,ne=+Z.nl,V=+Z.rap,re=Z.rh;let ce;P(H,Q),ce=l.SUBSCRIBE_OPTIONS_QOS[ee],z===5&&(ce|=ne?l.SUBSCRIBE_OPTIONS_NL:0,ce|=V?l.SUBSCRIBE_OPTIONS_RAP:0,ce|=re?l.SUBSCRIBE_OPTIONS_RH[re]:0),J=H.write(o.from([ce]))}return J}(F,M,$);case"suback":return function(W,H,K){const z=K?K.protocolVersion:4,B=W||{},q=B.messageId,Y=B.granted,X=B.properties;let T=0;if(typeof q!="number")return H.emit("error",new Error("Invalid messageId")),!1;if(T+=2,typeof Y!="object"||!Y.length)return H.emit("error",new Error("Invalid qos vector")),!1;for(let U=0;U<Y.length;U+=1){if(typeof Y[U]!="number")return H.emit("error",new Error("Invalid qos vector")),!1;T+=1}let j=null;if(z===5){if(!(j=_(H,X,K,T)))return!1;T+=j.length}return H.write(l.SUBACK_HEADER),k(H,T),y(H,q),j!==null&&j.write(),H.write(o.from(Y))}(F,M,$);case"unsubscribe":return function(W,H,K){const z=K?K.protocolVersion:4,B=W||{},q=B.messageId,Y=B.dup?l.DUP_MASK:0,X=B.unsubscriptions,T=B.properties;let j=0;if(typeof q!="number")return H.emit("error",new Error("Invalid messageId")),!1;if(j+=2,typeof X!="object"||!X.length)return H.emit("error",new Error("Invalid unsubscriptions")),!1;for(let Z=0;Z<X.length;Z+=1){if(typeof X[Z]!="string")return H.emit("error",new Error("Invalid unsubscriptions")),!1;j+=o.byteLength(X[Z])+2}let U=null;if(z===5){if(!(U=S(H,T)))return!1;j+=U.length}H.write(l.UNSUBSCRIBE_HEADER[1][Y?1:0][0]),k(H,j),y(H,q),U!==null&&U.write();let J=!0;for(let Z=0;Z<X.length;Z++)J=P(H,X[Z]);return J}(F,M,$);case"unsuback":return function(W,H,K){const z=K?K.protocolVersion:4,B=W||{},q=B.messageId,Y=B.dup?l.DUP_MASK:0,X=B.granted,T=B.properties,j=B.cmd;let U=2;if(typeof q!="number")return H.emit("error",new Error("Invalid messageId")),!1;if(z===5){if(typeof X!="object"||!X.length)return H.emit("error",new Error("Invalid qos vector")),!1;for(let Z=0;Z<X.length;Z+=1){if(typeof X[Z]!="number")return H.emit("error",new Error("Invalid qos vector")),!1;U+=1}}let J=null;if(z===5){if(!(J=_(H,T,K,U)))return!1;U+=J.length}return H.write(l.ACKS[j][0][Y][0]),k(H,U),y(H,q),J!==null&&J.write(),z===5&&H.write(o.from(X)),!0}(F,M,$);case"pingreq":case"pingresp":return function(W,H,K){return H.write(l.EMPTY[W.cmd])}(F,M);case"disconnect":return function(W,H,K){const z=K?K.protocolVersion:4,B=W||{},q=B.reasonCode,Y=B.properties;let X=z===5?1:0,T=null;if(z===5){if(!(T=_(H,Y,K,X)))return!1;X+=T.length}return H.write(o.from([l.codes.disconnect<<4])),k(H,X),z===5&&H.write(o.from([q])),T!==null&&T.write(),!0}(F,M,$);case"auth":return function(W,H,K){const z=K?K.protocolVersion:4,B=W||{},q=B.reasonCode,Y=B.properties;let X=z===5?1:0;z!==5&&H.emit("error",new Error("Invalid mqtt version for auth packet"));const T=_(H,Y,K,X);return T?(X+=T.length,H.write(o.from([l.codes.auth<<4])),k(H,X),H.write(o.from([q])),T!==null&&T.write(),!0):!1}(F,M,$);default:return M.emit("error",new Error("Unknown command")),!1}}function C(F){F.uncork()}Object.defineProperty(w,"cacheNumbers",{get:()=>y===D,set(F){F?(v&&Object.keys(v).length!==0||(b=!0),y=D):(b=!1,y=L)}});const x={};function k(F,M){if(M>l.VARBYTEINT_MAX)return F.emit("error",new Error(`Invalid variable byte integer: ${M}`)),!1;let $=x[M];return $||($=p(M),M<16384&&(x[M]=$)),f("writeVarByteInt: writing to stream: %o",$),F.write($)}function P(F,M){const $=o.byteLength(M);return y(F,$),f("writeString: %s",M),F.write(M,"utf8")}function I(F,M,$){P(F,M),P(F,$)}function D(F,M){return f("writeNumberCached: number: %d",M),f("writeNumberCached: %o",v[M]),F.write(v[M])}function L(F,M){const $=h(M);return f("writeNumberGenerated: %o",$),F.write($)}function O(F,M){typeof M=="string"?P(F,M):M?(y(F,M.length),F.write(M)):y(F,0)}function S(F,M){if(typeof M!="object"||M.length!=null)return{length:1,write(){E(F,{},0)}};let $=0;function W(H,K){let z=0;switch(l.propertiesTypes[H]){case"byte":if(typeof K!="boolean")return F.emit("error",new Error(`Invalid ${H}: ${K}`)),!1;z+=2;break;case"int8":if(typeof K!="number"||K<0||K>255)return F.emit("error",new Error(`Invalid ${H}: ${K}`)),!1;z+=2;break;case"binary":if(K&&K===null)return F.emit("error",new Error(`Invalid ${H}: ${K}`)),!1;z+=1+o.byteLength(K)+2;break;case"int16":if(typeof K!="number"||K<0||K>65535)return F.emit("error",new Error(`Invalid ${H}: ${K}`)),!1;z+=3;break;case"int32":if(typeof K!="number"||K<0||K>4294967295)return F.emit("error",new Error(`Invalid ${H}: ${K}`)),!1;z+=5;break;case"var":if(typeof K!="number"||K<0||K>268435455)return F.emit("error",new Error(`Invalid ${H}: ${K}`)),!1;z+=1+o.byteLength(p(K));break;case"string":if(typeof K!="string")return F.emit("error",new Error(`Invalid ${H}: ${K}`)),!1;z+=3+o.byteLength(K.toString());break;case"pair":if(typeof K!="object")return F.emit("error",new Error(`Invalid ${H}: ${K}`)),!1;z+=Object.getOwnPropertyNames(K).reduce((B,q)=>{const Y=K[q];return Array.isArray(Y)?B+=Y.reduce((X,T)=>X+=3+o.byteLength(q.toString())+2+o.byteLength(T.toString()),0):B+=3+o.byteLength(q.toString())+2+o.byteLength(K[q].toString()),B},0);break;default:return F.emit("error",new Error(`Invalid property ${H}: ${K}`)),!1}return z}if(M)for(const H in M){let K=0,z=0;const B=M[H];if(Array.isArray(B))for(let q=0;q<B.length;q++){if(!(z=W(H,B[q])))return!1;K+=z}else{if(!(z=W(H,B)))return!1;K=z}if(!K)return!1;$+=K}return{length:o.byteLength(p($))+$,write(){E(F,M,$)}}}function _(F,M,$,W){const H=["reasonString","userProperties"],K=$&&$.properties&&$.properties.maximumPacketSize?$.properties.maximumPacketSize:0;let z=S(F,M);if(K)for(;W+z.length>K;){const B=H.shift();if(!B||!M[B])return!1;delete M[B],z=S(F,M)}return z}function A(F,M,$){switch(l.propertiesTypes[M]){case"byte":F.write(o.from([l.properties[M]])),F.write(o.from([+$]));break;case"int8":F.write(o.from([l.properties[M]])),F.write(o.from([$]));break;case"binary":F.write(o.from([l.properties[M]])),O(F,$);break;case"int16":F.write(o.from([l.properties[M]])),y(F,$);break;case"int32":F.write(o.from([l.properties[M]])),function(W,H){const K=m(H);f("write4ByteNumber: %o",K),W.write(K)}(F,$);break;case"var":F.write(o.from([l.properties[M]])),k(F,$);break;case"string":F.write(o.from([l.properties[M]])),P(F,$);break;case"pair":Object.getOwnPropertyNames($).forEach(W=>{const H=$[W];Array.isArray(H)?H.forEach(K=>{F.write(o.from([l.properties[M]])),I(F,W.toString(),K.toString())}):(F.write(o.from([l.properties[M]])),I(F,W.toString(),H.toString()))});break;default:return F.emit("error",new Error(`Invalid property ${M} value: ${$}`)),!1}}function E(F,M,$){k(F,$);for(const W in M)if(Object.prototype.hasOwnProperty.call(M,W)&&M[W]!==null){const H=M[W];if(Array.isArray(H))for(let K=0;K<H.length;K++)A(F,W,H[K]);else A(F,W,H)}}function R(F){return F?F instanceof o?F.length:o.byteLength(F):0}function N(F){return typeof F=="string"||F instanceof o}a.exports=w}).call(this)}).call(this,n("buffer").Buffer)},{"./constants":38,"./numbers":41,buffer:17,debug:18,"process-nextick-args":49}],45:[function(n,a,r){var o=1e3,l=60*o,s=60*l,c=24*s,d=7*c,u=365.25*c;function f(v,h,g,p){var m=h>=1.5*g;return Math.round(v/g)+" "+p+(m?"s":"")}a.exports=function(v,h){h=h||{};var g=typeof v;if(g==="string"&&v.length>0)return function(p){if(!((p=String(p)).length>100)){var m=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(p);if(m){var y=parseFloat(m[1]);switch((m[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return y*u;case"weeks":case"week":case"w":return y*d;case"days":case"day":case"d":return y*c;case"hours":case"hour":case"hrs":case"hr":case"h":return y*s;case"minutes":case"minute":case"mins":case"min":case"m":return y*l;case"seconds":case"second":case"secs":case"sec":case"s":return y*o;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return y;default:return}}}}(v);if(g==="number"&&isFinite(v))return h.long?function(p){var m=Math.abs(p);return m>=c?f(p,m,c,"day"):m>=s?f(p,m,s,"hour"):m>=l?f(p,m,l,"minute"):m>=o?f(p,m,o,"second"):p+" ms"}(v):function(p){var m=Math.abs(p);return m>=c?Math.round(p/c)+"d":m>=s?Math.round(p/s)+"h":m>=l?Math.round(p/l)+"m":m>=o?Math.round(p/o)+"s":p+"ms"}(v);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(v))}},{}],46:[function(n,a,r){const o=n("./lib/number-allocator.js");a.exports.NumberAllocator=o},{"./lib/number-allocator.js":47}],47:[function(n,a,r){const o=n("js-sdsl").Set,l=n("debug")("number-allocator:trace"),s=n("debug")("number-allocator:error");function c(u,f){this.low=u,this.high=f}function d(u,f){if(!(this instanceof d))return new d(u,f);this.min=u,this.max=f,this.ss=new o([],(v,h)=>v.compare(h)),l("Create"),this.clear()}c.prototype.equals=function(u){return this.low===u.low&&this.high===u.high},c.prototype.compare=function(u){return this.low<u.low&&this.high<u.low?-1:u.low<this.low&&u.high<this.low?1:0},d.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},d.prototype.alloc=function(){if(this.ss.size()===0)return l("alloc():empty"),null;const u=this.ss.front(),f=u.low;return f+1<=u.high?++u.low:this.ss.eraseElementByPos(0),l("alloc():"+f),f},d.prototype.use=function(u){const f=new c(u,u),v=this.ss.lowerBound(f);if(v){if(v.equals(f))return this.ss.eraseElementByValue(v),l("use():"+u),!0;if(v.low>u)return!1;if(v.low===u)return++v.low,l("use():"+u),!0;if(v.high===u)return--v.high,l("use():"+u),!0;const h=v.low;return v.low=u+1,this.ss.insert(new c(h,u-1)),l("use():"+u),!0}return l("use():failed"),!1},d.prototype.free=function(u){if(u<this.min||u>this.max)return void s("free():"+u+" is out of range");const f=new c(u,u),v=this.ss.lowerBound(f);if(v){if(v.low<=u&&u<=v.high)return void s("free():"+u+" has already been vacant");if(v===this.ss.front())u+1===v.low?--v.low:this.ss.insert(f);else{const h=this.ss.reverseLowerBound(f);h.high+1===u?u+1===v.low?(this.ss.eraseElementByValue(h),v.low=h.low):h.high=u:u+1===v.low?v.low=u:this.ss.insert(f)}}else{if(v===this.ss.front())return void this.ss.insert(f);const h=this.ss.reverseLowerBound(f);h.high+1===u?h.high=u:this.ss.insert(f)}l("free():"+u)},d.prototype.clear=function(){l("clear()"),this.ss.clear(),this.ss.insert(new c(this.min,this.max))},d.prototype.intervalCount=function(){return this.ss.size()},d.prototype.dump=function(){console.log("length:"+this.ss.size());for(const u of this.ss)console.log(u)},a.exports=d},{debug:18,"js-sdsl":36}],48:[function(n,a,r){var o=n("wrappy");function l(c){var d=function(){return d.called?d.value:(d.called=!0,d.value=c.apply(this,arguments))};return d.called=!1,d}function s(c){var d=function(){if(d.called)throw new Error(d.onceError);return d.called=!0,d.value=c.apply(this,arguments)},u=c.name||"Function wrapped with `once`";return d.onceError=u+" shouldn't be called more than once",d.called=!1,d}a.exports=o(l),a.exports.strict=o(s),l.proto=l(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return l(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return s(this)},configurable:!0})})},{wrappy:79}],49:[function(n,a,r){(function(o){(function(){o===void 0||!o.version||o.version.indexOf("v0.")===0||o.version.indexOf("v1.")===0&&o.version.indexOf("v1.8.")!==0?a.exports={nextTick:function(l,s,c,d){if(typeof l!="function")throw new TypeError('"callback" argument must be a function');var u,f,v=arguments.length;switch(v){case 0:case 1:return o.nextTick(l);case 2:return o.nextTick(function(){l.call(null,s)});case 3:return o.nextTick(function(){l.call(null,s,c)});case 4:return o.nextTick(function(){l.call(null,s,c,d)});default:for(u=new Array(v-1),f=0;f<u.length;)u[f++]=arguments[f];return o.nextTick(function(){l.apply(null,u)})}}}:a.exports=o}).call(this)}).call(this,n("_process"))},{_process:50}],50:[function(n,a,r){var o,l,s=a.exports={};function c(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}function u(w){if(o===setTimeout)return setTimeout(w,0);if((o===c||!o)&&setTimeout)return o=setTimeout,setTimeout(w,0);try{return o(w,0)}catch{try{return o.call(null,w,0)}catch{return o.call(this,w,0)}}}(function(){try{o=typeof setTimeout=="function"?setTimeout:c}catch{o=c}try{l=typeof clearTimeout=="function"?clearTimeout:d}catch{l=d}})();var f,v=[],h=!1,g=-1;function p(){h&&f&&(h=!1,f.length?v=f.concat(v):g=-1,v.length&&m())}function m(){if(!h){var w=u(p);h=!0;for(var C=v.length;C;){for(f=v,v=[];++g<C;)f&&f[g].run();g=-1,C=v.length}f=null,h=!1,function(x){if(l===clearTimeout)return clearTimeout(x);if((l===d||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(x);try{l(x)}catch{try{return l.call(null,x)}catch{return l.call(this,x)}}}(w)}}function y(w,C){this.fun=w,this.array=C}function b(){}s.nextTick=function(w){var C=new Array(arguments.length-1);if(arguments.length>1)for(var x=1;x<arguments.length;x++)C[x-1]=arguments[x];v.push(new y(w,C)),v.length!==1||h||u(m)},y.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=b,s.addListener=b,s.once=b,s.off=b,s.removeListener=b,s.removeAllListeners=b,s.emit=b,s.prependListener=b,s.prependOnceListener=b,s.listeners=function(w){return[]},s.binding=function(w){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(w){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],51:[function(n,a,r){(function(o){(function(){(function(l){var s=typeof r=="object"&&r&&!r.nodeType&&r,c=typeof a=="object"&&a&&!a.nodeType&&a,d=typeof o=="object"&&o;d.global!==d&&d.window!==d&&d.self!==d||(l=d);var u,f,v=2147483647,h=36,g=1,p=26,m=38,y=700,b=72,w=128,C="-",x=/^xn--/,k=/[^\x20-\x7E]/,P=/[\x2E\u3002\uFF0E\uFF61]/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},D=h-g,L=Math.floor,O=String.fromCharCode;function S(W){throw new RangeError(I[W])}function _(W,H){for(var K=W.length,z=[];K--;)z[K]=H(W[K]);return z}function A(W,H){var K=W.split("@"),z="";return K.length>1&&(z=K[0]+"@",W=K[1]),z+_((W=W.replace(P,".")).split("."),H).join(".")}function E(W){for(var H,K,z=[],B=0,q=W.length;B<q;)(H=W.charCodeAt(B++))>=55296&&H<=56319&&B<q?(64512&(K=W.charCodeAt(B++)))==56320?z.push(((1023&H)<<10)+(1023&K)+65536):(z.push(H),B--):z.push(H);return z}function R(W){return _(W,function(H){var K="";return H>65535&&(K+=O((H-=65536)>>>10&1023|55296),H=56320|1023&H),K+=O(H)}).join("")}function N(W,H){return W+22+75*(W<26)-((H!=0)<<5)}function F(W,H,K){var z=0;for(W=K?L(W/y):W>>1,W+=L(W/H);W>D*p>>1;z+=h)W=L(W/D);return L(z+(D+1)*W/(W+m))}function M(W){var H,K,z,B,q,Y,X,T,j,U,J,Z=[],Q=W.length,ee=0,ne=w,V=b;for((K=W.lastIndexOf(C))<0&&(K=0),z=0;z<K;++z)W.charCodeAt(z)>=128&&S("not-basic"),Z.push(W.charCodeAt(z));for(B=K>0?K+1:0;B<Q;){for(q=ee,Y=1,X=h;B>=Q&&S("invalid-input"),((T=(J=W.charCodeAt(B++))-48<10?J-22:J-65<26?J-65:J-97<26?J-97:h)>=h||T>L((v-ee)/Y))&&S("overflow"),ee+=T*Y,!(T<(j=X<=V?g:X>=V+p?p:X-V));X+=h)Y>L(v/(U=h-j))&&S("overflow"),Y*=U;V=F(ee-q,H=Z.length+1,q==0),L(ee/H)>v-ne&&S("overflow"),ne+=L(ee/H),ee%=H,Z.splice(ee++,0,ne)}return R(Z)}function $(W){var H,K,z,B,q,Y,X,T,j,U,J,Z,Q,ee,ne,V=[];for(Z=(W=E(W)).length,H=w,K=0,q=b,Y=0;Y<Z;++Y)(J=W[Y])<128&&V.push(O(J));for(z=B=V.length,B&&V.push(C);z<Z;){for(X=v,Y=0;Y<Z;++Y)(J=W[Y])>=H&&J<X&&(X=J);for(X-H>L((v-K)/(Q=z+1))&&S("overflow"),K+=(X-H)*Q,H=X,Y=0;Y<Z;++Y)if((J=W[Y])<H&&++K>v&&S("overflow"),J==H){for(T=K,j=h;!(T<(U=j<=q?g:j>=q+p?p:j-q));j+=h)ne=T-U,ee=h-U,V.push(O(N(U+ne%ee,0))),T=L(ne/ee);V.push(O(N(T,0))),q=F(K,Q,z==B),K=0,++z}++K,++H}return V.join("")}if(u={version:"1.4.1",ucs2:{decode:E,encode:R},decode:M,encode:$,toASCII:function(W){return A(W,function(H){return k.test(H)?"xn--"+$(H):H})},toUnicode:function(W){return A(W,function(H){return x.test(H)?M(H.slice(4).toLowerCase()):H})}},s&&c)if(a.exports==s)c.exports=u;else for(f in u)u.hasOwnProperty(f)&&(s[f]=u[f]);else l.punycode=u})(this)}).call(this)}).call(this,typeof wn<"u"?wn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],52:[function(n,a,r){function o(s,c){return Object.prototype.hasOwnProperty.call(s,c)}a.exports=function(s,c,d,u){c=c||"&",d=d||"=";var f={};if(typeof s!="string"||s.length===0)return f;var v=/\+/g;s=s.split(c);var h=1e3;u&&typeof u.maxKeys=="number"&&(h=u.maxKeys);var g=s.length;h>0&&g>h&&(g=h);for(var p=0;p<g;++p){var m,y,b,w,C=s[p].replace(v,"%20"),x=C.indexOf(d);x>=0?(m=C.substr(0,x),y=C.substr(x+1)):(m=C,y=""),b=decodeURIComponent(m),w=decodeURIComponent(y),o(f,b)?l(f[b])?f[b].push(w):f[b]=[f[b],w]:f[b]=w}return f};var l=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"}},{}],53:[function(n,a,r){var o=function(d){switch(typeof d){case"string":return d;case"boolean":return d?"true":"false";case"number":return isFinite(d)?d:"";default:return""}};a.exports=function(d,u,f,v){return u=u||"&",f=f||"=",d===null&&(d=void 0),typeof d=="object"?s(c(d),function(h){var g=encodeURIComponent(o(h))+f;return l(d[h])?s(d[h],function(p){return g+encodeURIComponent(o(p))}).join(u):g+encodeURIComponent(o(d[h]))}).join(u):v?encodeURIComponent(o(v))+f+encodeURIComponent(o(d)):""};var l=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"};function s(d,u){if(d.map)return d.map(u);for(var f=[],v=0;v<d.length;v++)f.push(u(d[v],v));return f}var c=Object.keys||function(d){var u=[];for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&u.push(f);return u}},{}],54:[function(n,a,r){r.decode=r.parse=n("./decode"),r.encode=r.stringify=n("./encode")},{"./decode":52,"./encode":53}],55:[function(n,a,r){var o={};function l(c,d,u){u||(u=Error);var f=function(v){var h,g;function p(m,y,b){return v.call(this,function(w,C,x){return typeof d=="string"?d:d(w,C,x)}(m,y,b))||this}return g=v,(h=p).prototype=Object.create(g.prototype),h.prototype.constructor=h,h.__proto__=g,p}(u);f.prototype.name=u.name,f.prototype.code=c,o[c]=f}function s(c,d){if(Array.isArray(c)){var u=c.length;return c=c.map(function(f){return String(f)}),u>2?"one of ".concat(d," ").concat(c.slice(0,u-1).join(", "),", or ")+c[u-1]:u===2?"one of ".concat(d," ").concat(c[0]," or ").concat(c[1]):"of ".concat(d," ").concat(c[0])}return"of ".concat(d," ").concat(String(c))}l("ERR_INVALID_OPT_VALUE",function(c,d){return'The value "'+d+'" is invalid for option "'+c+'"'},TypeError),l("ERR_INVALID_ARG_TYPE",function(c,d,u){var f,v,h;if(typeof d=="string"&&(v="not ",d.substr(0,v.length)===v)?(f="must not be",d=d.replace(/^not /,"")):f="must be",function(p,m,y){return(y===void 0||y>p.length)&&(y=p.length),p.substring(y-m.length,y)===m}(c," argument"))h="The ".concat(c," ").concat(f," ").concat(s(d,"type"));else{var g=function(p,m,y){return typeof y!="number"&&(y=0),!(y+m.length>p.length)&&p.indexOf(m,y)!==-1}(c,".")?"property":"argument";h='The "'.concat(c,'" ').concat(g," ").concat(f," ").concat(s(d,"type"))}return h+=". Received type ".concat(typeof u)},TypeError),l("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),l("ERR_METHOD_NOT_IMPLEMENTED",function(c){return"The "+c+" method is not implemented"}),l("ERR_STREAM_PREMATURE_CLOSE","Premature close"),l("ERR_STREAM_DESTROYED",function(c){return"Cannot call "+c+" after a stream was destroyed"}),l("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),l("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),l("ERR_STREAM_WRITE_AFTER_END","write after end"),l("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),l("ERR_UNKNOWN_ENCODING",function(c){return"Unknown encoding: "+c},TypeError),l("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),a.exports.codes=o},{}],56:[function(n,a,r){(function(o){(function(){var l=Object.keys||function(p){var m=[];for(var y in p)m.push(y);return m};a.exports=v;var s=n("./_stream_readable"),c=n("./_stream_writable");n("inherits")(v,s);for(var d=l(c.prototype),u=0;u<d.length;u++){var f=d[u];v.prototype[f]||(v.prototype[f]=c.prototype[f])}function v(p){if(!(this instanceof v))return new v(p);s.call(this,p),c.call(this,p),this.allowHalfOpen=!0,p&&(p.readable===!1&&(this.readable=!1),p.writable===!1&&(this.writable=!1),p.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||o.nextTick(g,this)}function g(p){p.end()}Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(v.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(v.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(v.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}})}).call(this)}).call(this,n("_process"))},{"./_stream_readable":58,"./_stream_writable":60,_process:50,inherits:24}],57:[function(n,a,r){a.exports=l;var o=n("./_stream_transform");function l(s){if(!(this instanceof l))return new l(s);o.call(this,s)}n("inherits")(l,o),l.prototype._transform=function(s,c,d){d(null,s)}},{"./_stream_transform":59,inherits:24}],58:[function(n,a,r){(function(o,l){(function(){var s;a.exports=S,S.ReadableState=O,n("events").EventEmitter;var c=function(T,j){return T.listeners(j).length},d=n("./internal/streams/stream"),u=n("buffer").Buffer,f=l.Uint8Array||function(){},v,h=n("util");v=h&&h.debuglog?h.debuglog("stream"):function(){};var g,p,m,y=n("./internal/streams/buffer_list"),b=n("./internal/streams/destroy"),w=n("./internal/streams/state").getHighWaterMark,C=n("../errors").codes,x=C.ERR_INVALID_ARG_TYPE,k=C.ERR_STREAM_PUSH_AFTER_EOF,P=C.ERR_METHOD_NOT_IMPLEMENTED,I=C.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n("inherits")(S,d);var D=b.errorOrDestroy,L=["error","close","destroy","pause","resume"];function O(T,j,U){s=s||n("./_stream_duplex"),T=T||{},typeof U!="boolean"&&(U=j instanceof s),this.objectMode=!!T.objectMode,U&&(this.objectMode=this.objectMode||!!T.readableObjectMode),this.highWaterMark=w(this,T,"readableHighWaterMark",U),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=T.emitClose!==!1,this.autoDestroy=!!T.autoDestroy,this.destroyed=!1,this.defaultEncoding=T.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,T.encoding&&(g||(g=n("string_decoder/").StringDecoder),this.decoder=new g(T.encoding),this.encoding=T.encoding)}function S(T){if(s=s||n("./_stream_duplex"),!(this instanceof S))return new S(T);var j=this instanceof s;this._readableState=new O(T,this,j),this.readable=!0,T&&(typeof T.read=="function"&&(this._read=T.read),typeof T.destroy=="function"&&(this._destroy=T.destroy)),d.call(this)}function _(T,j,U,J,Z){v("readableAddChunk",j);var Q,ee=T._readableState;if(j===null)ee.reading=!1,function(ne,V){if(v("onEofChunk"),!V.ended){if(V.decoder){var re=V.decoder.end();re&&re.length&&(V.buffer.push(re),V.length+=V.objectMode?1:re.length)}V.ended=!0,V.sync?N(ne):(V.needReadable=!1,V.emittedReadable||(V.emittedReadable=!0,F(ne)))}}(T,ee);else if(Z||(Q=function(ne,V){var re;ce=V,u.isBuffer(ce)||ce instanceof f||typeof V=="string"||V===void 0||ne.objectMode||(re=new x("chunk",["string","Buffer","Uint8Array"],V));var ce;return re}(ee,j)),Q)D(T,Q);else if(ee.objectMode||j&&j.length>0)if(typeof j=="string"||ee.objectMode||Object.getPrototypeOf(j)===u.prototype||(j=function(ne){return u.from(ne)}(j)),J)ee.endEmitted?D(T,new I):A(T,ee,j,!0);else if(ee.ended)D(T,new k);else{if(ee.destroyed)return!1;ee.reading=!1,ee.decoder&&!U?(j=ee.decoder.write(j),ee.objectMode||j.length!==0?A(T,ee,j,!1):M(T,ee)):A(T,ee,j,!1)}else J||(ee.reading=!1,M(T,ee));return!ee.ended&&(ee.length<ee.highWaterMark||ee.length===0)}function A(T,j,U,J){j.flowing&&j.length===0&&!j.sync?(j.awaitDrain=0,T.emit("data",U)):(j.length+=j.objectMode?1:U.length,J?j.buffer.unshift(U):j.buffer.push(U),j.needReadable&&N(T)),M(T,j)}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(T){this._readableState&&(this._readableState.destroyed=T)}}),S.prototype.destroy=b.destroy,S.prototype._undestroy=b.undestroy,S.prototype._destroy=function(T,j){j(T)},S.prototype.push=function(T,j){var U,J=this._readableState;return J.objectMode?U=!0:typeof T=="string"&&((j=j||J.defaultEncoding)!==J.encoding&&(T=u.from(T,j),j=""),U=!0),_(this,T,j,!1,U)},S.prototype.unshift=function(T){return _(this,T,null,!0,!1)},S.prototype.isPaused=function(){return this._readableState.flowing===!1},S.prototype.setEncoding=function(T){g||(g=n("string_decoder/").StringDecoder);var j=new g(T);this._readableState.decoder=j,this._readableState.encoding=this._readableState.decoder.encoding;for(var U=this._readableState.buffer.head,J="";U!==null;)J+=j.write(U.data),U=U.next;return this._readableState.buffer.clear(),J!==""&&this._readableState.buffer.push(J),this._readableState.length=J.length,this};var E=1073741824;function R(T,j){return T<=0||j.length===0&&j.ended?0:j.objectMode?1:T!=T?j.flowing&&j.length?j.buffer.head.data.length:j.length:(T>j.highWaterMark&&(j.highWaterMark=function(U){return U>=E?U=E:(U--,U|=U>>>1,U|=U>>>2,U|=U>>>4,U|=U>>>8,U|=U>>>16,U++),U}(T)),T<=j.length?T:j.ended?j.length:(j.needReadable=!0,0))}function N(T){var j=T._readableState;v("emitReadable",j.needReadable,j.emittedReadable),j.needReadable=!1,j.emittedReadable||(v("emitReadable",j.flowing),j.emittedReadable=!0,o.nextTick(F,T))}function F(T){var j=T._readableState;v("emitReadable_",j.destroyed,j.length,j.ended),j.destroyed||!j.length&&!j.ended||(T.emit("readable"),j.emittedReadable=!1),j.needReadable=!j.flowing&&!j.ended&&j.length<=j.highWaterMark,z(T)}function M(T,j){j.readingMore||(j.readingMore=!0,o.nextTick($,T,j))}function $(T,j){for(;!j.reading&&!j.ended&&(j.length<j.highWaterMark||j.flowing&&j.length===0);){var U=j.length;if(v("maybeReadMore read 0"),T.read(0),U===j.length)break}j.readingMore=!1}function W(T){var j=T._readableState;j.readableListening=T.listenerCount("readable")>0,j.resumeScheduled&&!j.paused?j.flowing=!0:T.listenerCount("data")>0&&T.resume()}function H(T){v("readable nexttick read 0"),T.read(0)}function K(T,j){v("resume",j.reading),j.reading||T.read(0),j.resumeScheduled=!1,T.emit("resume"),z(T),j.flowing&&!j.reading&&T.read(0)}function z(T){var j=T._readableState;for(v("flow",j.flowing);j.flowing&&T.read()!==null;);}function B(T,j){return j.length===0?null:(j.objectMode?U=j.buffer.shift():!T||T>=j.length?(U=j.decoder?j.buffer.join(""):j.buffer.length===1?j.buffer.first():j.buffer.concat(j.length),j.buffer.clear()):U=j.buffer.consume(T,j.decoder),U);var U}function q(T){var j=T._readableState;v("endReadable",j.endEmitted),j.endEmitted||(j.ended=!0,o.nextTick(Y,j,T))}function Y(T,j){if(v("endReadableNT",T.endEmitted,T.length),!T.endEmitted&&T.length===0&&(T.endEmitted=!0,j.readable=!1,j.emit("end"),T.autoDestroy)){var U=j._writableState;(!U||U.autoDestroy&&U.finished)&&j.destroy()}}function X(T,j){for(var U=0,J=T.length;U<J;U++)if(T[U]===j)return U;return-1}S.prototype.read=function(T){v("read",T),T=parseInt(T,10);var j=this._readableState,U=T;if(T!==0&&(j.emittedReadable=!1),T===0&&j.needReadable&&((j.highWaterMark!==0?j.length>=j.highWaterMark:j.length>0)||j.ended))return v("read: emitReadable",j.length,j.ended),j.length===0&&j.ended?q(this):N(this),null;if((T=R(T,j))===0&&j.ended)return j.length===0&&q(this),null;var J,Z=j.needReadable;return v("need readable",Z),(j.length===0||j.length-T<j.highWaterMark)&&v("length less than watermark",Z=!0),j.ended||j.reading?v("reading or ended",Z=!1):Z&&(v("do read"),j.reading=!0,j.sync=!0,j.length===0&&(j.needReadable=!0),this._read(j.highWaterMark),j.sync=!1,j.reading||(T=R(U,j))),(J=T>0?B(T,j):null)===null?(j.needReadable=j.length<=j.highWaterMark,T=0):(j.length-=T,j.awaitDrain=0),j.length===0&&(j.ended||(j.needReadable=!0),U!==T&&j.ended&&q(this)),J!==null&&this.emit("data",J),J},S.prototype._read=function(T){D(this,new P("_read()"))},S.prototype.pipe=function(T,j){var U=this,J=this._readableState;switch(J.pipesCount){case 0:J.pipes=T;break;case 1:J.pipes=[J.pipes,T];break;default:J.pipes.push(T)}J.pipesCount+=1,v("pipe count=%d opts=%j",J.pipesCount,j);var Z=(!j||j.end!==!1)&&T!==o.stdout&&T!==o.stderr?ee:ye;function Q(me,ge){v("onunpipe"),me===U&&ge&&ge.hasUnpiped===!1&&(ge.hasUnpiped=!0,v("cleanup"),T.removeListener("close",se),T.removeListener("finish",ue),T.removeListener("drain",ne),T.removeListener("error",ce),T.removeListener("unpipe",Q),U.removeListener("end",ee),U.removeListener("end",ye),U.removeListener("data",re),V=!0,!J.awaitDrain||T._writableState&&!T._writableState.needDrain||ne())}function ee(){v("onend"),T.end()}J.endEmitted?o.nextTick(Z):U.once("end",Z),T.on("unpipe",Q);var ne=function(me){return function(){var ge=me._readableState;v("pipeOnDrain",ge.awaitDrain),ge.awaitDrain&&ge.awaitDrain--,ge.awaitDrain===0&&c(me,"data")&&(ge.flowing=!0,z(me))}}(U);T.on("drain",ne);var V=!1;function re(me){v("ondata");var ge=T.write(me);v("dest.write",ge),ge===!1&&((J.pipesCount===1&&J.pipes===T||J.pipesCount>1&&X(J.pipes,T)!==-1)&&!V&&(v("false write response, pause",J.awaitDrain),J.awaitDrain++),U.pause())}function ce(me){v("onerror",me),ye(),T.removeListener("error",ce),c(T,"error")===0&&D(T,me)}function se(){T.removeListener("finish",ue),ye()}function ue(){v("onfinish"),T.removeListener("close",se),ye()}function ye(){v("unpipe"),U.unpipe(T)}return U.on("data",re),function(me,ge,xe){if(typeof me.prependListener=="function")return me.prependListener(ge,xe);me._events&&me._events[ge]?Array.isArray(me._events[ge])?me._events[ge].unshift(xe):me._events[ge]=[xe,me._events[ge]]:me.on(ge,xe)}(T,"error",ce),T.once("close",se),T.once("finish",ue),T.emit("pipe",U),J.flowing||(v("pipe resume"),U.resume()),T},S.prototype.unpipe=function(T){var j=this._readableState,U={hasUnpiped:!1};if(j.pipesCount===0)return this;if(j.pipesCount===1)return T&&T!==j.pipes?this:(T||(T=j.pipes),j.pipes=null,j.pipesCount=0,j.flowing=!1,T&&T.emit("unpipe",this,U),this);if(!T){var J=j.pipes,Z=j.pipesCount;j.pipes=null,j.pipesCount=0,j.flowing=!1;for(var Q=0;Q<Z;Q++)J[Q].emit("unpipe",this,{hasUnpiped:!1});return this}var ee=X(j.pipes,T);return ee===-1?this:(j.pipes.splice(ee,1),j.pipesCount-=1,j.pipesCount===1&&(j.pipes=j.pipes[0]),T.emit("unpipe",this,U),this)},S.prototype.on=function(T,j){var U=d.prototype.on.call(this,T,j),J=this._readableState;return T==="data"?(J.readableListening=this.listenerCount("readable")>0,J.flowing!==!1&&this.resume()):T==="readable"&&(J.endEmitted||J.readableListening||(J.readableListening=J.needReadable=!0,J.flowing=!1,J.emittedReadable=!1,v("on readable",J.length,J.reading),J.length?N(this):J.reading||o.nextTick(H,this))),U},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(T,j){var U=d.prototype.removeListener.call(this,T,j);return T==="readable"&&o.nextTick(W,this),U},S.prototype.removeAllListeners=function(T){var j=d.prototype.removeAllListeners.apply(this,arguments);return T!=="readable"&&T!==void 0||o.nextTick(W,this),j},S.prototype.resume=function(){var T=this._readableState;return T.flowing||(v("resume"),T.flowing=!T.readableListening,function(j,U){U.resumeScheduled||(U.resumeScheduled=!0,o.nextTick(K,j,U))}(this,T)),T.paused=!1,this},S.prototype.pause=function(){return v("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(v("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},S.prototype.wrap=function(T){var j=this,U=this._readableState,J=!1;for(var Z in T.on("end",function(){if(v("wrapped end"),U.decoder&&!U.ended){var ee=U.decoder.end();ee&&ee.length&&j.push(ee)}j.push(null)}),T.on("data",function(ee){v("wrapped data"),U.decoder&&(ee=U.decoder.write(ee)),(!U.objectMode||ee!=null)&&(U.objectMode||ee&&ee.length)&&(j.push(ee)||(J=!0,T.pause()))}),T)this[Z]===void 0&&typeof T[Z]=="function"&&(this[Z]=function(ee){return function(){return T[ee].apply(T,arguments)}}(Z));for(var Q=0;Q<L.length;Q++)T.on(L[Q],this.emit.bind(this,L[Q]));return this._read=function(ee){v("wrapped _read",ee),J&&(J=!1,T.resume())},this},typeof Symbol=="function"&&(S.prototype[Symbol.asyncIterator]=function(){return p===void 0&&(p=n("./internal/streams/async_iterator")),p(this)}),Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(T){this._readableState&&(this._readableState.flowing=T)}}),S._fromList=B,Object.defineProperty(S.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(S.from=function(T,j){return m===void 0&&(m=n("./internal/streams/from")),m(S,T,j)})}).call(this)}).call(this,n("_process"),typeof wn<"u"?wn:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":55,"./_stream_duplex":56,"./internal/streams/async_iterator":61,"./internal/streams/buffer_list":62,"./internal/streams/destroy":63,"./internal/streams/from":65,"./internal/streams/state":67,"./internal/streams/stream":68,_process:50,buffer:17,events:22,inherits:24,"string_decoder/":75,util:16}],59:[function(n,a,r){a.exports=f;var o=n("../errors").codes,l=o.ERR_METHOD_NOT_IMPLEMENTED,s=o.ERR_MULTIPLE_CALLBACK,c=o.ERR_TRANSFORM_ALREADY_TRANSFORMING,d=o.ERR_TRANSFORM_WITH_LENGTH_0,u=n("./_stream_duplex");function f(g){if(!(this instanceof f))return new f(g);u.call(this,g),this._transformState={afterTransform:(function(p,m){var y=this._transformState;y.transforming=!1;var b=y.writecb;if(b===null)return this.emit("error",new s);y.writechunk=null,y.writecb=null,m!=null&&this.push(m),b(p);var w=this._readableState;w.reading=!1,(w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}).bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,g&&(typeof g.transform=="function"&&(this._transform=g.transform),typeof g.flush=="function"&&(this._flush=g.flush)),this.on("prefinish",v)}function v(){var g=this;typeof this._flush!="function"||this._readableState.destroyed?h(this,null,null):this._flush(function(p,m){h(g,p,m)})}function h(g,p,m){if(p)return g.emit("error",p);if(m!=null&&g.push(m),g._writableState.length)throw new d;if(g._transformState.transforming)throw new c;return g.push(null)}n("inherits")(f,u),f.prototype.push=function(g,p){return this._transformState.needTransform=!1,u.prototype.push.call(this,g,p)},f.prototype._transform=function(g,p,m){m(new l("_transform()"))},f.prototype._write=function(g,p,m){var y=this._transformState;if(y.writecb=m,y.writechunk=g,y.writeencoding=p,!y.transforming){var b=this._readableState;(y.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},f.prototype._read=function(g){var p=this._transformState;p.writechunk===null||p.transforming?p.needTransform=!0:(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform))},f.prototype._destroy=function(g,p){u.prototype._destroy.call(this,g,function(m){p(m)})}},{"../errors":55,"./_stream_duplex":56,inherits:24}],60:[function(n,a,r){(function(o,l){(function(){function s(M){var $=this;this.next=null,this.entry=null,this.finish=function(){(function(W,H,K){var z=W.entry;for(W.entry=null;z;){var B=z.callback;H.pendingcb--,B(K),z=z.next}H.corkedRequestsFree.next=W})($,M)}}var c;a.exports=S,S.WritableState=O;var d={deprecate:n("util-deprecate")},u=n("./internal/streams/stream"),f=n("buffer").Buffer,v=l.Uint8Array||function(){},h,g=n("./internal/streams/destroy"),p=n("./internal/streams/state").getHighWaterMark,m=n("../errors").codes,y=m.ERR_INVALID_ARG_TYPE,b=m.ERR_METHOD_NOT_IMPLEMENTED,w=m.ERR_MULTIPLE_CALLBACK,C=m.ERR_STREAM_CANNOT_PIPE,x=m.ERR_STREAM_DESTROYED,k=m.ERR_STREAM_NULL_VALUES,P=m.ERR_STREAM_WRITE_AFTER_END,I=m.ERR_UNKNOWN_ENCODING,D=g.errorOrDestroy;function L(){}function O(M,$,W){c=c||n("./_stream_duplex"),M=M||{},typeof W!="boolean"&&(W=$ instanceof c),this.objectMode=!!M.objectMode,W&&(this.objectMode=this.objectMode||!!M.writableObjectMode),this.highWaterMark=p(this,M,"writableHighWaterMark",W),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var H=M.decodeStrings===!1;this.decodeStrings=!H,this.defaultEncoding=M.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(K){(function(z,B){var q=z._writableState,Y=q.sync,X=q.writecb;if(typeof X!="function")throw new w;if(function(j){j.writing=!1,j.writecb=null,j.length-=j.writelen,j.writelen=0}(q),B)(function(j,U,J,Z,Q){--U.pendingcb,J?(o.nextTick(Q,Z),o.nextTick(F,j,U),j._writableState.errorEmitted=!0,D(j,Z)):(Q(Z),j._writableState.errorEmitted=!0,D(j,Z),F(j,U))})(z,q,Y,B,X);else{var T=R(q)||z.destroyed;T||q.corked||q.bufferProcessing||!q.bufferedRequest||E(z,q),Y?o.nextTick(A,z,q,T,X):A(z,q,T,X)}})($,K)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=M.emitClose!==!1,this.autoDestroy=!!M.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function S(M){var $=this instanceof(c=c||n("./_stream_duplex"));if(!$&&!h.call(S,this))return new S(M);this._writableState=new O(M,this,$),this.writable=!0,M&&(typeof M.write=="function"&&(this._write=M.write),typeof M.writev=="function"&&(this._writev=M.writev),typeof M.destroy=="function"&&(this._destroy=M.destroy),typeof M.final=="function"&&(this._final=M.final)),u.call(this)}function _(M,$,W,H,K,z,B){$.writelen=H,$.writecb=B,$.writing=!0,$.sync=!0,$.destroyed?$.onwrite(new x("write")):W?M._writev(K,$.onwrite):M._write(K,z,$.onwrite),$.sync=!1}function A(M,$,W,H){W||function(K,z){z.length===0&&z.needDrain&&(z.needDrain=!1,K.emit("drain"))}(M,$),$.pendingcb--,H(),F(M,$)}function E(M,$){$.bufferProcessing=!0;var W=$.bufferedRequest;if(M._writev&&W&&W.next){var H=$.bufferedRequestCount,K=new Array(H),z=$.corkedRequestsFree;z.entry=W;for(var B=0,q=!0;W;)K[B]=W,W.isBuf||(q=!1),W=W.next,B+=1;K.allBuffers=q,_(M,$,!0,$.length,K,"",z.finish),$.pendingcb++,$.lastBufferedRequest=null,z.next?($.corkedRequestsFree=z.next,z.next=null):$.corkedRequestsFree=new s($),$.bufferedRequestCount=0}else{for(;W;){var Y=W.chunk,X=W.encoding,T=W.callback;if(_(M,$,!1,$.objectMode?1:Y.length,Y,X,T),W=W.next,$.bufferedRequestCount--,$.writing)break}W===null&&($.lastBufferedRequest=null)}$.bufferedRequest=W,$.bufferProcessing=!1}function R(M){return M.ending&&M.length===0&&M.bufferedRequest===null&&!M.finished&&!M.writing}function N(M,$){M._final(function(W){$.pendingcb--,W&&D(M,W),$.prefinished=!0,M.emit("prefinish"),F(M,$)})}function F(M,$){var W=R($);if(W&&(function(K,z){z.prefinished||z.finalCalled||(typeof K._final!="function"||z.destroyed?(z.prefinished=!0,K.emit("prefinish")):(z.pendingcb++,z.finalCalled=!0,o.nextTick(N,K,z)))}(M,$),$.pendingcb===0&&($.finished=!0,M.emit("finish"),$.autoDestroy))){var H=M._readableState;(!H||H.autoDestroy&&H.endEmitted)&&M.destroy()}return W}n("inherits")(S,u),O.prototype.getBuffer=function(){for(var M=this.bufferedRequest,$=[];M;)$.push(M),M=M.next;return $},function(){try{Object.defineProperty(O.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(M){return!!h.call(this,M)||this===S&&M&&M._writableState instanceof O}})):h=function(M){return M instanceof this},S.prototype.pipe=function(){D(this,new C)},S.prototype.write=function(M,$,W){var H,K=this._writableState,z=!1,B=!K.objectMode&&(H=M,f.isBuffer(H)||H instanceof v);return B&&!f.isBuffer(M)&&(M=function(q){return f.from(q)}(M)),typeof $=="function"&&(W=$,$=null),B?$="buffer":$||($=K.defaultEncoding),typeof W!="function"&&(W=L),K.ending?function(q,Y){var X=new P;D(q,X),o.nextTick(Y,X)}(this,W):(B||function(q,Y,X,T){var j;return X===null?j=new k:typeof X=="string"||Y.objectMode||(j=new y("chunk",["string","Buffer"],X)),!j||(D(q,j),o.nextTick(T,j),!1)}(this,K,M,W))&&(K.pendingcb++,z=function(q,Y,X,T,j,U){if(!X){var J=function(ne,V,re){return ne.objectMode||ne.decodeStrings===!1||typeof V!="string"||(V=f.from(V,re)),V}(Y,T,j);T!==J&&(X=!0,j="buffer",T=J)}var Z=Y.objectMode?1:T.length;Y.length+=Z;var Q=Y.length<Y.highWaterMark;if(Q||(Y.needDrain=!0),Y.writing||Y.corked){var ee=Y.lastBufferedRequest;Y.lastBufferedRequest={chunk:T,encoding:j,isBuf:X,callback:U,next:null},ee?ee.next=Y.lastBufferedRequest:Y.bufferedRequest=Y.lastBufferedRequest,Y.bufferedRequestCount+=1}else _(q,Y,!1,Z,T,j,U);return Q}(this,K,B,M,$,W)),z},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var M=this._writableState;M.corked&&(M.corked--,M.writing||M.corked||M.bufferProcessing||!M.bufferedRequest||E(this,M))},S.prototype.setDefaultEncoding=function(M){if(typeof M=="string"&&(M=M.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((M+"").toLowerCase())>-1))throw new I(M);return this._writableState.defaultEncoding=M,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(M,$,W){W(new b("_write()"))},S.prototype._writev=null,S.prototype.end=function(M,$,W){var H=this._writableState;return typeof M=="function"?(W=M,M=null,$=null):typeof $=="function"&&(W=$,$=null),M!=null&&this.write(M,$),H.corked&&(H.corked=1,this.uncork()),H.ending||function(K,z,B){z.ending=!0,F(K,z),B&&(z.finished?o.nextTick(B):K.once("finish",B)),z.ended=!0,K.writable=!1}(this,H,W),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(M){this._writableState&&(this._writableState.destroyed=M)}}),S.prototype.destroy=g.destroy,S.prototype._undestroy=g.undestroy,S.prototype._destroy=function(M,$){$(M)}}).call(this)}).call(this,n("_process"),typeof wn<"u"?wn:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":55,"./_stream_duplex":56,"./internal/streams/destroy":63,"./internal/streams/state":67,"./internal/streams/stream":68,_process:50,buffer:17,inherits:24,"util-deprecate":78}],61:[function(n,a,r){(function(o){(function(){var l;function s(C,x,k){return x in C?Object.defineProperty(C,x,{value:k,enumerable:!0,configurable:!0,writable:!0}):C[x]=k,C}var c=n("./end-of-stream"),d=Symbol("lastResolve"),u=Symbol("lastReject"),f=Symbol("error"),v=Symbol("ended"),h=Symbol("lastPromise"),g=Symbol("handlePromise"),p=Symbol("stream");function m(C,x){return{value:C,done:x}}function y(C){var x=C[d];if(x!==null){var k=C[p].read();k!==null&&(C[h]=null,C[d]=null,C[u]=null,x(m(k,!1)))}}var b=Object.getPrototypeOf(function(){}),w=Object.setPrototypeOf((s(l={get stream(){return this[p]},next:function(){var C=this,x=this[f];if(x!==null)return Promise.reject(x);if(this[v])return Promise.resolve(m(void 0,!0));if(this[p].destroyed)return new Promise(function(D,L){o.nextTick(function(){C[f]?L(C[f]):D(m(void 0,!0))})});var k,P=this[h];if(P)k=new Promise(function(D,L){return function(O,S){D.then(function(){L[v]?O(m(void 0,!0)):L[g](O,S)},S)}}(P,this));else{var I=this[p].read();if(I!==null)return Promise.resolve(m(I,!1));k=new Promise(this[g])}return this[h]=k,k}},Symbol.asyncIterator,function(){return this}),s(l,"return",function(){var C=this;return new Promise(function(x,k){C[p].destroy(null,function(P){P?k(P):x(m(void 0,!0))})})}),l),b);a.exports=function(C){var x,k=Object.create(w,(s(x={},p,{value:C,writable:!0}),s(x,d,{value:null,writable:!0}),s(x,u,{value:null,writable:!0}),s(x,f,{value:null,writable:!0}),s(x,v,{value:C._readableState.endEmitted,writable:!0}),s(x,g,{value:function(P,I){var D=k[p].read();D?(k[h]=null,k[d]=null,k[u]=null,P(m(D,!1))):(k[d]=P,k[u]=I)},writable:!0}),x));return k[h]=null,c(C,function(P){if(P&&P.code!=="ERR_STREAM_PREMATURE_CLOSE"){var I=k[u];return I!==null&&(k[h]=null,k[d]=null,k[u]=null,I(P)),void(k[f]=P)}var D=k[d];D!==null&&(k[h]=null,k[d]=null,k[u]=null,D(m(void 0,!0))),k[v]=!0}),C.on("readable",(function(P){o.nextTick(y,P)}).bind(null,k)),k}}).call(this)}).call(this,n("_process"))},{"./end-of-stream":64,_process:50}],62:[function(n,a,r){function o(f,v){var h=Object.keys(f);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(f);v&&(g=g.filter(function(p){return Object.getOwnPropertyDescriptor(f,p).enumerable})),h.push.apply(h,g)}return h}function l(f,v,h){return v in f?Object.defineProperty(f,v,{value:h,enumerable:!0,configurable:!0,writable:!0}):f[v]=h,f}function s(f,v){for(var h=0;h<v.length;h++){var g=v[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}var c=n("buffer").Buffer,d=n("util").inspect,u=d&&d.custom||"inspect";a.exports=function(){function f(){(function(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")})(this,f),this.head=null,this.tail=null,this.length=0}var v,h;return v=f,(h=[{key:"push",value:function(g){var p={data:g,next:null};this.length>0?this.tail.next=p:this.head=p,this.tail=p,++this.length}},{key:"unshift",value:function(g){var p={data:g,next:this.head};this.length===0&&(this.tail=p),this.head=p,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var p=this.head,m=""+p.data;p=p.next;)m+=g+p.data;return m}},{key:"concat",value:function(g){if(this.length===0)return c.alloc(0);for(var p,m,y,b=c.allocUnsafe(g>>>0),w=this.head,C=0;w;)p=w.data,m=b,y=C,c.prototype.copy.call(p,m,y),C+=w.data.length,w=w.next;return b}},{key:"consume",value:function(g,p){var m;return g<this.head.data.length?(m=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):m=g===this.head.data.length?this.shift():p?this._getString(g):this._getBuffer(g),m}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var p=this.head,m=1,y=p.data;for(g-=y.length;p=p.next;){var b=p.data,w=g>b.length?b.length:g;if(w===b.length?y+=b:y+=b.slice(0,g),(g-=w)===0){w===b.length?(++m,p.next?this.head=p.next:this.head=this.tail=null):(this.head=p,p.data=b.slice(w));break}++m}return this.length-=m,y}},{key:"_getBuffer",value:function(g){var p=c.allocUnsafe(g),m=this.head,y=1;for(m.data.copy(p),g-=m.data.length;m=m.next;){var b=m.data,w=g>b.length?b.length:g;if(b.copy(p,p.length-g,0,w),(g-=w)===0){w===b.length?(++y,m.next?this.head=m.next:this.head=this.tail=null):(this.head=m,m.data=b.slice(w));break}++y}return this.length-=y,p}},{key:u,value:function(g,p){return d(this,function(m){for(var y=1;y<arguments.length;y++){var b=arguments[y]!=null?arguments[y]:{};y%2?o(Object(b),!0).forEach(function(w){l(m,w,b[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(b)):o(Object(b)).forEach(function(w){Object.defineProperty(m,w,Object.getOwnPropertyDescriptor(b,w))})}return m}({},p,{depth:0,customInspect:!1}))}}])&&s(v.prototype,h),f}()},{buffer:17,util:16}],63:[function(n,a,r){(function(o){(function(){function l(d,u){c(d,u),s(d)}function s(d){d._writableState&&!d._writableState.emitClose||d._readableState&&!d._readableState.emitClose||d.emit("close")}function c(d,u){d.emit("error",u)}a.exports={destroy:function(d,u){var f=this,v=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return v||h?(u?u(d):d&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,o.nextTick(c,this,d)):o.nextTick(c,this,d)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(d||null,function(g){!u&&g?f._writableState?f._writableState.errorEmitted?o.nextTick(s,f):(f._writableState.errorEmitted=!0,o.nextTick(l,f,g)):o.nextTick(l,f,g):u?(o.nextTick(s,f),u(g)):o.nextTick(s,f)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(d,u){var f=d._readableState,v=d._writableState;f&&f.autoDestroy||v&&v.autoDestroy?d.destroy(u):d.emit("error",u)}}}).call(this)}).call(this,n("_process"))},{_process:50}],64:[function(n,a,r){var o=n("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function l(){}a.exports=function s(c,d,u){if(typeof d=="function")return s(c,null,d);d||(d={}),u=function(x){var k=!1;return function(){if(!k){k=!0;for(var P=arguments.length,I=new Array(P),D=0;D<P;D++)I[D]=arguments[D];x.apply(this,I)}}}(u||l);var f=d.readable||d.readable!==!1&&c.readable,v=d.writable||d.writable!==!1&&c.writable,h=function(){c.writable||p()},g=c._writableState&&c._writableState.finished,p=function(){v=!1,g=!0,f||u.call(c)},m=c._readableState&&c._readableState.endEmitted,y=function(){f=!1,m=!0,v||u.call(c)},b=function(x){u.call(c,x)},w=function(){var x;return f&&!m?(c._readableState&&c._readableState.ended||(x=new o),u.call(c,x)):v&&!g?(c._writableState&&c._writableState.ended||(x=new o),u.call(c,x)):void 0},C=function(){c.req.on("finish",p)};return function(x){return x.setHeader&&typeof x.abort=="function"}(c)?(c.on("complete",p),c.on("abort",w),c.req?C():c.on("request",C)):v&&!c._writableState&&(c.on("end",h),c.on("close",h)),c.on("end",y),c.on("finish",p),d.error!==!1&&c.on("error",b),c.on("close",w),function(){c.removeListener("complete",p),c.removeListener("abort",w),c.removeListener("request",C),c.req&&c.req.removeListener("finish",p),c.removeListener("end",h),c.removeListener("close",h),c.removeListener("finish",p),c.removeListener("end",y),c.removeListener("error",b),c.removeListener("close",w)}}},{"../../../errors":55}],65:[function(n,a,r){a.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],66:[function(n,a,r){var o,l=n("../../../errors").codes,s=l.ERR_MISSING_ARGS,c=l.ERR_STREAM_DESTROYED;function d(v){if(v)throw v}function u(v){v()}function f(v,h){return v.pipe(h)}a.exports=function(){for(var v=arguments.length,h=new Array(v),g=0;g<v;g++)h[g]=arguments[g];var p,m=function(b){return b.length?typeof b[b.length-1]!="function"?d:b.pop():d}(h);if(Array.isArray(h[0])&&(h=h[0]),h.length<2)throw new s("streams");var y=h.map(function(b,w){var C=w<h.length-1;return function(x,k,P,I){I=function(O){var S=!1;return function(){S||(S=!0,O.apply(void 0,arguments))}}(I);var D=!1;x.on("close",function(){D=!0}),o===void 0&&(o=n("./end-of-stream")),o(x,{readable:k,writable:P},function(O){if(O)return I(O);D=!0,I()});var L=!1;return function(O){if(!D&&!L)return L=!0,function(S){return S.setHeader&&typeof S.abort=="function"}(x)?x.abort():typeof x.destroy=="function"?x.destroy():void I(O||new c("pipe"))}}(b,C,w>0,function(x){p||(p=x),x&&y.forEach(u),C||(y.forEach(u),m(p))})});return h.reduce(f)}},{"../../../errors":55,"./end-of-stream":64}],67:[function(n,a,r){var o=n("../../../errors").codes.ERR_INVALID_OPT_VALUE;a.exports={getHighWaterMark:function(l,s,c,d){var u=function(f,v,h){return f.highWaterMark!=null?f.highWaterMark:v?f[h]:null}(s,d,c);if(u!=null){if(!isFinite(u)||Math.floor(u)!==u||u<0)throw new o(d?c:"highWaterMark",u);return Math.floor(u)}return l.objectMode?16:16384}}},{"../../../errors":55}],68:[function(n,a,r){a.exports=n("events").EventEmitter},{events:22}],69:[function(n,a,r){(r=a.exports=n("./lib/_stream_readable.js")).Stream=r,r.Readable=r,r.Writable=n("./lib/_stream_writable.js"),r.Duplex=n("./lib/_stream_duplex.js"),r.Transform=n("./lib/_stream_transform.js"),r.PassThrough=n("./lib/_stream_passthrough.js"),r.finished=n("./lib/internal/streams/end-of-stream.js"),r.pipeline=n("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":56,"./lib/_stream_passthrough.js":57,"./lib/_stream_readable.js":58,"./lib/_stream_transform.js":59,"./lib/_stream_writable.js":60,"./lib/internal/streams/end-of-stream.js":64,"./lib/internal/streams/pipeline.js":66}],70:[function(n,a,r){a.exports=function(){if(typeof arguments[0]!="function")throw new Error("callback needed");if(typeof arguments[1]!="number")throw new Error("interval needed");var o;if(arguments.length>0){o=new Array(arguments.length-2);for(var l=0;l<o.length;l++)o[l]=arguments[l+2]}return new function(s,c,d){var u=this;this._callback=s,this._args=d,this._interval=setInterval(s,c,this._args),this.reschedule=function(f){f||(f=u._interval),u._interval&&clearInterval(u._interval),u._interval=setInterval(u._callback,f,u._args)},this.clear=function(){u._interval&&(clearInterval(u._interval),u._interval=void 0)},this.destroy=function(){u._interval&&clearInterval(u._interval),u._callback=void 0,u._interval=void 0,u._args=void 0}}(arguments[0],arguments[1],o)}},{}],71:[function(n,a,r){a.exports=n("./index.js")()},{"./index.js":72}],72:[function(n,a,r){(function(o){(function(){function l(s){return s instanceof o?o.from(s):new s.constructor(s.buffer.slice(),s.byteOffset,s.length)}a.exports=function(s){return(s=s||{}).circles?function(d){var u=[],f=[];return d.proto?function h(g){if(typeof g!="object"||g===null)return g;if(g instanceof Date)return new Date(g);if(Array.isArray(g))return v(g,h);if(g instanceof Map)return new Map(v(Array.from(g),h));if(g instanceof Set)return new Set(v(Array.from(g),h));var p={};for(var m in u.push(g),f.push(p),g){var y=g[m];if(typeof y!="object"||y===null)p[m]=y;else if(y instanceof Date)p[m]=new Date(y);else if(y instanceof Map)p[m]=new Map(v(Array.from(y),h));else if(y instanceof Set)p[m]=new Set(v(Array.from(y),h));else if(ArrayBuffer.isView(y))p[m]=l(y);else{var b=u.indexOf(y);p[m]=b!==-1?f[b]:h(y)}}return u.pop(),f.pop(),p}:function h(g){if(typeof g!="object"||g===null)return g;if(g instanceof Date)return new Date(g);if(Array.isArray(g))return v(g,h);if(g instanceof Map)return new Map(v(Array.from(g),h));if(g instanceof Set)return new Set(v(Array.from(g),h));var p={};for(var m in u.push(g),f.push(p),g)if(Object.hasOwnProperty.call(g,m)!==!1){var y=g[m];if(typeof y!="object"||y===null)p[m]=y;else if(y instanceof Date)p[m]=new Date(y);else if(y instanceof Map)p[m]=new Map(v(Array.from(y),h));else if(y instanceof Set)p[m]=new Set(v(Array.from(y),h));else if(ArrayBuffer.isView(y))p[m]=l(y);else{var b=u.indexOf(y);p[m]=b!==-1?f[b]:h(y)}}return u.pop(),f.pop(),p};function v(h,g){for(var p=Object.keys(h),m=new Array(p.length),y=0;y<p.length;y++){var b=p[y],w=h[b];if(typeof w!="object"||w===null)m[b]=w;else if(w instanceof Date)m[b]=new Date(w);else if(ArrayBuffer.isView(w))m[b]=l(w);else{var C=u.indexOf(w);m[b]=C!==-1?f[C]:g(w)}}return m}}(s):s.proto?function d(u){if(typeof u!="object"||u===null)return u;if(u instanceof Date)return new Date(u);if(Array.isArray(u))return c(u,d);if(u instanceof Map)return new Map(c(Array.from(u),d));if(u instanceof Set)return new Set(c(Array.from(u),d));var f={};for(var v in u){var h=u[v];typeof h!="object"||h===null?f[v]=h:h instanceof Date?f[v]=new Date(h):h instanceof Map?f[v]=new Map(c(Array.from(h),d)):h instanceof Set?f[v]=new Set(c(Array.from(h),d)):ArrayBuffer.isView(h)?f[v]=l(h):f[v]=d(h)}return f}:function d(u){if(typeof u!="object"||u===null)return u;if(u instanceof Date)return new Date(u);if(Array.isArray(u))return c(u,d);if(u instanceof Map)return new Map(c(Array.from(u),d));if(u instanceof Set)return new Set(c(Array.from(u),d));var f={};for(var v in u)if(Object.hasOwnProperty.call(u,v)!==!1){var h=u[v];typeof h!="object"||h===null?f[v]=h:h instanceof Date?f[v]=new Date(h):h instanceof Map?f[v]=new Map(c(Array.from(h),d)):h instanceof Set?f[v]=new Set(c(Array.from(h),d)):ArrayBuffer.isView(h)?f[v]=l(h):f[v]=d(h)}return f};function c(d,u){for(var f=Object.keys(d),v=new Array(f.length),h=0;h<f.length;h++){var g=f[h],p=d[g];typeof p!="object"||p===null?v[g]=p:p instanceof Date?v[g]=new Date(p):ArrayBuffer.isView(p)?v[g]=l(p):v[g]=u(p)}return v}}}).call(this)}).call(this,n("buffer").Buffer)},{buffer:17}],73:[function(n,a,r){var o=n("buffer"),l=o.Buffer;function s(d,u){for(var f in d)u[f]=d[f]}function c(d,u,f){return l(d,u,f)}l.from&&l.alloc&&l.allocUnsafe&&l.allocUnsafeSlow?a.exports=o:(s(o,r),r.Buffer=c),c.prototype=Object.create(l.prototype),s(l,c),c.from=function(d,u,f){if(typeof d=="number")throw new TypeError("Argument must not be a number");return l(d,u,f)},c.alloc=function(d,u,f){if(typeof d!="number")throw new TypeError("Argument must be a number");var v=l(d);return u!==void 0?typeof f=="string"?v.fill(u,f):v.fill(u):v.fill(0),v},c.allocUnsafe=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return l(d)},c.allocUnsafeSlow=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return o.SlowBuffer(d)}},{buffer:17}],74:[function(n,a,r){a.exports=function(o){var l=o._readableState;return l?l.objectMode||typeof o._duplexState=="number"?o.read():o.read((s=l,s.buffer.length?s.buffer.head?s.buffer.head.data.length:s.buffer[0].length:s.length)):null;var s}},{}],75:[function(n,a,r){var o=n("safe-buffer").Buffer,l=o.isEncoding||function(m){switch((m=""+m)&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(m){var y;switch(this.encoding=function(b){var w=function(C){if(!C)return"utf8";for(var x;;)switch(C){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return C;default:if(x)return;C=(""+C).toLowerCase(),x=!0}}(b);if(typeof w!="string"&&(o.isEncoding===l||!l(b)))throw new Error("Unknown encoding: "+b);return w||b}(m),this.encoding){case"utf16le":this.text=u,this.end=f,y=4;break;case"utf8":this.fillLast=d,y=4;break;case"base64":this.text=v,this.end=h,y=3;break;default:return this.write=g,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=o.allocUnsafe(y)}function c(m){return m<=127?0:m>>5==6?2:m>>4==14?3:m>>3==30?4:m>>6==2?-1:-2}function d(m){var y=this.lastTotal-this.lastNeed,b=function(w,C,x){if((192&C[0])!=128)return w.lastNeed=0,"�";if(w.lastNeed>1&&C.length>1){if((192&C[1])!=128)return w.lastNeed=1,"�";if(w.lastNeed>2&&C.length>2&&(192&C[2])!=128)return w.lastNeed=2,"�"}}(this,m);return b!==void 0?b:this.lastNeed<=m.length?(m.copy(this.lastChar,y,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(m.copy(this.lastChar,y,0,m.length),void(this.lastNeed-=m.length))}function u(m,y){if((m.length-y)%2==0){var b=m.toString("utf16le",y);if(b){var w=b.charCodeAt(b.length-1);if(w>=55296&&w<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],b.slice(0,-1)}return b}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",y,m.length-1)}function f(m){var y=m&&m.length?this.write(m):"";if(this.lastNeed){var b=this.lastTotal-this.lastNeed;return y+this.lastChar.toString("utf16le",0,b)}return y}function v(m,y){var b=(m.length-y)%3;return b===0?m.toString("base64",y):(this.lastNeed=3-b,this.lastTotal=3,b===1?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",y,m.length-b))}function h(m){var y=m&&m.length?this.write(m):"";return this.lastNeed?y+this.lastChar.toString("base64",0,3-this.lastNeed):y}function g(m){return m.toString(this.encoding)}function p(m){return m&&m.length?this.write(m):""}r.StringDecoder=s,s.prototype.write=function(m){if(m.length===0)return"";var y,b;if(this.lastNeed){if((y=this.fillLast(m))===void 0)return"";b=this.lastNeed,this.lastNeed=0}else b=0;return b<m.length?y?y+this.text(m,b):this.text(m,b):y||""},s.prototype.end=function(m){var y=m&&m.length?this.write(m):"";return this.lastNeed?y+"�":y},s.prototype.text=function(m,y){var b=function(C,x,k){var P=x.length-1;if(P<k)return 0;var I=c(x[P]);return I>=0?(I>0&&(C.lastNeed=I-1),I):--P<k||I===-2?0:(I=c(x[P]))>=0?(I>0&&(C.lastNeed=I-2),I):--P<k||I===-2?0:(I=c(x[P]))>=0?(I>0&&(I===2?I=0:C.lastNeed=I-3),I):0}(this,m,y);if(!this.lastNeed)return m.toString("utf8",y);this.lastTotal=b;var w=m.length-(b-this.lastNeed);return m.copy(this.lastChar,0,w),m.toString("utf8",y,w)},s.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length}},{"safe-buffer":73}],76:[function(n,a,r){var o=n("punycode"),l=n("./util");function s(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}r.parse=x,r.resolve=function(k,P){return x(k,!1,!0).resolve(P)},r.resolveObject=function(k,P){return k?x(k,!1,!0).resolveObject(P):P},r.format=function(k){return l.isString(k)&&(k=x(k)),k instanceof s?k.format():s.prototype.format.call(k)},r.Url=s;var c=/^([a-z0-9.+-]+:)/i,d=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,f=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),v=["'"].concat(f),h=["%","/","?",";","#"].concat(v),g=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,y={javascript:!0,"javascript:":!0},b={javascript:!0,"javascript:":!0},w={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},C=n("querystring");function x(k,P,I){if(k&&l.isObject(k)&&k instanceof s)return k;var D=new s;return D.parse(k,P,I),D}s.prototype.parse=function(k,P,I){if(!l.isString(k))throw new TypeError("Parameter 'url' must be a string, not "+typeof k);var D=k.indexOf("?"),L=D!==-1&&D<k.indexOf("#")?"?":"#",O=k.split(L);O[0]=O[0].replace(/\\/g,"/");var S=k=O.join(L);if(S=S.trim(),!I&&k.split("#").length===1){var _=u.exec(S);if(_)return this.path=S,this.href=S,this.pathname=_[1],_[2]?(this.search=_[2],this.query=P?C.parse(this.search.substr(1)):this.search.substr(1)):P&&(this.search="",this.query={}),this}var A=c.exec(S);if(A){var E=(A=A[0]).toLowerCase();this.protocol=E,S=S.substr(A.length)}if(I||A||S.match(/^\/\/[^@\/]+@[^@\/]+/)){var R=S.substr(0,2)==="//";!R||A&&b[A]||(S=S.substr(2),this.slashes=!0)}if(!b[A]&&(R||A&&!w[A])){for(var N,F,M=-1,$=0;$<g.length;$++)(W=S.indexOf(g[$]))!==-1&&(M===-1||W<M)&&(M=W);for((F=M===-1?S.lastIndexOf("@"):S.lastIndexOf("@",M))!==-1&&(N=S.slice(0,F),S=S.slice(F+1),this.auth=decodeURIComponent(N)),M=-1,$=0;$<h.length;$++){var W;(W=S.indexOf(h[$]))!==-1&&(M===-1||W<M)&&(M=W)}M===-1&&(M=S.length),this.host=S.slice(0,M),S=S.slice(M),this.parseHost(),this.hostname=this.hostname||"";var H=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!H)for(var K=this.hostname.split(/\./),z=($=0,K.length);$<z;$++){var B=K[$];if(B&&!B.match(p)){for(var q="",Y=0,X=B.length;Y<X;Y++)B.charCodeAt(Y)>127?q+="x":q+=B[Y];if(!q.match(p)){var T=K.slice(0,$),j=K.slice($+1),U=B.match(m);U&&(T.push(U[1]),j.unshift(U[2])),j.length&&(S="/"+j.join(".")+S),this.hostname=T.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),H||(this.hostname=o.toASCII(this.hostname));var J=this.port?":"+this.port:"",Z=this.hostname||"";this.host=Z+J,this.href+=this.host,H&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),S[0]!=="/"&&(S="/"+S))}if(!y[E])for($=0,z=v.length;$<z;$++){var Q=v[$];if(S.indexOf(Q)!==-1){var ee=encodeURIComponent(Q);ee===Q&&(ee=escape(Q)),S=S.split(Q).join(ee)}}var ne=S.indexOf("#");ne!==-1&&(this.hash=S.substr(ne),S=S.slice(0,ne));var V=S.indexOf("?");if(V!==-1?(this.search=S.substr(V),this.query=S.substr(V+1),P&&(this.query=C.parse(this.query)),S=S.slice(0,V)):P&&(this.search="",this.query={}),S&&(this.pathname=S),w[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){J=this.pathname||"";var re=this.search||"";this.path=J+re}return this.href=this.format(),this},s.prototype.format=function(){var k=this.auth||"";k&&(k=(k=encodeURIComponent(k)).replace(/%3A/i,":"),k+="@");var P=this.protocol||"",I=this.pathname||"",D=this.hash||"",L=!1,O="";this.host?L=k+this.host:this.hostname&&(L=k+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(L+=":"+this.port)),this.query&&l.isObject(this.query)&&Object.keys(this.query).length&&(O=C.stringify(this.query));var S=this.search||O&&"?"+O||"";return P&&P.substr(-1)!==":"&&(P+=":"),this.slashes||(!P||w[P])&&L!==!1?(L="//"+(L||""),I&&I.charAt(0)!=="/"&&(I="/"+I)):L||(L=""),D&&D.charAt(0)!=="#"&&(D="#"+D),S&&S.charAt(0)!=="?"&&(S="?"+S),P+L+(I=I.replace(/[?#]/g,function(_){return encodeURIComponent(_)}))+(S=S.replace("#","%23"))+D},s.prototype.resolve=function(k){return this.resolveObject(x(k,!1,!0)).format()},s.prototype.resolveObject=function(k){if(l.isString(k)){var P=new s;P.parse(k,!1,!0),k=P}for(var I=new s,D=Object.keys(this),L=0;L<D.length;L++){var O=D[L];I[O]=this[O]}if(I.hash=k.hash,k.href==="")return I.href=I.format(),I;if(k.slashes&&!k.protocol){for(var S=Object.keys(k),_=0;_<S.length;_++){var A=S[_];A!=="protocol"&&(I[A]=k[A])}return w[I.protocol]&&I.hostname&&!I.pathname&&(I.path=I.pathname="/"),I.href=I.format(),I}if(k.protocol&&k.protocol!==I.protocol){if(!w[k.protocol]){for(var E=Object.keys(k),R=0;R<E.length;R++){var N=E[R];I[N]=k[N]}return I.href=I.format(),I}if(I.protocol=k.protocol,k.host||b[k.protocol])I.pathname=k.pathname;else{for(var F=(k.pathname||"").split("/");F.length&&!(k.host=F.shift()););k.host||(k.host=""),k.hostname||(k.hostname=""),F[0]!==""&&F.unshift(""),F.length<2&&F.unshift(""),I.pathname=F.join("/")}if(I.search=k.search,I.query=k.query,I.host=k.host||"",I.auth=k.auth,I.hostname=k.hostname||k.host,I.port=k.port,I.pathname||I.search){var M=I.pathname||"",$=I.search||"";I.path=M+$}return I.slashes=I.slashes||k.slashes,I.href=I.format(),I}var W=I.pathname&&I.pathname.charAt(0)==="/",H=k.host||k.pathname&&k.pathname.charAt(0)==="/",K=H||W||I.host&&k.pathname,z=K,B=I.pathname&&I.pathname.split("/")||[],q=(F=k.pathname&&k.pathname.split("/")||[],I.protocol&&!w[I.protocol]);if(q&&(I.hostname="",I.port=null,I.host&&(B[0]===""?B[0]=I.host:B.unshift(I.host)),I.host="",k.protocol&&(k.hostname=null,k.port=null,k.host&&(F[0]===""?F[0]=k.host:F.unshift(k.host)),k.host=null),K=K&&(F[0]===""||B[0]==="")),H)I.host=k.host||k.host===""?k.host:I.host,I.hostname=k.hostname||k.hostname===""?k.hostname:I.hostname,I.search=k.search,I.query=k.query,B=F;else if(F.length)B||(B=[]),B.pop(),B=B.concat(F),I.search=k.search,I.query=k.query;else if(!l.isNullOrUndefined(k.search))return q&&(I.hostname=I.host=B.shift(),(U=!!(I.host&&I.host.indexOf("@")>0)&&I.host.split("@"))&&(I.auth=U.shift(),I.host=I.hostname=U.shift())),I.search=k.search,I.query=k.query,l.isNull(I.pathname)&&l.isNull(I.search)||(I.path=(I.pathname?I.pathname:"")+(I.search?I.search:"")),I.href=I.format(),I;if(!B.length)return I.pathname=null,I.search?I.path="/"+I.search:I.path=null,I.href=I.format(),I;for(var Y=B.slice(-1)[0],X=(I.host||k.host||B.length>1)&&(Y==="."||Y==="..")||Y==="",T=0,j=B.length;j>=0;j--)(Y=B[j])==="."?B.splice(j,1):Y===".."?(B.splice(j,1),T++):T&&(B.splice(j,1),T--);if(!K&&!z)for(;T--;T)B.unshift("..");!K||B[0]===""||B[0]&&B[0].charAt(0)==="/"||B.unshift(""),X&&B.join("/").substr(-1)!=="/"&&B.push("");var U,J=B[0]===""||B[0]&&B[0].charAt(0)==="/";return q&&(I.hostname=I.host=J?"":B.length?B.shift():"",(U=!!(I.host&&I.host.indexOf("@")>0)&&I.host.split("@"))&&(I.auth=U.shift(),I.host=I.hostname=U.shift())),(K=K||I.host&&B.length)&&!J&&B.unshift(""),B.length?I.pathname=B.join("/"):(I.pathname=null,I.path=null),l.isNull(I.pathname)&&l.isNull(I.search)||(I.path=(I.pathname?I.pathname:"")+(I.search?I.search:"")),I.auth=k.auth||I.auth,I.slashes=I.slashes||k.slashes,I.href=I.format(),I},s.prototype.parseHost=function(){var k=this.host,P=d.exec(k);P&&((P=P[0])!==":"&&(this.port=P.substr(1)),k=k.substr(0,k.length-P.length)),k&&(this.hostname=k)}},{"./util":77,punycode:51,querystring:54}],77:[function(n,a,r){a.exports={isString:function(o){return typeof o=="string"},isObject:function(o){return typeof o=="object"&&o!==null},isNull:function(o){return o===null},isNullOrUndefined:function(o){return o==null}}},{}],78:[function(n,a,r){(function(o){(function(){function l(s){try{if(!o.localStorage)return!1}catch{return!1}var c=o.localStorage[s];return c!=null&&String(c).toLowerCase()==="true"}a.exports=function(s,c){if(l("noDeprecation"))return s;var d=!1;return function(){if(!d){if(l("throwDeprecation"))throw new Error(c);l("traceDeprecation")?console.trace(c):console.warn(c),d=!0}return s.apply(this,arguments)}}}).call(this)}).call(this,typeof wn<"u"?wn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],79:[function(n,a,r){a.exports=function o(l,s){if(l&&s)return o(l)(s);if(typeof l!="function")throw new TypeError("need wrapper function");return Object.keys(l).forEach(function(d){c[d]=l[d]}),c;function c(){for(var d=new Array(arguments.length),u=0;u<d.length;u++)d[u]=arguments[u];var f=l.apply(this,d),v=d[d.length-1];return typeof f=="function"&&f!==v&&Object.keys(v).forEach(function(h){f[h]=v[h]}),f}}},{}],80:[function(n,a,r){a.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},{}],81:[function(n,a,r){a.exports=function(){for(var l={},s=0;s<arguments.length;s++){var c=arguments[s];for(var d in c)o.call(c,d)&&(l[d]=c[d])}return l};var o=Object.prototype.hasOwnProperty},{}],82:[function(n,a,r){a.exports=function(o){o.prototype[Symbol.iterator]=function*(){for(let l=this.head;l;l=l.next)yield l.value}}},{}],83:[function(n,a,r){function o(u){var f=this;if(f instanceof o||(f=new o),f.tail=null,f.head=null,f.length=0,u&&typeof u.forEach=="function")u.forEach(function(g){f.push(g)});else if(arguments.length>0)for(var v=0,h=arguments.length;v<h;v++)f.push(arguments[v]);return f}function l(u,f,v){var h=f===u.head?new d(v,null,f,u):new d(v,f,f.next,u);return h.next===null&&(u.tail=h),h.prev===null&&(u.head=h),u.length++,h}function s(u,f){u.tail=new d(f,u.tail,null,u),u.head||(u.head=u.tail),u.length++}function c(u,f){u.head=new d(f,null,u.head,u),u.tail||(u.tail=u.head),u.length++}function d(u,f,v,h){if(!(this instanceof d))return new d(u,f,v,h);this.list=h,this.value=u,f?(f.next=this,this.prev=f):this.prev=null,v?(v.prev=this,this.next=v):this.next=null}a.exports=o,o.Node=d,o.create=o,o.prototype.removeNode=function(u){if(u.list!==this)throw new Error("removing node which does not belong to this list");var f=u.next,v=u.prev;return f&&(f.prev=v),v&&(v.next=f),u===this.head&&(this.head=f),u===this.tail&&(this.tail=v),u.list.length--,u.next=null,u.prev=null,u.list=null,f},o.prototype.unshiftNode=function(u){if(u!==this.head){u.list&&u.list.removeNode(u);var f=this.head;u.list=this,u.next=f,f&&(f.prev=u),this.head=u,this.tail||(this.tail=u),this.length++}},o.prototype.pushNode=function(u){if(u!==this.tail){u.list&&u.list.removeNode(u);var f=this.tail;u.list=this,u.prev=f,f&&(f.next=u),this.tail=u,this.head||(this.head=u),this.length++}},o.prototype.push=function(){for(var u=0,f=arguments.length;u<f;u++)s(this,arguments[u]);return this.length},o.prototype.unshift=function(){for(var u=0,f=arguments.length;u<f;u++)c(this,arguments[u]);return this.length},o.prototype.pop=function(){if(this.tail){var u=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,u}},o.prototype.shift=function(){if(this.head){var u=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,u}},o.prototype.forEach=function(u,f){f=f||this;for(var v=this.head,h=0;v!==null;h++)u.call(f,v.value,h,this),v=v.next},o.prototype.forEachReverse=function(u,f){f=f||this;for(var v=this.tail,h=this.length-1;v!==null;h--)u.call(f,v.value,h,this),v=v.prev},o.prototype.get=function(u){for(var f=0,v=this.head;v!==null&&f<u;f++)v=v.next;if(f===u&&v!==null)return v.value},o.prototype.getReverse=function(u){for(var f=0,v=this.tail;v!==null&&f<u;f++)v=v.prev;if(f===u&&v!==null)return v.value},o.prototype.map=function(u,f){f=f||this;for(var v=new o,h=this.head;h!==null;)v.push(u.call(f,h.value,this)),h=h.next;return v},o.prototype.mapReverse=function(u,f){f=f||this;for(var v=new o,h=this.tail;h!==null;)v.push(u.call(f,h.value,this)),h=h.prev;return v},o.prototype.reduce=function(u,f){var v,h=this.head;if(arguments.length>1)v=f;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");h=this.head.next,v=this.head.value}for(var g=0;h!==null;g++)v=u(v,h.value,g),h=h.next;return v},o.prototype.reduceReverse=function(u,f){var v,h=this.tail;if(arguments.length>1)v=f;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");h=this.tail.prev,v=this.tail.value}for(var g=this.length-1;h!==null;g--)v=u(v,h.value,g),h=h.prev;return v},o.prototype.toArray=function(){for(var u=new Array(this.length),f=0,v=this.head;v!==null;f++)u[f]=v.value,v=v.next;return u},o.prototype.toArrayReverse=function(){for(var u=new Array(this.length),f=0,v=this.tail;v!==null;f++)u[f]=v.value,v=v.prev;return u},o.prototype.slice=function(u,f){(f=f||this.length)<0&&(f+=this.length),(u=u||0)<0&&(u+=this.length);var v=new o;if(f<u||f<0)return v;u<0&&(u=0),f>this.length&&(f=this.length);for(var h=0,g=this.head;g!==null&&h<u;h++)g=g.next;for(;g!==null&&h<f;h++,g=g.next)v.push(g.value);return v},o.prototype.sliceReverse=function(u,f){(f=f||this.length)<0&&(f+=this.length),(u=u||0)<0&&(u+=this.length);var v=new o;if(f<u||f<0)return v;u<0&&(u=0),f>this.length&&(f=this.length);for(var h=this.length,g=this.tail;g!==null&&h>f;h--)g=g.prev;for(;g!==null&&h>u;h--,g=g.prev)v.push(g.value);return v},o.prototype.splice=function(u,f,...v){u>this.length&&(u=this.length-1),u<0&&(u=this.length+u);for(var h=0,g=this.head;g!==null&&h<u;h++)g=g.next;var p=[];for(h=0;g&&h<f;h++)p.push(g.value),g=this.removeNode(g);for(g===null&&(g=this.tail),g!==this.head&&g!==this.tail&&(g=g.prev),h=0;h<v.length;h++)g=l(this,g,v[h]);return p},o.prototype.reverse=function(){for(var u=this.head,f=this.tail,v=u;v!==null;v=v.prev){var h=v.prev;v.prev=v.next,v.next=h}return this.head=f,this.tail=u,this};try{n("./iterator.js")(o)}catch{}},{"./iterator.js":82}]},{},[12])(12)})})(ZI);var Kd=ZI.exports;const QI={success:{color:"#2ba471",icon:'<svg fill="none" viewBox="0 0 24 24"><path d="M12 23a11 11 0 100-22 11 11 0 000 22zM7.5 10.59l3 3 6-6L17.91 9l-7.41 7.41L6.09 12l1.41-1.41z"></path></svg>'},info:{color:"#0052d9",icon:'<svg fill="none" viewBox="0 0 24 24"><path d="M12 23a11 11 0 100-22 11 11 0 000 22zM11 8.5v-2h2v2h-2zm2 1.5v7.5h-2V10h2z"></path></svg>'},warning:{color:"#e37318",icon:'<svg fill="none" viewBox="0 0 24 24"><path d="M12 1a11 11 0 110 22 11 11 0 010-22zm-1 13h2V6.5h-2V14zm2 1.5h-2v2h2v-2z"></path></svg>'},error:{color:"#d54941",icon:'<svg fill="none" viewBox="0 0 24 24"><path d="M12 1a11 11 0 110 22 11 11 0 010-22zm-1 13h2V6.5h-2V14zm2 1.5h-2v2h2v-2z"></path></svg>'},question:{color:"#0052d9",icon:'<svg fill="none" viewBox="0 0 24 24"><path d="M12 23a11 11 0 100-22 11 11 0 000 22zm-.17-11.11c.43-.53.97-.97 1.4-1.32A2 2 0 0012 7a2 2 0 00-1.89 1.33l-.33.95L7.9 8.6l.34-.94a4 4 0 116.24 4.47 7 7 0 00-1.1 1.01c-.27.34-.37.61-.37.85v1.25h-2V14c0-.87.39-1.57.83-2.11zM11 18.25v-2h2v2h-2z"></path></svg>'}},Zn={};class Dde{constructor(e,n){te(this,"box");te(this,"icon");te(this,"text");te(this,"closeBtn");te(this,"duration");te(this,"content");te(this,"theme");te(this,"placement");te(this,"id");this.parentElement=e,this.box=document.createElement("div"),this.icon=document.createElement("div"),this.text=document.createElement("div"),this.box.className="meta2d-message",this.icon.className="icon",this.text.className="text",this.icon.innerHTML=QI[n.theme||"info"].icon,this.text.innerHTML=n.content,this.box.appendChild(this.icon),this.box.appendChild(this.text),n.closeBtn&&(this.closeBtn=document.createElement("div"),this.closeBtn.className="close",this.closeBtn.innerHTML="x",this.closeBtn.onclick=()=>{this.close()},this.box.appendChild(this.closeBtn)),e.appendChild(this.box);let a;for(let r=0;r<document.styleSheets.length;r++)document.styleSheets[r].title==="le5le.com/message"&&(a=document.styleSheets[r]);if(!a){let r=document.createElement("style");r.type="text/css",r.title="le5le.com/message",document.head.appendChild(r),r=document.createElement("style"),r.type="text/css",document.head.appendChild(r),a=r.sheet,a.insertRule(`.meta2d-message{
           position:absolute;
           z-index:999;
           transform: translateX(-50%); 
           padding:12px 16px;
           max-width:400px;
           background:#fff;
           border-radius:6px;
           box-shadow:0 3px 14px 2px rgba(0, 0, 0, .05),0 8px 10px 1px rgba(0, 0, 0, 6%),0 5px 5px -3px rgba(0, 0, 0, 10%);
           display:flex;
           animation: fadein .5s;}`),a.insertRule(`
        @keyframes fadein {
          0% {
              transform: translate(-50%, -100%);
          }
          100% {
              transform: translate(-50%,0);
          }
      }`),a.insertRule(".meta2d-message .icon{width:20px;height:20px;}"),a.insertRule(".meta2d-message .text{color:rgba(0, 0, 0, 0.9);font-size:12px;margin-left:8px;line-height:20px;}"),a.insertRule(".meta2d-message .close{width:20px;height:20px;padding-left: 16px; cursor: pointer;}")}this.id=n.id||Ue(),this.duration=n.duration??3e3,this.placement=n.placement||"top",this.theme=n.theme||"info"}init(){Zn[this.id]=this,this.duration&&setTimeout(()=>{this.close()},this.duration);let e=-1;Object.keys(Zn).forEach(n=>{var a;((a=Zn[n])==null?void 0:a.placement)===this.placement&&e++}),this.setPosition(this.placement,e),this.icon.children[0].style.fill=QI[this.theme].color}setPosition(e,n=0){switch(e){case"top":this.box.style.top=`${30+n*60}px`,this.box.style.left="50%";break;case"bottom":this.box.style.bottom=`${30+n*60}px`,this.box.style.left="50%";break;case"left":this.box.style.top=`${30+n*60}px`,this.box.style.left="30px";break;case"right":this.box.style.top=`${30+n*60}px`,this.box.style.right="30px";break}}close(){Object.keys(Zn).forEach(e=>{var n;if(((n=Zn[e])==null?void 0:n.placement)===this.placement)switch(this.placement){case"top":case"left":case"right":Zn[e].box.style.top=parseInt(Zn[e].box.style.top)-60+"px";break;case"bottom":Zn[e].box.style.bottom=parseInt(Zn[e].box.style.bottom)-60+"px";break}}),Zn[this.id]=null,delete Zn[this.id],this.box.remove()}}class jde{constructor(e,n={}){te(this,"store");te(this,"canvas");te(this,"websocket");te(this,"mqttClient");te(this,"websockets");te(this,"mqttClients");te(this,"penPluginMap",new Map);te(this,"socketFn");te(this,"events",{});te(this,"map");te(this,"mapTimer");te(this,"facePen",bl);te(this,"getWords",K_);te(this,"calcTextLines",Ls);te(this,"calcTextRect",Ua);te(this,"calcTextDrawRect",U_);te(this,"jetLinksList",[]);te(this,"jetLinksClient");te(this,"register",Di);te(this,"registerCanvasDraw",fl);te(this,"registerAnchors",ug);te(this,"websocketTimes",0);te(this,"mqttTimes",0);te(this,"httpTimer");te(this,"httpTimerList",[]);te(this,"updateTimer");te(this,"updateTimerList",[]);te(this,"sqlTimerList",[]);te(this,"onEvent",(e,n)=>{switch(e){case"add":n.forEach(a=>{var r;(r=a.onAdd)==null||r.call(a,a)}),this.onSizeUpdate();break;case"enter":n&&n.onMouseEnter&&n.onMouseEnter(n,this.canvas.mousePos),this.store.data.locked&&this.doEvent(n,e);break;case"leave":n&&n.onMouseLeave&&n.onMouseLeave(n,this.canvas.mousePos),this.store.data.locked&&this.doEvent(n,e);break;case"active":case"inactive":this.store.data.locked&&n.forEach(a=>{this.doEvent(a,e)});break;case"click":this.store.data.locked&&n.pen&&!n.pen.disabled&&n.pen.switch&&(n.pen.checked=!n.pen.checked,n.pen.calculative.checked=n.pen.checked,n.pen.calculative.gradient=void 0,n.pen.calculative.radialGradient=void 0),n.pen&&n.pen.onClick&&!n.pen.disabled&&n.pen.onClick(n.pen,this.canvas.mousePos),this.store.data.locked&&n.pen&&!n.pen.disabled&&this.doEvent(n.pen,e);break;case"contextmenu":n.pen&&n.pen.onContextmenu&&!n.pen.disabled&&n.pen.onContextmenu(n.pen,this.canvas.mousePos),this.store.data.locked&&n.pen&&!n.pen.disabled&&this.doEvent(n.pen,e);break;case"mousedown":n.pen&&n.pen.onMouseDown&&!n.pen.disabled&&n.pen.onMouseDown(n.pen,this.canvas.mousePos),this.store.data.locked&&n.pen&&!n.pen.disabled&&this.doEvent(n.pen,e);break;case"mouseup":n.pen&&n.pen.onMouseUp&&!n.pen.disabled&&n.pen.onMouseUp(n.pen,this.canvas.mousePos),this.store.data.locked&&n.pen&&!n.pen.disabled&&this.doEvent(n.pen,e);break;case"dblclick":this.store.data.locked&&n.pen&&!n.pen.disabled&&this.doEvent(n.pen,e);break;case"valueUpdate":this.store.data.locked&&this.doEvent(n,e),this.canvas.tooltip.updateText(n);break;case"update":case"delete":case"translatePens":case"rotatePens":case"resizePens":this.onSizeUpdate();break;case"navigator":this.store.data.id||console.warn("请先保存当前图纸"),this.navigatorTo(n.params);break;case"input":this.store.data.locked&&n&&!n.disabled&&this.doEvent(n,e);break;case"change":this.store.data.locked&&n&&!n.disabled&&this.doEvent(n,e);break}this.doMessageEvent(e)});te(this,"doEvent",(e,n)=>{var o,l,s,c,d,u,f,v,h,g;if(!e)return;let a=!1,r=[];if((o=e.events)==null||o.forEach((p,m)=>{var y;if(p.actions&&p.actions.length){if(p.name===n){let b=!1;p.conditions&&p.conditions.length?p.conditionType==="and"?b=p.conditions.every(w=>this.judgeCondition(e,w.key,w)):p.conditionType==="or"&&(b=p.conditions.some(w=>this.judgeCondition(e,w.key,w))):b=!0,b&&r.push(m)}}else if(a=!0,this.events[p.action]&&p.name===n){let b=!((y=p.where)!=null&&y.type);if(p.where){const{fn:w,fnJs:C,comparison:x,key:k,value:P}=p.where;if(w)b=w(e,{meta2d:this});else if(C){try{p.where.fn=new Function("pen","context",C)}catch(I){console.error("Error: make function:",I)}p.where.fn&&(b=p.where.fn(e,{meta2d:this}))}else{let I=e[k];switch(["x","y","width","height"].includes(k)&&(I=this.getPenRect(e)[k]),x){case">":b=I>+P;break;case">=":b=I>=+P;break;case"<":b=I<+P;break;case"<=":b=I<=+P;break;case"=":case"==":b=I==P;break;case"!=":b=I!=P;break;case"[)":b=vl(+I,P);break;case"![)":b=!vl(+I,P);break;case"[]":b=hl(I,P);break;case"![]":b=!hl(I,P);break}}}b&&r.push(m)}}),a?(l=e.events)==null||l.forEach((p,m)=>{r.includes(m)&&this.events[p.action](e,p)}):(s=e.events)==null||s.forEach(async(p,m)=>{if(r.includes(m)){if(p.confirm&&!await this.canvas.popconfirm.showModal(e,this.canvas.mousePos,p.confirmTitle))return;p.actions.forEach(y=>{if(y.timeout){let b=setTimeout(()=>{this.events[y.action]&&(this.events[y.action](e,y),clearTimeout(b),b=null)},y.timeout)}else this.events[y.action]&&this.events[y.action](e,y)})}}),n==="valueUpdate"){(c=e.realTimes)==null||c.forEach(m=>{var b,w;let y=[];(b=m.triggers)==null||b.forEach((C,x)=>{var P;let k=!1;(P=C.conditions)!=null&&P.length?C.conditionType==="and"?k=C.conditions.every(I=>this.judgeCondition(e,m.key,I)):C.conditionType==="or"&&(k=C.conditions.some(I=>this.judgeCondition(e,m.key,I))):k=!0,k&&y.push(x)}),(w=m.triggers)==null||w.forEach((C,x)=>{var k;y.includes(x)&&((k=C.actions)==null||k.forEach(P=>{if(P.timeout){let I=setTimeout(()=>{this.events[P.action]&&(this.events[P.action](e,P),clearTimeout(I),I=null)},P.timeout)}else this.events[P.action](e,P)}))})});let p=[];if((d=this.store.globalTriggers[e.id])==null||d.forEach((m,y)=>{var w;let b=!1;(w=m.conditions)!=null&&w.length?m.conditionType==="and"?b=m.conditions.every(C=>this.judgeCondition(this.store.pens[C.source],C.key,C)):m.conditionType==="or"&&(b=m.conditions.some(C=>this.judgeCondition(this.store.pens[C.source],C.key,C))):b=!0,b&&p.push(y)}),(u=this.store.globalTriggers[e.id])==null||u.forEach((m,y)=>{var b;p.includes(y)&&((b=m.actions)==null||b.forEach(w=>{if(w.timeout){let C=setTimeout(()=>{this.events[w.action]&&(this.events[w.action](e,w),clearTimeout(C),C=null)},w.timeout)}else this.events[w.action](e,w)}))}),(f=e.triggers)!=null&&f.length){for(let m of e.triggers)if((v=m.status)!=null&&v.length)for(let y of m.status){let b=!1;if((h=y.conditions)!=null&&h.length?y.conditionType==="and"?b=y.conditions.every(w=>this.judgeCondition(e,w.key,w)):y.conditionType==="or"&&(b=y.conditions.some(w=>this.judgeCondition(e,w.key,w))):b=!0,b){(g=y.actions)==null||g.forEach(w=>{if(w.timeout){let C=setTimeout(()=>{this.events[w.action]&&(this.events[w.action](e,w),clearTimeout(C),C=null)},w.timeout)}else this.events[w.action](e,w)});break}}}}this.doEvent(this.store.pens[e.parentId],n)});te(this,"doDataEvent",e=>{var r,o,l;if(!((r=this.store.data.dataEvents)!=null&&r.length))return;const n=e.reduce((s,{dataId:c,id:d,value:u})=>(s[d||c]=u,s),{});let a=[];(o=this.store.data.dataEvents)==null||o.forEach((s,c)=>{let d=!1;s.conditions&&s.conditions.length?s.conditionType==="and"?d=s.conditions.every(u=>this.dataJudegeCondition(n,u.key,u)):s.conditionType==="or"&&(d=s.conditions.some(u=>this.dataJudegeCondition(n,u.key,u))):d=!0,d&&a.push(c)}),(l=this.store.data.dataEvents)==null||l.forEach((s,c)=>{var d;a.includes(c)&&((d=s.actions)==null||d.forEach(u=>{this.events[u.action](n,u)}))})});te(this,"renderPenRaw",Ad);te(this,"setElemPosition",sn);te(this,"setLifeCycleFunc",Vce);this.store=sce(Ue()),this.setOptions(n),this.setDatabyOptions(n),this.init(e),this.register(Tde()),this.registerCanvasDraw({cube:Eue}),this.registerAnchors(Ede()),globalThis.meta2d=this,this.initEventFns(),this.store.emitter.on("*",this.onEvent)}get beforeAddPen(){return this.canvas.beforeAddPen}set beforeAddPen(e){this.canvas.beforeAddPen=e}get beforeAddPens(){return this.canvas.beforeAddPens}set beforeAddPens(e){this.canvas.beforeAddPens=e}get beforeAddAnchor(){return this.canvas.beforeAddAnchor}set beforeAddAnchor(e){this.canvas.beforeAddAnchor=e}get beforeRemovePens(){return this.canvas.beforeRemovePens}set beforeRemovePens(e){this.canvas.beforeRemovePens=e}get beforeRemoveAnchor(){return this.canvas.beforeRemoveAnchor}set beforeRemoveAnchor(e){this.canvas.beforeRemoveAnchor=e}setOptions(e={}){var n;(e.grid!==void 0||e.gridColor!==void 0||e.gridSize!==void 0)&&this.canvas&&(this.canvas.canvasTemplate.bgPatchFlags=!0),(e.rule!==void 0||e.ruleColor!==void 0||e.ruleOptions!==void 0)&&(this.store.patchFlagsTop=!0,e.ruleOptions&&(n=this.store.options)!=null&&n.ruleOptions&&(Object.assign(this.store.options.ruleOptions,e.ruleOptions),e.ruleOptions=this.store.options.ruleOptions)),e.background!==void 0&&this.canvas&&(this.canvas.canvasTemplate.bgPatchFlags=!0),e.resizeMode!==void 0&&(e.resizeMode||(this.canvas.hotkeyType=xt.None)),(e.width!==void 0||e.height!==void 0)&&(this.canvas&&(this.canvas.canvasTemplate.bgPatchFlags=!0),this.canvas&&this.canvas.canvasTemplate.canvas.style.backgroundImage&&(this.canvas.canvasTemplate.canvas.style.backgroundImage="")),this.store.options=Object.assign(this.store.options,e),this.canvas&&e.scroll!==void 0&&(e.scroll?(!this.canvas.scroll&&(this.canvas.scroll=new WI(this.canvas)),this.canvas.scroll.show()):this.canvas.scroll&&this.canvas.scroll.hide())}getOptions(){return this.store.options}setTheme(e){this.store.data.theme=e,this.setBackgroundColor(this.store.theme[e].background),this.canvas.parentElement.style.background=this.store.theme[e].parentBackground,this.store.data.color=this.store.theme[e].color,this.setOptions({ruleColor:this.store.theme[e].ruleColor,ruleOptions:this.store.theme[e].ruleOptions}),this.render()}setDatabyOptions(e={}){const{color:n,activeColor:a,activeBackground:r,grid:o,gridColor:l,gridSize:s,fromArrow:c,toArrow:d,rule:u,ruleColor:f,textColor:v,x:h=0,y:g=0}=e;this.setRule({rule:u,ruleColor:f}),this.setGrid({grid:o,gridColor:l,gridSize:s}),this.store.data=Object.assign(this.store.data,{textColor:v,color:n,activeColor:a,activeBackground:r,fromArrow:c,toArrow:d,x:h,y:g})}init(e){typeof e=="string"?this.canvas=new YI(this,document.getElementById(e),this.store):this.canvas=new YI(this,e,this.store),this.resize(),this.canvas.listen()}initEventFns(){this.events[Jt.Link]=(e,n)=>{if(window&&n.value&&typeof n.value=="string"){window.open(n.value,n.params??"_blank");return}console.warn("[meta2d] Link param is not a string")},this.events[Jt.SetProps]=(e,n)=>{const a=n.value;if(a&&typeof a=="object"){(n.params?this.find(n.params):this.find(e.id)).forEach(o=>{a.hasOwnProperty("visible")&&o.visible!==a.visible&&this.setVisible(o,a.visible),this.setValue({id:o.id,...a},{render:!1,doEvent:!1})}),this.render();return}console.warn("[meta2d] SetProps value is not an object")},this.events[Jt.StartAnimate]=(e,n)=>{let a=e;if(n.value&&(a=this.findOne(n.value)),!(this.store.animates.has(a)&&!a.calculative.pause&&a.animateName===n.params)){if(n.targetType&&n.params){this.startAnimate(n.value||[e],n.params);return}if(!n.value||typeof n.value=="string"){this.startAnimate(n.value||[e]);return}console.warn("[meta2d] StartAnimate value is not a string")}},this.events[Jt.PauseAnimate]=(e,n)=>{if(!n.value||typeof n.value=="string"){this.pauseAnimate(n.value||[e]);return}console.warn("[meta2d] PauseAnimate value is not a string")},this.events[Jt.StopAnimate]=(e,n)=>{if(!n.value||typeof n.value=="string"){if(n.value){let a=this.findOne(n.value);if(!this.store.animates.has(a))return}else if(!this.store.animates.has(e))return;this.stopAnimate(n.value||[e]);return}console.warn("[meta2d] StopAnimate event value is not a string")},this.events[Jt.StartVideo]=(e,n)=>{if(!n.value||typeof n.value=="string"){this.startVideo(n.value||[e]);return}console.warn("[meta2d] StartVideo value is not a string")},this.events[Jt.PauseVideo]=(e,n)=>{if(!n.value||typeof n.value=="string"){this.pauseVideo(n.value||[e]);return}console.warn("[meta2d] PauseVideo value is not a string")},this.events[Jt.StopVideo]=(e,n)=>{if(!n.value||typeof n.value=="string"){this.stopVideo(n.value||[e]);return}console.warn("[meta2d] StopVideo event value is not a string")},this.events[Jt.JS]=(e,n,a)=>{var r;if(n.value&&!n.fn)try{if(typeof n.value!="string")throw new Error("[meta2d] Function value must be string");const o=n.value;n.fn=new Function("pen","params","context",o)}catch(o){console.error("[meta2d]: Error on make a function:",o)}(r=n.fn)==null||r.call(n,e,a||n.params,{meta2d:this,eventName:n.name})},this.events[Jt.GlobalFn]=(e,n)=>{if(typeof n.value!="string"){console.warn("[meta2d] GlobalFn value must be a string");return}globalThis[n.value]&&globalThis[n.value](e,n.params)},this.events[Jt.Emit]=(e,n)=>{if(typeof n.value!="string"){console.warn("[meta2d] Emit value must be a string");return}this.store.emitter.emit(n.value,{pen:e,params:n.params,eventName:n.name})},this.events[Jt.SendPropData]=(e,n)=>{const a=fe(n.value);if(a&&typeof a=="object"){const r=n.params?this.findOne(n.params):e;for(let o in a)(a[o]===void 0||a[o]==="")&&(a[o]=r[o]);a.id=r.id,this.doSendDataEvent(a,n.extend);return}console.warn("[meta2d] SendPropData value is not an object")},this.events[Jt.SendVarData]=(e,n)=>{const a=fe(n.value);if(a&&typeof a=="object"){const r=n.params?this.findOne(n.params):e;let o=[];for(let l in a){let s={dataId:l,value:a[l]};if(!s.value){let c=r.form.find(d=>d.dataIds&&d.dataIds.dataId===s.dataId);c&&(s.value=r[c.key])}o.push(s)}this.doSendDataEvent(o,n.extend);return}console.warn("[meta2d] SendVarData value is not an object")},this.events[Jt.Navigator]=(e,n)=>{n.value&&typeof n.value=="string"&&this.navigatorTo(n.value)},this.events[Jt.Dialog]=(e,n)=>{if(n.params&&typeof n.params=="string"){let a=n.params;if(n.params.includes("${")){let r=n.params.match(new RegExp("(?<=\\$\\{).*?(?=\\})","g"));r&&(r==null||r.forEach(o=>{a=a.replace(`\${${o}}`,e[o])}))}this.canvas.dialog.show(n.value,a,n.extend)}},this.events[Jt.SendData]=(e,n)=>{var r,o;if((r=n.list)!=null&&r.length){if(n.network&&n.network.protocol==="jetLinks"){const s=[];n.list.forEach((c,d)=>{var f,v;const u=c.params?this.findOne(c.params):e;s[d]={deviceId:u.deviceId,productId:u.productId,properties:{}};for(let h in c.value)if(c.value[h]===void 0||c.value[h]===""){const g=(f=u.realTimes)==null?void 0:f.find(p=>p.propertyId===h);g&&(s[d].properties[h]=u[g.key])}else if(typeof c.value[h]=="string"&&((v=c.value[h])==null?void 0:v.indexOf("${"))>-1){let g=c.value[h].match(new RegExp("(?<=\\$\\{).*?(?=\\})","g"));g!=null&&g.length&&(s[d].properties[h]=u[g[0]])}else s[d].properties[h]=c.value[h]}),this.jetLinksClient&&s.length&&s.forEach(c=>{this.jetLinksClient.send(JSON.stringify({type:"sub",topic:`/device-message-sender/${c.productId}/${c.deviceId}`,parameter:{messageType:"WRITE_PROPERTY",properties:c.properties,headers:{async:!1}},id:c.productId+"/"+c.deviceId+"-"+Ue()}))});return}const l={};n.list.forEach(s=>{var d;const c=s.params?this.findOne(s.params):e;for(let u in s.value)if(s.value[u]===void 0||s.value[u]==="")l[u]=c[u];else if(typeof s.value[u]=="string"&&((d=s.value[u])==null?void 0:d.indexOf("${"))>-1){let f=s.value[u].match(new RegExp("(?<=\\$\\{).*?(?=\\})","g"));f!=null&&f.length&&(l[u]=c[f[0]])}else l[u]=s.value[u]}),e.deviceId&&(l.deviceId=e.deviceId),this.sendDataToNetWork(l,e,n);return}const a=fe(n.value);if(a&&typeof a=="object"&&n.targetType==="id"){const l=n.params?this.findOne(n.params):e;for(let s in a)if(a[s]===void 0||a[s]==="")a[s]=l[s];else if(typeof a[s]=="string"&&((o=a[s])==null?void 0:o.indexOf("${"))>-1){let c=a[s].match(new RegExp("(?<=\\$\\{).*?(?=\\})","g"));c!=null&&c.length&&(a[s]=l[c[0]])}l.deviceId&&(a.deviceId=l.deviceId),this.sendDataToNetWork(a,e,n);return}},this.events[Jt.PostMessage]=(e,n)=>{var l;if(typeof n.value!="string"){console.warn("[meta2d] Emit value must be a string");return}const a=n.params?this.findOne(n.params):e;if(a.name!=="iframe"||!a.iframe){console.warn("不是嵌入页面");return}let r=gg(a.iframe.split("?")[1]);const o={};(l=n.list)!=null&&l.length&&n.list.forEach(s=>{var d;const c=s.params?this.findOne(s.params):e;for(let u in s.value)if(s.value[u]===void 0||s.value[u]==="")o[u]=c[u];else if(typeof s.value[u]=="string"&&((d=s.value[u])==null?void 0:d.indexOf("${"))>-1){let f=s.value[u].match(new RegExp("(?<=\\$\\{).*?(?=\\})","g"));f!=null&&f.length&&(o[u]=c[f[0]])}else o[u]=s.value[u]}),a.calculative.singleton.div.children[0].contentWindow.postMessage(JSON.stringify({name:n.value,id:r.id,value:o}),"*")},this.events[Jt.PostMessageToParent]=(e,n)=>{var r;if(typeof n.value!="string"){console.warn("[meta2d] Emit value must be a string");return}const a={};(r=n.list)!=null&&r.length&&n.list.forEach(o=>{var s;const l=o.params?this.findOne(o.params):e;for(let c in o.value)if(o.value[c]===void 0||o.value[c]==="")a[c]=l[c];else if(typeof o.value[c]=="string"&&((s=o.value[c])==null?void 0:s.indexOf("${"))>-1){let d=o.value[c].match(new RegExp("(?<=\\$\\{).*?(?=\\})","g"));d!=null&&d.length&&(a[c]=l[d[0]])}else a[c]=o.value[c]}),window.parent.postMessage(JSON.stringify({name:n.value,value:a}),"*")},this.events[Jt.Message]=(e,n)=>{this.message({theme:n.params,content:n.value,...n.extend})}}message(e){new Dde(this.canvas.parentElement,e).init()}closeAll(){for(let e in Zn)Zn[e].close()}async navigatorTo(e){if(!e)return;const n=new URL(window.location);n.searchParams.set("id",e),history.pushState({},"",n);const a=this.store.options.navigatorNetWork,r=location.href.includes("2d.")||location.href.includes("/2d")?"2d":"v",o=await fetch(((a==null?void 0:a.url)||`/api/data/${r}/get`)+((a==null?void 0:a.method)==="GET"?`?id=${e}`:""),{headers:{Authorization:`Bearer ${this.getCookie("token")||localStorage.getItem("token")||new URLSearchParams(location.search).get("token")||""}`},method:(a==null?void 0:a.method)||"POST",body:(a==null?void 0:a.method)==="GET"?void 0:JSON.stringify({id:e})});if(o.ok){let l=await o.text();l.constructor===Object||l.constructor===Array?l=JSON.parse(JSON.stringify(l)):typeof l=="string"&&(l=JSON.parse(l)),l.data&&(l=l.data),this.open(l)}else this.store.emitter.emit("error",{type:"http",error:o})}doSendDataEvent(e,n){let a=JSON.stringify(e);this.mqttClient&&this.mqttClient.connected&&(n?n.split(",").forEach(r=>{this.mqttClient.publish(r,a)}):this.store.data.mqttTopics&&this.store.data.mqttTopics.split(",").forEach(r=>{this.mqttClient.publish(r,a)})),this.websocket&&this.websocket.readyState===1&&this.websocket.send(a),(this.store.data.https||this.store.data.http)&&this.sendDatabyHttp(a),this.store.emitter.emit("sendData",a)}async sendDataToNetWork(e,n,a){var o;const r=fe(a.network);if(r.data&&(Object.assign(r,r.data),delete r.data),!!r.url){if(r.protocol==="http"){if(typeof r.headers=="object"){for(let d in r.headers)if(typeof r.headers[d]=="string"){let u=r.headers[d].match(new RegExp("(?<=\\$\\{).*?(?=\\})","g"));u&&(r.headers[d]=r.headers[d].replace(`\${${u[0]}}`,this.getDynamicParam(u[0])))}}let l,s=r.url;if(r.method==="GET"&&(l="?"+Object.keys(e).map(d=>d+"="+e[d]).join("&")),r.method==="POST"&&s.indexOf("${")>-1){let d=s.match(new RegExp("(?<=\\$\\{).*?(?=\\})","g"));d&&d.forEach(u=>{s=s.replace(`\${${u}}`,gl(n,u)||this.getDynamicParam(u))})}const c=await fetch(s+(l||""),{headers:r.headers||{},method:r.method,body:r.method==="POST"?JSON.stringify(e):void 0});if(c.ok){if(a.callback){const d=await c.text();if(!a.fn)try{if(typeof a.callback!="string")throw new Error("[meta2d] Function callback must be string");const u=a.callback;a.fn=new Function("pen","data","context",u)}catch(u){console.error("[meta2d]: Error on make a function:",u)}(o=a.fn)==null||o.call(a,n,d,{meta2d:this,e:a})}console.info("http消息发送成功")}}else if(r.protocol==="mqtt"){const l=this.mqttClients.filter(s=>s.options.href===r.url);if(l&&l.length)l[0].connected&&r.topics.split(",").forEach(s=>{l[0].publish(s,e)});else{let s=Kd.connect(r.url,r.options);s.on("connect",()=>{console.info("mqtt连接成功"),r.topics.split(",").forEach(c=>{s.publish(c,e),s==null||s.end()})})}}else if(r.protocol==="websocket"){const l=this.websockets.filter(s=>s.url===r.url);if(l&&l.length)l[0].readyState===1&&l[0].send(e);else{let s=new WebSocket(r.url,r.protocols||void 0);s.onopen=function(){console.info("websocket连接成功"),s.send(e),setTimeout(()=>{s.close()},100)}}}}}resize(e,n){this.canvas.resize(e,n),this.render(),this.store.emitter.emit("resize",{width:e,height:n}),this.canvas.scroll&&this.canvas.scroll.isShow&&this.canvas.scroll.init()}async addPen(e,n,a=!0,r=!1){return await this.canvas.addPen(e,n,a,r)}async addPens(e,n,a=!1){return await this.canvas.addPens(e,n,a)}render(e){var n;(n=this.canvas)==null||n.render(e)}async setBackgroundImage(e,n){var s,c,d,u;let a=this;async function r(f){return new Promise(v=>{const h=new Image;h.src=f,a.store.options.cdn&&!(f.startsWith("http")||f.startsWith("//")||f.startsWith("data:image"))&&(h.src=a.store.options.cdn+f),h.crossOrigin="anonymous",h.onload=()=>{v(h)}})}this.store.data.bkImage=e;const o=(n==null?void 0:n.width)||((s=this.store.data)==null?void 0:s.width)||((c=this.store.options)==null?void 0:c.width),l=(n==null?void 0:n.height)||((d=this.store.data)==null?void 0:d.height)||((u=this.store.options)==null?void 0:u.height);if(o&&l?(this.canvas.canvasTemplate.canvas.style.backgroundImage=null,this.canvas&&(this.canvas.canvasTemplate.bgPatchFlags=!0)):this.canvas.canvasTemplate.canvas.style.backgroundImage=e?`url('${e}')`:"",e){const f=await r(e);this.store.bkImg=f,o&&l&&this.canvas&&(this.canvas.canvasTemplate.init(),this.render())}else this.store.bkImg=null}setBackgroundColor(e=this.store.data.background){this.store.data.background=e,this.canvas&&(this.canvas.canvasTemplate.bgPatchFlags=!0)}setGrid({grid:e=this.store.data.grid,gridColor:n=this.store.data.gridColor,gridSize:a=this.store.data.gridSize,gridRotate:r=this.store.data.gridRotate}={}){this.store.data.grid=e,this.store.data.gridColor=n,this.store.data.gridSize=a<0?0:a,this.store.data.gridRotate=r,this.canvas&&(this.canvas.canvasTemplate.bgPatchFlags=!0)}setRule({rule:e=this.store.data.rule,ruleColor:n=this.store.data.ruleColor}={}){this.store.data.rule=e,this.store.data.ruleColor=n,this.store.patchFlagsTop=!0}open(e,n=!0){if(this.clear(!1,e==null?void 0:e.template),this.canvas.autoPolylineFlag=!0,e){this.setBackgroundImage(e.bkImage,e),Object.assign(this.store.data,e),this.store.data.pens=[];for(const a of e.pens)a.id||(a.id=Ue()),!a.calculative&&(a.calculative={canvas:this.canvas}),this.store.pens[a.id]=a;for(const a of e.pens)this.canvas.makePen(a)}if(this.canvas.patchFlagsLines.forEach(a=>{a.type&&this.canvas.initLineRect(a)}),this.store.data.template||(this.store.data.template=Ue()),n||(this.canvas.opening=!0),this.initBindDatas(),this.initBinds(),this.initMessageEvents(),this.initGlobalTriggers(),this.render(),this.listenSocket(),this.connectSocket(),this.connectNetwork(),this.startDataMock(),this.startAnimate(),this.startVideo(),this.doInitJS(),this.doInitFn(),setTimeout(()=>{const a=this.store.data.pens.find(r=>r.autofocus);a&&this.focus(a.id)},100),this.store.data.iconUrls)for(const a of this.store.data.iconUrls)pce(a,()=>{this.render()});this.canvas.autoPolylineFlag=!1,this.store.emitter.emit("opened"),this.canvas.scroll&&this.canvas.scroll.isShow&&this.canvas.scroll.init()}cacheData(e){if(e&&this.store.options.cacheLength){let n=this.store.cacheDatas.findIndex(a=>a.data&&a.data._id===e);if(n===-1)this.store.cacheDatas.push({data:fe(this.store.data,!0)}),this.store.cacheDatas.length>this.store.options.cacheLength&&this.store.cacheDatas.shift();else{let a=this.store.cacheDatas.splice(n,1)[0];this.store.cacheDatas.push(a)}}}loadCacheData(e){let n=this.store.cacheDatas.findIndex(a=>a.data&&a.data._id===e);n!==-1&&(this.store.data=this.store.cacheDatas[n].data,this.setBackgroundImage(this.store.data.bkImage),this.store.pens={},this.store.data.pens.forEach(a=>{a.calculative.canvas=this.canvas,this.store.pens[a.id]=a,Ye.path2dDraws[a.name]&&this.store.path2dMap.set(a,Ye.path2dDraws[a.name](a)),a.type&&this.store.path2dMap.set(a,Ye.path2dDraws[a.name](a)),a.image&&(a.calculative.imageDrawed=!1,this.canvas.loadImage(a))}),this.render())}initBindDatas(){this.store.bindDatas={},this.store.data.pens.forEach(e=>{var n;(n=e.form)==null||n.forEach(a=>{let r;a.dataIds&&(Array.isArray(a.dataIds)?r=a.dataIds:r=[a.dataIds]),r==null||r.forEach(o=>{this.store.bindDatas[o.dataId]||(this.store.bindDatas[o.dataId]=[]),this.store.bindDatas[o.dataId].push({id:e.id,formItem:a})})})})}initBinds(){this.jetLinksList=[],this.store.bind={},this.store.data.pens.forEach(e=>{var n;(n=e.realTimes)==null||n.forEach(a=>{if(a.bind&&a.bind.id){this.store.bind[a.bind.id]||(this.store.bind[a.bind.id]=[]),this.store.bind[a.bind.id].push({id:e.id,key:a.key});const r=a.productId||e.productId,o=a.deviceId||e.deviceId,l=a.propertyId;if(r&&o&&l){const s=this.jetLinksList.findIndex(c=>c.topic.startsWith(`/${r}/${o}`));s>-1?this.jetLinksList[s].properties.includes(a.propertyId)||this.jetLinksList[s].properties.push(a.propertyId):this.jetLinksList.push({topic:`/${r}/${o}`,deviceId:o,properties:[a.propertyId]})}}})})}connectSocket(){this.connectWebsocket(),this.connectMqtt(),this.connectHttp()}doInitJS(){const e=this.store.data.initJs;if(e&&e.trim())try{new Function("context",e)({meta2d:this})}catch(n){console.warn("initJs error",n)}}doInitFn(){let e=gg(),n=[];for(let a in e)e.hasOwnProperty(a)&&a.startsWith("bind-")&&n.push({id:a.replace("bind-",""),dataId:a.replace("bind-",""),value:e[a]});n.length&&this.setDatas(n,{history:!1})}drawLine(e){e&&KI(this.store),this.canvas.drawingLineName=e}alignPenToGrid(e){this.canvas.alignPenToGrid(e)}drawingPencil(){this.canvas.drawingPencil()}stopPencil(){this.canvas.stopPencil()}lock(e){this.store.data.locked=e,this.finishDrawLine(!0),this.canvas.drawingLineName="",this.stopPencil(),this.store.data.pens.forEach(n=>{var a;n.externElement===!0&&(a=n.calculative.singleton)!=null&&a.div&&sn(n,n.calculative.singleton.div)}),e>0&&this.initMessageEvents()}async finishDrawLine(e){await this.canvas.finishDrawline(e)}async finishPencil(){await this.canvas.finishPencil()}updateLineType(e,n){if(!e||e.name!="line"||!n||!this.canvas[n])return;e.lineName=n;const a=Lt(e),r=bt(e);a.prev=void 0,a.next=void 0,r.prev=void 0,r.next=void 0,e.calculative.worldAnchors=[a,r],e.calculative.activeAnchor=a,this.canvas[n](this.store,e,r),e.lineName==="curve"&&(a.prev={penId:a.penId,x:a.x-50,y:a.y},a.next={penId:a.penId,x:a.x+50,y:a.y},r.prev={penId:r.penId,x:r.x-50,y:r.y},r.next={penId:r.penId,x:r.x+50,y:r.y}),e.calculative.activeAnchor=void 0,this.canvas.initLineRect(e),this.render()}addDrawLineFn(e,n){this.canvas[e]=n,this.canvas.drawLineFns.push(e)}removeDrawLineFn(e){const n=this.canvas.drawLineFns.indexOf(e);n>-1&&this.canvas.drawLineFns.splice(n,1)}showMagnifier(){this.canvas.showMagnifier()}hideMagnifier(){this.canvas.hideMagnifier()}toggleMagnifier(){this.canvas.toggleMagnifier()}clear(e=!0,n){var a;for(const r of this.store.data.pens)(a=r.onDestroy)==null||a.call(r,r);cce(this.store,n),this.hideInput(),this.canvas.tooltip.hide(),this.map&&this.map.isShow&&(this.map.show(),this.map.setView()),this.canvas.clearCanvas(),sessionStorage.removeItem("page"),this.store.clipboard=void 0,this.store.sameTemplate||(this.canvas.canvasTemplate.bgPatchFlags=!0),this.store.patchFlagsBackground=!0,this.store.patchFlagsTop=!0,this.setBackgroundImage(void 0),e&&this.render()}emit(e,n){this.store.emitter.emit(e,n)}on(e,n){return this.store.emitter.on(e,n),this}off(e,n){return this.store.emitter.off(e,n),this}registerMoveDock(e){this.canvas.customMoveDock=e}registerResizeDock(e){this.canvas.customResizeDock=e}find(e){return this.canvas.find(e)}findOne(e){return this.canvas.findOne(e)}getPenRect(e){return this.canvas.getPenRect(e)}setPenRect(e,n,a=!0){this.canvas.setPenRect(e,n,a)}startAnimate(e,n){this.stopAnimate(e);let a;e?typeof e=="string"?a=this.find(e):a=e:a=this.store.data.pens.filter(r=>(r.type||r.frames)&&r.autoPlay||r.animations&&r.animations.length&&r.animations.findIndex(o=>o.autoPlay)!==-1),a.length&&(a.forEach(r=>{var o,l;if(r.calculative.pause){const s=Date.now()-r.calculative.pause;r.calculative.pause=void 0,r.calculative.frameStart+=s,r.calculative.frameEnd+=s}else{let s=-1;if(n!==void 0&&r.animations){if(typeof n=="string"){if(s=r.animations.findIndex(c=>c.name===n),s===-1)return}else if(typeof n=="number")if(r.animations.length>n)s=n;else return}else n===void 0&&(s=(o=r.animations)==null?void 0:o.findIndex(c=>c.autoPlay),s===-1&&((l=r.animations)!=null&&l.length)&&(s=0));if(s!==-1&&s!==void 0){const c=fe(r.animations[s]);c.animateName=c.name,delete c.name,c.currentAnimation=s,!r.type&&c.frames&&(c.showDuration=this.calcAnimateDuration(c)),this.setValue({id:r.id,...c},{doEvent:!1,history:!1})}this.store.animates.add(r),r.type||this.store.animateMap.set(r,r.calculative.canvas.getFrameProps(r))}}),this.initImageCanvas(a),this.canvas.animate())}pauseAnimate(e){let n=[];e?typeof e=="string"?n=this.find(e):n=e:this.store.animates.forEach(a=>{n.push(a)}),n.forEach(a=>{a.calculative.pause||(a.calculative.pause=Date.now())})}stopAnimate(e){let n=[];e?typeof e=="string"?n=this.find(e):n=e:this.store.animates.forEach(a=>{n.push(a)}),n.forEach(a=>{a.currentAnimation=void 0,a.calculative.pause=void 0,a.calculative.start=void 0,a.calculative.duration=void 0,a.calculative.animatePos=0,this.store.animates.delete(a),this.canvas.restoreNodeAnimate(a),this.canvas.updateLines(a),this.store.animateMap.delete(a)}),this.initImageCanvas(n),setTimeout(()=>{var a;(a=this.canvas)==null||a.calcActiveRect(),this.render()},20)}startVideo(e){let n;e?typeof e=="string"?n=this.find(e):n=e:n=this.store.data.pens.filter(a=>(a.video||a.audio)&&a.autoPlay),n.forEach(a=>{var r,o;(r=a.calculative.media)==null||r.play(),(o=a.onStartVideo)==null||o.call(a,a)})}pauseVideo(e){let n=[];e?typeof e=="string"?n=this.find(e):n=e:n=this.store.data.pens.filter(a=>(a.video||a.audio)&&a.autoPlay),n.forEach(a=>{var r,o;(r=a.calculative.media)==null||r.pause(),(o=a.onPauseVideo)==null||o.call(a,a)})}stopVideo(e){let n=[];e?typeof e=="string"?n=this.find(e):n=e:n=this.store.data.pens.filter(a=>(a.video||a.audio)&&a.autoPlay),n.forEach(a=>{var r;a.calculative.media&&(a.calculative.media.currentTime=0,a.calculative.media.pause()),(r=a.onStopVideo)==null||r.call(a,a)})}calcAnimateDuration(e){return e.frames.reduce((n,a)=>n+a.duration,0)}combine(e=this.store.active,n){if(!e||!e.length)return;const a=fe(e);if(e.length===1&&e[0].type){e[0].type=mt.Node,this.canvas.active(e),this.pushHistory({type:Me.Update,initPens:a,pens:fe(e,!0)}),this.render();return}const r=Pa(e);let o={id:Ue(),name:"combine",...r,children:[],showChild:n};this.canvas.makePen(o);const l=fe(o);let s=1/0;return e.forEach(c=>{const d=this.store.data.pens.findIndex(f=>f.id===c.id);if(d<s&&(s=d),c===o||c.parentId===o.id||c.id===o.id)return;o.children.push(c.id),c.parentId=o.id;const u=Yr(c.calculative.worldRect,r);Object.assign(c,u),c.locked=c.lockedOnCombine??st.None,c.locked=c.interaction||cg.includes(c.name)?0:c.locked}),this.store.data.pens.splice(s,0,o),this.store.data.pens.pop(),this.canvas.active([o]),this.pushHistory({type:Me.Add,pens:[l],step:3}),this.pushHistory({type:Me.Update,initPens:[l],pens:[o],step:3}),this.pushHistory({type:Me.Update,initPens:a,pens:e,step:3}),n!=null&&(e.forEach(c=>{Sr(c,!0)}),this.initImageCanvas([o])),this.store.emitter.emit("combine",[o]),this.render(),o}uncombine(e){if(!e&&this.store.active&&(e=this.store.active[0]),!e||!e.children)return;const n=e.children.map(o=>this.store.pens[o]);let a=fe(n);n.forEach(o=>{o.parentId=void 0,o.x=o.calculative.worldRect.x,o.y=o.calculative.worldRect.y,o.width=o.calculative.worldRect.width,o.height=o.calculative.worldRect.height,o.locked=st.None,o.calculative.active=void 0,o.calculative.hover=!1,this.setVisible(o,!0)});const r=this.isCombine(e)?3:2;this.pushHistory({type:Me.Update,initPens:a,pens:n,step:r}),a=[fe(e)],e.children=void 0,this.pushHistory({type:Me.Update,initPens:a,pens:[e],step:r}),this.isCombine(e)&&(this.delete([e]),this.store.histories[this.store.histories.length-1].step=r),this.inactive()}appendChild(e=this.store.active){if(!e||e.length<2)return;const n=e.findIndex(a=>a.name==="combine"&&a.showChild!==void 0);if(n!==-1){let a=e[n];const r=Pa(e);Object.assign(a,r),Object.assign(a.calculative.worldRect,r),ml(a),a.children.forEach(o=>{const l=this.store.pens[o],s=Yr(l.calculative.worldRect,r);Object.assign(l,s)}),e.forEach(o=>{if(o.id!==a.id){a.children.push(o.id),o.parentId=a.id;const l=Yr(o.calculative.worldRect,r);Object.assign(o,l),o.locked=o.lockedOnCombine??st.DisableMove,o.locked=o.interaction||cg.includes(o.name)?0:o.locked,Sr(o,!0)}}),this.initImageCanvas(e),this.render()}else console.warn("Invalid operation!")}updateRectbyChild(e,n,a){if(Mt(e),It(e),n.calculative.worldRect=e,kr(e,a.calculative.worldRect,!0)){const r=Yr(e,a.calculative.worldRect);Object.assign(n,r)}else{let r=Math.min(e.x,a.calculative.worldRect.x),o=Math.min(e.y,a.calculative.worldRect.y),l=Math.max(e.ex,a.calculative.worldRect.ex),s=Math.max(e.ey,a.calculative.worldRect.ey);a.calculative.worldRect={x:r,y:o,width:l-r,height:s-o,ex:l,ey:s},a.parentId||Object.assign(a,a.calculative.worldRect),It(a.calculative.worldRect),a.children.forEach(c=>{const d=this.store.pens[c],u=Yr(d.calculative.worldRect,a.calculative.worldRect);Object.assign(d,u)}),a.parentId&&this.updateRectbyChild(a.calculative.worldRect,a,this.store.pens[a.parentId])}this.canvas.updatePenRect(a),this.render()}isCombine(e){return!!(e.name==="combine"||e.children&&e.children.length>0)}active(e,n=!0){this.canvas.active(e,n)}inactive(){this.canvas.inactive()}activeAll(){this.canvas.active(this.store.data.pens.filter(e=>!e.parentId&&e.locked!==st.Disable)),this.render()}focus(e){const n=this.findOne(e);n&&(this.store.hover=n,this.store.hover.calculative.hover=!0,this.showInput(n))}delete(e,n=!1,a=!0){this.canvas.delete(e,n,a)}scale(e,n={x:0,y:0}){this.canvas.scale(e,n)}translate(e,n){this.canvas.translate(e,n)}translatePens(e,n,a){this.canvas.translatePens(e,n,a)}getParent(e,n){return Xn(e,n)}getAllChildren(e){return Ka(e,this.store)}getAllFollowers(e){return mg(e,this.store)}data(){const e=fe(this.store.data),{pens:n,paths:a}=this.store.data;e.version=W_.version,e.paths={};for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&n.find(o=>o.pathId===r)&&(e.paths[r]=a[r]);return e.dataPoints=[...Object.keys(this.store.bind),...Object.keys(this.store.bindDatas)],e}copy(e){this.canvas.copy(e)}cut(e){this.canvas.cut(e)}paste(){this.canvas.paste()}undo(){this.canvas.undo()}redo(){this.canvas.redo()}listenSocket(){try{let e;const n=this.store.data.socketCbJs;if(n&&(e=new Function("e","context",n)),!e)return this.socketFn=null,!1;this.socketFn=e}catch(e){return console.error("Create the function for socket:",e),!1}return!0}connectWebsocket(e){this.closeWebsocket(),e&&(this.store.data.websocket=e),this.store.data.websocket&&(this.websocket=new WebSocket(this.store.data.websocket,this.store.data.websocketProtocols||void 0),this.websocket.onmessage=n=>{this.socketCallback(n.data,{type:"websocket",url:this.store.data.websocket})},this.websocket.onerror=n=>{this.store.emitter.emit("error",{type:"websocket",error:n})},this.websocket.onclose=()=>{if(this.store.options.reconnetTimes&&(this.websocketTimes++,this.websocketTimes>=this.store.options.reconnetTimes)){this.websocketTimes=0,this.closeWebsocket();return}console.info("Canvas websocket closed and reconneting..."),this.connectWebsocket()})}closeWebsocket(){this.websocket&&(this.websocket.onclose=void 0,this.websocket.close(),this.websocket=void 0)}connectMqtt(e){if(this.closeMqtt(),e&&(this.store.data.mqtt=e.mqtt,this.store.data.mqttTopics=e.mqttTopics,this.store.data.mqttOptions=e.mqttOptions),this.store.data.mqtt){this.store.data.mqttOptions.clientId&&!this.store.data.mqttOptions.customClientId&&(this.store.data.mqttOptions.clientId=Ue());const n={...this.store.data.mqttOptions};n.username||delete n.username,n.password||delete n.password;const{username:a,password:r}=n;a&&r||!a&&!r?(this.mqttClient=Kd.connect(this.store.data.mqtt,n),this.mqttClient.on("message",(o,l)=>{this.socketCallback(l.toString(),{topic:o,type:"mqtt",url:this.store.data.mqtt})}),this.mqttClient.on("error",o=>{this.store.emitter.emit("error",{type:"mqtt",error:o})}),this.mqttClient.on("close",()=>{this.store.options.reconnetTimes&&(this.mqttTimes++,this.mqttTimes>=this.store.options.reconnetTimes&&(this.mqttTimes=0,this.closeMqtt()))}),this.store.data.mqttTopics&&this.mqttClient.subscribe(this.store.data.mqttTopics.split(","))):console.warn("缺少用户名或密码")}}closeMqtt(){var e;(e=this.mqttClient)==null||e.end()}connectHttp(){this.closeHttp();const{https:e}=this.store.data;if(e)this.store.data.cancelFirstConnect||e.forEach(async n=>{this.oldRequestHttp(n)}),e.forEach((n,a)=>{n.http&&(n.times=0,this.httpTimerList[a]=setInterval(async()=>{this.oldRequestHttp(n),this.store.options.reconnetTimes&&(n.times++,n.times>=this.store.options.reconnetTimes&&(n.times=0,clearInterval(this.httpTimerList[a]),this.httpTimerList[a]=void 0))},n.httpTimeInterval||1e3))});else{const{http:n,httpTimeInterval:a,httpHeaders:r}=this.store.data;n&&(this.httpTimer=setInterval(async()=>{const o=await fetch(n,{headers:r});if(o.ok){const l=await o.text();this.socketCallback(l,{type:"http",url:n})}},a||1e3))}}async oldRequestHttp(e){let n=fe(e);if(n.http){const a=await fetch(n.http,{headers:n.httpHeaders,method:n.method||"GET",body:n.method==="POST"?JSON.stringify(n.body):void 0});if(a.ok){const r=await a.text();this.socketCallback(r,{type:"http",url:n.http})}else this.store.emitter.emit("error",{type:"http",error:a})}}async sendDatabyHttp(e){const{https:n}=this.store.data;if(n)n.forEach(async a=>{a.http&&(await fetch(a.http,{method:"post",body:e,headers:a.httpHeaders})).ok&&console.info("http消息发送成功")});else{const{http:a,httpHeaders:r}=this.store.data;a&&(await fetch(a,{method:"post",body:e,headers:r})).ok&&console.info("http消息发送成功")}}closeHttp(){clearInterval(this.httpTimer),this.httpTimer=void 0,this.httpTimerList&&this.httpTimerList.forEach(e=>{clearInterval(e),e=void 0})}connectNetwork(){this.closeNetwork();const{networks:e}=this.store.data,n=[];if(e){let a=0;this.mqttClients=[];let r=0,o=0;this.websockets=[],e.forEach(async l=>{if(l.protocol==="mqtt")l.index=a,l.options.clientId&&!l.options.customClientId&&(l.options.clientId=Ue()),l.times=0,this.mqttClients[a]=Kd.connect(l.url,l.options),this.mqttClients[a].on("message",(s,c)=>{this.socketCallback(c.toString(),{topic:s,type:"mqtt",url:l.url})}),this.mqttClients[a].on("error",s=>{this.store.emitter.emit("error",{type:"mqtt",error:s})}),this.mqttClients[a].on("close",()=>{var s;this.store.options.reconnetTimes&&(l.times++,l.times>=this.store.options.reconnetTimes&&(l.times=0,this.mqttClients&&((s=this.mqttClients[l.index])==null||s.end())))}),l.topics&&this.mqttClients[a].subscribe(l.topics.split(",")),a+=1;else if(l.protocol==="websocket")l.index=r,this.connectNetWebSocket(l),r+=1;else if(l.protocol==="http")n.push({url:l.url,interval:l.interval,headers:l.headers||void 0,method:l.method,body:l.body});else if(l.protocol==="iot"){const s=await this.getIotToken(l.devices);l.method==="mqtt"?(l.index=a,this.mqttClients[a]=Kd.connect(l.url),this.mqttClients[a].on("message",(c,d)=>{this.socketCallback(d.toString(),{topic:`le5le-iot/properties/${s}`,type:"iot",url:l.url,method:"mqtt"})}),this.mqttClients[a].on("error",c=>{this.store.emitter.emit("error",{type:"mqtt",error:c})}),this.mqttClients[a].subscribe(`le5le-iot/properties/${s}`),a+=1):l.method==="websocket"&&(l.index=r,this.websockets[r]=new WebSocket(`${location.protocol==="https:"?"wss":"ws"}://${location.host}/api/ws/iot/properties`,s),this.websockets[r].onmessage=c=>{this.socketCallback(c.data,{type:"iot",method:"websocket"})},this.websockets[r].onerror=c=>{this.store.emitter.emit("error",{type:"websocket",error:c})},r+=1)}else l.protocol==="sql"?(await this.doSqlCode("list",l.dbId,l.sql),l.interval&&(l.index=o,this.sqlTimerList[o]=setInterval(async()=>{await this.doSqlCode("list",l.dbId,l.sql)},l.interval),o+=1)):l.protocol==="jetLinks"&&this.jetLinksList.length&&(this.jetLinksClient=new WebSocket(`${l.url}/${localStorage.getItem("X-Access-Token")||this.getCookie("X-Access-Token")||new URLSearchParams(location.search).get("X-Access-Token")||""}`),this.jetLinksClient.onmessage=s=>{var d;const c=JSON.parse(s.data);if(c.payload&&c.payload.success&&((d=c.payload)!=null&&d.properties)){const u=[];for(let f in c.payload.properties)f.startsWith("_")||u.push({id:`${c.payload.headers.productId}#${c.payload.deviceId}#${f}`,value:c.payload.properties[f]});this.setDatas(u,{history:!1})}},this.jetLinksClient.onopen=()=>{this.jetLinksList.forEach(s=>{this.jetLinksClient.send(JSON.stringify({type:"sub",topic:`/device${s.topic}/message/property/report`,parameter:{deviceId:s.deviceId,properties:s.properties,history:1},id:s.topic+"-"+Ue()}))})})})}this.onNetworkConnect(n)}connectNetWebSocket(e){var n;this.websockets[e.index]&&(this.websockets[e.index].onclose=void 0,(n=this.websockets[e.index])==null||n.close(),this.websockets[e.index]=void 0),this.websockets[e.index]=new WebSocket(e.url,e.protocols||void 0),this.websockets[e.index].onmessage=a=>{this.socketCallback(a.data,{type:"websocket",url:e.url})},this.websockets[e.index].onerror=a=>{this.store.emitter.emit("error",{type:"websocket",error:a})},this.websockets[e.index].onclose=()=>{var a;if(this.store.options.reconnetTimes&&(e.times++,e.times>=this.store.options.reconnetTimes)){e.times=0,this.websockets[e.index].onclose=void 0,(a=this.websockets[e.index])==null||a.close(),this.websockets[e.index]=void 0;return}setTimeout(()=>{console.info("Canvas websocket closed and reconneting..."),this.connectNetWebSocket(e)},2e3)}}async getIotToken(e){const n=await fetch("/api/iot/subscribe/properties",{method:"POST",body:JSON.stringify({devices:e})});if(n.ok){const a=await n.text();return JSON.parse(a).token}}async doSqlCode(e,n,a){const r=await fetch(`/api/iot/data/sql/${e}`,{method:"POST",body:JSON.stringify({dbid:n,sql:a})});if(r.ok){const o=await r.text();o&&this.socketCallback(o,{type:"sql",url:`/api/iot/data/sql/${e}`})}}randomString(e){e=e||32;let n="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",a=n.length,r="";for(let o=0;o<e;o++)r+=n.charAt(Math.floor(Math.random()*a));return r}mockValue(e){let n;if(e.enableMock&&e.mock!==void 0)if(e.type==="float")if(e.mock&&e.mock.indexOf(",")!==-1){let a=e.mock.split(","),r=Math.floor(Math.random()*a.length);n=parseFloat(a[r])}else if(e.mock&&e.mock.indexOf("-")!==-1){let a,r,o,l=e.mock.split("-");if(e.mock.charAt(0)==="-"?l.length===4?(a=-parseFloat(l[3]),r=-parseFloat(l[1]),o=l[3]):(a=parseFloat(l[2]),r=-parseFloat(l[1]),o=l[2]):(a=parseFloat(l[1]),r=parseFloat(l[0]),o=l[1]),(o+"").indexOf(".")!==-1){let s=(o+"").split(".")[1].length;n=(Math.random()*(a-r)+r).toFixed(s)}else n=Math.random()*(a-r)+r}else n=parseFloat(e.mock);else if(e.type==="integer")if(e.mock&&e.mock.indexOf(",")!==-1){let a=e.mock.split(","),r=Math.floor(Math.random()*a.length);n=parseInt(a[r])}else if(e.mock&&e.mock.indexOf("-")!==-1){let a,r,o=e.mock.split("-");e.mock.charAt(0)==="-"?o.length===4?(a=-parseFloat(o[3]),r=-parseFloat(o[1])):(a=parseFloat(o[2]),r=-parseFloat(o[1])):(a=parseInt(o[1]),r=parseInt(o[0])),n=parseInt(Math.random()*(a-r)+r+"")}else n=parseInt(e.mock);else if(e.type==="bool")typeof e.mock=="boolean"?n=e.mock:e.mock==="true"?n=!0:e.mock==="false"?n=!1:n=Math.random()<.5;else if(e.type==="object"||e.type==="array")e.mock;else if(e.mock&&e.mock.indexOf(",")!==-1){let r=e.mock.substring(1,e.mock.length-1).split(","),o=Math.floor(Math.random()*r.length);n=r[o]}else if(e.mock&&e.mock.startsWith("[")&&e.mock.endsWith("]")){let a=parseInt(e.mock.substring(1,e.mock.length-1));n=this.randomString(a)}else n=e.mock;return n}dataMock(){var n,a;let e=[];(a=(n=this.store.data.dataset)==null?void 0:n.devices)==null||a.forEach(r=>{let o=this.mockValue(r);o!==void 0&&e.push({id:r.id,value:o})}),e.length&&this.setDatas(e,{render:!0,doEvent:!0,history:!1})}startDataMock(){this.store.data.enableMock&&(this.stopDataMock(),this.initBinds(),this.updateTimer=setInterval(()=>{this.store.data.pens.forEach(n=>{this.penMock(n)}),this.dataMock(),this.render()},this.store.data.networkInterval||1e3))}stopDataMock(){clearInterval(this.updateTimer),this.updateTimer=void 0}penMock(e){var n;if(e.realTimes){let a={};if(e.realTimes.forEach(r=>{let o=this.mockValue(r);o!==void 0&&(a[r.key]=o)}),Object.keys(a).length){let r=e.onBeforeValue?e.onBeforeValue(e,a):a;this.canvas.updateValue(e,r),(n=e.onValue)==null||n.call(e,e),this.store.emitter.emit("valueUpdate",e)}}}penNetwork(e){const n={url:e.apiUrl,method:e.apiMethod,headers:e.apiHeaders,body:e.apiBody};this.requestHttp(n),e.apiEnable?(this.store.pensNetwork||(this.store.pensNetwork={}),this.store.pensNetwork[e.id]=n):delete this.store.pensNetwork[e.id]}getCookie(e){let n;const a=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(n=document.cookie.match(a))?decodeURIComponent(n[2]):""}getDynamicParam(e){return gg()[e]||localStorage[e]||this.getCookie(e)||""}onNetworkConnect(e){if(e&&e.length){if(this.store.pensNetwork)for(let n in this.store.pensNetwork)e.push(this.store.pensNetwork[n]);this.store.data.cancelFirstConnect||e.forEach(async n=>{this.requestHttp(n)}),e.forEach((n,a)=>{n.times=0,this.updateTimerList[a]=setInterval(async()=>{this.requestHttp(n),this.store.options.reconnetTimes&&(n.times++,n.times>=this.store.options.reconnetTimes&&(n.times=0,clearInterval(this.updateTimerList[a]),this.updateTimerList[a]=void 0))},n.interval||1e3)})}}async requestHttp(e){let n=fe(e);if(n.url){if(typeof n.headers=="object"){for(let r in n.headers)if(typeof n.headers[r]=="string"){let o=n.headers[r].match(new RegExp("(?<=\\$\\{).*?(?=\\})","g"));o&&(n.headers[r]=n.headers[r].replace(`\${${o[0]}}`,this.getDynamicParam(o[0])))}}if(typeof n.body=="object"){for(let r in n.body)if(typeof n.body[r]=="string"){let o=n.body[r].match(new RegExp("(?<=\\$\\{).*?(?=\\})","g"));o&&(n.body[r]=n.body[r].replace(`\${${o[0]}}`,this.getDynamicParam(o[0])))}}const a=await fetch(n.url,{headers:n.headers,method:n.method,body:n.method==="GET"?void 0:JSON.stringify(n.body)});if(a.ok){const r=await a.text();this.socketCallback(r,{type:"http",url:n.url})}else this.store.emitter.emit("error",{type:"http",error:a})}}closeNetwork(){this.mqttClients&&this.mqttClients.forEach(e=>{e.end()}),this.websockets&&this.websockets.forEach(e=>{e&&(e.onclose=void 0,e.close(),e=void 0)}),this.mqttClients=void 0,this.websockets=void 0,this.updateTimerList&&this.updateTimerList.forEach(e=>{clearInterval(e),e=void 0}),this.sqlTimerList&&this.sqlTimerList.forEach(e=>{clearInterval(e),e=void 0})}socketCallback(e,n){this.store.emitter.emit("socket",{message:e,context:n});let a=e;if(this.socketFn&&(a=this.socketFn(e,{meta2d:this,type:n.type,topic:n.topic,url:n.url,method:n.method}),!a))return;a===!0&&(a=e);let r;if(a.constructor===Object||a.constructor===Array)r=a;else if(typeof a=="string")try{r=JSON.parse(a)}catch(o){console.warn("Invalid socket data:",r,o)}else return;r&&(Array.isArray(r)||(r=[r]),r.length&&(r[0].dataId?this.setDatas(r):r.forEach(o=>{this.setValue(o)})))}setDatas(e,{render:n=!0,doEvent:a=!0,history:r}={}){const o=new Map;e.forEach(c=>{var d,u;(d=this.store.bindDatas[c.dataId])==null||d.forEach(f=>{const v=this.store.pens[f.id];if(!v)return;let h=o.get(v);if(!v.noOnBinds&&typeof v.onBinds=="function"){if(h)return;o.set(v,v.onBinds(v,e,f.formItem));return}h?h[f.formItem.key]=c.value:(h={id:f.id,[f.formItem.key]:c.value},o.set(v,h))}),(u=this.store.bind[c.id||c.dataId])==null||u.forEach(f=>{const v=this.store.pens[f.id];if(!v)return;let h=o.get(v);h?h[f.key]=c.value:(h={id:f.id,[f.key]:c.value},o.set(v,h))})}),this.store.data.locked&&this.doDataEvent(e);let l,s;r&&(l=[]),o.forEach((c,d)=>{this.setValue(c,{render:!1,doEvent:a,history:!1}),r&&(l.push(fe(d,!0)),s.push(d))}),n&&this.render(),r&&this.pushHistory({type:Me.Update,initPens:l,pens:s})}setValue(e,{render:n=!0,doEvent:a=!0,history:r}={}){let o=[];if(!e)return;if(e.id){if(e.id===this.store.data.id){this.setDatabyOptions(e),e.bkImage&&this.setBackgroundImage(e.bkImage),e.background&&this.setBackgroundColor(e.background),this.render();return}const s=this.store.pens[e.id];if(s)o=[s];else{let c=this.store.bind[e.id];if(c&&c.length){o=[],this.setDatas([e],{render:n,doEvent:a,history:r});return}}}else if(e.dataId){o=[],this.setDatas([e],{render:n,doEvent:a,history:r});return}else if(e.tag)o=this.find(e.tag);else{let s=[];for(let c in e)s.push({dataId:c,id:c,value:e[c]});s.length&&this.setDatas(s,{render:n,doEvent:a,history:r});return}r=r&&!this.store.data.locked;let l;if(r&&(l=fe(o)),o.forEach(s=>{var d;const c=s.onBeforeValue?s.onBeforeValue(s,e):e;e.frames&&(this.stopAnimate([s]),e.showDuration||(e.showDuration=e.frames.reduce((u,f)=>u+f.duration,0))),Og(s,c),this.canvas.updateValue(s,c),(d=s.onValue)==null||d.call(s,s)}),!this.store.data.locked&&this.store.active.length&&!this.canvas.movingPens&&this.canvas.calcActiveRect(),r){let s=fe(o);this.pushHistory({type:Me.Update,initPens:l,pens:s})}a&&o.forEach(s=>{this.store.emitter.emit("valueUpdate",s)}),n&&this.render()}_setValue(e,n=!1){this.setValue(e,{history:n,render:!1,doEvent:!1})}pushHistory(e){this.canvas.pushHistory(e)}showInput(e,n){this.canvas.showInput(e,n)}hideInput(){this.canvas.hideInput()}clearDropdownList(){this.canvas.clearDropdownList()}clearRuleLines(){this.canvas.clearRuleLines()}doMessageEvent(e,n){this.store.messageEvents[e]&&this.store.messageEvents[e].forEach(a=>{let r=!1;a.event.conditions&&a.event.conditions.length?a.event.conditionType==="and"?r=a.event.conditions.every(o=>this.judgeCondition(a.pen,o.key,o)):a.event.conditionType==="or"&&(r=a.event.conditions.some(o=>this.judgeCondition(a.pen,o.key,o))):r=!0,r&&a.event.actions.forEach(o=>{this.events[o.action](a.pen,o)})})}initGlobalTriggers(){var e;this.store.globalTriggers={},(e=this.store.data.triggers)==null||e.forEach(n=>{n.conditions.forEach(a=>{a.source&&(this.store.globalTriggers[a.source]||(this.store.globalTriggers[a.source]=[]),this.store.globalTriggers[a.source].includes(n)||this.store.globalTriggers[a.source].push(n))})})}initMessageEvents(){this.store.messageEvents={},this.store.data.pens.forEach(e=>{var n;(n=e.events)==null||n.forEach(a=>{a.name==="message"&&a.message&&(this.store.messageEvents[a.message]||(this.store.messageEvents[a.message]=[]),this.store.messageEvents[a.message].push({pen:e,event:a}))})})}dataJudegeCondition(e,n,a){const{type:r,target:o,fnJs:l,fn:s,operator:c,valueType:d}=a;let u=!1;if(r==="fn"){if(s)u=s(e,{meta2d:this});else if(l){try{a.fn=new Function("data","context",l)}catch(f){console.error("Error: make function:",f)}a.fn&&(u=a.fn(e,{meta2d:this}))}}else{let f=a.value;d==="prop"&&(f=e[a.value]);let v=e[n];switch(c){case">":u=v>+f;break;case">=":u=v>=+f;break;case"<":u=v<+f;break;case"<=":u=v<=+f;break;case"=":case"==":u=v==f;break;case"!=":u=v!=f;break;case"[)":u=vl(+v,f);break;case"![)":u=!vl(+v,f);break;case"[]":u=hl(v,f);break;case"![]":u=!hl(v,f);break}}return u}judgeCondition(e,n,a){const{type:r,target:o,fnJs:l,fn:s,operator:c,valueType:d}=a;let u=!1;if(r==="fn"){if(s)u=s(e,{meta2d:this});else if(l){try{a.fn=new Function("pen","context",l)}catch(f){console.error("Error: make function:",f)}a.fn&&(u=a.fn(e,{meta2d:this}))}}else{let f=a.value;d==="prop"&&(f=this.store.pens[o][a.value]);let v=gl(e,n);switch(["x","y","width","height"].includes(n)&&(v=this.getPenRect(e)[n]),c){case">":u=v>+f;break;case">=":u=v>=+f;break;case"<":u=v<+f;break;case"<=":u=v<=+f;break;case"=":case"==":u=v==f;break;case"!=":u=v!=f;break;case"[)":u=vl(+v,f);break;case"![)":u=!vl(+v,f);break;case"[]":u=hl(v,f);break;case"![]":u=!hl(v,f);break}}return u}pushChildren(e,n){const a=[fe(e,!0)],r=[];e.children||(e.children=[]);const o=[];n.forEach(s=>{let c=fe(s,!0);if((!s.id||!this.store.pens[s.id])&&(this.canvas.makePen(s),c=null),s.parentId){const u=this.store.pens[s.parentId],f=u.children.findIndex(v=>v===s.id);a.push(fe(u,!0)),u.children.splice(f,1),o.push(fe(u,!0))}e.children.push(s.id),s.parentId=e.id;const d=Yr(s.calculative.worldRect,e.calculative.worldRect);Object.assign(s,d),s.locked=s.lockedOnCombine??st.DisableMove,s.locked=s.interaction||cg.includes(s.name)?0:s.locked,c?(a.push(c),o.push(fe(s,!0))):r.push(fe(s,!0))}),o.push(fe(e,!0));let l=1;r.length&&(l=2,this.pushHistory({type:Me.Add,pens:r,step:l})),this.pushHistory({type:Me.Update,initPens:a,pens:o,step:l})}toPng(e,n,a=!1,r){return this.canvas.toPng(e,n,a,r)}activeToPng(e,n){return this.canvas.activeToPng(e,n)}pensToPng(e=this.store.active,n,a){return this.canvas.pensToPng(e,n,a)}downloadPng(e,n,a){var r;for(const o of this.store.data.pens)(o.calculative.img||["iframe"].includes(o.name))&&((r=o.onRenderPenRaw)==null||r.call(o,o));setTimeout(()=>{const o=document.createElement("a");o.setAttribute("download",(e||this.store.data.name||"le5le.meta2d")+".png"),o.setAttribute("href",this.toPng(n,void 0,!0,a));const l=document.createEvent("MouseEvents");l.initEvent("click",!0,!0),o.dispatchEvent(l)},1e3)}downloadSvg(){if(!window.C2S)throw console.error("请先加载乐吾乐官网下的canvas2svg.js","https://assets.le5lecdn.com/2d/canvas2svg.js"),new Error("请先加载乐吾乐官网下的canvas2svg.js");const e=this.getRect();e.x-=10,e.y-=10;const n=new window.C2S(e.width+20,e.height+20);n.textBaseline="middle";for(const d of this.store.data.pens)d.visible==!1||!Dd(d,this.store)||Ad(n,d,e,!0);let a=n.getSerializedSvg();this.store.data.background?(a=a.replace("{{bk}}",""),a=a.replace("{{bkRect}}",`<rect x="0" y="0" width="100%" height="100%" fill="${this.store.data.background}"></rect>`)):(a=a.replace("{{bk}}",""),a=a.replace("{{bkRect}}","")),a=a.replace(/--le5le--/g,"&#x");const r=window.URL,o=new Blob([a]),l=r.createObjectURL(o),s=document.createElement("a");s.setAttribute("download",`${this.store.data.name||"le5le.meta2d"}.svg`),s.setAttribute("href",l);const c=document.createEvent("MouseEvents");c.initEvent("click",!0,!0),s.dispatchEvent(c)}getRect(e=this.store.data.pens){return Pa(e)}hiddenTemplate(){this.canvas.canvasTemplate.hidden()}showTemplate(){this.canvas.canvasTemplate.show()}lockTemplate(e){this.store.data.pens.forEach(n=>{n.canvasLayer===gt.CanvasTemplate&&(n.locked=e)})}fitView(e=!0,n=10){var f,v;if(!this.hasView())return;const{canvas:a}=this.canvas,{offsetWidth:r,offsetHeight:o}=a;this.resize(r,o);const l=wr(n),s=this.getRect(),c=(r-l[1]-l[3])/s.width,d=(o-l[0]-l[2])/s.height;let u=c;e?u=c>d?d:c:u=c>d?c:d,(f=this.store.data.fits)!=null&&f.length&&(this.canvas.opening=!0),this.scale(u*this.store.data.scale),this.centerView(),(v=this.store.data.fits)!=null&&v.length&&this.fillView()}fillView(){var r,o;const e=this.getRect(),n=this.canvas.width-e.width,a=this.canvas.height-e.height;if(Math.abs(n)>10){(r=this.store.data.fits)==null||r.forEach(s=>{let c=[];s.children.forEach(u=>{this.store.pens[u].locked=st.None,c.push(this.store.pens[u])});let d=n/2;if(s.left&&s.right){let u=s.leftValue,f=s.rightValue;u?u=Math.abs(u)<1?u*this.canvas.width:u:u=0,f?f=Math.abs(f)<1?f*this.canvas.width:f:f=0;let v=(this.canvas.width-u-f)/(e.width-u-f);c.forEach(h=>{var g;h.image&&h.imageRatio&&h.calculative.worldRect.width/this.canvas.width>.1&&(h.imageRatio=!1),h.calculative.worldRect.x=e.x-n/2+u+(h.calculative.worldRect.x-e.x)*v,h.calculative.worldRect.width*=v,h.calculative.worldRect.ex=h.calculative.worldRect.x+h.calculative.worldRect.width,h.calculative.width=h.calculative.worldRect.width,h.calculative.x=h.calculative.worldRect.x,h.width=h.calculative.worldRect.width,h.x=h.calculative.worldRect.x,this.canvas.updatePenRect(h,{worldRectIsReady:!1}),h.externElement&&((g=h.onResize)==null||g.call(h,h))})}else s.left?(d=-d,s.leftValue&&(d+=Math.abs(s.leftValue)<1?s.leftValue*this.canvas.width:s.leftValue),this.translatePens(c,d,0)):s.right&&(s.rightValue&&(d=d-(Math.abs(s.rightValue)<1?s.rightValue*this.canvas.width:s.rightValue)),this.translatePens(c,d,0))});const l=this.store.data.pens.filter(s=>s.name==="iframe");l==null||l.forEach(s=>{var d,u;const c=s.calculative.worldRect;if(c.width/this.store.data.scale>e.width*.8){let f=c.width;s.calculative.worldRect.x=c.x-n/2,s.calculative.worldRect.width=c.width+n,s.calculative.worldRect.ex=c.ex+n,s.operationalRect.x=s.operationalRect.x*f/s.calculative.worldRect.width,s.operationalRect.width=(s.calculative.worldRect.width-(1-s.operationalRect.width)*f)/s.calculative.worldRect.width,(d=s.onBeforeValue)==null||d.call(s,s,{operationalRect:s.operationalRect}),(u=s.onResize)==null||u.call(s,s)}})}if(Math.abs(a)>10){(o=this.store.data.fits)==null||o.forEach(s=>{let c=[];s.children.forEach(u=>{this.store.pens[u].locked=st.None,c.push(this.store.pens[u])});let d=a/2;if(s.top&&s.bottom){let u=s.topValue,f=s.bottomValue;u?u=Math.abs(u)<1?u*this.canvas.height:u:u=0,f?f=Math.abs(f)<1?f*this.canvas.height:f:f=0;let v=(this.canvas.height-u-f)/(e.height-u-f);c.forEach(h=>{var g;h.image&&h.imageRatio&&h.calculative.worldRect.height/this.canvas.height>.1&&(h.imageRatio=!1),h.calculative.worldRect.y=e.y-a/2+u+(h.calculative.worldRect.y-e.y)*v,h.calculative.worldRect.height*=v,h.calculative.worldRect.ey=h.calculative.worldRect.y+h.calculative.worldRect.height,h.calculative.height=h.calculative.worldRect.height,h.calculative.y=h.calculative.worldRect.y,h.height=h.calculative.worldRect.height,h.y=h.calculative.worldRect.y,this.canvas.updatePenRect(h,{worldRectIsReady:!1}),h.externElement&&((g=h.onResize)==null||g.call(h,h))})}else s.top?(d=-d,s.topValue&&(d+=Math.abs(s.topValue)<1?s.topValue*this.canvas.height:s.topValue),this.translatePens(c,0,d)):s.bottom&&(s.bottomValue&&(d=d-(Math.abs(s.bottomValue)<1?s.bottomValue*this.canvas.height:s.bottomValue)),this.translatePens(c,0,d))});const l=this.store.data.pens.filter(s=>s.name==="iframe");l==null||l.forEach(s=>{var d,u;const c=s.calculative.worldRect;if(c.height/this.store.data.scale>e.height*.8){let f=c.height;s.calculative.worldRect.y=c.y-a/2,s.calculative.worldRect.height=c.height+a,s.calculative.worldRect.ey=c.ey+a,s.operationalRect.y=s.operationalRect.y*f/s.calculative.worldRect.width,s.operationalRect.height=(s.calculative.worldRect.height-(1-s.operationalRect.height)*f)/s.calculative.worldRect.height,(d=s.onBeforeValue)==null||d.call(s,s,{operationalRect:s.operationalRect}),(u=s.onResize)==null||u.call(s,s)}})}this.canvas.canvasTemplate.init(),this.canvas.canvasImage.init(),this.canvas.canvasImageBottom.init(),this.render(!0)}trimPens(){let e=this.store.data.pens.filter(n=>n.name==="line"&&n.anchors.length<2);this.delete(e)}fitTemplateView(e=!0,n=10){if(!this.hasView())return;const{canvas:a}=this.canvas,{offsetWidth:r,offsetHeight:o}=a,l=wr(n),s=this.getRect(),c=(r-l[1]-l[3])/s.width,d=(o-l[0]-l[2])/s.height;let u=c;e?u=c>d?d:c:u=c>d?c:d,this.canvas.templateScale(u*this.store.data.scale);let f=this.getRect(),v=this.store.data.pens.filter(h=>!h.parentId);this.canvas.templateTranslatePens(v,-f.x,-f.y),this.store.data.pens.forEach(h=>{h.type?this.canvas.initLineRect(h):this.canvas.updateLines(h)}),this.centerView()}fitSizeView(e=!0,n=10){var v,h;const{canvas:a}=this.canvas,{offsetWidth:r,offsetHeight:o}=a;this.resize(r,o);const l=wr(n),s=(this.store.data.width||this.store.options.width)*this.store.data.scale,c=(this.store.data.height||this.store.options.height)*this.store.data.scale,d=(r-l[1]-l[3])/s,u=(o-l[0]-l[2])/c;let f=d;e==="width"?f=d:e==="height"?f=u:e?f=d>u?u:d:f=d>u?d:u,(v=this.store.data.fits)!=null&&v.length&&(this.canvas.opening=!0),this.scale(f*this.store.data.scale),this.centerSizeView(),(h=this.store.data.fits)!=null&&h.length&&this.fillView()}centerSizeView(){const e=this.getViewCenter(),n=this.store.data.width||this.store.options.width,a=this.store.data.height||this.store.options.height,r={x:0,y:0,width:n,height:a};It(r);const{center:o}=r,{scale:l,origin:s,x:c,y:d}=this.store.data;this.translate((e.x-s.x)/l-o.x-c/l,(e.y-s.y)/l-o.y-d/l);const{canvas:u}=this.canvas,f=(u.scrollWidth-u.offsetWidth)/2,v=(u.scrollHeight-u.offsetHeight)/2;u.scrollTo(f,v)}scrollView(e=10,n=!1){if(!this.hasView()||!this.canvas.scroll)return;const{canvas:a}=this.canvas,{offsetWidth:r,offsetHeight:o}=a;this.resize(r,o);const l=wr(e),s=this.getRect(),c=(r-l[1]-l[3])/s.width;this.scale(c*this.store.data.scale),this.topView(l[0]),n&&this.canvas.scroll.changeMode()}screenView(e=10,n=!0){if(!this.hasView())return;const{canvas:a}=this.canvas,{offsetWidth:r,offsetHeight:o}=a;this.resize(r,o);const l=wr(e),s=this.getRect();let c=(r-l[1]-l[3])/s.width;n||(c=(o-l[0]-l[2])/s.height),this.scale(c*this.store.data.scale),this.topView(l[0])}topView(e=10){if(!this.hasView())return;const n=this.getRect(),a=this.getViewCenter(),r=this.getPenRect(n);It(r);const{center:o}=r,{scale:l,origin:s,x:c,y:d}=this.store.data;this.translate((a.x-s.x)/l-o.x-c/l,(e-s.y)/l-r.y-d/l);const{canvas:u}=this.canvas,f=(u.scrollWidth-u.offsetWidth)/2,v=(u.scrollHeight-u.offsetHeight)/2;u.scrollTo(f,v)}centerView(){if(!this.hasView())return;const e=this.getRect(),n=this.getViewCenter(),a=this.getPenRect(e);It(a);const{center:r}=a,{scale:o,origin:l,x:s,y:c}=this.store.data;this.translate((n.x-l.x)/o-r.x-s/o,(n.y-l.y)/o-r.y-c/o);const{canvas:d}=this.canvas,u=(d.scrollWidth-d.offsetWidth)/2,f=(d.scrollHeight-d.offsetHeight)/2;d.scrollTo(u,f)}hasView(){return!!this.store.data.pens.filter(e=>!e.isRuleLine).length}getViewCenter(){const{width:e,height:n}=this.canvas;return{x:e/2,y:n/2}}beSameByFirst(e=this.store.data.pens,n){const a=fe(e),r=e[0],{width:o,height:l}=this.getPenRect(r);for(let s=1;s<e.length;s++){const c=e[s];n==="width"?this.setValue({id:c.id,width:o},{render:!1,doEvent:!1}):n==="height"?this.setValue({id:c.id,height:l},{render:!1,doEvent:!1}):this.setValue({id:c.id,width:o,height:l},{render:!1,doEvent:!1})}this.render(),this.pushHistory({type:Me.Update,initPens:a,pens:e})}beSameByLast(e=this.store.data.pens,n){const a=fe(e),r=e[e.length-1],{width:o,height:l}=this.getPenRect(r);for(let s=0;s<e.length-1;s++){const c=e[s];n==="width"?this.setValue({id:c.id,width:o},{render:!1,doEvent:!1}):n==="height"?this.setValue({id:c.id,height:l},{render:!1,doEvent:!1}):this.setValue({id:c.id,width:o,height:l},{render:!1,doEvent:!1})}this.render(),this.pushHistory({type:Me.Update,initPens:a,pens:e})}formatPainterByFirst(e=this.store.data.pens){const n=fe(e),a=e[0],r={};js.forEach(o=>{r[o]=a[o]});for(let o=1;o<e.length;o++){const l=e[o];this.setValue({id:l.id,...r},{render:!1,doEvent:!1})}this.render(),this.pushHistory({type:Me.Update,initPens:n,pens:e})}formatPainterByLast(e=this.store.data.pens){const n=fe(e),a=e[e.length-1],r={};js.forEach(o=>{r[o]=a[o]});for(let o=0;o<e.length-1;o++){const l=e[o];this.setValue({id:l.id,...r},{render:!1,doEvent:!1})}this.render(),this.pushHistory({type:Me.Update,initPens:n,pens:e})}setFormatPainter(){const e=this.store.active,n={};if(e.length>0){const a=e[0];js.forEach(r=>{n[r]=a[r]!==void 0?a[r]:this.store.options.defaultFormat[r]||this.store.data[r]||this.store.options[r]})}else js.forEach(a=>{this.store.options.defaultFormat[a]||this.store.data[a]||this.store.options[a]});localStorage.setItem("meta2d-formatPainter",JSON.stringify(n))}formatPainter(){const e=this.store.active,n=fe(e),a=JSON.parse(localStorage.getItem("meta2d-formatPainter"));for(let r=0;r<e.length;r++){const o=e[r];this.setValue({id:o.id,...a},{render:!1,doEvent:!1})}this.render(),this.pushHistory({type:Me.Update,initPens:n,pens:e})}clearFormatPainter(){const e=this.store.active,n=fe(e);js.forEach(a=>{for(let r=0;r<e.length;r++){const o=e[r],{fontSize:l,lineHeight:s}=this.store.options;a==="lineWidth"?(o.lineWidth=1,o.calculative.lineWidth=1):a==="fontSize"?(o.fontSize=l,o.calculative.fontSize=l):a==="lineHeight"?(o.lineHeight=s,o.calculative.lineHeight=s):(delete o[a],delete o.calculative[a])}}),this.render(),this.pushHistory({type:Me.Update,initPens:n,pens:e})}alignNodes(e,n=this.store.data.pens,a){!a&&(a=this.getPenRect(this.getRect(n)));const r=fe(n);for(const o of n)this.alignPen(e,o,a);this.initImageCanvas(n),this.initTemplateCanvas(n),this.render(),this.pushHistory({type:Me.Update,initPens:r,pens:n})}alignNodesV(e,n=this.store.data.pens,a=!1){const r=this.store.data.width||this.store.options.width,o=this.store.data.height||this.store.options.height;let l={x:0,y:0,width:r,height:o};const s=fe(n);if(a){const c=this.store.data.scale,d=this.getRect(n),u=(d.x-this.store.data.origin.x)/c,f=(d.y-this.store.data.origin.y)/c,v=d.width/c,h=d.height/c;let g=0,p=0;switch(e){case"left":g=-u;break;case"right":g=r-(u+v);break;case"top":p=-f;break;case"bottom":p=o-(f+h);break;case"center":g=r/2-(u+v/2);break;case"middle":p=o/2-(f+h/2);break}this.translatePens(n,g*c,p*c)}else for(const c of n)this.alignPen(e,c,l);this.initImageCanvas(n),this.initTemplateCanvas(n),this.render(),this.pushHistory({type:Me.Update,initPens:s,pens:n})}alignNodesByFirst(e,n=this.store.data.pens){const a=fe(n),r=n[0],o=this.getPenRect(r);for(let l=1;l<n.length;l++){const s=n[l];this.alignPen(e,s,o)}this.initImageCanvas(n),this.initTemplateCanvas(n),this.render(),this.pushHistory({type:Me.Update,initPens:a,pens:n})}alignNodesByLast(e,n=this.store.data.pens){const a=fe(n),r=n[n.length-1],o=this.getPenRect(r);for(let l=0;l<n.length-1;l++){const s=n[l];this.alignPen(e,s,o)}this.initImageCanvas(n),this.initTemplateCanvas(n),this.render(),this.pushHistory({type:Me.Update,initPens:a,pens:n})}alignPen(e,n,a){const r=this.getPenRect(n);switch(e){case"left":r.x=a.x;break;case"right":r.x=a.x+a.width-r.width;break;case"top":r.y=a.y;break;case"bottom":r.y=a.y+a.height-r.height;break;case"center":r.x=a.x+a.width/2-r.width/2;break;case"middle":r.y=a.y+a.height/2-r.height/2;break}this.setValue({id:n.id,...r},{render:!1,doEvent:!1})}spaceBetweenByDirection(e,n=this.store.data.pens,a){if(!a){let d=1/0,u=-1/0,f=e==="width"?"x":"y";n.forEach(v=>{d=Math.min(d,v.calculative.worldRect[f]),u=Math.max(u,v.calculative.worldRect["e"+f])}),a=(u-d)/this.store.data.scale}if(n=n.filter(d=>!d.parentId),n.length<=2)return;const r=fe(n),o=n.reduce((d,u)=>{const f=this.getPenRect(u);return d+f[e]},0),l=(a-o)/(n.length-1);n=n.sort((d,u)=>e==="width"?d.x-u.x:d.y-u.y);const s=this.getPenRect(n[0]);let c=e==="width"?s.x:s.y;for(const d of n){const u=this.getPenRect(d);e==="width"?u.x=c:u.y=c,c+=u[e]+l,this.setValue({id:d.id,...u},{render:!1,doEvent:!1})}this.initImageCanvas(n),this.initTemplateCanvas(n),this.render(),this.pushHistory({type:Me.Update,initPens:r,pens:n})}spaceBetween(e,n){this.spaceBetweenByDirection("width",e,n)}spaceBetweenColumn(e,n){this.spaceBetweenByDirection("height",e,n)}layout(e=this.store.data.pens,n,a=30){const r=this.getPenRect(Pa(e));!n&&(n=r.width),e=e.filter(d=>!d.type&&!d.parentId);const o=fe(e);let l=0;e.forEach(d=>{const u=this.getPenRect(d);u.height>l&&(l=u.height)});let s=r.x,c=r.y;e.forEach((d,u)=>{const f=this.getPenRect(d);if(f.x=s,f.y=c+l/2-f.height/2,this.setValue({id:d.id,...f},{render:!1,doEvent:!1}),u===e.length-1)return;const v=s+f.width-r.x,h=this.getPenRect(e[u+1]);Math.round(n-v)>=Math.round(h.width+a)?s+=f.width+a:(s=r.x,c+=l+a)}),this.initImageCanvas(e),this.initTemplateCanvas(e),this.render(),this.pushHistory({type:Me.Update,initPens:o,pens:e})}gotoView(e){const n=this.getViewCenter(),a=n.x-e.calculative.worldRect.x-e.calculative.worldRect.width/2,r=n.y-e.calculative.worldRect.y-e.calculative.worldRect.height/2;this.canvas.scroll&&this.canvas.scroll.isShow&&this.canvas.scroll.translate(a-this.store.data.x,r-this.store.data.y),this.store.data.x=a,this.store.data.y=r;for(const o of this.store.data.pens)Sr(o);this.canvas.canvasImage.init(),this.canvas.canvasImageBottom.init(),this.render()}showMap(){this.map||(this.map=new Ade(this.canvas)),this.map.show()}hideMap(){this.map.hide()}onSizeUpdate(){this.mapTimer&&(clearTimeout(this.mapTimer),this.mapTimer=void 0),this.mapTimer=setTimeout(()=>{this.map&&this.map.isShow&&this.map.show(),this.canvas.scroll&&this.canvas.scroll.isShow&&this.canvas.scroll.resize()},500)}toggleAnchorMode(){this.canvas.toggleAnchorMode()}addAnchorHand(){this.canvas.addAnchorHand()}removeAnchorHand(){this.canvas.removeAnchorHand()}toggleAnchorHand(){this.canvas.toggleAnchorHand()}top(e){e||(e=this.store.active),Array.isArray(e)||(e=[e]);for(const n of e){const a=this.store.data.pens,r=[...Ka(n,this.store),n].map(l=>l.id);a.filter(l=>r.includes(l.id)).forEach(l=>{const s=a.findIndex(c=>c.id===l.id);s>-1&&(a.push(a[s]),a.splice(s,1),this.initTemplateCanvas([l]),this.initImageCanvas([l])),this.specificLayerMove(l,"top")})}this.store.emitter.emit("layer",{type:"top",pens:e})}initImageCanvas(e){this.canvas.initImageCanvas(e)}initTemplateCanvas(e){this.canvas.initTemplateCanvas(e)}bottom(e){e||(e=this.store.active),Array.isArray(e)||(e=[e]);for(const n of e){const a=this.store.data.pens,r=[...Ka(n,this.store),n].map(l=>l.id),o=a.filter(l=>r.includes(l.id));for(let l=o.length-1;l>=0;l--){const s=o[l],c=a.findIndex(d=>d.id===s.id);c>-1&&(a.unshift(a[c]),a.splice(c+1,1),this.initTemplateCanvas([s]),this.initImageCanvas([s])),this.specificLayerMove(s,"bottom")}}this.store.emitter.emit("layer",{type:"bottom",pens:e})}upByArea(e){if(this.store.data.pens.findIndex(c=>c.id===e.id)===-1){console.warn("upByArea: pen not in canvas");return}const a=[e,...Ka(e,this.store)];let r=a.map(c=>this.store.data.pens.findIndex(d=>d.id===c.id));r.includes(-1)&&(console.warn("upByArea: pen children not in canvas"),r=r.filter(c=>c!==-1));const o=Math.min(...r),l=e.calculative.worldRect,s=this.store.data.pens.findIndex((c,d)=>{if(d<=o||c.id===e.id||yce(c,e))return!1;const u=c.calculative.worldRect;return kr(l,u)});if(s===-1){this.up(e);return}this.store.data.pens.splice(s+1,0,...a);for(const c of a){const d=this.store.data.pens.findIndex(u=>u.id===c.id);d>-1&&this.store.data.pens.splice(d,1)}this.initImageCanvas([e])}specificLayerMove(e,n){var a;if(e.image&&e.name!=="gif"){let r=gt.CanvasImageBottom;n==="top"?r=gt.CanvasImage:(n==="up"||n==="down")&&(r=gt.CanvasMain),this.setValue({id:e.id,canvasLayer:r},{render:!1,doEvent:!1,history:!1})}else if(e.externElement||e.name==="gif"){let r=0;n==="top"?(e.calculative.canvas.maxZindex+=1,r=e.calculative.canvas.maxZindex):n==="up"?r=e.calculative.zIndex===void 0?6:e.calculative.zIndex+1:n==="down"&&(r=e.calculative.zIndex===void 0?3:e.calculative.zIndex-1,r<0&&(r=0)),this.setValue({id:e.id,zIndex:r},{render:!1,doEvent:!1,history:!1}),(a=e.calculative.singleton)!=null&&a.div&&sn(e,e.calculative.singleton.div)}}up(e){e||(e=this.store.active),Array.isArray(e)||(e=[e]);for(const n of e){const a=this.store.data.pens;if(n.children&&n.children.length){const r=[...Ka(n,this.store),n],o=[];for(let c=0;c<a.length;c++){const d=a[c];r.findIndex(u=>u.id===d.id)!==-1&&(d.temIndex=c,o.push(d))}let l=-1,s=0;o.forEach(c=>{c.temIndex-=s,a.splice(c.temIndex,1),s+=1,l=c.temIndex,delete c.temIndex,this.specificLayerMove(c,"up")}),a.splice(l+1,0,...o),this.initTemplateCanvas(o),this.initImageCanvas(o)}else{const r=a.findIndex(o=>o.id===n.id);r>-1&&r!==a.length-1&&(a.splice(r+2,0,a[r]),a.splice(r,1),this.initTemplateCanvas([n]),this.initImageCanvas([n])),this.specificLayerMove(n,"up")}}this.store.emitter.emit("layer",{type:"up",pens:e})}down(e){e||(e=this.store.active),Array.isArray(e)||(e=[e]);for(const n of e){const a=this.store.data.pens;if(n.children&&n.children.length){const r=[...Ka(n,this.store),n],o=[];for(let c=0;c<a.length;c++){const d=a[c];r.findIndex(u=>u.id===d.id)!==-1&&(d.temIndex=c,o.push(d))}let l=-1,s=0;o.forEach((c,d)=>{c.temIndex-=s,a.splice(c.temIndex,1),s+=1,d===0&&(l=c.temIndex),delete c.temIndex,this.specificLayerMove(c,"down")}),a.splice(l-1,0,...o),this.initTemplateCanvas(o),this.initImageCanvas(o)}else{const r=a.findIndex(o=>o.id===n.id);r>-1&&r!==0&&(a.splice(r-1,0,a[r]),a.splice(r+1,1),this.initTemplateCanvas([n]),this.initImageCanvas([n])),this.specificLayerMove(n,"down")}}this.store.emitter.emit("layer",{type:"down",pens:e})}setLayer(e,n,a=this.store.data.pens){const r=a.findIndex(o=>o.id===e.id);r>-1&&(r>n?(a.splice(n,0,a[r]),a.splice(r+1,1)):r<n&&(a.splice(n,0,a[r]),a.splice(r,1)))}changePenId(e,n){this.canvas.changePenId(e,n)}getLines(e,n="all"){var r;if(e.type===mt.Line)return[];const a=[];return(r=e.connectedLines)==null||r.forEach(({lineId:o})=>{const l=this.store.pens[o];if(!l){console.warn(e,"node contain a error connectedLine");return}if(!a.find(s=>s.id===l.id))switch(n){case"all":a.push(l);break;case"in":bt(l).connectTo===e.id&&a.push(l);break;case"out":Lt(l).connectTo===e.id&&a.push(l);break}}),a}nextNode(e){if(e.type===mt.Line){const n=this.store.pens[bt(e).connectTo];return n?[n]:[]}else{const n=this.getLines(e,"out"),a=[];return n.forEach(r=>{const o=this.nextNode(r);for(const l of o)!a.find(c=>c.id===l.id)&&a.push(l)}),a}}previousNode(e){if(e.type===mt.Line){const n=this.store.pens[Lt(e).connectTo];return n?[n]:[]}else{const n=this.getLines(e,"in"),a=[];return n.forEach(r=>{const o=this.previousNode(r);for(const l of o)!a.find(c=>c.id===l.id)&&a.push(l)}),a}}getNext(e){var a;if(e.type===mt.Line){console.warn("非连线节点");return}const n=[];return(a=e.connectedLines)==null||a.forEach(({lineId:r,anchor:o})=>{var c,d;const l=(c=e.anchors)==null?void 0:c.filter(u=>u.id===o)[0],s=this.findOne(r);if(s.anchors[0].connectTo==e.id){const u=s.anchors[s.anchors.length-1].connectTo;if(u){const f=this.findOne(u),v=(d=f.connectedLines)==null?void 0:d.filter(g=>g.lineId===s.id)[0],h=f.anchors.filter(g=>g.id===v.anchor)[0];n.push({from:e,fromAnchor:l,line:s,to:f,toAnchor:h})}}}),n}addAnchor(e,n,a){if(!e)return;if(e.anchors||(e.anchors=[]),e.calculative.worldAnchors||(e.calculative.worldAnchors=[]),e.type===mt.Line&&(a<0&&(a=e.anchors.length+1+a),a>e.anchors.length&&(a=e.anchors.length),a<0&&(a=0),a==0&&e.anchors[0].connectTo||a==e.anchors.length&&e.anchors[a-1].connectTo)){console.warn("端点存在连接关系");return}let r=null,o=null;n.x<=1&&n.x>=0&&n.y<=1&&n.y>=0?(o={id:n.id||Ue(),penId:e.id,x:e.calculative.worldRect.x+e.calculative.worldRect.width*n.x,y:e.calculative.worldRect.y+e.calculative.worldRect.height*n.y},e.calculative.worldRect&&e.rotate%360&&Ot(o,e.rotate,e.calculative.worldRect.center),r={id:o.id,penId:e.id,x:n.x,y:n.y}):(o={id:n.id||Ue(),penId:e.id,x:n.x,y:n.y},e.calculative.worldRect&&(e.rotate%360&&Ot(n,-e.rotate,e.calculative.worldRect.center),r={id:o.id,penId:e.id,x:(n.x-e.calculative.worldRect.x)/e.calculative.worldRect.width,y:(n.y-e.calculative.worldRect.y)/e.calculative.worldRect.height})),e.type===mt.Line?(e.calculative.worldAnchors.splice(a,0,o),e.anchors.splice(a,0,r),this.canvas.updateLines(e),this.canvas.initLineRect(e),this.render()):(e.calculative.worldAnchors.push(o),e.anchors.push(r))}connectLine(e,n,a,r,o=!0){if(!a){const d=n.calculative.worldRect;a=wl(e,{x:d.x+d.width/2,y:d.y+d.height/2})}if(!r){const d=e.calculative.worldRect;r=wl(n,{x:d.x+d.width/2,y:d.y+d.height/2})}const l=Math.abs(a.x-r.x),c={height:Math.abs(a.y-r.y),lineName:"line",lineWidth:1,name:"line",type:1,width:l,x:Math.min(a.x,r.x),y:Math.min(a.y,r.y),anchors:[{x:a.x>r.x?1:0,y:a.y>r.y?1:0,id:Ue()},{x:a.x>r.x?0:1,y:a.x>r.x?0:1,id:Ue()}]};return this.addPens([c]),Vt(e,a,c,c.calculative.worldAnchors[0]),Vt(n,r,c,c.calculative.worldAnchors[1]),c.calculative.active=!1,this.canvas.updateLines(c),this.canvas.updateLines(e),this.canvas.updateLines(n),this.canvas.initLineRect(c),o&&this.render(),c}toComponent(e=this.store.data.pens,n,a){if(e.length===1){const u=fe(e[0]);return u.type=mt.Node,u.id=void 0,[u]}const r=fe(e,!0),o=Pa(r);let l={id:Ue(),name:"combine",...o,children:[],showChild:n};a&&(l.anchors=[{id:"0",penId:l.id,x:.5,y:0},{id:"1",penId:l.id,x:1,y:.5},{id:"2",penId:l.id,x:.5,y:1},{id:"3",penId:l.id,x:0,y:.5}]);const s=r.filter(u=>!u.parentId),c=r.find(u=>u.width===o.width&&u.height===o.height),d=c&&n===void 0;return s.length===1?l=s[0]:d&&(c.children||(c.children=[]),l=c),r.forEach(u=>{if(u===l||u.parentId===l.id||u.parentId)return;l.children.push(u.id),u.parentId=l.id;const f=Yr(u.calculative.worldRect,o);Object.assign(u,f),u.locked=u.lockedOnCombine??st.DisableMove}),d||s.length===1?fe(r):fe([l,...r])}installPenPlugins(e,n){if(!e.tag&&!e.name&&!e.id)return;let a;e.id?a="id":e.tag?a="tag":e.name&&(a="name"),n.forEach(r=>{let o=r.plugin,l=r.options;if(o&&eue(o)&&a)if(o.install(e,l),!this.penPluginMap.has(o))this.penPluginMap.set(o,[{[a]:e[a],option:l}]);else{let s=this.penPluginMap.get(o).find(c=>c[a]===e[a]);s?s.option=l:this.penPluginMap.get(o).push({[a]:e[a],option:l})}})}uninstallPenPlugins(e,n){let a;e.id?a="id":e.tag?a="tag":e.name&&(a="name"),a&&n.forEach(r=>{let o=r.plugin;o.uninstall(e,r.options);let l=this.penPluginMap.get(o),s=l.findIndex(c=>c[a]===e[a]);s!==-1&&(l.splice(s,1),l.length===0&&this.penPluginMap.delete(o))})}setVisible(e,n,a=!0){if(this.onSizeUpdate(),this.setValue({id:e.id,visible:n},{render:!1,doEvent:!1}),e.children)for(const o of e.children){const l=this.store.pens[o];l&&this.setVisible(l,n,!1)}let r=Ka(e,this.store);r.push(e),this.initImageCanvas(r),a&&this.render()}clearHover(){this.canvas.clearHover()}closeSocket(){this.closeWebsocket(),this.closeMqtt(),this.closeHttp()}destroy(e){if(this.clear(!1),this.stopDataMock(),this.closeSocket(),this.closeNetwork(),this.closeAll(),this.store.emitter.all.clear(),this.canvas.destroy(),this.canvas=void 0,Ye[this.store.id]=void 0,!e){for(const n in Ye)delete Ye[n];Ye.path2dDraws={},Ye.canvasDraws={},Ye.anchors={},Ye.htmlElements={}}}}var VI={exports:{}};(function(t,e){(function(n,a){a()})(wn,function(){function n(d,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function a(d,u,f){var v=new XMLHttpRequest;v.open("GET",d),v.responseType="blob",v.onload=function(){c(v.response,u,f)},v.onerror=function(){console.error("could not download file")},v.send()}function r(d){var u=new XMLHttpRequest;u.open("HEAD",d,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function o(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(u)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof wn=="object"&&wn.global===wn?wn:void 0,s=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(d,u,f){var v=l.URL||l.webkitURL,h=document.createElement("a");u=u||d.name||"download",h.download=u,h.rel="noopener",typeof d=="string"?(h.href=d,h.origin===location.origin?o(h):r(h.href)?a(d,u,f):o(h,h.target="_blank")):(h.href=v.createObjectURL(d),setTimeout(function(){v.revokeObjectURL(h.href)},4e4),setTimeout(function(){o(h)},0))}:"msSaveOrOpenBlob"in navigator?function(d,u,f){if(u=u||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(n(d,f),u);else if(r(d))a(d,u,f);else{var v=document.createElement("a");v.href=d,v.target="_blank",setTimeout(function(){o(v)})}}:function(d,u,f,v){if(v=v||open("","_blank"),v&&(v.document.title=v.document.body.innerText="downloading..."),typeof d=="string")return a(d,u,f);var h=d.type==="application/octet-stream",g=/constructor/i.test(l.HTMLElement)||l.safari,p=/CriOS\/[\d]+/.test(navigator.userAgent);if((p||h&&g||s)&&typeof FileReader<"u"){var m=new FileReader;m.onloadend=function(){var w=m.result;w=p?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),v?v.location.href=w:location=w,v=null},m.readAsDataURL(d)}else{var y=l.URL||l.webkitURL,b=y.createObjectURL(d);v?v.location=b:location.href=b,v=null,setTimeout(function(){y.revokeObjectURL(b)},4e4)}});l.saveAs=c.saveAs=c,t.exports=c})})(VI);var Mde=VI.exports;const Fde=Rde(Mde),eN=[{元件类型:"C",释义:"电容",类型:"27",接线盘1:"(-30, 0)",接线盘2:"(30, 0)",左上角坐标:"(-30,-13)",右下角坐标:"(30,13)","宽度(X向)":"60","高度(Y向)":"26",接线盘排列方式:"横向","":""},{元件类型:"R",释义:"电阻",类型:"27",接线盘1:"(-30, 0)",接线盘2:"(30, 0)",左上角坐标:"(-30,-11)",右下角坐标:"(30,11)","宽度(X向)":"60","高度(Y向)":"22",接线盘排列方式:"横向","":""},{元件类型:"TerminalsXT",释义:"端子",类型:"27",接线盘1:"",接线盘2:"",左上角坐标:"(-22,-12)",右下角坐标:"(22,12)","宽度(X向)":"44","高度(Y向)":"24",接线盘排列方式:"","":""},{元件类型:"IProbe",释义:"电流表",类型:"4",接线盘1:"(-30, 0)",接线盘2:"(30, 0)",左上角坐标:"(-35,-15)",右下角坐标:"(35,15)","宽度(X向)":"70","高度(Y向)":"30",接线盘排列方式:"横向","":""},{元件类型:"GND",释义:"接地",类型:"2",接线盘1:"0, 0",接线盘2:"",左上角坐标:"(-12，0)",右下角坐标:"(12，25)","宽度(X向)":"24","高度(Y向)":"25",接线盘排列方式:"","":""},{元件类型:"DoubleCoil",释义:"双位置继电器",类型:"30",接线盘1:"(0, -30)",接线盘2:"(0, 30)",左上角坐标:"(-18，-30)",右下角坐标:"(18,30)","宽度(X向)":"36","高度(Y向)":"60",接线盘排列方式:"纵向","":""},{元件类型:"Coil",释义:"中间继电器",类型:"24",接线盘1:"(0, -30)",接线盘2:"(0, 30)",左上角坐标:"(-18，-30)",右下角坐标:"(18,30)","宽度(X向)":"36","高度(Y向)":"60",接线盘排列方式:"纵向","":""},{元件类型:"CoilOffDelay",释义:"失电延时继电器",类型:"24",接线盘1:"(0, -30)",接线盘2:"(0, 30)",左上角坐标:"(-18，-30)",右下角坐标:"(18,30)","宽度(X向)":"36","高度(Y向)":"60",接线盘排列方式:"纵向","":""},{元件类型:"CoilOnDelay",释义:"得电延时继电器",类型:"24",接线盘1:"(0, -30)",接线盘2:"(0, 30)",左上角坐标:"(-18，-30)",右下角坐标:"(18,30)","宽度(X向)":"36","高度(Y向)":"60",接线盘排列方式:"纵向","":""},{元件类型:"Contact",释义:"继电器常闭触电",类型:"18",接线盘1:"(0, -30)",接线盘2:"(0, 30)",左上角坐标:"(-20，-30)",右下角坐标:"(20,30)","宽度(X向)":"30","高度(Y向)":"60",接线盘排列方式:"纵向","":""},{元件类型:"Contactk",释义:"继电器常开触电",类型:"17",接线盘1:"(0, -30)",接线盘2:"(0, 30)",左上角坐标:"(-20，-30)",右下角坐标:"(20,30)","宽度(X向)":"30","高度(Y向)":"60",接线盘排列方式:"纵向","":""},{元件类型:"Switch",释义:"开关",类型:"28",接线盘1:"(-30, 0)",接线盘2:"(30, 0)",左上角坐标:"(-32,-17)",右下角坐标:"(30,7)","宽度(X向)":"62","高度(Y向)":"24",接线盘排列方式:"横向","":""},{元件类型:"Vdc",释义:"电源",类型:"1",接线盘1:"(-30, 0)",接线盘2:"(30, 0)",左上角坐标:"(-30,-14)",右下角坐标:"(30,14)","宽度(X向)":"60","高度(Y向)":"28",接线盘排列方式:"横向","":""},{元件类型:"Lamp",释义:"灯",类型:"5",接线盘1:"(0, -30)",接线盘2:"(0, 30)",左上角坐标:"(-15，-30)",右下角坐标:"(15，30)","宽度(X向)":"30","高度(Y向)":"60",接线盘排列方式:"纵向","":""},{元件类型:"MultipleContact",释义:"多位置开关",类型:"28",接线盘1:"",接线盘2:"",左上角坐标:"",右下角坐标:"","宽度(X向)":"80","高度(Y向)":"40",接线盘排列方式:"","":""},{元件类型:"IOput",释义:"IO端口",类型:"无",接线盘1:"",接线盘2:"",左上角坐标:"",右下角坐标:"","宽度(X向)":"","高度(Y向)":"",接线盘排列方式:"","":""},{元件类型:"TransformerNew",释义:"变压器",类型:"24",接线盘1:"(0, -30)",接线盘2:"(0, 30)",左上角坐标:"(-10，-30)",右下角坐标:"(10，30)","宽度(X向)":"20","高度(Y向)":"60",接线盘排列方式:"纵向","":""},{元件类型:"Breaker",释义:"断路器",类型:"28",接线盘1:"(0, -30)",接线盘2:"(0, 30)",左上角坐标:"(-20，-30)",右下角坐标:"(10,30)","宽度(X向)":"30","高度(Y向)":"60",接线盘排列方式:"纵向","":""},{元件类型:"Input",释义:"输出端口",类型:"无",接线盘1:"",接线盘2:"",左上角坐标:"",右下角坐标:"","宽度(X向)":"30","高度(Y向)":"20",接线盘排列方式:"","":""},{元件类型:"Output",释义:"输入端口",类型:"无",接线盘1:"",接线盘2:"",左上角坐标:"",右下角坐标:"","宽度(X向)":"30","高度(Y向)":"20",接线盘排列方式:"","":""},{元件类型:"RectangularNoteBox",释义:"注释矩形框",类型:"无",接线盘1:"",接线盘2:"",左上角坐标:"",右下角坐标:"","宽度(X向)":"","高度(Y向)":"",接线盘排列方式:"","":""},{元件类型:"Diode",释义:"二极管",类型:"26",接线盘1:"(-30, 0)",接线盘2:"(30, 0)",左上角坐标:"(-30,-11)",右下角坐标:"(30,11)","宽度(X向)":"60","高度(Y向)":"22",接线盘排列方式:"横向","":""},{元件类型:"Btn_SelfReset",释义:"自复位按钮",类型:"28",接线盘1:"(20, 30)",接线盘2:"(20, -30)",左上角坐标:"(-30,-35)",右下角坐标:"(30,35)","宽度(X向)":"60","高度(Y向)":"70",接线盘排列方式:"纵向","":""},{元件类型:"Btn_SelfLock",释义:"自锁按钮",类型:"28",接线盘1:"(20, 30)",接线盘2:"(20, -30)",左上角坐标:"(-30，-35)",右下角坐标:"(30，35)","宽度(X向)":"60","高度(Y向)":"70",接线盘排列方式:"纵向","":""},{元件类型:"Knob_SelfReset",释义:"自复位旋钮",类型:"28",接线盘1:"(20, 30)",接线盘2:"(20, -30)",左上角坐标:"(-30，-35)",右下角坐标:"(30，35)","宽度(X向)":"60","高度(Y向)":"70",接线盘排列方式:"纵向","":""},{元件类型:"Knob_SelfLock",释义:"自锁旋钮",类型:"28",接线盘1:"(20, 30)",接线盘2:"(20, -30)",左上角坐标:"(-30，-35)",右下角坐标:"(30，35)","宽度(X向)":"60","高度(Y向)":"70",接线盘排列方式:"纵向","":""},{元件类型:"VProbe",释义:"电压表",类型:"4",接线盘1:"(-30, 0)",接线盘2:"(30, 0)",左上角坐标:"(-35，-15)",右下角坐标:"(35，15)","宽度(X向)":"70","高度(Y向)":"30",接线盘排列方式:"横向","":""},{元件类型:"ElectromagneticValve",释义:"电磁阀",类型:"无",接线盘1:"(-10, -30)",接线盘2:"(-10, 30)",左上角坐标:"(-25，-30)",右下角坐标:"(30，35)","宽度(X向)":"55","高度(Y向)":"65",接线盘排列方式:"纵向","":""},{元件类型:"duanluqi_wx",释义:"微型断路器",类型:"28",接线盘1:"(20, 30)",接线盘2:"(20, -30)",左上角坐标:"(2，-35)",右下角坐标:"(30，35)","宽度(X向)":"32","高度(Y向)":"70",接线盘排列方式:"纵向","":""}],tN=[{name:"二极管",icon:"svg/二极管.svg",data:{text:"",name:"image",image:"svg/二极管.svg",tags:["Diode"],electricTypeCode:"Diode",electricName:""}},{name:"半圆-封口",icon:"svg/半圆-封口.svg",data:{text:"",name:"image",image:"svg/半圆-封口.svg",tags:[],electricTypeCode:"",electricName:""}},{name:"半圆-开口",icon:"svg/半圆-开口.svg",data:{text:"",name:"image",image:"svg/半圆-开口.svg",tags:[],electricTypeCode:"",electricName:""}},{name:"声音-扬声器",icon:"svg/声音-扬声器.svg",data:{text:"",name:"image",image:"svg/声音-扬声器.svg",tags:[],electricTypeCode:"",electricName:""}},{name:"声音-蜂鸣器",icon:"svg/声音-蜂鸣器.svg",data:{text:"",name:"image",image:"svg/声音-蜂鸣器.svg",tags:[],electricTypeCode:"",electricName:""}},{name:"开关-三位置-1位",icon:"svg/开关-三位置-1位.svg",data:{text:"",name:"image",image:"svg/开关-三位置-1位.svg",tags:["MultipleContact"],electricTypeCode:"MultipleContact",electricName:""}},{name:"开关-三位置-2位",icon:"svg/开关-三位置-2位.svg",data:{text:"",name:"image",image:"svg/开关-三位置-2位.svg",tags:["MultipleContact"],electricTypeCode:"MultipleContact",electricName:""}},{name:"开关-三位置-3位",icon:"svg/开关-三位置-3位.svg",data:{text:"",name:"image",image:"svg/开关-三位置-3位.svg",tags:["MultipleContact"],electricTypeCode:"MultipleContact",electricName:""}},{name:"开关-单刀双掷-中间位",icon:"svg/开关-单刀双掷-中间位.svg",data:{text:"",name:"image",image:"svg/开关-单刀双掷-中间位.svg",tags:["MultipleContact"],electricTypeCode:"MultipleContact",electricName:""}},{name:"开关-单刀双掷-右位",icon:"svg/开关-单刀双掷-右位.svg",data:{text:"",name:"image",image:"svg/开关-单刀双掷-右位.svg",tags:["MultipleContact"],electricTypeCode:"MultipleContact",electricName:""}},{name:"开关-单刀双掷-左位",icon:"svg/开关-单刀双掷-左位.svg",data:{text:"",name:"image",image:"svg/开关-单刀双掷-左位.svg",tags:["MultipleContact"],electricTypeCode:"MultipleContact",electricName:""}},{name:"开关-惯性开关-断开",icon:"svg/开关-惯性开关-断开.svg",data:{text:"",name:"image",image:"svg/开关-惯性开关-断开.svg",tags:[""],electricTypeCode:"",electricName:""}},{name:"开关-惯性开关-闭合",icon:"svg/开关-惯性开关-闭合.svg",data:{text:"",name:"image",image:"svg/开关-惯性开关-闭合.svg",tags:[""],electricTypeCode:"",electricName:""}},{name:"开关-按钮-断开",icon:"svg/开关-按钮-断开.svg",data:{text:"",name:"image",image:"svg/开关-按钮-断开.svg",tags:["Btn_SelfReset"],electricTypeCode:"Btn_SelfReset",electricName:""}},{name:"开关-按钮-闭合",icon:"svg/开关-按钮-闭合.svg",data:{text:"",name:"image",image:"svg/开关-按钮-闭合.svg",tags:["Btn_SelfReset"],electricTypeCode:"Btn_SelfReset",electricName:""}},{name:"开关-断路器-断开",icon:"svg/开关-断路器-断开.svg",data:{text:"",name:"image",image:"svg/开关-断路器-断开.svg",tags:["duanluqi_wx"],electricTypeCode:"duanluqi_wx",electricName:""}},{name:"开关-断路器-闭合",icon:"svg/开关-断路器-闭合.svg",data:{text:"",name:"image",image:"svg/开关-断路器-闭合.svg",tags:["duanluqi_wx"],electricTypeCode:"duanluqi_wx",electricName:""}},{name:"开关-自复旋转开关-断开",icon:"svg/开关-自复旋转开关-断开.svg",data:{text:"",name:"image",image:"svg/开关-自复旋转开关-断开.svg",tags:["Knob_SelfReset"],electricTypeCode:"Knob_SelfReset",electricName:""}},{name:"开关-自复旋转开关-闭合",icon:"svg/开关-自复旋转开关-闭合.svg",data:{text:"",name:"image",image:"svg/开关-自复旋转开关-闭合.svg",tags:["Knob_SelfReset"],electricTypeCode:"Knob_SelfReset",electricName:""}},{name:"开关-自锁按钮-断开",icon:"svg/开关-自锁按钮-断开.svg",data:{text:"",name:"image",image:"svg/开关-自锁按钮-断开.svg",tags:["Btn_SelfLock"],electricTypeCode:"Btn_SelfLock",electricName:""}},{name:"开关-自锁按钮-闭合",icon:"svg/开关-自锁按钮-闭合.svg",data:{text:"",name:"image",image:"svg/开关-自锁按钮-闭合.svg",tags:["Btn_SelfLock"],electricTypeCode:"Btn_SelfLock",electricName:""}},{name:"开关-自锁旋转开关-断开",icon:"svg/开关-自锁旋转开关-断开.svg",data:{text:"",name:"image",image:"svg/开关-自锁旋转开关-断开.svg",tags:["Knob_SelfLock"],electricTypeCode:"Knob_SelfLock",electricName:""}},{name:"开关-自锁旋转开关-闭合",icon:"svg/开关-自锁旋转开关-闭合.svg",data:{text:"",name:"image",image:"svg/开关-自锁旋转开关-闭合.svg",tags:["Knob_SelfLock"],electricTypeCode:"Knob_SelfLock",electricName:""}},{name:"开关-通用开关-断开",icon:"svg/开关-通用开关-断开.svg",data:{text:"",name:"image",image:"svg/开关-通用开关-断开.svg",tags:["Switch","Contactk"],electricTypeCode:"Switch",electricName:""}},{name:"开关-通用开关-闭合",icon:"svg/开关-通用开关-闭合.svg",data:{text:"",name:"image",image:"svg/开关-通用开关-闭合.svg",tags:["Switch","Contact"],electricTypeCode:"Switch",electricName:""}},{name:"指示灯",icon:"svg/指示灯.svg",data:{text:"",name:"image",image:"svg/指示灯.svg",tags:["Lamp"],electricTypeCode:"Lamp",electricName:""}},{name:"测量-电压表",icon:"svg/测量-电压表.svg",data:{text:"",name:"image",image:"svg/测量-电压表.svg",tags:["VProbe"],electricTypeCode:"VProbe",electricName:""}},{name:"测量-电流表",icon:"svg/测量-电流表.svg",data:{text:"",name:"image",image:"svg/测量-电流表.svg",tags:["IProbe"],electricTypeCode:"IProbe",electricName:""}},{name:"电动机-三相",icon:"svg/电动机-三相.svg",data:{text:"",name:"image",image:"svg/电动机-三相.svg",tags:[""],electricTypeCode:"",electricName:""}},{name:"电容器",icon:"svg/电容器.svg",data:{text:"",name:"image",image:"svg/电容器.svg",tags:["C"],electricTypeCode:"C",electricName:""}},{name:"电感-变压器",icon:"svg/电感-变压器.svg",data:{text:"",name:"image",image:"svg/电感-变压器.svg",tags:["TransformerNew"],electricTypeCode:"TransformerNew",electricName:""}},{name:"电感-绕组-短",icon:"svg/电感-绕组-短.svg",data:{text:"",name:"image",image:"svg/电感-绕组-短.svg",tags:[""],electricTypeCode:"",electricName:""}},{name:"电感-绕组-长",icon:"svg/电感-绕组-长.svg",data:{text:"",name:"image",image:"svg/电感-绕组-长.svg",tags:[""],electricTypeCode:"",electricName:""}},{name:"电源-接地",icon:"svg/电源-接地.svg",data:{text:"",name:"image",image:"svg/电源-接地.svg",tags:["GND"],electricTypeCode:"GND",electricName:""}},{name:"电源-电池组",icon:"svg/电源-电池组.svg",data:{text:"",name:"image",image:"svg/电源-电池组.svg",tags:[""],electricTypeCode:"",electricName:""}},{name:"电源-直流电源",icon:"svg/电源-直流电源.svg",data:{text:"",name:"image",image:"svg/电源-直流电源.svg",tags:["Vdc"],electricTypeCode:"Vdc",electricName:""}},{name:"电磁阀",icon:"svg/电磁阀.svg",data:{text:"",name:"image",image:"svg/电磁阀.svg",tags:["ElectromagneticValve"],electricTypeCode:"ElectromagneticValve",electricName:""}},{name:"电阻",icon:"svg/电阻.svg",data:{text:"",name:"image",image:"svg/电阻.svg",tags:["R"],electricTypeCode:"R",electricName:""}},{name:"端子-环形",icon:"svg/端子-环形.svg",data:{text:"",name:"image",image:"svg/端子-环形.svg",tags:["TerminalsXT"],electricTypeCode:"TerminalsXT",electricName:""}},{name:"端子-实心",icon:"svg/端子-实心.svg",data:{text:"",name:"image",image:"svg/端子-实心.svg",tags:["TerminalsXT"],electricTypeCode:"TerminalsXT",electricName:""}},{name:"继电器-中间继电器-折线连接二极管",icon:"svg/继电器-中间继电器-折线连接二极管.svg",data:{text:"",name:"image",image:"svg/继电器-中间继电器-折线连接二极管.svg",tags:[""],electricTypeCode:"",electricName:""}},{name:"继电器-中间继电器-折线连接电阻",icon:"svg/继电器-中间继电器-折线连接电阻.svg",data:{text:"",name:"image",image:"svg/继电器-中间继电器-折线连接电阻.svg",tags:[""],electricTypeCode:"",electricName:""}},{name:"继电器-中间继电器",icon:"svg/继电器-中间继电器.svg",data:{text:"",name:"image",image:"svg/继电器-中间继电器.svg",tags:["Coil"],electricTypeCode:"Coil",electricName:""}},{name:"继电器-双位置",icon:"svg/继电器-双位置.svg",data:{text:"",name:"image",image:"svg/继电器-双位置.svg",tags:["DoubleCoil"],electricTypeCode:"DoubleCoil",electricName:""}},{name:"继电器-失电延时",icon:"svg/继电器-失电延时.svg",data:{text:"",name:"image",image:"svg/继电器-失电延时.svg",tags:["CoilOffDelay"],electricTypeCode:"CoilOffDelay",electricName:""}},{name:"继电器-得电延时",icon:"svg/继电器-得电延时.svg",data:{text:"",name:"image",image:"svg/继电器-得电延时.svg",tags:["CoilOnDelay"],electricTypeCode:"CoilOnDelay",electricName:""}},{name:"跨接线",icon:"svg/跨接线.svg",data:{text:"",name:"image",image:"svg/跨接线.svg",tags:[""],electricTypeCode:"",electricName:""}},{name:"输出",icon:"svg/输入输出.svg",data:{text:"",name:"image",image:"svg/输入输出.svg",tags:["Output"],anchors:[{x:0,y:.5}],electricTypeCode:"Output",electricName:""}},{name:"输入",icon:"svg/输入输出.svg",data:{text:"",name:"image",image:"svg/输入输出.svg",tags:["Input"],anchors:[{x:1,y:.5}],electricTypeCode:"Input",electricName:""}},{name:"连接端子-插针针孔",icon:"svg/连接端子-插针针孔.svg",data:{text:"",name:"image",image:"svg/连接端子-插针针孔.svg",tags:[""],electricTypeCode:"",electricName:""}},{name:"避雷器",icon:"svg/避雷器.svg",data:{text:"",name:"image",image:"svg/避雷器.svg",tags:[""],electricTypeCode:"",electricName:""}}],Lde=[{name:"开关",children:[{name:"开关-三位置",icon:"svg/开关-三位置-1位.svg",type:"combine-json",data:{text:"",name:"image",image:"svg/开关-三位置-1位.svg",tags:["MultipleContact"],electricTypeCode:"MultipleContact",electricName:"",showChild:0}},{name:"开关-单刀双掷",icon:"svg/开关-单刀双掷-中间位.svg",type:"combine-json",data:{text:"",name:"image",image:"svg/开关-单刀双掷-中间位.svg",tags:["MultipleContact"],electricTypeCode:"MultipleContact",electricName:""}},{name:"开关-惯性开关",icon:"svg/开关-惯性开关-断开.svg",type:"combine-json",data:{text:"",name:"image",image:"svg/开关-惯性开关-断开.svg",tags:[""],electricTypeCode:"",electricName:""}},{name:"开关-按钮",icon:"svg/开关-按钮-断开.svg",type:"combine-json",data:{text:"",name:"image",image:"svg/开关-按钮-断开.svg",tags:["Btn_SelfReset"],electricTypeCode:"Btn_SelfReset",electricName:""}},{name:"开关-断路器",icon:"svg/开关-断路器-断开.svg",type:"combine-json",data:{text:"",name:"image",image:"svg/开关-断路器-断开.svg",tags:["duanluqi_wx"],electricTypeCode:"duanluqi_wx",electricName:""}},{name:"开关-自复旋转开关",icon:"svg/开关-自复旋转开关-闭合.svg",type:"combine-json",data:{text:"",name:"image",image:"svg/开关-自复旋转开关-闭合.svg",tags:["Knob_SelfReset"],electricTypeCode:"Knob_SelfReset",electricName:""}},{name:"开关-自锁按钮",icon:"svg/开关-自锁按钮-断开.svg",type:"combine-json",data:{text:"",name:"image",image:"svg/开关-自锁按钮-断开.svg",tags:["Btn_SelfLock"],electricTypeCode:"Btn_SelfLock",electricName:""}},{name:"开关-自锁旋转开关",icon:"svg/开关-自锁旋转开关-断开.svg",type:"combine-json",data:{text:"",name:"image",image:"svg/开关-自锁旋转开关-断开.svg",tags:["Knob_SelfLock"],electricTypeCode:"Knob_SelfLock",electricName:""}},{name:"开关-通用开关",icon:"svg/开关-通用开关-断开.svg",type:"combine-json",data:{text:"",name:"image",image:"svg/开关-通用开关-断开.svg",tags:["Switch"],electricTypeCode:"Switch",electricName:""}}]}];var Fg={},Yd={};(function(t){const e=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=e+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",a="["+e+"]["+n+"]*",r=new RegExp("^"+a+"$"),o=function(s,c){const d=[];let u=c.exec(s);for(;u;){const f=[];f.startIndex=c.lastIndex-u[0].length;const v=u.length;for(let h=0;h<v;h++)f.push(u[h]);d.push(f),u=c.exec(s)}return d},l=function(s){const c=r.exec(s);return!(c===null||typeof c>"u")};t.isExist=function(s){return typeof s<"u"},t.isEmptyObject=function(s){return Object.keys(s).length===0},t.merge=function(s,c,d){if(c){const u=Object.keys(c),f=u.length;for(let v=0;v<f;v++)d==="strict"?s[u[v]]=[c[u[v]]]:s[u[v]]=c[u[v]]}},t.getValue=function(s){return t.isExist(s)?s:""},t.isName=l,t.getAllMatches=o,t.nameRegexp=a})(Yd);const Lg=Yd,$de={allowBooleanAttributes:!1,unpairedTags:[]};Fg.validate=function(t,e){e=Object.assign({},$de,e);const n=[];let a=!1,r=!1;t[0]==="\uFEFF"&&(t=t.substr(1));for(let o=0;o<t.length;o++)if(t[o]==="<"&&t[o+1]==="?"){if(o+=2,o=aN(t,o),o.err)return o}else if(t[o]==="<"){let l=o;if(o++,t[o]==="!"){o=rN(t,o);continue}else{let s=!1;t[o]==="/"&&(s=!0,o++);let c="";for(;o<t.length&&t[o]!==">"&&t[o]!==" "&&t[o]!=="	"&&t[o]!==`
`&&t[o]!=="\r";o++)c+=t[o];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),o--),!qde(c)){let f;return c.trim().length===0?f="Invalid space after '<'.":f="Tag '"+c+"' is an invalid name.",Wt("InvalidTag",f,Cn(t,o))}const d=Hde(t,o);if(d===!1)return Wt("InvalidAttr","Attributes for '"+c+"' have open quote.",Cn(t,o));let u=d.value;if(o=d.index,u[u.length-1]==="/"){const f=o-u.length;u=u.substring(0,u.length-1);const v=iN(u,e);if(v===!0)a=!0;else return Wt(v.err.code,v.err.msg,Cn(t,f+v.err.line))}else if(s)if(d.tagClosed){if(u.trim().length>0)return Wt("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",Cn(t,l));if(n.length===0)return Wt("InvalidTag","Closing tag '"+c+"' has not been opened.",Cn(t,l));{const f=n.pop();if(c!==f.tagName){let v=Cn(t,f.tagStartPos);return Wt("InvalidTag","Expected closing tag '"+f.tagName+"' (opened in line "+v.line+", col "+v.col+") instead of closing tag '"+c+"'.",Cn(t,l))}n.length==0&&(r=!0)}}else return Wt("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",Cn(t,o));else{const f=iN(u,e);if(f!==!0)return Wt(f.err.code,f.err.msg,Cn(t,o-u.length+f.err.line));if(r===!0)return Wt("InvalidXml","Multiple possible root nodes found.",Cn(t,o));e.unpairedTags.indexOf(c)!==-1||n.push({tagName:c,tagStartPos:l}),a=!0}for(o++;o<t.length;o++)if(t[o]==="<")if(t[o+1]==="!"){o++,o=rN(t,o);continue}else if(t[o+1]==="?"){if(o=aN(t,++o),o.err)return o}else break;else if(t[o]==="&"){const f=Kde(t,o);if(f==-1)return Wt("InvalidChar","char '&' is not expected.",Cn(t,o));o=f}else if(r===!0&&!nN(t[o]))return Wt("InvalidXml","Extra text at the end",Cn(t,o));t[o]==="<"&&o--}}else{if(nN(t[o]))continue;return Wt("InvalidChar","char '"+t[o]+"' is not expected.",Cn(t,o))}if(a){if(n.length==1)return Wt("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",Cn(t,n[0].tagStartPos));if(n.length>0)return Wt("InvalidXml","Invalid '"+JSON.stringify(n.map(o=>o.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return Wt("InvalidXml","Start tag expected.",1);return!0};function nN(t){return t===" "||t==="	"||t===`
`||t==="\r"}function aN(t,e){const n=e;for(;e<t.length;e++)if(t[e]=="?"||t[e]==" "){const a=t.substr(n,e-n);if(e>5&&a==="xml")return Wt("InvalidXml","XML declaration allowed only at the start of the document.",Cn(t,e));if(t[e]=="?"&&t[e+1]==">"){e++;break}else continue}return e}function rN(t,e){if(t.length>e+5&&t[e+1]==="-"&&t[e+2]==="-"){for(e+=3;e<t.length;e++)if(t[e]==="-"&&t[e+1]==="-"&&t[e+2]===">"){e+=2;break}}else if(t.length>e+8&&t[e+1]==="D"&&t[e+2]==="O"&&t[e+3]==="C"&&t[e+4]==="T"&&t[e+5]==="Y"&&t[e+6]==="P"&&t[e+7]==="E"){let n=1;for(e+=8;e<t.length;e++)if(t[e]==="<")n++;else if(t[e]===">"&&(n--,n===0))break}else if(t.length>e+9&&t[e+1]==="["&&t[e+2]==="C"&&t[e+3]==="D"&&t[e+4]==="A"&&t[e+5]==="T"&&t[e+6]==="A"&&t[e+7]==="["){for(e+=8;e<t.length;e++)if(t[e]==="]"&&t[e+1]==="]"&&t[e+2]===">"){e+=2;break}}return e}const Bde='"',zde="'";function Hde(t,e){let n="",a="",r=!1;for(;e<t.length;e++){if(t[e]===Bde||t[e]===zde)a===""?a=t[e]:a!==t[e]||(a="");else if(t[e]===">"&&a===""){r=!0;break}n+=t[e]}return a!==""?!1:{value:n,index:e,tagClosed:r}}const Wde=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function iN(t,e){const n=Lg.getAllMatches(t,Wde),a={};for(let r=0;r<n.length;r++){if(n[r][1].length===0)return Wt("InvalidAttr","Attribute '"+n[r][2]+"' has no space in starting.",Ks(n[r]));if(n[r][3]!==void 0&&n[r][4]===void 0)return Wt("InvalidAttr","Attribute '"+n[r][2]+"' is without value.",Ks(n[r]));if(n[r][3]===void 0&&!e.allowBooleanAttributes)return Wt("InvalidAttr","boolean attribute '"+n[r][2]+"' is not allowed.",Ks(n[r]));const o=n[r][2];if(!Yde(o))return Wt("InvalidAttr","Attribute '"+o+"' is an invalid name.",Ks(n[r]));if(!a.hasOwnProperty(o))a[o]=1;else return Wt("InvalidAttr","Attribute '"+o+"' is repeated.",Ks(n[r]))}return!0}function Ude(t,e){let n=/\d/;for(t[e]==="x"&&(e++,n=/[\da-fA-F]/);e<t.length;e++){if(t[e]===";")return e;if(!t[e].match(n))break}return-1}function Kde(t,e){if(e++,t[e]===";")return-1;if(t[e]==="#")return e++,Ude(t,e);let n=0;for(;e<t.length;e++,n++)if(!(t[e].match(/\w/)&&n<20)){if(t[e]===";")break;return-1}return e}function Wt(t,e,n){return{err:{code:t,msg:e,line:n.line||n,col:n.col}}}function Yde(t){return Lg.isName(t)}function qde(t){return Lg.isName(t)}function Cn(t,e){const n=t.substring(0,e).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function Ks(t){return t.startIndex+t[1].length}var $g={};const oN={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,n){return t}},Gde=function(t){return Object.assign({},oN,t)};$g.buildOptions=Gde,$g.defaultOptions=oN;class Xde{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,n){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:n})}addChild(e){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}}var Jde=Xde;const Zde=Yd;function Qde(t,e){const n={};if(t[e+3]==="O"&&t[e+4]==="C"&&t[e+5]==="T"&&t[e+6]==="Y"&&t[e+7]==="P"&&t[e+8]==="E"){e=e+9;let a=1,r=!1,o=!1,l="";for(;e<t.length;e++)if(t[e]==="<"&&!o){if(r&&tfe(t,e))e+=7,[entityName,val,e]=Vde(t,e+1),val.indexOf("&")===-1&&(n[ife(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(r&&nfe(t,e))e+=8;else if(r&&afe(t,e))e+=8;else if(r&&rfe(t,e))e+=9;else if(efe)o=!0;else throw new Error("Invalid DOCTYPE");a++,l=""}else if(t[e]===">"){if(o?t[e-1]==="-"&&t[e-2]==="-"&&(o=!1,a--):a--,a===0)break}else t[e]==="["?r=!0:l+=t[e];if(a!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:n,i:e}}function Vde(t,e){let n="";for(;e<t.length&&t[e]!=="'"&&t[e]!=='"';e++)n+=t[e];if(n=n.trim(),n.indexOf(" ")!==-1)throw new Error("External entites are not supported");const a=t[e++];let r="";for(;e<t.length&&t[e]!==a;e++)r+=t[e];return[n,r,e]}function efe(t,e){return t[e+1]==="!"&&t[e+2]==="-"&&t[e+3]==="-"}function tfe(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="N"&&t[e+4]==="T"&&t[e+5]==="I"&&t[e+6]==="T"&&t[e+7]==="Y"}function nfe(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="L"&&t[e+4]==="E"&&t[e+5]==="M"&&t[e+6]==="E"&&t[e+7]==="N"&&t[e+8]==="T"}function afe(t,e){return t[e+1]==="!"&&t[e+2]==="A"&&t[e+3]==="T"&&t[e+4]==="T"&&t[e+5]==="L"&&t[e+6]==="I"&&t[e+7]==="S"&&t[e+8]==="T"}function rfe(t,e){return t[e+1]==="!"&&t[e+2]==="N"&&t[e+3]==="O"&&t[e+4]==="T"&&t[e+5]==="A"&&t[e+6]==="T"&&t[e+7]==="I"&&t[e+8]==="O"&&t[e+9]==="N"}function ife(t){if(Zde.isName(t))return t;throw new Error(`Invalid entity name ${t}`)}var ofe=Qde;const lfe=/^[-+]?0x[a-fA-F0-9]+$/,sfe=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const cfe={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function ufe(t,e={}){if(e=Object.assign({},cfe,e),!t||typeof t!="string")return t;let n=t.trim();if(e.skipLike!==void 0&&e.skipLike.test(n))return t;if(e.hex&&lfe.test(n))return Number.parseInt(n,16);{const a=sfe.exec(n);if(a){const r=a[1],o=a[2];let l=dfe(a[3]);const s=a[4]||a[6];if(!e.leadingZeros&&o.length>0&&r&&n[2]!==".")return t;if(!e.leadingZeros&&o.length>0&&!r&&n[1]!==".")return t;{const c=Number(n),d=""+c;return d.search(/[eE]/)!==-1||s?e.eNotation?c:t:n.indexOf(".")!==-1?d==="0"&&l===""||d===l||r&&d==="-"+l?c:t:o?l===d||r+l===d?c:t:n===d||n===r+d?c:t}}else return t}}function dfe(t){return t&&t.indexOf(".")!==-1&&(t=t.replace(/0+$/,""),t==="."?t="0":t[0]==="."?t="0"+t:t[t.length-1]==="."&&(t=t.substr(0,t.length-1))),t}var ffe=ufe;function vfe(t){return typeof t=="function"?t:Array.isArray(t)?e=>{for(const n of t)if(typeof n=="string"&&e===n||n instanceof RegExp&&n.test(e))return!0}:()=>!1}var lN=vfe;const sN=Yd,Ys=Jde,hfe=ofe,gfe=ffe,pfe=lN;let mfe=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(n,a)=>String.fromCharCode(Number.parseInt(a,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(n,a)=>String.fromCharCode(Number.parseInt(a,16))}},this.addExternalEntities=yfe,this.parseXml=Sfe,this.parseTextData=bfe,this.resolveNameSpace=wfe,this.buildAttributesMap=xfe,this.isItStopNode=_fe,this.replaceEntitiesValue=kfe,this.readStopNodeData=Nfe,this.saveTextToParentTag=Pfe,this.addChild=Ofe,this.ignoreAttributesFn=pfe(this.options.ignoreAttributes)}};function yfe(t){const e=Object.keys(t);for(let n=0;n<e.length;n++){const a=e[n];this.lastEntities[a]={regex:new RegExp("&"+a+";","g"),val:t[a]}}}function bfe(t,e,n,a,r,o,l){if(t!==void 0&&(this.options.trimValues&&!a&&(t=t.trim()),t.length>0)){l||(t=this.replaceEntitiesValue(t));const s=this.options.tagValueProcessor(e,t,n,r,o);return s==null?t:typeof s!=typeof t||s!==t?s:this.options.trimValues?zg(t,this.options.parseTagValue,this.options.numberParseOptions):t.trim()===t?zg(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function wfe(t){if(this.options.removeNSPrefix){const e=t.split(":"),n=t.charAt(0)==="/"?"/":"";if(e[0]==="xmlns")return"";e.length===2&&(t=n+e[1])}return t}const Cfe=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function xfe(t,e,n){if(this.options.ignoreAttributes!==!0&&typeof t=="string"){const a=sN.getAllMatches(t,Cfe),r=a.length,o={};for(let l=0;l<r;l++){const s=this.resolveNameSpace(a[l][1]);if(this.ignoreAttributesFn(s,e))continue;let c=a[l][4],d=this.options.attributeNamePrefix+s;if(s.length)if(this.options.transformAttributeName&&(d=this.options.transformAttributeName(d)),d==="__proto__"&&(d="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);const u=this.options.attributeValueProcessor(s,c,e);u==null?o[d]=c:typeof u!=typeof c||u!==c?o[d]=u:o[d]=zg(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(o[d]=!0)}if(!Object.keys(o).length)return;if(this.options.attributesGroupName){const l={};return l[this.options.attributesGroupName]=o,l}return o}}const Sfe=function(t){t=t.replace(/\r\n?/g,`
`);const e=new Ys("!xml");let n=e,a="",r="";for(let o=0;o<t.length;o++)if(t[o]==="<")if(t[o+1]==="/"){const s=Hi(t,">",o,"Closing Tag is not closed.");let c=t.substring(o+2,s).trim();if(this.options.removeNSPrefix){const f=c.indexOf(":");f!==-1&&(c=c.substr(f+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),n&&(a=this.saveTextToParentTag(a,n,r));const d=r.substring(r.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let u=0;d&&this.options.unpairedTags.indexOf(d)!==-1?(u=r.lastIndexOf(".",r.lastIndexOf(".")-1),this.tagsNodeStack.pop()):u=r.lastIndexOf("."),r=r.substring(0,u),n=this.tagsNodeStack.pop(),a="",o=s}else if(t[o+1]==="?"){let s=Bg(t,o,!1,"?>");if(!s)throw new Error("Pi Tag is not closed.");if(a=this.saveTextToParentTag(a,n,r),!(this.options.ignoreDeclaration&&s.tagName==="?xml"||this.options.ignorePiTags)){const c=new Ys(s.tagName);c.add(this.options.textNodeName,""),s.tagName!==s.tagExp&&s.attrExpPresent&&(c[":@"]=this.buildAttributesMap(s.tagExp,r,s.tagName)),this.addChild(n,c,r)}o=s.closeIndex+1}else if(t.substr(o+1,3)==="!--"){const s=Hi(t,"-->",o+4,"Comment is not closed.");if(this.options.commentPropName){const c=t.substring(o+4,s-2);a=this.saveTextToParentTag(a,n,r),n.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}o=s}else if(t.substr(o+1,2)==="!D"){const s=hfe(t,o);this.docTypeEntities=s.entities,o=s.i}else if(t.substr(o+1,2)==="!["){const s=Hi(t,"]]>",o,"CDATA is not closed.")-2,c=t.substring(o+9,s);a=this.saveTextToParentTag(a,n,r);let d=this.parseTextData(c,n.tagname,r,!0,!1,!0,!0);d==null&&(d=""),this.options.cdataPropName?n.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]):n.add(this.options.textNodeName,d),o=s+2}else{let s=Bg(t,o,this.options.removeNSPrefix),c=s.tagName;const d=s.rawTagName;let u=s.tagExp,f=s.attrExpPresent,v=s.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),n&&a&&n.tagname!=="!xml"&&(a=this.saveTextToParentTag(a,n,r,!1));const h=n;if(h&&this.options.unpairedTags.indexOf(h.tagname)!==-1&&(n=this.tagsNodeStack.pop(),r=r.substring(0,r.lastIndexOf("."))),c!==e.tagname&&(r+=r?"."+c:c),this.isItStopNode(this.options.stopNodes,r,c)){let g="";if(u.length>0&&u.lastIndexOf("/")===u.length-1)c[c.length-1]==="/"?(c=c.substr(0,c.length-1),r=r.substr(0,r.length-1),u=c):u=u.substr(0,u.length-1),o=s.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)o=s.closeIndex;else{const m=this.readStopNodeData(t,d,v+1);if(!m)throw new Error(`Unexpected end of ${d}`);o=m.i,g=m.tagContent}const p=new Ys(c);c!==u&&f&&(p[":@"]=this.buildAttributesMap(u,r,c)),g&&(g=this.parseTextData(g,c,r,!0,f,!0,!0)),r=r.substr(0,r.lastIndexOf(".")),p.add(this.options.textNodeName,g),this.addChild(n,p,r)}else{if(u.length>0&&u.lastIndexOf("/")===u.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),r=r.substr(0,r.length-1),u=c):u=u.substr(0,u.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));const g=new Ys(c);c!==u&&f&&(g[":@"]=this.buildAttributesMap(u,r,c)),this.addChild(n,g,r),r=r.substr(0,r.lastIndexOf("."))}else{const g=new Ys(c);this.tagsNodeStack.push(n),c!==u&&f&&(g[":@"]=this.buildAttributesMap(u,r,c)),this.addChild(n,g,r),n=g}a="",o=v}}else a+=t[o];return e.child};function Ofe(t,e,n){const a=this.options.updateTag(e.tagname,n,e[":@"]);a===!1||(typeof a=="string"&&(e.tagname=a),t.addChild(e))}const kfe=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){const n=this.docTypeEntities[e];t=t.replace(n.regx,n.val)}for(let e in this.lastEntities){const n=this.lastEntities[e];t=t.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){const n=this.htmlEntities[e];t=t.replace(n.regex,n.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function Pfe(t,e,n,a){return t&&(a===void 0&&(a=Object.keys(e.child).length===0),t=this.parseTextData(t,e.tagname,n,!1,e[":@"]?Object.keys(e[":@"]).length!==0:!1,a),t!==void 0&&t!==""&&e.add(this.options.textNodeName,t),t=""),t}function _fe(t,e,n){const a="*."+n;for(const r in t){const o=t[r];if(a===o||e===o)return!0}return!1}function Ife(t,e,n=">"){let a,r="";for(let o=e;o<t.length;o++){let l=t[o];if(a)l===a&&(a="");else if(l==='"'||l==="'")a=l;else if(l===n[0])if(n[1]){if(t[o+1]===n[1])return{data:r,index:o}}else return{data:r,index:o};else l==="	"&&(l=" ");r+=l}}function Hi(t,e,n,a){const r=t.indexOf(e,n);if(r===-1)throw new Error(a);return r+e.length-1}function Bg(t,e,n,a=">"){const r=Ife(t,e+1,a);if(!r)return;let o=r.data;const l=r.index,s=o.search(/\s/);let c=o,d=!0;s!==-1&&(c=o.substring(0,s),o=o.substring(s+1).trimStart());const u=c;if(n){const f=c.indexOf(":");f!==-1&&(c=c.substr(f+1),d=c!==r.data.substr(f+1))}return{tagName:c,tagExp:o,closeIndex:l,attrExpPresent:d,rawTagName:u}}function Nfe(t,e,n){const a=n;let r=1;for(;n<t.length;n++)if(t[n]==="<")if(t[n+1]==="/"){const o=Hi(t,">",n,`${e} is not closed`);if(t.substring(n+2,o).trim()===e&&(r--,r===0))return{tagContent:t.substring(a,n),i:o};n=o}else if(t[n+1]==="?")n=Hi(t,"?>",n+1,"StopNode is not closed.");else if(t.substr(n+1,3)==="!--")n=Hi(t,"-->",n+3,"StopNode is not closed.");else if(t.substr(n+1,2)==="![")n=Hi(t,"]]>",n,"StopNode is not closed.")-2;else{const o=Bg(t,n,">");o&&((o&&o.tagName)===e&&o.tagExp[o.tagExp.length-1]!=="/"&&r++,n=o.closeIndex)}}function zg(t,e,n){if(e&&typeof t=="string"){const a=t.trim();return a==="true"?!0:a==="false"?!1:gfe(t,n)}else return sN.isExist(t)?t:""}var Tfe=mfe,cN={};function Efe(t,e){return uN(t,e)}function uN(t,e,n){let a;const r={};for(let o=0;o<t.length;o++){const l=t[o],s=Afe(l);let c="";if(n===void 0?c=s:c=n+"."+s,s===e.textNodeName)a===void 0?a=l[s]:a+=""+l[s];else{if(s===void 0)continue;if(l[s]){let d=uN(l[s],e,c);const u=Dfe(d,e);l[":@"]?Rfe(d,l[":@"],c,e):Object.keys(d).length===1&&d[e.textNodeName]!==void 0&&!e.alwaysCreateTextNode?d=d[e.textNodeName]:Object.keys(d).length===0&&(e.alwaysCreateTextNode?d[e.textNodeName]="":d=""),r[s]!==void 0&&r.hasOwnProperty(s)?(Array.isArray(r[s])||(r[s]=[r[s]]),r[s].push(d)):e.isArray(s,c,u)?r[s]=[d]:r[s]=d}}}return typeof a=="string"?a.length>0&&(r[e.textNodeName]=a):a!==void 0&&(r[e.textNodeName]=a),r}function Afe(t){const e=Object.keys(t);for(let n=0;n<e.length;n++){const a=e[n];if(a!==":@")return a}}function Rfe(t,e,n,a){if(e){const r=Object.keys(e),o=r.length;for(let l=0;l<o;l++){const s=r[l];a.isArray(s,n+"."+s,!0,!0)?t[s]=[e[s]]:t[s]=e[s]}}}function Dfe(t,e){const{textNodeName:n}=e,a=Object.keys(t).length;return!!(a===0||a===1&&(t[n]||typeof t[n]=="boolean"||t[n]===0))}cN.prettify=Efe;const{buildOptions:jfe}=$g,Mfe=Tfe,{prettify:Ffe}=cN,Lfe=Fg;var $fe=class{constructor(e){this.externalEntities={},this.options=jfe(e)}parse(e,n){if(typeof e!="string")if(e.toString)e=e.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(n){n===!0&&(n={});const o=Lfe.validate(e,n);if(o!==!0)throw Error(`${o.err.msg}:${o.err.line}:${o.err.col}`)}const a=new Mfe(this.options);a.addExternalEntities(this.externalEntities);const r=a.parseXml(e);return this.options.preserveOrder||r===void 0?r:Ffe(r,this.options)}addEntity(e,n){if(n.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(e.indexOf("&")!==-1||e.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(n==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=n}};const Bfe=`
`;function zfe(t,e){let n="";return e.format&&e.indentBy.length>0&&(n=Bfe),dN(t,e,"",n)}function dN(t,e,n,a){let r="",o=!1;for(let l=0;l<t.length;l++){const s=t[l],c=Hfe(s);if(c===void 0)continue;let d="";if(n.length===0?d=c:d=`${n}.${c}`,c===e.textNodeName){let g=s[c];Wfe(d,e)||(g=e.tagValueProcessor(c,g),g=vN(g,e)),o&&(r+=a),r+=g,o=!1;continue}else if(c===e.cdataPropName){o&&(r+=a),r+=`<![CDATA[${s[c][0][e.textNodeName]}]]>`,o=!1;continue}else if(c===e.commentPropName){r+=a+`<!--${s[c][0][e.textNodeName]}-->`,o=!0;continue}else if(c[0]==="?"){const g=fN(s[":@"],e),p=c==="?xml"?"":a;let m=s[c][0][e.textNodeName];m=m.length!==0?" "+m:"",r+=p+`<${c}${m}${g}?>`,o=!0;continue}let u=a;u!==""&&(u+=e.indentBy);const f=fN(s[":@"],e),v=a+`<${c}${f}`,h=dN(s[c],e,d,u);e.unpairedTags.indexOf(c)!==-1?e.suppressUnpairedNode?r+=v+">":r+=v+"/>":(!h||h.length===0)&&e.suppressEmptyNode?r+=v+"/>":h&&h.endsWith(">")?r+=v+`>${h}${a}</${c}>`:(r+=v+">",h&&a!==""&&(h.includes("/>")||h.includes("</"))?r+=a+e.indentBy+h+a:r+=h,r+=`</${c}>`),o=!0}return r}function Hfe(t){const e=Object.keys(t);for(let n=0;n<e.length;n++){const a=e[n];if(t.hasOwnProperty(a)&&a!==":@")return a}}function fN(t,e){let n="";if(t&&!e.ignoreAttributes)for(let a in t){if(!t.hasOwnProperty(a))continue;let r=e.attributeValueProcessor(a,t[a]);r=vN(r,e),r===!0&&e.suppressBooleanAttributes?n+=` ${a.substr(e.attributeNamePrefix.length)}`:n+=` ${a.substr(e.attributeNamePrefix.length)}="${r}"`}return n}function Wfe(t,e){t=t.substr(0,t.length-e.textNodeName.length-1);let n=t.substr(t.lastIndexOf(".")+1);for(let a in e.stopNodes)if(e.stopNodes[a]===t||e.stopNodes[a]==="*."+n)return!0;return!1}function vN(t,e){if(t&&t.length>0&&e.processEntities)for(let n=0;n<e.entities.length;n++){const a=e.entities[n];t=t.replace(a.regex,a.val)}return t}var Ufe=zfe;const Kfe=Ufe,Yfe=lN,qfe={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Xr(t){this.options=Object.assign({},qfe,t),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=Yfe(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=Jfe),this.processTextOrObjNode=Gfe,this.options.format?(this.indentate=Xfe,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}Xr.prototype.build=function(t){return this.options.preserveOrder?Kfe(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0,[]).val)},Xr.prototype.j2x=function(t,e,n){let a="",r="";const o=n.join(".");for(let l in t)if(Object.prototype.hasOwnProperty.call(t,l))if(typeof t[l]>"u")this.isAttribute(l)&&(r+="");else if(t[l]===null)this.isAttribute(l)?r+="":l[0]==="?"?r+=this.indentate(e)+"<"+l+"?"+this.tagEndChar:r+=this.indentate(e)+"<"+l+"/"+this.tagEndChar;else if(t[l]instanceof Date)r+=this.buildTextValNode(t[l],l,"",e);else if(typeof t[l]!="object"){const s=this.isAttribute(l);if(s&&!this.ignoreAttributesFn(s,o))a+=this.buildAttrPairStr(s,""+t[l]);else if(!s)if(l===this.options.textNodeName){let c=this.options.tagValueProcessor(l,""+t[l]);r+=this.replaceEntitiesValue(c)}else r+=this.buildTextValNode(t[l],l,"",e)}else if(Array.isArray(t[l])){const s=t[l].length;let c="",d="";for(let u=0;u<s;u++){const f=t[l][u];if(!(typeof f>"u"))if(f===null)l[0]==="?"?r+=this.indentate(e)+"<"+l+"?"+this.tagEndChar:r+=this.indentate(e)+"<"+l+"/"+this.tagEndChar;else if(typeof f=="object")if(this.options.oneListGroup){const v=this.j2x(f,e+1,n.concat(l));c+=v.val,this.options.attributesGroupName&&f.hasOwnProperty(this.options.attributesGroupName)&&(d+=v.attrStr)}else c+=this.processTextOrObjNode(f,l,e,n);else if(this.options.oneListGroup){let v=this.options.tagValueProcessor(l,f);v=this.replaceEntitiesValue(v),c+=v}else c+=this.buildTextValNode(f,l,"",e)}this.options.oneListGroup&&(c=this.buildObjectNode(c,l,d,e)),r+=c}else if(this.options.attributesGroupName&&l===this.options.attributesGroupName){const s=Object.keys(t[l]),c=s.length;for(let d=0;d<c;d++)a+=this.buildAttrPairStr(s[d],""+t[l][s[d]])}else r+=this.processTextOrObjNode(t[l],l,e,n);return{attrStr:a,val:r}},Xr.prototype.buildAttrPairStr=function(t,e){return e=this.options.attributeValueProcessor(t,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&e==="true"?" "+t:" "+t+'="'+e+'"'};function Gfe(t,e,n,a){const r=this.j2x(t,n+1,a.concat(e));return t[this.options.textNodeName]!==void 0&&Object.keys(t).length===1?this.buildTextValNode(t[this.options.textNodeName],e,r.attrStr,n):this.buildObjectNode(r.val,e,r.attrStr,n)}Xr.prototype.buildObjectNode=function(t,e,n,a){if(t==="")return e[0]==="?"?this.indentate(a)+"<"+e+n+"?"+this.tagEndChar:this.indentate(a)+"<"+e+n+this.closeTag(e)+this.tagEndChar;{let r="</"+e+this.tagEndChar,o="";return e[0]==="?"&&(o="?",r=""),(n||n==="")&&t.indexOf("<")===-1?this.indentate(a)+"<"+e+n+o+">"+t+r:this.options.commentPropName!==!1&&e===this.options.commentPropName&&o.length===0?this.indentate(a)+`<!--${t}-->`+this.newLine:this.indentate(a)+"<"+e+n+o+this.tagEndChar+t+this.indentate(a)+r}},Xr.prototype.closeTag=function(t){let e="";return this.options.unpairedTags.indexOf(t)!==-1?this.options.suppressUnpairedNode||(e="/"):this.options.suppressEmptyNode?e="/":e=`></${t}`,e},Xr.prototype.buildTextValNode=function(t,e,n,a){if(this.options.cdataPropName!==!1&&e===this.options.cdataPropName)return this.indentate(a)+`<![CDATA[${t}]]>`+this.newLine;if(this.options.commentPropName!==!1&&e===this.options.commentPropName)return this.indentate(a)+`<!--${t}-->`+this.newLine;if(e[0]==="?")return this.indentate(a)+"<"+e+n+"?"+this.tagEndChar;{let r=this.options.tagValueProcessor(e,t);return r=this.replaceEntitiesValue(r),r===""?this.indentate(a)+"<"+e+n+this.closeTag(e)+this.tagEndChar:this.indentate(a)+"<"+e+n+">"+r+"</"+e+this.tagEndChar}},Xr.prototype.replaceEntitiesValue=function(t){if(t&&t.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){const n=this.options.entities[e];t=t.replace(n.regex,n.val)}return t};function Xfe(t){return this.options.indentBy.repeat(t)}function Jfe(t){return t.startsWith(this.options.attributeNamePrefix)&&t!==this.options.textNodeName?t.substr(this.attrPrefixLen):!1}var Zfe=Xr,Qfe={XMLParser:$fe,XMLValidator:Fg,XMLBuilder:Zfe};const qa=":@";let Ke,Wi,Jr=[];function Vfe(t){const a=new Qfe.XMLParser({ignoreAttributes:!1,attributeNamePrefix:"",preserveOrder:!0}).parse(t).filter(o=>o.svg),r=[];return Jr=[],a.forEach(o=>{const l=o[qa];Ke=ave(l),Ke.width<Ke.height?(l.height||(l.height=40),Wi=l.height/Ke.height,!l.width&&(l.width=Wi*Ke.width)):(l.width||(l.width=40),Wi=l.width/Ke.width,!l.height&&(l.height=Wi*Ke.height));const c=o.svg,d={};for(let f=0;f<c.length;f++)c[f].g&&(d[f]=hN(c[f]));for(let f in d)c.splice(Number(f),1,...d[f]);const u=gN(l,c);r.push(...u)}),eve(r[0]),r}function hN(t){if(t.g&&t.g.length==1&&t.g[0][qa]){const e=Object.keys(t.g[0][qa]);if(e.length==2&&e[0]=="id"&&e[1]=="data-name")return hN(t.g[0])}return t.g}function eve(t){Jr=Jr.map((e,n)=>({id:n+"",penId:t.id,x:e.x,y:e.y})),t.anchors=Jr}function gN(t,e){const n=[],[a,r]=vve(t),o={id:Ue(),name:"combine",x:t.x,y:t.y,locked:t.locked,width:a,height:r,children:[]};return n.push(o),e.forEach(l=>{let s;const c=l[qa];if(c&&c.transform&&l.g&&l.g.forEach(d=>{d[qa]?d[qa].transform=c.transform:d[qa]={transform:c.transform}}),l.g)s=gN({x:0,y:0,width:1,height:1,locked:10,...c},l.g);else if(l.defs)CN(l.defs.filter(d=>d.style)),dve(l.defs.filter(d=>d.linearGradient));else if(l.style)CN([{style:l.style}]);else if(c)if(s=rve(c,t,o.id),l.path)s=tve(c,s);else if(l.rect){s=nve(c,s);const d=s;[{x:d.x+d.width*.5,y:d.y},{x:d.x+d.width*1,y:d.y+d.height*.5},{x:d.x+d.width*.5,y:d.y+d.height*1},{x:d.x,y:d.y+d.height*.5}].forEach(f=>{(f.x<=.01||f.x>=.99||f.y<=.01||f.y>=.99)&&Jr.push(f)})}else if(l.circle){s=mN(c,s);const d=s;[{x:d.x+d.width*.5,y:d.y},{x:d.x+d.width*1,y:d.y+d.height*.5},{x:d.x+d.width*.5,y:d.y+d.height*1},{x:d.x,y:d.y+d.height*.5}].forEach(f=>{(f.x<=.01||f.x>=.99||f.y<=.01||f.y>=.99)&&Jr.push(f)})}else if(l.ellipse)s=mN(c,s);else if(l.line){s=ove(c,s);const d=s;d.anchors.forEach(u=>{const f=d.x+u.x*d.width,v=d.y+u.y*d.height;(f<.01||f>.99||v<.01||v>.99)&&Jr.push({x:f,y:v})})}else if(l.polygon)s=yN(c,s);else if(l.polyline){s=lve(c,s);const d=s;d.anchors.forEach(u=>{const f=d.x+u.x*d.width,v=d.y+u.y*d.height;(f<.01||f>.99||v<.01||v>.99)&&Jr.push({x:f,y:v})})}else l.text?s=sve(c,l.text,s):l.image?s=cve(c,s):s=void 0;if(s)if(Array.isArray(s)){for(const d of s)d.parentId||(d.parentId=o.id,o.children.push(d.id));n.push(...s)}else o.children.push(s.id),n.push(s)}),n}function pN(t){let e=0,n=0;if(t){let a=t.replace("translate(","").replace(")","").split(",");e=parseFloat(a[0]),n=parseFloat(a[1])}return{offsetX:e,offsetY:n}}function tve(t,e){let n=t.d;if(!n)return;let a=PI(n),r=Ng(a),{offsetX:o,offsetY:l}=pN(t.transform);r.x+=o,r.ex+=o,r.y+=l,r.ey+=l;const s=(r.x+e.x-Ke.x)/Ke.width,c=(r.y+e.y-Ke.y)/Ke.height,d=r.width/Ke.width<=1?r.width/Ke.width:1,u=r.height/Ke.height<=1?r.height/Ke.height:1;return{...e,name:"svgPath",pathId:Ue(),path:n,x:s,y:c,width:d,height:u,disableAnchor:!0}}function nve(t,e){const n=(t.x||0-Ke.x+e.x)/Ke.width,a=(t.y||0-Ke.y+e.y)/Ke.height,r=t.width/Ke.width<=1?t.width/Ke.width:1,o=t.height/Ke.height<=1?t.height/Ke.height:1,l=t.rx/t.width||t.ry/t.height||0;return{...e,name:"rectangle",x:n,y:a,width:r,height:o,borderRadius:l}}function mN(t,e){const n=t.rx||t.r,a=t.ry||t.r,r=(t.cx-n-Ke.x+e.x)/Ke.width,o=(t.cy-a-Ke.y+e.y)/Ke.height,l=2*n/Ke.width,s=2*a/Ke.height;return{...e,name:"circle",x:r,y:o,width:l,height:s}}function ave(t){if(t.viewBox){const e=t.viewBox.split(" ");return{x:Number(e[0]),y:Number(e[1]),width:Number(e[2]),height:Number(e[3])}}else return{x:0,y:0,width:parseFloat(t.width),height:parseFloat(t.height)}}function rve(t,e,n){var h;const a=xN(t.class),r=xN(e.class),o=Hg(t.style),l=Hg(e.style),s={...e,...r,...l,...t,...a,...o};let c;if(s.fill!=="none")if((h=s.fill)!=null&&h.includes("url")){const g=s.fill.replace("url(#","").replace(")","");let p=Wg.find(m=>m.id===g);p&&!p.color&&(p=Wg.find(m=>p.from===`#${m.id}`)),c=p==null?void 0:p.color}else c=s.fill,!c&&(c="#000");let d=0,u=0,f=0,v=null;return s.transform&&s.transform.split(") ").forEach(p=>{const[m,y]=p.split("("),[b,w]=y.split(" ");m==="translate"?(d=Number(b)||0,u=Number(w)||0):m==="rotate"?(f=parseFloat(y),d=0,u=0):m==="matrix"&&(v=y.split(" ").map(C=>parseFloat(C)))}),{id:Ue(),locked:10,parentId:n,x:d,y:u,rotate:f,background:c,color:s.stroke,lineWidth:s["stroke-width"]?parseFloat(s["stroke-width"])*Wi:s.stroke?1:0,lineCap:s.strokeLinecap,lineJoin:s.strokeLinejoin,lineDash:s.strokeDasharray,lineDashOffset:s.strokeDashoffset,globalAlpha:Number(s.opacity),fontSize:s["font-size"]?parseFloat(s["font-size"])*Wi:16,fontFamily:s["font-family"],fontWeight:s["font-weight"],fontStyle:s["font-style"],matrix:v}}function ive(t){const n=t.replace(/[\'\"\\\/\b\f\n\r\t]/g,"").split(/\s|,/),a=[];return n.forEach((r,o)=>{o%2===0&&a.push({x:Number(r),y:Number(n[o+1])})}),a}function yN(t,e){const n=t.points,a=ive(n),r=Sl(a),o=a.map(l=>({x:(l.x-r.x)/r.width,y:(l.y-r.y)/r.height,id:Ue()}));return{...e,name:"line",lineName:"line",type:0,close:!0,anchors:o,x:(r.x-Ke.x+e.x)/Ke.width,y:(r.y-Ke.y+e.y)/Ke.height,width:r.width/Ke.width,height:r.height/Ke.height}}function bN(t,e){const[n,a,r,o,l,s]=e,c=t.x,d=t.y,u=n*c+r*d+l,f=a*c+o*d+s;return[u,f]}function ove(t,e){let n=Number(t.x1)||0,a=Number(t.x2)||0,r=Number(t.y1)||0,o=Number(t.y2)||0;Array.isArray(e.matrix)&&([n,r]=bN({x:n,y:r},e.matrix),[a,o]=bN({x:a,y:o},e.matrix));const l=Math.min(n,a),s=Math.max(n,a),c=Math.min(r,o),d=Math.max(r,o),u=(l-Ke.x+e.x)/Ke.width,f=(c-Ke.y+e.y)/Ke.height,v=(s-l)/Ke.width,h=(d-c)/Ke.height;return{...e,name:"line",lineName:"line",type:0,x:u,y:f,width:v,height:h,anchors:[{x:n<a?0:1,y:r<o?0:1,hidden:!0,id:Ue()},{x:n<a?1:0,y:r<o?1:0,hidden:!0,id:Ue()}]}}function lve(t,e){const n=yN(t,e);return Object.assign(n,{close:!1,type:1,anchors:n.anchors.map(a=>(a.hidden=!0,a))})}function sve(t,e,n){var c;const a=(c=e[0])==null?void 0:c[wN],r=uve(a,n),o=0;let{offsetX:l,offsetY:s}=pN(t.transform);return{...n,name:"text",textAlign:"left",text:a,x:(parseFloat(t.x)+(l||0)-Ke.x+n.x)/Ke.width,y:(parseFloat(t.y)+(s||0)-Ke.y+n.y-o)/Ke.height,width:r/Ke.width,height:o/Ke.height}}function cve(t,e){const{x:n,y:a,width:r,height:o}=t;return{...e,name:"image",x:(n-Ke.x+e.x)/Ke.width,y:(a-Ke.y+e.y)/Ke.height,width:r/Ke.width,height:o/Ke.height,image:t["xlink:href"]}}function uve(t,e){return(e.fontSize||16)/Wi*String(t).length}function Hg(t){if(!t)return{};const e=t.split(";"),n={};return e.forEach(a=>{const[r,o]=a.split(":");r&&(n[r]=o)}),n}const wN="#text";let qd;function CN(t){t.forEach(e=>{e.style&&e.style[0]&&(qd=fve(e.style[0][wN]))})}let Wg=[];function dve(t){t.forEach(e=>{if(e.linearGradient){const n={id:e[qa].id,from:e[qa]["xlink:href"],color:void 0};e.linearGradient.length>0&&(n.color=e.linearGradient[0][qa]["stop-color"]),Wg.push(n)}})}function fve(t){const e={};return t.split("}").forEach(a=>{const[r,o]=a.split("{");r&&(e[r.trim()]=Hg(o))}),e}function xN(t){const e={};for(const n in qd)if(Object.prototype.hasOwnProperty.call(qd,n)){const a=qd[n];(n==="."+t||n.includes("."+t+",")||n.includes(",."+t))&&Object.assign(e,a)}return e}function vve(t){var a;if((a=String(t.width))!=null&&a.endsWith("in")){const r=parseFloat(t.width)*96,o=parseFloat(t.height)*96;return[r,o]}const e=parseFloat(t.width)||0,n=parseFloat(t.height)||0;return[e,n]}function SN(t,e,n=!0){if(!t)return[];const a=Vfe(t);return a.forEach(r=>{var o;r.x||(r.x=0),r.y||(r.y=0),r.name=="combine"&&!r.parentId&&(r.description=e==null?void 0:e.name,(o=e==null?void 0:e.data)!=null&&o.anchors&&n&&e.data.anchors.forEach(l=>{//! 报错
if(r.anchors){const s=r.anchors.length;l.id=s,r.anchors.push(l)}else r.anchors=[l]}))}),n&&(meta2d.canvas.addCaches=fe(a)),a}const ON=(t,e,n=!0)=>fetch(t).then(a=>a.text().then(o=>SN(o,e,n))),Ga={x:2015,y:-2404,scale:2.2962853358150284,pens:[{id:"251c6ba9",name:"combine",x:-1917.2818412992815,y:2786.8430321398773,ex:-1881.4505065758517,ey:2878.6944455724783,width:35.83133472342976,height:91.85141343260094,center:{x:-1899.3661739375666,y:2832.7687388561776},children:["179d2635","8f6b874"],showChild:0,lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"251c6ba9"},{x:1,y:.5,id:"1",penId:"251c6ba9"},{x:.5,y:1,id:"2",penId:"251c6ba9"},{x:0,y:.5,id:"3",penId:"251c6ba9"}],rotate:0,globalAlpha:1,tags:["Switch"],description:"开关-通用开关"},{id:"179d2635",name:"combine",x:0,y:0,locked:0,width:1,height:1,children:["efe2dc1","0336d6d","fd8c6a3","2e93e1de","48940cd4","7614682"],anchors:[{id:"0",penId:"179d2635",x:.9069451980466631,y:0},{id:"1",penId:"179d2635",x:.9069451980466631,y:1}],description:"开关-通用开关-断开",parentId:"251c6ba9",lineWidth:1,fontSize:12,lineHeight:1.5,rotate:0,globalAlpha:1,tags:[],ex:1,ey:1},{id:"efe2dc1",locked:10,parentId:"179d2635",x:.9069451980466631,y:0,rotate:0,color:"#231815",lineWidth:.014111089552502074,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.2964563526361279,anchors:[{x:1,y:0,hidden:!0,id:"7d368225",penId:"efe2dc1"},{x:0,y:1,hidden:!0,id:"5757269e",penId:"efe2dc1"}],children:[],lineHeight:1.5},{id:"0336d6d",locked:10,parentId:"179d2635",x:.9069451980466631,y:.6666607870460198,rotate:0,color:"#231815",lineWidth:.014111089552502074,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.33333921295398017,anchors:[{x:1,y:0,hidden:!0,id:"8156d51",penId:"0336d6d"},{x:0,y:1,hidden:!0,id:"5d1bd0bb",penId:"0336d6d"}],children:[],lineHeight:1.5},{id:"fd8c6a3",locked:10,parentId:"179d2635",x:.8093687827816965,y:.2952745488861059,rotate:0,color:"#231815",lineWidth:.08466653731501243,globalAlpha:null,fontSize:16,matrix:null,name:"svgPath",pathId:"818f759",width:.19515283052993293,height:.07612932813574863,disableAnchor:!0,children:[],lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"fd8c6a3"},{x:1,y:.5,id:"1",penId:"fd8c6a3"},{x:.5,y:1,id:"2",penId:"fd8c6a3"},{x:0,y:.5,id:"3",penId:"fd8c6a3"}]},{id:"2e93e1de",locked:10,parentId:"179d2635",x:.43868692349430277,y:.30132467853174116,rotate:0,color:"#231815",lineWidth:.014111089552502074,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.46825827455236035,height:.36533610851427867,anchors:[{x:1,y:1,hidden:!0,id:"653d183",penId:"2e93e1de"},{x:0,y:0,hidden:!0,id:"59cb558",penId:"2e93e1de"}],children:[],lineHeight:1.5},{id:"48940cd4",locked:10,parentId:"179d2635",x:.1861096039066739,y:.4722981673222444,rotate:0,color:"#231815",lineWidth:.014111089552502074,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.46780611322119736,height:0,anchors:[{x:0,y:1,hidden:!0,id:"6f687ae0",penId:"48940cd4"},{x:1,y:0,hidden:!0,id:"2b7d21de",penId:"48940cd4"}],children:[],lineHeight:1.5},{id:"7614682",locked:10,parentId:"179d2635",x:-.004521613311629589,y:.4363854444111267,rotate:0,color:"#231815",lineWidth:.08466653731501243,globalAlpha:null,fontSize:16,matrix:null,name:"svgPath",pathId:"64c23b2",width:.19515283052993307,height:.07612932813574863,disableAnchor:!0,children:[],lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"7614682"},{x:1,y:.5,id:"1",penId:"7614682"},{x:.5,y:1,id:"2",penId:"7614682"},{x:0,y:.5,id:"3",penId:"7614682"}]},{id:"8f6b874",name:"combine",x:0,y:0,locked:0,width:1,height:1,children:["5fb70c43","50b9d5d1","d85f845","a70f7f1","a0fac3b","448edcea"],anchors:[{id:"0",penId:"8f6b874",x:.9069451980466631,y:0},{id:"1",penId:"8f6b874",x:.9069451980466631,y:1}],description:"开关-通用开关-闭合",parentId:"251c6ba9",lineWidth:1,fontSize:12,lineHeight:1.5,rotate:0,globalAlpha:1,tags:[],ex:1,ey:1},{id:"5fb70c43",locked:10,parentId:"8f6b874",x:.9069451980466631,y:0,rotate:0,color:"#231815",lineWidth:.014111089552502074,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.2964563526361279,anchors:[{x:1,y:0,hidden:!0,id:"a594399",penId:"5fb70c43"},{x:0,y:1,hidden:!0,id:"1e80702",penId:"5fb70c43"}],children:[],lineHeight:1.5},{id:"50b9d5d1",locked:10,parentId:"8f6b874",x:.9069451980466631,y:.6666607870460198,rotate:0,color:"#231815",lineWidth:.014111089552502074,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.33333921295398017,anchors:[{x:1,y:0,hidden:!0,id:"0fac3c5",penId:"50b9d5d1"},{x:0,y:1,hidden:!0,id:"d17d7fd",penId:"50b9d5d1"}],children:[],lineHeight:1.5},{id:"d85f845",locked:10,parentId:"8f6b874",x:.8093687827816965,y:.2952745488861059,rotate:0,color:"#231815",lineWidth:.08466653731501243,globalAlpha:null,fontSize:16,matrix:null,name:"svgPath",pathId:"fb0b262",width:.19515283052993293,height:.07612932813574863,disableAnchor:!0,children:[],lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"d85f845"},{x:1,y:.5,id:"1",penId:"d85f845"},{x:.5,y:1,id:"2",penId:"d85f845"},{x:0,y:.5,id:"3",penId:"d85f845"}]},{id:"a70f7f1",locked:10,parentId:"8f6b874",x:.7954422137818773,y:.2607552960682977,rotate:0,color:"#231815",lineWidth:.014111089552502074,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.11150298426478579,height:.4061347961829503,anchors:[{x:1,y:1,hidden:!0,id:"c1a1ac",penId:"a70f7f1"},{x:0,y:0,hidden:!0,id:"b22a5c5",penId:"a70f7f1"}],children:[],lineHeight:1.5},{id:"a0fac3b",locked:10,parentId:"8f6b874",x:.3850605896183758,y:.4722981673222444,rotate:0,color:"#231815",lineWidth:.014111089552502074,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.46780611322119736,height:0,anchors:[{x:0,y:1,hidden:!0,id:"3718d05",penId:"a0fac3b"},{x:1,y:0,hidden:!0,id:"16ac617f",penId:"a0fac3b"}],children:[],lineHeight:1.5},{id:"448edcea",locked:10,parentId:"8f6b874",x:.19442937240007235,y:.4363854444111267,rotate:0,color:"#231815",lineWidth:.08466653731501243,globalAlpha:null,fontSize:16,matrix:null,name:"svgPath",pathId:"607a597",width:.19515283052993307,height:.07612932813574863,disableAnchor:!0,children:[],lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"448edcea"},{x:1,y:.5,id:"1",penId:"448edcea"},{x:.5,y:1,id:"2",penId:"448edcea"},{x:0,y:.5,id:"3",penId:"448edcea"}]},{id:"1f12a7e",name:"combine",x:-1775.3416239933122,y:2786.8430321398773,ex:-1737.226639660149,ey:2878.6944455724783,width:38.114984333163285,height:91.8514134326011,center:{x:-1756.2841318267306,y:2832.768738856178},children:["3f995752","74bec5df"],showChild:0,lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"1f12a7e"},{x:1,y:.5,id:"1",penId:"1f12a7e"},{x:.5,y:1,id:"2",penId:"1f12a7e"},{x:0,y:.5,id:"3",penId:"1f12a7e"}],rotate:0,globalAlpha:1,tags:["Switch","Knob_SelfLock"],description:"开关-自锁旋转开关"},{id:"3f995752",name:"combine",x:0,y:0,locked:0,width:.9999999999999998,height:.9999999999999997,children:["6616a45f","e73feb9","18daee8","b584622","3e24993a","646c5b85","fc72299","f64fd90","e218fe2","19e77bf0"],anchors:[{id:"0",penId:"3f995752",x:.008795074758135445,y:.3354014598540146},{id:"1",penId:"3f995752",x:.9912049252418645,y:.6653284671532848},{id:"2",penId:"3f995752",x:.9912049252418645,y:.9963503649635037},{id:"3",penId:"3f995752",x:.9912049252418645,y:.6653284671532846},{id:"4",penId:"3f995752",x:.9912049252418645,y:.0036496350364963507},{id:"5",penId:"3f995752",x:.9912049252418645,y:.33467153284671536}],description:"开关-自锁旋转开关-断开",parentId:"1f12a7e",lineWidth:1,fontSize:12,lineHeight:1.5,rotate:0,globalAlpha:1,tags:[],ex:.9999999999999998,ey:.9999999999999997},{id:"6616a45f",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["54a5ea1b"],parentId:"3f995752",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"6616a45f"},{x:1,y:.5,id:"1",penId:"6616a45f"},{x:.5,y:1,id:"2",penId:"6616a45f"},{x:0,y:.5,id:"3",penId:"6616a45f"}],rotate:0},{id:"54a5ea1b",locked:10,parentId:"6616a45f",x:.33157431838170626,y:.46459854014598545,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.08883025505716802,height:.0967153284671533,anchors:[{x:0,y:0,hidden:!0,id:"0dba702",penId:"54a5ea1b"},{x:1,y:1,hidden:!0,id:"10ec58a",penId:"54a5ea1b"}],children:[],lineHeight:1.5},{id:"e73feb9",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["bb9a15d"],parentId:"3f995752",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"e73feb9"},{x:1,y:.5,id:"1",penId:"e73feb9"},{x:.5,y:1,id:"2",penId:"e73feb9"},{x:0,y:.5,id:"3",penId:"e73feb9"}],rotate:0},{id:"bb9a15d",locked:10,parentId:"e73feb9",x:.4204045734388743,y:.46459854014598545,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.0897097625329815,height:.0967153284671533,anchors:[{x:0,y:1,hidden:!0,id:"844743",penId:"bb9a15d"},{x:1,y:0,hidden:!0,id:"700e943f",penId:"bb9a15d"}],children:[],lineHeight:1.5},{id:"18daee8",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["a34c0e0"],parentId:"3f995752",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"18daee8"},{x:1,y:.5,id:"1",penId:"18daee8"},{x:.5,y:1,id:"2",penId:"18daee8"},{x:0,y:.5,id:"3",penId:"18daee8"}],rotate:0},{id:"a34c0e0",locked:10,parentId:"18daee8",x:.008795074758135445,y:.3354014598540146,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.1996481970096746,height:0,anchors:[{x:0,y:1,hidden:!0,id:"e50983d",penId:"a34c0e0"},{x:1,y:0,hidden:!0,id:"61365582",penId:"a34c0e0"}],children:[],lineHeight:1.5},{id:"b584622",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["6494b91"],parentId:"3f995752",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"b584622"},{x:1,y:.5,id:"1",penId:"b584622"},{x:.5,y:1,id:"2",penId:"b584622"},{x:0,y:.5,id:"3",penId:"b584622"}],rotate:0},{id:"6494b91",locked:10,parentId:"b584622",x:.20844327176781005,y:.5941605839416059,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.19964819700967457,height:0,anchors:[{x:0,y:1,hidden:!0,id:"202f7e2",penId:"6494b91"},{x:1,y:0,hidden:!0,id:"53f53a",penId:"6494b91"}],children:[],lineHeight:1.5},{id:"3e24993a",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["7ebd9e0"],parentId:"3f995752",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"3e24993a"},{x:1,y:.5,id:"1",penId:"3e24993a"},{x:.5,y:1,id:"2",penId:"3e24993a"},{x:0,y:.5,id:"3",penId:"3e24993a"}],rotate:0},{id:"7ebd9e0",locked:10,parentId:"3e24993a",x:.20844327176781005,y:.3354014598540146,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.25875912408759133,anchors:[{x:1,y:0,hidden:!0,id:"e13f914",penId:"7ebd9e0"},{x:0,y:1,hidden:!0,id:"58acebce",penId:"7ebd9e0"}],children:[],lineHeight:1.5},{id:"646c5b85",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["279e9fb8"],parentId:"3f995752",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"646c5b85"},{x:1,y:.5,id:"1",penId:"646c5b85"},{x:.5,y:1,id:"2",penId:"646c5b85"},{x:0,y:.5,id:"3",penId:"646c5b85"}],rotate:0},{id:"279e9fb8",locked:10,parentId:"646c5b85",x:.9912049252418645,y:.6653284671532848,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.331021897810219,anchors:[{x:1,y:0,hidden:!0,id:"2acf0ff3",penId:"279e9fb8"},{x:0,y:1,hidden:!0,id:"1bbfe463",penId:"279e9fb8"}],children:[],lineHeight:1.5},{id:"fc72299",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["769661e"],parentId:"3f995752",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"fc72299"},{x:1,y:.5,id:"1",penId:"fc72299"},{x:.5,y:1,id:"2",penId:"fc72299"},{x:0,y:.5,id:"3",penId:"fc72299"}],rotate:0},{id:"769661e",locked:10,parentId:"fc72299",x:.4335971855760774,y:.26423357664233577,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.5576077396657871,height:.40109489051094893,anchors:[{x:1,y:1,hidden:!0,id:"a11431",penId:"769661e"},{x:0,y:0,hidden:!0,id:"2a0d06b",penId:"769661e"}],children:[],lineHeight:1.5},{id:"f64fd90",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["f83e670"],parentId:"3f995752",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"f64fd90"},{x:1,y:.5,id:"1",penId:"f64fd90"},{x:.5,y:1,id:"2",penId:"f64fd90"},{x:0,y:.5,id:"3",penId:"f64fd90"}],rotate:0},{id:"f83e670",locked:10,parentId:"f64fd90",x:.9912049252418645,y:.0036496350364963507,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.331021897810219,anchors:[{x:1,y:0,hidden:!0,id:"6aa4fb5",penId:"f83e670"},{x:0,y:1,hidden:!0,id:"34646ed3",penId:"f83e670"}],children:[],lineHeight:1.5},{id:"e218fe2",locked:10,parentId:"3f995752",x:.20844327176781005,y:.46459854014598545,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.12313104661389622,height:0,anchors:[{x:1,y:1,hidden:!0,id:"5c87262",penId:"e218fe2"},{x:0,y:0,hidden:!0,id:"ddfbe32",penId:"e218fe2"}],children:[],lineHeight:1.5},{id:"19e77bf0",locked:10,parentId:"3f995752",x:.5101143359718557,y:.46459854014598545,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.2022867194371152,height:0,anchors:[{x:1,y:1,hidden:!0,id:"e2dee6e",penId:"19e77bf0"},{x:0,y:0,hidden:!0,id:"76eb44b9",penId:"19e77bf0"}],children:[],lineHeight:1.5},{id:"74bec5df",name:"combine",x:.09630606860157255,y:0,locked:0,width:.8073878627968337,height:.9999999999999997,children:["ff6d8d9","d3109f","66206ce0","3620bd9","7bf1eeef","8e44f5e","ef5ee9f","20d45f8e","57453965","b1cfbb3","6689d1"],anchors:[{id:"0",penId:"74bec5df",x:.9891067538126362,y:.9963503649635037},{id:"1",penId:"74bec5df",x:.9891067538126362,y:.0036496350364963507}],description:"开关-自锁旋转开关-闭合",parentId:"1f12a7e",lineWidth:1,fontSize:12,lineHeight:1.5,rotate:0,globalAlpha:1,tags:[],ex:.9036939313984063,ey:.9999999999999997},{id:"ff6d8d9",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["b9a2f9e"],parentId:"74bec5df",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"ff6d8d9"},{x:1,y:.5,id:"1",penId:"ff6d8d9"},{x:.5,y:1,id:"2",penId:"ff6d8d9"},{x:0,y:.5,id:"3",penId:"ff6d8d9"}],rotate:0},{id:"b9a2f9e",locked:10,parentId:"ff6d8d9",x:.7233115468409586,y:.33467153284671536,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.26579520697167763,height:0,anchors:[{x:0,y:1,hidden:!0,id:"3f55fdc9",penId:"b9a2f9e"},{x:1,y:0,hidden:!0,id:"d5d9a7d",penId:"b9a2f9e"}],children:[],lineHeight:1.5},{id:"d3109f",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["373e24"],parentId:"74bec5df",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"d3109f"},{x:1,y:.5,id:"1",penId:"d3109f"},{x:.5,y:1,id:"2",penId:"d3109f"},{x:0,y:.5,id:"3",penId:"d3109f"}],rotate:0},{id:"373e24",locked:10,parentId:"d3109f",x:.9891067538126362,y:.6653284671532848,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.331021897810219,anchors:[{x:1,y:0,hidden:!0,id:"7410e17d",penId:"373e24"},{x:0,y:1,hidden:!0,id:"14f8abf",penId:"373e24"}],children:[],lineHeight:1.5},{id:"66206ce0",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["659d77b"],parentId:"74bec5df",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"66206ce0"},{x:1,y:.5,id:"1",penId:"66206ce0"},{x:.5,y:1,id:"2",penId:"66206ce0"},{x:0,y:.5,id:"3",penId:"66206ce0"}],rotate:0},{id:"659d77b",locked:10,parentId:"66206ce0",x:.7494553376906318,y:.2091240875912409,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.23965141612200438,height:.4562043795620438,anchors:[{x:1,y:1,hidden:!0,id:"7158caa",penId:"659d77b"},{x:0,y:0,hidden:!0,id:"dde7ee7",penId:"659d77b"}],children:[],lineHeight:1.5},{id:"3620bd9",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["f888a55"],parentId:"74bec5df",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"3620bd9"},{x:1,y:.5,id:"1",penId:"3620bd9"},{x:.5,y:1,id:"2",penId:"3620bd9"},{x:0,y:.5,id:"3",penId:"3620bd9"}],rotate:0},{id:"f888a55",locked:10,parentId:"3620bd9",x:.9891067538126362,y:.0036496350364963507,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.331021897810219,anchors:[{x:1,y:0,hidden:!0,id:"668291e0",penId:"f888a55"},{x:0,y:1,hidden:!0,id:"643a6891",penId:"f888a55"}],children:[],lineHeight:1.5},{id:"7bf1eeef",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["8527b0"],parentId:"74bec5df",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"7bf1eeef"},{x:1,y:.5,id:"1",penId:"7bf1eeef"},{x:.5,y:1,id:"2",penId:"7bf1eeef"},{x:0,y:.5,id:"3",penId:"7bf1eeef"}],rotate:0},{id:"8527b0",locked:10,parentId:"7bf1eeef",x:.4106753812636166,y:.46459854014598545,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.11002178649237476,height:.0967153284671533,anchors:[{x:0,y:0,hidden:!0,id:"56a6bcd6",penId:"8527b0"},{x:1,y:1,hidden:!0,id:"3d4da39c",penId:"8527b0"}],children:[],lineHeight:1.5},{id:"8e44f5e",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["9238a84"],parentId:"74bec5df",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"8e44f5e"},{x:1,y:.5,id:"1",penId:"8e44f5e"},{x:.5,y:1,id:"2",penId:"8e44f5e"},{x:0,y:.5,id:"3",penId:"8e44f5e"}],rotate:0},{id:"9238a84",locked:10,parentId:"8e44f5e",x:.010893246187363835,y:.3354014598540146,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.24727668845315906,height:0,anchors:[{x:0,y:1,hidden:!0,id:"5c879633",penId:"9238a84"},{x:1,y:0,hidden:!0,id:"312e0e53",penId:"9238a84"}],children:[],lineHeight:1.5},{id:"ef5ee9f",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["757a51e"],parentId:"74bec5df",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"ef5ee9f"},{x:1,y:.5,id:"1",penId:"ef5ee9f"},{x:.5,y:1,id:"2",penId:"ef5ee9f"},{x:0,y:.5,id:"3",penId:"ef5ee9f"}],rotate:0},{id:"757a51e",locked:10,parentId:"ef5ee9f",x:.2581699346405229,y:.5941605839416059,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.247276688453159,height:0,anchors:[{x:0,y:1,hidden:!0,id:"17802cc",penId:"757a51e"},{x:1,y:0,hidden:!0,id:"79c02ddc",penId:"757a51e"}],children:[],lineHeight:1.5},{id:"20d45f8e",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["a1299e4"],parentId:"74bec5df",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"20d45f8e"},{x:1,y:.5,id:"1",penId:"20d45f8e"},{x:.5,y:1,id:"2",penId:"20d45f8e"},{x:0,y:.5,id:"3",penId:"20d45f8e"}],rotate:0},{id:"a1299e4",locked:10,parentId:"20d45f8e",x:.2581699346405229,y:.3354014598540146,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.25875912408759133,anchors:[{x:1,y:0,hidden:!0,id:"4b138df6",penId:"a1299e4"},{x:0,y:1,hidden:!0,id:"aaf1e91",penId:"a1299e4"}],children:[],lineHeight:1.5},{id:"57453965",locked:10,parentId:"74bec5df",x:.2581699346405229,y:.46459854014598545,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.15250544662309368,height:0,anchors:[{x:1,y:1,hidden:!0,id:"a3bc53",penId:"57453965"},{x:0,y:0,hidden:!0,id:"2c12c23",penId:"57453965"}],children:[],lineHeight:1.5},{id:"b1cfbb3",locked:10,parentId:"74bec5df",x:.6318082788671024,y:.46459854014598545,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.25054466230936817,height:0,anchors:[{x:1,y:1,hidden:!0,id:"f3775bd",penId:"b1cfbb3"},{x:0,y:0,hidden:!0,id:"17bf39a",penId:"b1cfbb3"}],children:[],lineHeight:1.5},{id:"6689d1",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["5b9fcab"],parentId:"74bec5df",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"6689d1"},{x:1,y:.5,id:"1",penId:"6689d1"},{x:.5,y:1,id:"2",penId:"6689d1"},{x:0,y:.5,id:"3",penId:"6689d1"}],rotate:0},{id:"5b9fcab",locked:10,parentId:"6689d1",x:.5206971677559913,y:.46459854014598545,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.11111111111111106,height:.0967153284671533,anchors:[{x:0,y:1,hidden:!0,id:"3d5ddb1",penId:"5b9fcab"},{x:1,y:0,hidden:!0,id:"47d03e5b",penId:"5b9fcab"}],children:[],lineHeight:1.5},{id:"6dfb",name:"combine",x:-1638.8912643068752,y:2785.3727420213418,ex:-1600.6086679054042,ey:2877.224155453943,width:38.28259640147095,height:91.85141343260112,center:{x:-1619.7499661061397,y:2831.2984487376425},children:["56ff30a0","223f54a"],showChild:0,lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"6dfb"},{x:1,y:.5,id:"1",penId:"6dfb"},{x:.5,y:1,id:"2",penId:"6dfb"},{x:0,y:.5,id:"3",penId:"6dfb"}],rotate:0,globalAlpha:1,tags:["Switch","Btn_SelfLock"],description:"开关-自锁按钮"},{id:"56ff30a0",name:"combine",x:0,y:0,locked:0,width:1.0000000000000009,height:.9999999999999997,children:["4c15a83","264dc41","49aad136","3ee358cf","20b8c6","f8e1dc1","4cba84b","13fe1d82","5a73b375"],anchors:[{id:"0",penId:"56ff30a0",x:.008756567425569177,y:.3354014598540146},{id:"1",penId:"56ff30a0",x:.008756567425569177,y:.594160583941606},{id:"2",penId:"56ff30a0",x:.9912434325744308,y:.6653284671532848},{id:"3",penId:"56ff30a0",x:.9912434325744308,y:.9963503649635037},{id:"4",penId:"56ff30a0",x:.9912434325744308,y:.6653284671532846},{id:"5",penId:"56ff30a0",x:.9912434325744308,y:.0036496350364963507},{id:"6",penId:"56ff30a0",x:.9912434325744308,y:.33467153284671536},{id:"7",penId:"56ff30a0",x:.008756567425569177,y:.46459854014598545}],description:"开关-自锁按钮-断开",parentId:"6dfb",lineWidth:1,fontSize:12,lineHeight:1.5,rotate:0,globalAlpha:1,tags:[],ex:1.0000000000000009,ey:.9999999999999997},{id:"4c15a83",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["63b23b7"],parentId:"56ff30a0",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"4c15a83"},{x:1,y:.5,id:"1",penId:"4c15a83"},{x:.5,y:1,id:"2",penId:"4c15a83"},{x:0,y:.5,id:"3",penId:"4c15a83"}],rotate:0},{id:"63b23b7",locked:10,parentId:"4c15a83",x:.24693520140105077,y:.46459854014598545,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.0884413309982487,height:.0967153284671533,anchors:[{x:0,y:0,hidden:!0,id:"a0126ab",penId:"63b23b7"},{x:1,y:1,hidden:!0,id:"504f5d74",penId:"63b23b7"}],children:[],lineHeight:1.5},{id:"264dc41",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["7ee38676"],parentId:"56ff30a0",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"264dc41"},{x:1,y:.5,id:"1",penId:"264dc41"},{x:.5,y:1,id:"2",penId:"264dc41"},{x:0,y:.5,id:"3",penId:"264dc41"}],rotate:0},{id:"7ee38676",locked:10,parentId:"264dc41",x:.3353765323992995,y:.46459854014598545,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.08931698774080557,height:.0967153284671533,anchors:[{x:0,y:1,hidden:!0,id:"68b73050",penId:"7ee38676"},{x:1,y:0,hidden:!0,id:"96aad71",penId:"7ee38676"}],children:[],lineHeight:1.5},{id:"49aad136",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["106ce24f"],parentId:"56ff30a0",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"49aad136"},{x:1,y:.5,id:"1",penId:"49aad136"},{x:.5,y:1,id:"2",penId:"49aad136"},{x:0,y:.5,id:"3",penId:"49aad136"}],rotate:0},{id:"106ce24f",locked:10,parentId:"49aad136",x:.013134851138353765,y:.3354014598540146,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.1987740805604203,height:0,anchors:[{x:0,y:1,hidden:!0,id:"3a86dd35",penId:"106ce24f"},{x:1,y:0,hidden:!0,id:"b719e5d",penId:"106ce24f"}],children:[],lineHeight:1.5},{id:"3ee358cf",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["5ed612e1"],parentId:"56ff30a0",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"3ee358cf"},{x:1,y:.5,id:"1",penId:"3ee358cf"},{x:.5,y:1,id:"2",penId:"3ee358cf"},{x:0,y:.5,id:"3",penId:"3ee358cf"}],rotate:0},{id:"5ed612e1",locked:10,parentId:"3ee358cf",x:.013134851138353765,y:.5941605839416059,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.1987740805604203,height:0,anchors:[{x:0,y:1,hidden:!0,id:"9830253",penId:"5ed612e1"},{x:1,y:0,hidden:!0,id:"ccc420",penId:"5ed612e1"}],children:[],lineHeight:1.5},{id:"20b8c6",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["3d69944"],parentId:"56ff30a0",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"20b8c6"},{x:1,y:.5,id:"1",penId:"20b8c6"},{x:.5,y:1,id:"2",penId:"20b8c6"},{x:0,y:.5,id:"3",penId:"20b8c6"}],rotate:0},{id:"3d69944",locked:10,parentId:"20b8c6",x:.008756567425569177,y:.3354014598540146,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.25875912408759133,anchors:[{x:1,y:0,hidden:!0,id:"17cb562",penId:"3d69944"},{x:0,y:1,hidden:!0,id:"b26beb3",penId:"3d69944"}],children:[],lineHeight:1.5},{id:"f8e1dc1",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["ee73d3a"],parentId:"56ff30a0",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"f8e1dc1"},{x:1,y:.5,id:"1",penId:"f8e1dc1"},{x:.5,y:1,id:"2",penId:"f8e1dc1"},{x:0,y:.5,id:"3",penId:"f8e1dc1"}],rotate:0},{id:"ee73d3a",locked:10,parentId:"f8e1dc1",x:.9912434325744308,y:.6653284671532848,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.331021897810219,anchors:[{x:1,y:0,hidden:!0,id:"2202e7b",penId:"ee73d3a"},{x:0,y:1,hidden:!0,id:"ea39150",penId:"ee73d3a"}],children:[],lineHeight:1.5},{id:"4cba84b",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["686e50a5"],parentId:"56ff30a0",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"4cba84b"},{x:1,y:.5,id:"1",penId:"4cba84b"},{x:.5,y:1,id:"2",penId:"4cba84b"},{x:0,y:.5,id:"3",penId:"4cba84b"}],rotate:0},{id:"686e50a5",locked:10,parentId:"4cba84b",x:.43607705779334505,y:.26423357664233577,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.5551663747810858,height:.40109489051094893,anchors:[{x:1,y:1,hidden:!0,id:"5259c8d8",penId:"686e50a5"},{x:0,y:0,hidden:!0,id:"4680f719",penId:"686e50a5"}],children:[],lineHeight:1.5},{id:"13fe1d82",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["6052ef"],parentId:"56ff30a0",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"13fe1d82"},{x:1,y:.5,id:"1",penId:"13fe1d82"},{x:.5,y:1,id:"2",penId:"13fe1d82"},{x:0,y:.5,id:"3",penId:"13fe1d82"}],rotate:0},{id:"6052ef",locked:10,parentId:"13fe1d82",x:.9912434325744308,y:.0036496350364963507,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.331021897810219,anchors:[{x:1,y:0,hidden:!0,id:"10986749",penId:"6052ef"},{x:0,y:1,hidden:!0,id:"4d11663a",penId:"6052ef"}],children:[],lineHeight:1.5},{id:"5a73b375",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["b7d83e5","4b44534"],parentId:"56ff30a0",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"5a73b375"},{x:1,y:.5,id:"1",penId:"5a73b375"},{x:.5,y:1,id:"2",penId:"5a73b375"},{x:0,y:.5,id:"3",penId:"5a73b375"}],rotate:0},{id:"b7d83e5",locked:10,parentId:"5a73b375",x:.008756567425569177,y:.46459854014598545,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.23817863397548159,height:0,anchors:[{x:1,y:1,hidden:!0,id:"4cd5fce",penId:"b7d83e5"},{x:0,y:0,hidden:!0,id:"a1f10a0",penId:"b7d83e5"}],children:[],lineHeight:1.5},{id:"4b44534",locked:10,parentId:"5a73b375",x:.42469352014010503,y:.46459854014598545,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.2889667250437829,height:0,anchors:[{x:1,y:1,hidden:!0,id:"6afac61b",penId:"4b44534"},{x:0,y:0,hidden:!0,id:"73b1c357",penId:"4b44534"}],children:[],lineHeight:1.5},{id:"223f54a",name:"combine",x:.09063047285464522,y:0,locked:0,width:.8187390542907186,height:.9999999999999997,children:["27a60f5e","0c5fa7b","61afb2af","4336ce21","27bb48fc","4dcffcc7","9c724dd","dafe703","81abedc","b5937fa"],anchors:[{id:"0",penId:"223f54a",x:.9893048128342247,y:.9963503649635037},{id:"1",penId:"223f54a",x:.9893048128342247,y:.0036496350364963507}],description:"开关-自锁按钮-闭合",parentId:"6dfb",lineWidth:1,fontSize:12,lineHeight:1.5,rotate:0,globalAlpha:1,tags:[],ex:.9093695271453638,ey:.9999999999999997},{id:"27a60f5e",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["4af889a2"],parentId:"223f54a",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"27a60f5e"},{x:1,y:.5,id:"1",penId:"27a60f5e"},{x:.5,y:1,id:"2",penId:"27a60f5e"},{x:0,y:.5,id:"3",penId:"27a60f5e"}],rotate:0},{id:"4af889a2",locked:10,parentId:"27a60f5e",x:.3016042780748663,y:.46459854014598545,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.10802139037433157,height:.0967153284671533,anchors:[{x:0,y:0,hidden:!0,id:"734716f6",penId:"4af889a2"},{x:1,y:1,hidden:!0,id:"cd36907",penId:"4af889a2"}],children:[],lineHeight:1.5},{id:"0c5fa7b",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["64a8107"],parentId:"223f54a",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"0c5fa7b"},{x:1,y:.5,id:"1",penId:"0c5fa7b"},{x:.5,y:1,id:"2",penId:"0c5fa7b"},{x:0,y:.5,id:"3",penId:"0c5fa7b"}],rotate:0},{id:"64a8107",locked:10,parentId:"0c5fa7b",x:.4096256684491979,y:.46459854014598545,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.10909090909090904,height:.0967153284671533,anchors:[{x:0,y:1,hidden:!0,id:"58693a",penId:"64a8107"},{x:1,y:0,hidden:!0,id:"27554959",penId:"64a8107"}],children:[],lineHeight:1.5},{id:"61afb2af",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["328a8b96"],parentId:"223f54a",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"61afb2af"},{x:1,y:.5,id:"1",penId:"61afb2af"},{x:.5,y:1,id:"2",penId:"61afb2af"},{x:0,y:.5,id:"3",penId:"61afb2af"}],rotate:0},{id:"328a8b96",locked:10,parentId:"61afb2af",x:.7283422459893047,y:.33467153284671536,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.26096256684491986,height:0,anchors:[{x:0,y:1,hidden:!0,id:"e873dd9",penId:"328a8b96"},{x:1,y:0,hidden:!0,id:"1611cf",penId:"328a8b96"}],children:[],lineHeight:1.5},{id:"4336ce21",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["1937d0d2"],parentId:"223f54a",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"4336ce21"},{x:1,y:.5,id:"1",penId:"4336ce21"},{x:.5,y:1,id:"2",penId:"4336ce21"},{x:0,y:.5,id:"3",penId:"4336ce21"}],rotate:0},{id:"1937d0d2",locked:10,parentId:"4336ce21",x:.010695187165775402,y:.3354014598540146,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.25875912408759133,anchors:[{x:1,y:0,hidden:!0,id:"68945e83",penId:"1937d0d2"},{x:0,y:1,hidden:!0,id:"564f8ff",penId:"1937d0d2"}],children:[],lineHeight:1.5},{id:"27bb48fc",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["93f2e70"],parentId:"223f54a",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"27bb48fc"},{x:1,y:.5,id:"1",penId:"27bb48fc"},{x:.5,y:1,id:"2",penId:"27bb48fc"},{x:0,y:.5,id:"3",penId:"27bb48fc"}],rotate:0},{id:"93f2e70",locked:10,parentId:"27bb48fc",x:.9893048128342247,y:.6653284671532848,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.331021897810219,anchors:[{x:1,y:0,hidden:!0,id:"4910df9f",penId:"93f2e70"},{x:0,y:1,hidden:!0,id:"4bc33ae",penId:"93f2e70"}],children:[],lineHeight:1.5},{id:"4dcffcc7",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["5ab0543d"],parentId:"223f54a",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"4dcffcc7"},{x:1,y:.5,id:"1",penId:"4dcffcc7"},{x:.5,y:1,id:"2",penId:"4dcffcc7"},{x:0,y:.5,id:"3",penId:"4dcffcc7"}],rotate:0},{id:"5ab0543d",locked:10,parentId:"4dcffcc7",x:.7540106951871658,y:.2091240875912409,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.23529411764705885,height:.4562043795620438,anchors:[{x:1,y:1,hidden:!0,id:"32b8f28b",penId:"5ab0543d"},{x:0,y:0,hidden:!0,id:"7d6f792a",penId:"5ab0543d"}],children:[],lineHeight:1.5},{id:"9c724dd",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["ab2f7ad"],parentId:"223f54a",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"9c724dd"},{x:1,y:.5,id:"1",penId:"9c724dd"},{x:.5,y:1,id:"2",penId:"9c724dd"},{x:0,y:.5,id:"3",penId:"9c724dd"}],rotate:0},{id:"ab2f7ad",locked:10,parentId:"9c724dd",x:.9893048128342247,y:.0036496350364963507,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.331021897810219,anchors:[{x:1,y:0,hidden:!0,id:"e058e22",penId:"ab2f7ad"},{x:0,y:1,hidden:!0,id:"753f8a9d",penId:"ab2f7ad"}],children:[],lineHeight:1.5},{id:"dafe703",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["d64c17","af3e5a8"],parentId:"223f54a",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"dafe703"},{x:1,y:.5,id:"1",penId:"dafe703"},{x:.5,y:1,id:"2",penId:"dafe703"},{x:0,y:.5,id:"3",penId:"dafe703"}],rotate:0},{id:"d64c17",locked:10,parentId:"dafe703",x:.010695187165775402,y:.46459854014598545,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.2909090909090909,height:0,anchors:[{x:1,y:1,hidden:!0,id:"b9d7405",penId:"d64c17"},{x:0,y:0,hidden:!0,id:"8eb45ab",penId:"d64c17"}],children:[],lineHeight:1.5},{id:"af3e5a8",locked:10,parentId:"dafe703",x:.5187165775401069,y:.46459854014598545,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.3529411764705883,height:0,anchors:[{x:1,y:1,hidden:!0,id:"096160e",penId:"af3e5a8"},{x:0,y:0,hidden:!0,id:"738a652",penId:"af3e5a8"}],children:[],lineHeight:1.5},{id:"81abedc",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["1c18cc7"],parentId:"223f54a",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"81abedc"},{x:1,y:.5,id:"1",penId:"81abedc"},{x:.5,y:1,id:"2",penId:"81abedc"},{x:0,y:.5,id:"3",penId:"81abedc"}],rotate:0},{id:"1c18cc7",locked:10,parentId:"81abedc",x:.010695187165775402,y:.5941605839416059,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.24278074866310162,height:0,anchors:[{x:0,y:1,hidden:!0,id:"11716587",penId:"1c18cc7"},{x:1,y:0,hidden:!0,id:"890f4b3",penId:"1c18cc7"}],children:[],lineHeight:1.5},{id:"b5937fa",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["490327f9"],parentId:"223f54a",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"b5937fa"},{x:1,y:.5,id:"1",penId:"b5937fa"},{x:.5,y:1,id:"2",penId:"b5937fa"},{x:0,y:.5,id:"3",penId:"b5937fa"}],rotate:0},{id:"490327f9",locked:10,parentId:"b5937fa",x:.010695187165775402,y:.3354014598540146,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.24278074866310162,height:0,anchors:[{x:0,y:1,hidden:!0,id:"c667fd8",penId:"490327f9"},{x:1,y:0,hidden:!0,id:"34913b61",penId:"490327f9"}],children:[],lineHeight:1.5},{id:"707640bd",name:"combine",x:-1496.0187372814241,y:2788.3277558237087,ex:-1457.903752948261,ey:2880.1791692563097,width:38.11498433316316,height:91.85141343260112,center:{x:-1476.9612451148425,y:2834.2534625400094},children:["734b6268","77f99e2b"],showChild:0,lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"707640bd"},{x:1,y:.5,id:"1",penId:"707640bd"},{x:.5,y:1,id:"2",penId:"707640bd"},{x:0,y:.5,id:"3",penId:"707640bd"}],rotate:0,globalAlpha:1,tags:["Switch","Knob_SelfReset"],description:"开关-自复旋转开关"},{id:"734b6268",name:"combine",x:0,y:0,locked:0,width:1.000000000000003,height:.9999999999999997,children:["adee920","cf3c833","1059b4a7","418a0ea2","9210dc6","f2ec300","3c81a07d"],anchors:[{id:"0",penId:"734b6268",x:.008795074758135445,y:.3354014598540146},{id:"1",penId:"734b6268",x:.9912049252418645,y:.6653284671532848},{id:"2",penId:"734b6268",x:.9912049252418645,y:.9963503649635037},{id:"3",penId:"734b6268",x:.9912049252418645,y:.6653284671532846},{id:"4",penId:"734b6268",x:.9912049252418645,y:.0036496350364963507},{id:"5",penId:"734b6268",x:.9912049252418645,y:.33467153284671536}],description:"开关-自复旋转开关-断开",parentId:"707640bd",lineWidth:1,fontSize:12,lineHeight:1.5,rotate:0,globalAlpha:1,tags:[],ex:1.000000000000003,ey:.9999999999999997},{id:"adee920",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["fb90df3"],parentId:"734b6268",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"adee920"},{x:1,y:.5,id:"1",penId:"adee920"},{x:.5,y:1,id:"2",penId:"adee920"},{x:0,y:.5,id:"3",penId:"adee920"}],rotate:0},{id:"fb90df3",locked:10,parentId:"adee920",x:.008795074758135445,y:.3354014598540146,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.1996481970096746,height:0,anchors:[{x:0,y:1,hidden:!0,id:"7c5644c3",penId:"fb90df3"},{x:1,y:0,hidden:!0,id:"da0a2eb",penId:"fb90df3"}],children:[],lineHeight:1.5},{id:"cf3c833",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["ff046f9"],parentId:"734b6268",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"cf3c833"},{x:1,y:.5,id:"1",penId:"cf3c833"},{x:.5,y:1,id:"2",penId:"cf3c833"},{x:0,y:.5,id:"3",penId:"cf3c833"}],rotate:0},{id:"ff046f9",locked:10,parentId:"cf3c833",x:.20844327176781005,y:.5941605839416059,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.19964819700967457,height:0,anchors:[{x:0,y:1,hidden:!0,id:"46b60693",penId:"ff046f9"},{x:1,y:0,hidden:!0,id:"46725267",penId:"ff046f9"}],children:[],lineHeight:1.5},{id:"1059b4a7",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["1317983"],parentId:"734b6268",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"1059b4a7"},{x:1,y:.5,id:"1",penId:"1059b4a7"},{x:.5,y:1,id:"2",penId:"1059b4a7"},{x:0,y:.5,id:"3",penId:"1059b4a7"}],rotate:0},{id:"1317983",locked:10,parentId:"1059b4a7",x:.20844327176781005,y:.3354014598540146,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.25875912408759133,anchors:[{x:1,y:0,hidden:!0,id:"5ba7ed9c",penId:"1317983"},{x:0,y:1,hidden:!0,id:"10580a05",penId:"1317983"}],children:[],lineHeight:1.5},{id:"418a0ea2",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["44ba209"],parentId:"734b6268",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"418a0ea2"},{x:1,y:.5,id:"1",penId:"418a0ea2"},{x:.5,y:1,id:"2",penId:"418a0ea2"},{x:0,y:.5,id:"3",penId:"418a0ea2"}],rotate:0},{id:"44ba209",locked:10,parentId:"418a0ea2",x:.9912049252418645,y:.6653284671532848,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.331021897810219,anchors:[{x:1,y:0,hidden:!0,id:"71a95b10",penId:"44ba209"},{x:0,y:1,hidden:!0,id:"0da5101",penId:"44ba209"}],children:[],lineHeight:1.5},{id:"9210dc6",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["39e956ca"],parentId:"734b6268",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"9210dc6"},{x:1,y:.5,id:"1",penId:"9210dc6"},{x:.5,y:1,id:"2",penId:"9210dc6"},{x:0,y:.5,id:"3",penId:"9210dc6"}],rotate:0},{id:"39e956ca",locked:10,parentId:"9210dc6",x:.4335971855760774,y:.26423357664233577,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.5576077396657871,height:.40109489051094893,anchors:[{x:1,y:1,hidden:!0,id:"92c92ad",penId:"39e956ca"},{x:0,y:0,hidden:!0,id:"7fb8c6b",penId:"39e956ca"}],children:[],lineHeight:1.5},{id:"f2ec300",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["dba3189"],parentId:"734b6268",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"f2ec300"},{x:1,y:.5,id:"1",penId:"f2ec300"},{x:.5,y:1,id:"2",penId:"f2ec300"},{x:0,y:.5,id:"3",penId:"f2ec300"}],rotate:0},{id:"dba3189",locked:10,parentId:"f2ec300",x:.9912049252418645,y:.0036496350364963507,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.331021897810219,anchors:[{x:1,y:0,hidden:!0,id:"42d60d96",penId:"dba3189"},{x:0,y:1,hidden:!0,id:"225e8799",penId:"dba3189"}],children:[],lineHeight:1.5},{id:"3c81a07d",locked:10,parentId:"734b6268",x:.20844327176781005,y:.46459854014598545,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.503957783641161,height:0,anchors:[{x:1,y:1,hidden:!0,id:"6ab4484",penId:"3c81a07d"},{x:0,y:0,hidden:!0,id:"625af93",penId:"3c81a07d"}],children:[],lineHeight:1.5},{id:"77f99e2b",name:"combine",x:.09630606860158658,y:0,locked:0,width:.8073878627968365,height:.9999999999999997,children:["bbff594","52d89af3","620a535a","ab740cd","ca9fcbe","6dc1ea","e8cd234","b872601"],anchors:[{id:"0",penId:"77f99e2b",x:.9891067538126362,y:.9963503649635037},{id:"1",penId:"77f99e2b",x:.9891067538126362,y:.0036496350364963507}],description:"开关-自复旋转开关-闭合",parentId:"707640bd",lineWidth:1,fontSize:12,lineHeight:1.5,rotate:0,globalAlpha:1,tags:[],ex:.9036939313984231,ey:.9999999999999997},{id:"bbff594",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["06beb47"],parentId:"77f99e2b",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"bbff594"},{x:1,y:.5,id:"1",penId:"bbff594"},{x:.5,y:1,id:"2",penId:"bbff594"},{x:0,y:.5,id:"3",penId:"bbff594"}],rotate:0},{id:"06beb47",locked:10,parentId:"bbff594",x:.7233115468409586,y:.33467153284671536,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.26579520697167763,height:0,anchors:[{x:0,y:1,hidden:!0,id:"6ddf9a66",penId:"06beb47"},{x:1,y:0,hidden:!0,id:"cbb1b0b",penId:"06beb47"}],children:[],lineHeight:1.5},{id:"52d89af3",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["3f3055d"],parentId:"77f99e2b",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"52d89af3"},{x:1,y:.5,id:"1",penId:"52d89af3"},{x:.5,y:1,id:"2",penId:"52d89af3"},{x:0,y:.5,id:"3",penId:"52d89af3"}],rotate:0},{id:"3f3055d",locked:10,parentId:"52d89af3",x:.9891067538126362,y:.6653284671532848,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.331021897810219,anchors:[{x:1,y:0,hidden:!0,id:"68afaca9",penId:"3f3055d"},{x:0,y:1,hidden:!0,id:"74532d0c",penId:"3f3055d"}],children:[],lineHeight:1.5},{id:"620a535a",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["4e4bad61"],parentId:"77f99e2b",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"620a535a"},{x:1,y:.5,id:"1",penId:"620a535a"},{x:.5,y:1,id:"2",penId:"620a535a"},{x:0,y:.5,id:"3",penId:"620a535a"}],rotate:0},{id:"4e4bad61",locked:10,parentId:"620a535a",x:.7494553376906318,y:.2091240875912409,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.23965141612200438,height:.4562043795620438,anchors:[{x:1,y:1,hidden:!0,id:"15104d7",penId:"4e4bad61"},{x:0,y:0,hidden:!0,id:"28abb1e",penId:"4e4bad61"}],children:[],lineHeight:1.5},{id:"ab740cd",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["9575b04"],parentId:"77f99e2b",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"ab740cd"},{x:1,y:.5,id:"1",penId:"ab740cd"},{x:.5,y:1,id:"2",penId:"ab740cd"},{x:0,y:.5,id:"3",penId:"ab740cd"}],rotate:0},{id:"9575b04",locked:10,parentId:"ab740cd",x:.9891067538126362,y:.0036496350364963507,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.331021897810219,anchors:[{x:1,y:0,hidden:!0,id:"b36217e",penId:"9575b04"},{x:0,y:1,hidden:!0,id:"ab49ff1",penId:"9575b04"}],children:[],lineHeight:1.5},{id:"ca9fcbe",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["687f70fc"],parentId:"77f99e2b",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"ca9fcbe"},{x:1,y:.5,id:"1",penId:"ca9fcbe"},{x:.5,y:1,id:"2",penId:"ca9fcbe"},{x:0,y:.5,id:"3",penId:"ca9fcbe"}],rotate:0},{id:"687f70fc",locked:10,parentId:"ca9fcbe",x:.010893246187363835,y:.3354014598540146,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.24727668845315906,height:0,anchors:[{x:0,y:1,hidden:!0,id:"bd0b8a4",penId:"687f70fc"},{x:1,y:0,hidden:!0,id:"9d08cce",penId:"687f70fc"}],children:[],lineHeight:1.5},{id:"6dc1ea",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["a9b9146"],parentId:"77f99e2b",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"6dc1ea"},{x:1,y:.5,id:"1",penId:"6dc1ea"},{x:.5,y:1,id:"2",penId:"6dc1ea"},{x:0,y:.5,id:"3",penId:"6dc1ea"}],rotate:0},{id:"a9b9146",locked:10,parentId:"6dc1ea",x:.2581699346405229,y:.5941605839416059,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.247276688453159,height:0,anchors:[{x:0,y:1,hidden:!0,id:"40bd01fe",penId:"a9b9146"},{x:1,y:0,hidden:!0,id:"17d63f8d",penId:"a9b9146"}],children:[],lineHeight:1.5},{id:"e8cd234",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["5ecc403"],parentId:"77f99e2b",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"e8cd234"},{x:1,y:.5,id:"1",penId:"e8cd234"},{x:.5,y:1,id:"2",penId:"e8cd234"},{x:0,y:.5,id:"3",penId:"e8cd234"}],rotate:0},{id:"5ecc403",locked:10,parentId:"e8cd234",x:.2581699346405229,y:.3354014598540146,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.25875912408759133,anchors:[{x:1,y:0,hidden:!0,id:"acde0ef",penId:"5ecc403"},{x:0,y:1,hidden:!0,id:"d0ca477",penId:"5ecc403"}],children:[],lineHeight:1.5},{id:"b872601",locked:10,parentId:"77f99e2b",x:.2581699346405229,y:.46459854014598545,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.6241830065359477,height:0,anchors:[{x:1,y:1,hidden:!0,id:"b5d8797",penId:"b872601"},{x:0,y:0,hidden:!0,id:"98d15e",penId:"b872601"}],children:[],lineHeight:1.5},{id:"504f755",name:"combine",x:-1354.11184218387,y:2788.662979960327,ex:-1332.6140134424525,ey:2880.514393392928,width:21.49782874141763,height:91.85141343260112,center:{x:-1343.3629278131611,y:2834.5886866766277},children:["9e0dfb","3457cb50"],showChild:0,lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"504f755"},{x:1,y:.5,id:"1",penId:"504f755"},{x:.5,y:1,id:"2",penId:"504f755"},{x:0,y:.5,id:"3",penId:"504f755"}],rotate:0,globalAlpha:1,tags:["duanluqi_wx"],description:"开关-断路器"},{id:"9e0dfb",name:"combine",x:0,y:0,locked:0,width:.9999999999999964,height:.9999999999999997,children:["df01e5d","59bf8d4f","43c3c40","2b0e0ff3","f59771f"],anchors:[{id:"0",penId:"9e0dfb",x:.8375913784007838,y:.0015698587127158557},{id:"1",penId:"9e0dfb",x:.8375913784007838,y:1.001569858712716}],description:"开关-断路器-断开",parentId:"504f755",lineWidth:1,fontSize:12,lineHeight:1.5,rotate:0,globalAlpha:1,tags:[],ex:.9999999999999964,ey:.9999999999999997},{id:"df01e5d",locked:10,parentId:"9e0dfb",x:.8375913784007838,y:.0015698587127158557,rotate:0,color:"#231815",lineWidth:.014111089552502074,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.29645635263612796,anchors:[{x:1,y:0,hidden:!0,id:"c02ac53",penId:"df01e5d"},{x:0,y:1,hidden:!0,id:"cf211b7",penId:"df01e5d"}],children:[],lineHeight:1.5},{id:"59bf8d4f",locked:10,parentId:"9e0dfb",x:.8375913784007838,y:.6682306457587357,rotate:0,color:"#231815",lineWidth:.014111089552502074,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.3333392129539804,anchors:[{x:1,y:0,hidden:!0,id:"5c6982bf",penId:"59bf8d4f"},{x:0,y:1,hidden:!0,id:"a4f9d2c",penId:"59bf8d4f"}],children:[],lineHeight:1.5},{id:"43c3c40",locked:10,parentId:"9e0dfb",x:.6749566659130304,y:.2968267687368812,rotate:0,color:"#231815",lineWidth:.08466653731501243,globalAlpha:null,fontSize:16,matrix:null,name:"svgPath",pathId:"4c10c83b",width:.3252694249755068,height:.07612932813574863,disableAnchor:!0,children:[],lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"43c3c40"},{x:1,y:.5,id:"1",penId:"43c3c40"},{x:.5,y:1,id:"2",penId:"43c3c40"},{x:0,y:.5,id:"3",penId:"43c3c40"}]},{id:"2b0e0ff3",locked:10,parentId:"9e0dfb",x:.057125631170397165,y:.30289453724445703,rotate:0,color:"#231815",lineWidth:.014111089552502074,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.7804657472303866,height:.36533610851427867,anchors:[{x:1,y:1,hidden:!0,id:"16ed797d",penId:"2b0e0ff3"},{x:0,y:0,hidden:!0,id:"2197e1a8",penId:"2b0e0ff3"}],children:[],lineHeight:1.5},{id:"f59771f",locked:10,parentId:"9e0dfb",x:.06556635767578566,y:.42514948935494684,rotate:-27.52,color:"#231815",lineWidth:.014111089552502074,globalAlpha:null,fontSize:16,matrix:null,name:"rectangle",width:.31253297158791166,height:.07314836046778263,borderRadius:0,children:[],lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"f59771f"},{x:1,y:.5,id:"1",penId:"f59771f"},{x:.5,y:1,id:"2",penId:"f59771f"},{x:0,y:.5,id:"3",penId:"f59771f"}]},{id:"3457cb50",name:"combine",x:0,y:0,locked:0,width:.9999999999999964,height:.9999999999999997,children:["6b7d5b","6332554e","f5b393c","df444e3","7d9ae722"],anchors:[{id:"0",penId:"3457cb50",x:.8375913784007838,y:.0015698587127158557},{id:"1",penId:"3457cb50",x:.8375913784007838,y:1.001569858712716}],description:"开关-断路器-闭合",parentId:"504f755",lineWidth:1,fontSize:12,lineHeight:1.5,rotate:0,globalAlpha:1,tags:[],ex:.9999999999999964,ey:.9999999999999997},{id:"6b7d5b",locked:10,parentId:"3457cb50",x:.8375913784007838,y:.0015698587127158557,rotate:0,color:"#231815",lineWidth:.014111089552502074,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.29645635263612796,anchors:[{x:1,y:0,hidden:!0,id:"885dfcc",penId:"6b7d5b"},{x:0,y:1,hidden:!0,id:"1ade8799",penId:"6b7d5b"}],children:[],lineHeight:1.5},{id:"6332554e",locked:10,parentId:"3457cb50",x:.8375913784007838,y:.6682306457587357,rotate:0,color:"#231815",lineWidth:.014111089552502074,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.3333392129539804,anchors:[{x:1,y:0,hidden:!0,id:"71e1ba",penId:"6332554e"},{x:0,y:1,hidden:!0,id:"1908ce43",penId:"6332554e"}],children:[],lineHeight:1.5},{id:"f5b393c",locked:10,parentId:"3457cb50",x:.6749566659130304,y:.2968267687368812,rotate:0,color:"#231815",lineWidth:.08466653731501243,globalAlpha:null,fontSize:16,matrix:null,name:"svgPath",pathId:"6b0139a9",width:.3252694249755068,height:.07612932813574863,disableAnchor:!0,children:[],lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"f5b393c"},{x:1,y:.5,id:"1",penId:"f5b393c"},{x:.5,y:1,id:"2",penId:"f5b393c"},{x:0,y:.5,id:"3",penId:"f5b393c"}]},{id:"df444e3",locked:10,parentId:"3457cb50",x:.6413444871505012,y:.2623604325048948,rotate:0,color:"#231815",lineWidth:.014111089552502074,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.19624689125028266,height:.4058702132538408,anchors:[{x:1,y:1,hidden:!0,id:"3e3d1df",penId:"df444e3"},{x:0,y:0,hidden:!0,id:"44bf6ff",penId:"df444e3"}],children:[],lineHeight:1.5},{id:"7d9ae722",locked:10,parentId:"3457cb50",x:.40643605396035876,y:.3881784347273914,rotate:-7.41,color:"#231815",lineWidth:.014111089552502074,globalAlpha:null,fontSize:16,matrix:null,name:"rectangle",width:.31253297158791166,height:.07314836046778263,borderRadius:0,children:[],lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"7d9ae722"},{x:1,y:.5,id:"1",penId:"7d9ae722"},{x:.5,y:1,id:"2",penId:"7d9ae722"},{x:0,y:.5,id:"3",penId:"7d9ae722"}]},{id:"d5c2232",name:"combine",x:-1216.8859793252482,y:2787.336883583446,ex:-1178.6033829237772,ey:2879.188297016047,width:38.28259640147095,height:91.85141343260112,center:{x:-1197.7446811245127,y:2833.2625902997465},children:["1851cab6","348aed8"],showChild:0,lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"d5c2232"},{x:1,y:.5,id:"1",penId:"d5c2232"},{x:.5,y:1,id:"2",penId:"d5c2232"},{x:0,y:.5,id:"3",penId:"d5c2232"}],rotate:0,globalAlpha:1,tags:["Switch","Btn_SelfReset"],description:"开关-按钮"},{id:"1851cab6",name:"combine",x:0,y:0,locked:0,width:1.0000000000000009,height:.9999999999999997,children:["5415ea3","8235341","3b9f6e93","7caade40","2545ae","6289c32","da14c63"],anchors:[{id:"0",penId:"1851cab6",x:.008756567425569177,y:.3354014598540146},{id:"1",penId:"1851cab6",x:.008756567425569177,y:.594160583941606},{id:"2",penId:"1851cab6",x:.9912434325744308,y:.6653284671532848},{id:"3",penId:"1851cab6",x:.9912434325744308,y:.9963503649635037},{id:"4",penId:"1851cab6",x:.9912434325744308,y:.6653284671532846},{id:"5",penId:"1851cab6",x:.9912434325744308,y:.0036496350364963507},{id:"6",penId:"1851cab6",x:.9912434325744308,y:.33467153284671536},{id:"7",penId:"1851cab6",x:.008756567425569177,y:.46459854014598545}],description:"开关-按钮-断开",parentId:"d5c2232",lineWidth:1,fontSize:12,lineHeight:1.5,rotate:0,globalAlpha:1,tags:[],ex:1.0000000000000009,ey:.9999999999999997},{id:"5415ea3",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["52368382"],parentId:"1851cab6",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"5415ea3"},{x:1,y:.5,id:"1",penId:"5415ea3"},{x:.5,y:1,id:"2",penId:"5415ea3"},{x:0,y:.5,id:"3",penId:"5415ea3"}],rotate:0},{id:"52368382",locked:10,parentId:"5415ea3",x:.013134851138353765,y:.3354014598540146,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.1987740805604203,height:0,anchors:[{x:0,y:1,hidden:!0,id:"3ee233b",penId:"52368382"},{x:1,y:0,hidden:!0,id:"db5796d",penId:"52368382"}],children:[],lineHeight:1.5},{id:"8235341",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["9a59be"],parentId:"1851cab6",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"8235341"},{x:1,y:.5,id:"1",penId:"8235341"},{x:.5,y:1,id:"2",penId:"8235341"},{x:0,y:.5,id:"3",penId:"8235341"}],rotate:0},{id:"9a59be",locked:10,parentId:"8235341",x:.013134851138353765,y:.5941605839416059,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.1987740805604203,height:0,anchors:[{x:0,y:1,hidden:!0,id:"2ed99f6d",penId:"9a59be"},{x:1,y:0,hidden:!0,id:"38603fe",penId:"9a59be"}],children:[],lineHeight:1.5},{id:"3b9f6e93",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["58b79b2d"],parentId:"1851cab6",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"3b9f6e93"},{x:1,y:.5,id:"1",penId:"3b9f6e93"},{x:.5,y:1,id:"2",penId:"3b9f6e93"},{x:0,y:.5,id:"3",penId:"3b9f6e93"}],rotate:0},{id:"58b79b2d",locked:10,parentId:"3b9f6e93",x:.008756567425569177,y:.3354014598540146,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.25875912408759133,anchors:[{x:1,y:0,hidden:!0,id:"578a5708",penId:"58b79b2d"},{x:0,y:1,hidden:!0,id:"2dd6465f",penId:"58b79b2d"}],children:[],lineHeight:1.5},{id:"7caade40",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["d01d2f2"],parentId:"1851cab6",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"7caade40"},{x:1,y:.5,id:"1",penId:"7caade40"},{x:.5,y:1,id:"2",penId:"7caade40"},{x:0,y:.5,id:"3",penId:"7caade40"}],rotate:0},{id:"d01d2f2",locked:10,parentId:"7caade40",x:.9912434325744308,y:.6653284671532848,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.331021897810219,anchors:[{x:1,y:0,hidden:!0,id:"5407908d",penId:"d01d2f2"},{x:0,y:1,hidden:!0,id:"25fcf84",penId:"d01d2f2"}],children:[],lineHeight:1.5},{id:"2545ae",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["7e9aa4"],parentId:"1851cab6",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"2545ae"},{x:1,y:.5,id:"1",penId:"2545ae"},{x:.5,y:1,id:"2",penId:"2545ae"},{x:0,y:.5,id:"3",penId:"2545ae"}],rotate:0},{id:"7e9aa4",locked:10,parentId:"2545ae",x:.43607705779334505,y:.26423357664233577,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.5551663747810858,height:.40109489051094893,anchors:[{x:1,y:1,hidden:!0,id:"63f47920",penId:"7e9aa4"},{x:0,y:0,hidden:!0,id:"2d761783",penId:"7e9aa4"}],children:[],lineHeight:1.5},{id:"6289c32",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["abdd075"],parentId:"1851cab6",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"6289c32"},{x:1,y:.5,id:"1",penId:"6289c32"},{x:.5,y:1,id:"2",penId:"6289c32"},{x:0,y:.5,id:"3",penId:"6289c32"}],rotate:0},{id:"abdd075",locked:10,parentId:"6289c32",x:.9912434325744308,y:.0036496350364963507,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.331021897810219,anchors:[{x:1,y:0,hidden:!0,id:"4cd41f",penId:"abdd075"},{x:0,y:1,hidden:!0,id:"ae23a9d",penId:"abdd075"}],children:[],lineHeight:1.5},{id:"da14c63",locked:10,parentId:"1851cab6",x:.008756567425569177,y:.46459854014598545,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.7049036777583189,height:0,anchors:[{x:1,y:1,hidden:!0,id:"7e2187bc",penId:"da14c63"},{x:0,y:0,hidden:!0,id:"3c848649",penId:"da14c63"}],children:[],lineHeight:1.5},{id:"348aed8",name:"combine",x:.09063047285464522,y:0,locked:0,width:.8187390542907186,height:.9999999999999997,children:["5709b5cb","bb6f8a2","c6a04a4","23ae3733","72f3febc","1ed8fdd","c02a701","2748deb"],anchors:[{id:"0",penId:"348aed8",x:.9893048128342247,y:.9963503649635037},{id:"1",penId:"348aed8",x:.9893048128342247,y:.0036496350364963507}],description:"开关-按钮-闭合",parentId:"d5c2232",lineWidth:1,fontSize:12,lineHeight:1.5,rotate:0,globalAlpha:1,tags:[],ex:.9093695271453638,ey:.9999999999999997},{id:"5709b5cb",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["7da3394d"],parentId:"348aed8",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"5709b5cb"},{x:1,y:.5,id:"1",penId:"5709b5cb"},{x:.5,y:1,id:"2",penId:"5709b5cb"},{x:0,y:.5,id:"3",penId:"5709b5cb"}],rotate:0},{id:"7da3394d",locked:10,parentId:"5709b5cb",x:.7283422459893047,y:.33467153284671536,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.26096256684491986,height:0,anchors:[{x:0,y:1,hidden:!0,id:"47978557",penId:"7da3394d"},{x:1,y:0,hidden:!0,id:"184dd9a",penId:"7da3394d"}],children:[],lineHeight:1.5},{id:"bb6f8a2",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["5918d98"],parentId:"348aed8",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"bb6f8a2"},{x:1,y:.5,id:"1",penId:"bb6f8a2"},{x:.5,y:1,id:"2",penId:"bb6f8a2"},{x:0,y:.5,id:"3",penId:"bb6f8a2"}],rotate:0},{id:"5918d98",locked:10,parentId:"bb6f8a2",x:.010695187165775402,y:.3354014598540146,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.25875912408759133,anchors:[{x:1,y:0,hidden:!0,id:"2238e17",penId:"5918d98"},{x:0,y:1,hidden:!0,id:"85108ed",penId:"5918d98"}],children:[],lineHeight:1.5},{id:"c6a04a4",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["59148ae2"],parentId:"348aed8",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"c6a04a4"},{x:1,y:.5,id:"1",penId:"c6a04a4"},{x:.5,y:1,id:"2",penId:"c6a04a4"},{x:0,y:.5,id:"3",penId:"c6a04a4"}],rotate:0},{id:"59148ae2",locked:10,parentId:"c6a04a4",x:.9893048128342247,y:.6653284671532848,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.331021897810219,anchors:[{x:1,y:0,hidden:!0,id:"34caf87",penId:"59148ae2"},{x:0,y:1,hidden:!0,id:"20782110",penId:"59148ae2"}],children:[],lineHeight:1.5},{id:"23ae3733",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["ca4e4ed"],parentId:"348aed8",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"23ae3733"},{x:1,y:.5,id:"1",penId:"23ae3733"},{x:.5,y:1,id:"2",penId:"23ae3733"},{x:0,y:.5,id:"3",penId:"23ae3733"}],rotate:0},{id:"ca4e4ed",locked:10,parentId:"23ae3733",x:.7540106951871658,y:.2091240875912409,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.23529411764705885,height:.4562043795620438,anchors:[{x:1,y:1,hidden:!0,id:"64667d",penId:"ca4e4ed"},{x:0,y:0,hidden:!0,id:"dc379db",penId:"ca4e4ed"}],children:[],lineHeight:1.5},{id:"72f3febc",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["29c6c39"],parentId:"348aed8",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"72f3febc"},{x:1,y:.5,id:"1",penId:"72f3febc"},{x:.5,y:1,id:"2",penId:"72f3febc"},{x:0,y:.5,id:"3",penId:"72f3febc"}],rotate:0},{id:"29c6c39",locked:10,parentId:"72f3febc",x:.9893048128342247,y:.0036496350364963507,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.331021897810219,anchors:[{x:1,y:0,hidden:!0,id:"642da3a",penId:"29c6c39"},{x:0,y:1,hidden:!0,id:"e8c9ba3",penId:"29c6c39"}],children:[],lineHeight:1.5},{id:"1ed8fdd",locked:10,parentId:"348aed8",x:.010695187165775402,y:.46459854014598545,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.8545454545454546,height:0,anchors:[{x:1,y:1,hidden:!0,id:"2b297c",penId:"1ed8fdd"},{x:0,y:0,hidden:!0,id:"e921f1c",penId:"1ed8fdd"}],children:[],lineHeight:1.5},{id:"c02a701",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["2400598d"],parentId:"348aed8",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"c02a701"},{x:1,y:.5,id:"1",penId:"c02a701"},{x:.5,y:1,id:"2",penId:"c02a701"},{x:0,y:.5,id:"3",penId:"c02a701"}],rotate:0},{id:"2400598d",locked:10,parentId:"c02a701",x:.010695187165775402,y:.5941605839416059,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.24278074866310162,height:0,anchors:[{x:0,y:1,hidden:!0,id:"d2b80bc",penId:"2400598d"},{x:1,y:0,hidden:!0,id:"ce72d63",penId:"2400598d"}],children:[],lineHeight:1.5},{id:"2748deb",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["7aa759c"],parentId:"348aed8",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"2748deb"},{x:1,y:.5,id:"1",penId:"2748deb"},{x:.5,y:1,id:"2",penId:"2748deb"},{x:0,y:.5,id:"3",penId:"2748deb"}],rotate:0},{id:"7aa759c",locked:10,parentId:"2748deb",x:.010695187165775402,y:.3354014598540146,rotate:0,color:"#231815",lineWidth:.29197080291970806,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.24278074866310162,height:0,anchors:[{x:0,y:1,hidden:!0,id:"21e1e38b",penId:"7aa759c"},{x:1,y:0,hidden:!0,id:"3eb788df",penId:"7aa759c"}],children:[],lineHeight:1.5},{id:"d0677b7",name:"combine",x:-1086.0292836927256,y:2787.67210772006,ex:-1059.3897937013883,ey:2879.523521152661,width:26.639489991337413,height:91.85141343260112,center:{x:-1072.7095386970568,y:2833.5978144363607},children:["172592a","cc7f3b6"],showChild:0,lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"d0677b7"},{x:1,y:.5,id:"1",penId:"d0677b7"},{x:.5,y:1,id:"2",penId:"d0677b7"},{x:0,y:.5,id:"3",penId:"d0677b7"}],rotate:0,globalAlpha:1,tags:["Switch"],description:"开关-惯性开关"},{id:"172592a",name:"combine",x:0,y:0,locked:0,width:.9999999999999954,height:.9999999999999997,children:["fa76b81","bcaf08b","2f7165df","ca46ae8","dac4035","4a1b17bd"],anchors:[{id:"0",penId:"172592a",x:.9887005649717514,y:.9976591760299625},{id:"1",penId:"172592a",x:.9887005649717514,y:.0023408239700374533}],description:"开关-惯性开关-断开",parentId:"d0677b7",lineWidth:1,fontSize:12,lineHeight:1.5,rotate:0,globalAlpha:1,tags:[],ex:.9999999999999954,ey:.9999999999999997},{id:"fa76b81",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["1ec9c5e"],parentId:"172592a",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"fa76b81"},{x:1,y:.5,id:"1",penId:"fa76b81"},{x:.5,y:1,id:"2",penId:"fa76b81"},{x:0,y:.5,id:"3",penId:"fa76b81"}],rotate:0},{id:"1ec9c5e",locked:10,parentId:"fa76b81",x:.011299435028248588,y:.5063202247191011,rotate:0,color:"#231815",lineWidth:.18726591760299627,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.2857142857142857,height:.14372659176029964,anchors:[{x:0,y:0,hidden:!0,id:"ab43420",penId:"1ec9c5e"},{x:1,y:1,hidden:!0,id:"398143e1",penId:"1ec9c5e"}],children:[],lineHeight:1.5},{id:"bcaf08b",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["1455e2fd"],parentId:"172592a",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"bcaf08b"},{x:1,y:.5,id:"1",penId:"bcaf08b"},{x:.5,y:1,id:"2",penId:"bcaf08b"},{x:0,y:.5,id:"3",penId:"bcaf08b"}],rotate:0},{id:"1455e2fd",locked:10,parentId:"bcaf08b",x:.011299435028248588,y:.4234550561797753,rotate:0,color:"#231815",lineWidth:.18726591760299627,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.49475383373688453,height:.08286516853932582,anchors:[{x:1,y:0,hidden:!0,id:"832da14",penId:"1455e2fd"},{x:0,y:1,hidden:!0,id:"cbe28eb",penId:"1455e2fd"}],children:[],lineHeight:1.5},{id:"2f7165df",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["7b5447a"],parentId:"172592a",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"2f7165df"},{x:1,y:.5,id:"1",penId:"2f7165df"},{x:.5,y:1,id:"2",penId:"2f7165df"},{x:0,y:.5,id:"3",penId:"2f7165df"}],rotate:0},{id:"7b5447a",locked:10,parentId:"2f7165df",x:.9887005649717514,y:.6659644194756554,rotate:0,color:"#231815",lineWidth:.18726591760299627,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.3316947565543071,anchors:[{x:1,y:0,hidden:!0,id:"1fed1dd5",penId:"7b5447a"},{x:0,y:1,hidden:!0,id:"62e1ccba",penId:"7b5447a"}],children:[],lineHeight:1.5},{id:"ca46ae8",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["b0bf3df"],parentId:"172592a",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"ca46ae8"},{x:1,y:.5,id:"1",penId:"ca46ae8"},{x:.5,y:1,id:"2",penId:"ca46ae8"},{x:0,y:.5,id:"3",penId:"ca46ae8"}],rotate:0},{id:"b0bf3df",locked:10,parentId:"ca46ae8",x:.9887005649717514,y:.0023408239700374533,rotate:0,color:"#231815",lineWidth:.18726591760299627,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.33169475655430714,anchors:[{x:1,y:0,hidden:!0,id:"142820bb",penId:"b0bf3df"},{x:0,y:1,hidden:!0,id:"37fc1daa",penId:"b0bf3df"}],children:[],lineHeight:1.5},{id:"dac4035",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["651dbbe"],parentId:"172592a",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"dac4035"},{x:1,y:.5,id:"1",penId:"dac4035"},{x:.5,y:1,id:"2",penId:"dac4035"},{x:0,y:.5,id:"3",penId:"dac4035"}],rotate:0},{id:"651dbbe",locked:10,parentId:"dac4035",x:.1880548829701372,y:.26357677902621723,rotate:0,color:"#231815",lineWidth:.18726591760299627,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.8006456820016141,height:.40238764044943814,anchors:[{x:1,y:1,hidden:!0,id:"f13b315",penId:"651dbbe"},{x:0,y:0,hidden:!0,id:"2188a6f",penId:"651dbbe"}],children:[],lineHeight:1.5},{id:"4a1b17bd",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["d7cf5da"],parentId:"172592a",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"4a1b17bd"},{x:1,y:.5,id:"1",penId:"4a1b17bd"},{x:.5,y:1,id:"2",penId:"4a1b17bd"},{x:0,y:.5,id:"3",penId:"4a1b17bd"}],rotate:0},{id:"d7cf5da",locked:10,parentId:"4a1b17bd",x:.2397094430992736,y:.6334269662921348,rotate:0,color:"#231815",lineWidth:.18726591760299627,globalAlpha:null,fontSize:16,matrix:null,name:"circle",width:.11460855528652138,height:.03323970037453183,children:[],lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"d7cf5da"},{x:1,y:.5,id:"1",penId:"d7cf5da"},{x:.5,y:1,id:"2",penId:"d7cf5da"},{x:0,y:.5,id:"3",penId:"d7cf5da"}]},{id:"cc7f3b6",name:"combine",x:.16101694915254353,y:0,locked:0,width:.6779661016949121,height:.9999999999999997,children:["9c5994f","85f3ee","a69020c","76e6bcb","cdf33e","63b03a4","3e70cd"],anchors:[{id:"0",penId:"cc7f3b6",x:.9857142857142855,y:.9976591760299625},{id:"1",penId:"cc7f3b6",x:.9857142857142855,y:.0023408239700374533}],description:"开关-惯性开关-闭合",parentId:"d0677b7",lineWidth:1,fontSize:12,lineHeight:1.5,rotate:0,globalAlpha:1,tags:[],ex:.8389830508474556,ey:.9999999999999997},{id:"9c5994f",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["12829e70"],parentId:"cc7f3b6",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"9c5994f"},{x:1,y:.5,id:"1",penId:"9c5994f"},{x:.5,y:1,id:"2",penId:"9c5994f"},{x:0,y:.5,id:"3",penId:"9c5994f"}],rotate:0},{id:"12829e70",locked:10,parentId:"9c5994f",x:.02261904761904762,y:.4014513108614232,rotate:0,color:"#231815",lineWidth:.18726591760299627,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.07380952380952382,height:.16526217228464427,anchors:[{x:0,y:0,hidden:!0,id:"5df6aefc",penId:"12829e70"},{x:1,y:1,hidden:!0,id:"5eae3db5",penId:"12829e70"}],children:[],lineHeight:1.5},{id:"85f3ee",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["f957342"],parentId:"cc7f3b6",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"85f3ee"},{x:1,y:.5,id:"1",penId:"85f3ee"},{x:.5,y:1,id:"2",penId:"85f3ee"},{x:0,y:.5,id:"3",penId:"85f3ee"}],rotate:0},{id:"f957342",locked:10,parentId:"85f3ee",x:.02261904761904762,y:.38693820224719105,rotate:0,color:"#231815",lineWidth:.18726591760299627,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.8404761904761904,height:.01451310861423215,anchors:[{x:1,y:0,hidden:!0,id:"6678d636",penId:"f957342"},{x:0,y:1,hidden:!0,id:"7cfd80c",penId:"f957342"}],children:[],lineHeight:1.5},{id:"a69020c",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["2763b646"],parentId:"cc7f3b6",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"a69020c"},{x:1,y:.5,id:"1",penId:"a69020c"},{x:.5,y:1,id:"2",penId:"a69020c"},{x:0,y:.5,id:"3",penId:"a69020c"}],rotate:0},{id:"2763b646",locked:10,parentId:"a69020c",x:.9857142857142855,y:.6659644194756554,rotate:0,color:"#231815",lineWidth:.18726591760299627,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.3316947565543071,anchors:[{x:1,y:0,hidden:!0,id:"6970420",penId:"2763b646"},{x:0,y:1,hidden:!0,id:"70a7ada5",penId:"2763b646"}],children:[],lineHeight:1.5},{id:"76e6bcb",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["103ff180"],parentId:"cc7f3b6",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"76e6bcb"},{x:1,y:.5,id:"1",penId:"76e6bcb"},{x:.5,y:1,id:"2",penId:"76e6bcb"},{x:0,y:.5,id:"3",penId:"76e6bcb"}],rotate:0},{id:"103ff180",locked:10,parentId:"76e6bcb",x:.9857142857142855,y:.0023408239700374533,rotate:0,color:"#231815",lineWidth:.18726591760299627,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.33169475655430714,anchors:[{x:1,y:0,hidden:!0,id:"8d4d71f",penId:"103ff180"},{x:0,y:1,hidden:!0,id:"53cda15",penId:"103ff180"}],children:[],lineHeight:1.5},{id:"cdf33e",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["4c490749"],parentId:"cc7f3b6",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"cdf33e"},{x:1,y:.5,id:"1",penId:"cdf33e"},{x:.5,y:1,id:"2",penId:"cdf33e"},{x:0,y:.5,id:"3",penId:"cdf33e"}],rotate:0},{id:"4c490749",locked:10,parentId:"cdf33e",x:.7809523809523808,y:.20318352059925093,rotate:0,color:"#231815",lineWidth:.18726591760299627,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.2059523809523809,height:.4627808988764045,anchors:[{x:1,y:1,hidden:!0,id:"3f497cd2",penId:"4c490749"},{x:0,y:0,hidden:!0,id:"4e390436",penId:"4c490749"}],children:[],lineHeight:1.5},{id:"63b03a4",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["dae1a6"],parentId:"cc7f3b6",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"63b03a4"},{x:1,y:.5,id:"1",penId:"63b03a4"},{x:.5,y:1,id:"2",penId:"63b03a4"},{x:0,y:.5,id:"3",penId:"63b03a4"}],rotate:0},{id:"dae1a6",locked:10,parentId:"63b03a4",x:.011904761904761915,y:.5500936329588015,rotate:0,color:"#231815",lineWidth:.18726591760299627,globalAlpha:null,fontSize:16,matrix:null,name:"circle",width:.16904761904761903,height:.03323970037453183,children:[],lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"dae1a6"},{x:1,y:.5,id:"1",penId:"dae1a6"},{x:.5,y:1,id:"2",penId:"dae1a6"},{x:0,y:.5,id:"3",penId:"dae1a6"}]},{id:"3e70cd",name:"combine",x:0,y:0,locked:10,width:1,height:1,children:["f157420"],parentId:"cc7f3b6",lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"3e70cd"},{x:1,y:.5,id:"1",penId:"3e70cd"},{x:.5,y:1,id:"2",penId:"3e70cd"},{x:0,y:.5,id:"3",penId:"3e70cd"}],rotate:0},{id:"f157420",locked:10,parentId:"3e70cd",x:.6952380952380952,y:.33403558052434457,rotate:0,color:"#231815",lineWidth:.18726591760299627,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.2904761904761904,height:0,anchors:[{x:0,y:1,hidden:!0,id:"538c0f5",penId:"f157420"},{x:1,y:0,hidden:!0,id:"7d70609a",penId:"f157420"}],children:[],lineHeight:1.5},{id:"ab399f5",name:"combine",x:-948.9944812432741,y:2783.591358014707,ex:-890.9724616253116,ey:2875.442771447308,width:58.02201961796249,height:91.85141343260112,center:{x:-919.9834714342928,y:2829.517064731008},children:["57971e6","85cc95b","43468a30"],showChild:0,lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"ab399f5"},{x:1,y:.5,id:"1",penId:"ab399f5"},{x:.5,y:1,id:"2",penId:"ab399f5"},{x:0,y:.5,id:"3",penId:"ab399f5"}],rotate:0,globalAlpha:1,tags:["Switch","MultipleContact","MultipleContact-2"],description:"开关-单刀双掷"},{id:"57971e6",name:"combine",x:0,y:0,locked:0,width:1.0000000000000018,height:.9999999999999997,children:["4307c73","98d918e","949a86a","ccfd4d","7ad5a4c"],anchors:[{id:"0",penId:"57971e6",x:.5,y:1},{id:"1",penId:"57971e6",x:.8573297730307076,y:.0012650754828371425},{id:"2",penId:"57971e6",x:.14267022696929238,y:.0012650754828371425}],description:"开关-单刀双掷-中间位",parentId:"ab399f5",lineWidth:1,fontSize:12,lineHeight:1.5,rotate:0,globalAlpha:1,tags:[],ex:1.0000000000000018,ey:.9999999999999997},{id:"4307c73",locked:10,parentId:"57971e6",x:.4218691588785047,y:.5947035506451884,rotate:0,background:"#231815",lineWidth:0,globalAlpha:null,fontSize:16,matrix:null,name:"svgPath",pathId:"7c4f510",width:.1562616822429906,height:.09870962300750608,disableAnchor:!0,children:[],lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"4307c73"},{x:1,y:.5,id:"1",penId:"4307c73"},{x:.5,y:1,id:"2",penId:"4307c73"},{x:0,y:.5,id:"3",penId:"4307c73"}]},{id:"98d918e",locked:10,parentId:"57971e6",x:.5,y:.6892131230496753,rotate:0,color:"#231815",lineWidth:.013494138483596188,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.3107868769503247,anchors:[{x:1,y:1,hidden:!0,id:"6e6fa01",penId:"98d918e"},{x:0,y:0,hidden:!0,id:"3c8e069",penId:"98d918e"}],children:[],lineHeight:1.5},{id:"949a86a",locked:10,parentId:"57971e6",x:.8573297730307076,y:.0012650754828371425,rotate:0,color:"#231815",lineWidth:.013494138483596188,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.3107868769503247,anchors:[{x:1,y:0,hidden:!0,id:"7d46f63f",penId:"949a86a"},{x:0,y:1,hidden:!0,id:"500c5ac",penId:"949a86a"}],children:[],lineHeight:1.5},{id:"ccfd4d",locked:10,parentId:"57971e6",x:.14267022696929238,y:.0012650754828371425,rotate:0,color:"#231815",lineWidth:.013494138483596188,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.3107868769503247,anchors:[{x:1,y:0,hidden:!0,id:"3fb8d837",penId:"ccfd4d"},{x:0,y:1,hidden:!0,id:"ec176e",penId:"ccfd4d"}],children:[],lineHeight:1.5},{id:"7ad5a4c",locked:10,parentId:"57971e6",x:.5,y:.19261195918023108,rotate:0,color:"#231815",lineWidth:.013494138483596188,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.4063085097410812,anchors:[{x:1,y:0,hidden:!0,id:"0930080",penId:"7ad5a4c"},{x:0,y:1,hidden:!0,id:"589a943d",penId:"7ad5a4c"}],children:[],lineHeight:1.5},{id:"85cc95b",name:"combine",x:0,y:0,locked:0,width:1.0000000000000018,height:.9999999999999997,children:["4b53bbd","fa52a46","02e1616","d7e2c46","955cd37"],anchors:[{id:"0",penId:"85cc95b",x:.5,y:1},{id:"1",penId:"85cc95b",x:.8573297730307076,y:.0012650754828371425},{id:"2",penId:"85cc95b",x:.14267022696929238,y:.0012650754828371425}],description:"开关-单刀双掷-右位",parentId:"ab399f5",lineWidth:1,fontSize:12,lineHeight:1.5,rotate:0,globalAlpha:1,tags:[],ex:1.0000000000000018,ey:.9999999999999997},{id:"4b53bbd",locked:10,parentId:"85cc95b",x:.4218691588785047,y:.5947035506451884,rotate:0,background:"#231815",lineWidth:0,globalAlpha:null,fontSize:16,matrix:null,name:"svgPath",pathId:"86524f3",width:.1562616822429906,height:.09870962300750608,disableAnchor:!0,children:[],lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"4b53bbd"},{x:1,y:.5,id:"1",penId:"4b53bbd"},{x:.5,y:1,id:"2",penId:"4b53bbd"},{x:0,y:.5,id:"3",penId:"4b53bbd"}]},{id:"fa52a46",locked:10,parentId:"85cc95b",x:.5,y:.6892131230496753,rotate:0,color:"#231815",lineWidth:.013494138483596188,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.3107868769503247,anchors:[{x:1,y:1,hidden:!0,id:"fe24266",penId:"fa52a46"},{x:0,y:0,hidden:!0,id:"862ece6",penId:"fa52a46"}],children:[],lineHeight:1.5},{id:"02e1616",locked:10,parentId:"85cc95b",x:.8573297730307076,y:.0012650754828371425,rotate:0,color:"#231815",lineWidth:.013494138483596188,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.3107868769503247,anchors:[{x:1,y:0,hidden:!0,id:"18932e09",penId:"02e1616"},{x:0,y:1,hidden:!0,id:"3be85b31",penId:"02e1616"}],children:[],lineHeight:1.5},{id:"d7e2c46",locked:10,parentId:"85cc95b",x:.14267022696929238,y:.0012650754828371425,rotate:0,color:"#231815",lineWidth:.013494138483596188,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.3107868769503247,anchors:[{x:1,y:0,hidden:!0,id:"bdb07a5",penId:"d7e2c46"},{x:0,y:1,hidden:!0,id:"60b42e",penId:"d7e2c46"}],children:[],lineHeight:1.5},{id:"955cd37",locked:10,parentId:"85cc95b",x:.5,y:.27870456270557475,rotate:0,color:"#231815",lineWidth:.013494138483596188,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.4018958611481976,height:.3172303280762419,anchors:[{x:1,y:0,hidden:!0,id:"7a11b2b",penId:"955cd37"},{x:0,y:1,hidden:!0,id:"1d8894f0",penId:"955cd37"}],children:[],lineHeight:1.5},{id:"43468a30",name:"combine",x:0,y:0,locked:0,width:1.0000000000000018,height:.9999999999999997,children:["916f56a","439ca78d","23b4ff4e","2af47a96","2f6018"],anchors:[{id:"0",penId:"43468a30",x:.5,y:1},{id:"1",penId:"43468a30",x:.8573297730307076,y:.0012650754828371425},{id:"2",penId:"43468a30",x:.14267022696929238,y:.0012650754828371425}],description:"开关-单刀双掷-左位",parentId:"ab399f5",lineWidth:1,fontSize:12,lineHeight:1.5,rotate:0,globalAlpha:1,tags:[],ex:1.0000000000000018,ey:.9999999999999997},{id:"916f56a",locked:10,parentId:"43468a30",x:.4218691588785047,y:.5947035506451884,rotate:0,background:"#231815",lineWidth:0,globalAlpha:null,fontSize:16,matrix:null,name:"svgPath",pathId:"3580bcf4",width:.1562616822429906,height:.09870962300750608,disableAnchor:!0,children:[],lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"916f56a"},{x:1,y:.5,id:"1",penId:"916f56a"},{x:.5,y:1,id:"2",penId:"916f56a"},{x:0,y:.5,id:"3",penId:"916f56a"}]},{id:"439ca78d",locked:10,parentId:"43468a30",x:.5,y:.6892131230496753,rotate:0,color:"#231815",lineWidth:.013494138483596188,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.3107868769503247,anchors:[{x:1,y:1,hidden:!0,id:"13990b7",penId:"439ca78d"},{x:0,y:0,hidden:!0,id:"0fadb82",penId:"439ca78d"}],children:[],lineHeight:1.5},{id:"23b4ff4e",locked:10,parentId:"43468a30",x:.8573297730307076,y:.0012650754828371425,rotate:0,color:"#231815",lineWidth:.013494138483596188,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.3107868769503247,anchors:[{x:1,y:0,hidden:!0,id:"dbcbf67",penId:"23b4ff4e"},{x:0,y:1,hidden:!0,id:"5d684b3",penId:"23b4ff4e"}],children:[],lineHeight:1.5},{id:"2af47a96",locked:10,parentId:"43468a30",x:.14267022696929238,y:.0012650754828371425,rotate:0,color:"#231815",lineWidth:.013494138483596188,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.3107868769503247,anchors:[{x:1,y:0,hidden:!0,id:"1f2fe4b0",penId:"2af47a96"},{x:0,y:1,hidden:!0,id:"41b4553",penId:"2af47a96"}],children:[],lineHeight:1.5},{id:"2f6018",locked:10,parentId:"43468a30",x:.09810413885180241,y:.27870456270557475,rotate:0,color:"#231815",lineWidth:.013494138483596188,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.4018958611481976,height:.3172303280762419,anchors:[{x:0,y:0,hidden:!0,id:"43b054a",penId:"2f6018"},{x:1,y:1,hidden:!0,id:"0b73ba3",penId:"2f6018"}],children:[],lineHeight:1.5},{id:"0eca90c",name:"combine",x:-811.1132453099428,y:2785.70796615796,ex:-753.0912256919803,ey:2877.559379590561,width:58.02201961796249,height:91.85141343260112,center:{x:-782.1022355009616,y:2831.633672874261},children:["a50a9d","107ef2a","9aadb9a"],showChild:0,lineWidth:1,fontSize:12,lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"0eca90c"},{x:1,y:.5,id:"1",penId:"0eca90c"},{x:.5,y:1,id:"2",penId:"0eca90c"},{x:0,y:.5,id:"3",penId:"0eca90c"}],rotate:0,globalAlpha:1,tags:["Switch","MultipleContact","MultipleContact-3"],description:"开关-三位置"},{id:"a50a9d",name:"combine",x:0,y:0,locked:0,width:1.0000000000000018,height:.9999999999999997,children:["d6af092","3467a0e2","4ad10d99","f741643","5d94b170","2a8895f","5a704f56","115c7ac","20d57ad"],anchors:[{id:"0",penId:"a50a9d",x:.5,y:1},{id:"1",penId:"a50a9d",x:.8573297730307076,y:.0012650754828371425},{id:"2",penId:"a50a9d",x:.5,y:.0012650754828371425},{id:"3",penId:"a50a9d",x:.14267022696929238,y:.0012650754828371425},{id:"4",penId:"a50a9d",x:0,y:.343324618368896}],description:"开关-三位置-1位",parentId:"0eca90c",lineWidth:1,fontSize:12,lineHeight:1.5,rotate:0,globalAlpha:1,tags:[],ex:1.0000000000000018,ey:.9999999999999997},{id:"d6af092",locked:10,parentId:"a50a9d",x:.4218691588785047,y:.5947035506451884,rotate:0,background:"#231815",lineWidth:0,globalAlpha:null,fontSize:16,matrix:null,name:"svgPath",pathId:"65bdccc",width:.1562616822429906,height:.09870962300750608,disableAnchor:!0,children:[],lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"d6af092"},{x:1,y:.5,id:"1",penId:"d6af092"},{x:.5,y:1,id:"2",penId:"d6af092"},{x:0,y:.5,id:"3",penId:"d6af092"}]},{id:"3467a0e2",locked:10,parentId:"a50a9d",x:.06453938584779706,y:.307835034157038,rotate:0,background:"#231815",lineWidth:0,globalAlpha:null,fontSize:16,matrix:null,name:"svgPath",pathId:"c781765",width:.15626168224299064,height:.09870962300750608,disableAnchor:!0,children:[],lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"3467a0e2"},{x:1,y:.5,id:"1",penId:"3467a0e2"},{x:.5,y:1,id:"2",penId:"3467a0e2"},{x:0,y:.5,id:"3",penId:"3467a0e2"}]},{id:"4ad10d99",locked:10,parentId:"a50a9d",x:.7791989319092123,y:.307835034157038,rotate:0,background:"#231815",lineWidth:0,globalAlpha:null,fontSize:16,matrix:null,name:"svgPath",pathId:"fb19b70",width:.1562616822429906,height:.09870962300750608,disableAnchor:!0,children:[],lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"4ad10d99"},{x:1,y:.5,id:"1",penId:"4ad10d99"},{x:.5,y:1,id:"2",penId:"4ad10d99"},{x:0,y:.5,id:"3",penId:"4ad10d99"}]},{id:"f741643",locked:10,parentId:"a50a9d",x:.5,y:.6892131230496753,rotate:0,color:"#231815",lineWidth:.013494138483596188,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.3107868769503247,anchors:[{x:1,y:1,hidden:!0,id:"8e35710",penId:"f741643"},{x:0,y:0,hidden:!0,id:"2e21b8a",penId:"f741643"}],children:[],lineHeight:1.5},{id:"5d94b170",locked:10,parentId:"a50a9d",x:.8573297730307076,y:.0012650754828371425,rotate:0,color:"#231815",lineWidth:.013494138483596188,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.3107868769503247,anchors:[{x:1,y:0,hidden:!0,id:"8122d9",penId:"5d94b170"},{x:0,y:1,hidden:!0,id:"7c17ab3",penId:"5d94b170"}],children:[],lineHeight:1.5},{id:"2a8895f",locked:10,parentId:"a50a9d",x:.4218691588785047,y:.307835034157038,rotate:0,background:"#231815",lineWidth:0,globalAlpha:null,fontSize:16,matrix:null,name:"svgPath",pathId:"f51068",width:.1562616822429906,height:.09870962300750608,disableAnchor:!0,children:[],lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"2a8895f"},{x:1,y:.5,id:"1",penId:"2a8895f"},{x:.5,y:1,id:"2",penId:"2a8895f"},{x:0,y:.5,id:"3",penId:"2a8895f"}]},{id:"5a704f56",locked:10,parentId:"a50a9d",x:.5,y:.0012650754828371425,rotate:0,color:"#231815",lineWidth:.013494138483596188,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.3107868769503247,anchors:[{x:1,y:0,hidden:!0,id:"33773e33",penId:"5a704f56"},{x:0,y:1,hidden:!0,id:"59c0fe1",penId:"5a704f56"}],children:[],lineHeight:1.5},{id:"115c7ac",locked:10,parentId:"a50a9d",x:.14267022696929238,y:.0012650754828371425,rotate:0,color:"#231815",lineWidth:.013494138483596188,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.3107868769503247,anchors:[{x:1,y:0,hidden:!0,id:"1f84dc0f",penId:"115c7ac"},{x:0,y:1,hidden:!0,id:"4db08d42",penId:"115c7ac"}],children:[],lineHeight:1.5},{id:"20d57ad",locked:10,parentId:"a50a9d",x:0,y:.343324618368896,rotate:0,color:"#231815",lineWidth:.013494138483596188,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.5,height:.2555958505524163,anchors:[{x:0,y:0,hidden:!0,id:"ae696ae",penId:"20d57ad"},{x:1,y:1,hidden:!0,id:"8e1bd1",penId:"20d57ad"}],children:[],lineHeight:1.5},{id:"107ef2a",name:"combine",x:0,y:0,locked:0,width:1.0000000000000018,height:.9999999999999997,children:["a25934b","3b89ef1","fa3bc2c","f7642c6","645786d","1051430","54cf7428","6d80bb9","db08d80"],anchors:[{id:"0",penId:"107ef2a",x:.5,y:1},{id:"1",penId:"107ef2a",x:.8573297730307076,y:.0012650754828371425},{id:"2",penId:"107ef2a",x:.5,y:.0012650754828371425},{id:"3",penId:"107ef2a",x:.14267022696929238,y:.0012650754828371425}],description:"开关-三位置-2位",parentId:"0eca90c",lineWidth:1,fontSize:12,lineHeight:1.5,rotate:0,globalAlpha:1,tags:[],ex:1.0000000000000018,ey:.9999999999999997},{id:"a25934b",locked:10,parentId:"107ef2a",x:.4218691588785047,y:.5947035506451884,rotate:0,background:"#231815",lineWidth:0,globalAlpha:null,fontSize:16,matrix:null,name:"svgPath",pathId:"a0ecd01",width:.1562616822429906,height:.09870962300750608,disableAnchor:!0,children:[],lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"a25934b"},{x:1,y:.5,id:"1",penId:"a25934b"},{x:.5,y:1,id:"2",penId:"a25934b"},{x:0,y:.5,id:"3",penId:"a25934b"}]},{id:"3b89ef1",locked:10,parentId:"107ef2a",x:.06453938584779706,y:.307835034157038,rotate:0,background:"#231815",lineWidth:0,globalAlpha:null,fontSize:16,matrix:null,name:"svgPath",pathId:"f5f5e77",width:.15626168224299064,height:.09870962300750608,disableAnchor:!0,children:[],lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"3b89ef1"},{x:1,y:.5,id:"1",penId:"3b89ef1"},{x:.5,y:1,id:"2",penId:"3b89ef1"},{x:0,y:.5,id:"3",penId:"3b89ef1"}]},{id:"fa3bc2c",locked:10,parentId:"107ef2a",x:.7791989319092123,y:.307835034157038,rotate:0,background:"#231815",lineWidth:0,globalAlpha:null,fontSize:16,matrix:null,name:"svgPath",pathId:"5f71e1f6",width:.1562616822429906,height:.09870962300750608,disableAnchor:!0,children:[],lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"fa3bc2c"},{x:1,y:.5,id:"1",penId:"fa3bc2c"},{x:.5,y:1,id:"2",penId:"fa3bc2c"},{x:0,y:.5,id:"3",penId:"fa3bc2c"}]},{id:"f7642c6",locked:10,parentId:"107ef2a",x:.5,y:.6892131230496753,rotate:0,color:"#231815",lineWidth:.013494138483596188,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.3107868769503247,anchors:[{x:1,y:1,hidden:!0,id:"67a13704",penId:"f7642c6"},{x:0,y:0,hidden:!0,id:"47d950be",penId:"f7642c6"}],children:[],lineHeight:1.5},{id:"645786d",locked:10,parentId:"107ef2a",x:.8573297730307076,y:.0012650754828371425,rotate:0,color:"#231815",lineWidth:.013494138483596188,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.3107868769503247,anchors:[{x:1,y:0,hidden:!0,id:"e6fea73",penId:"645786d"},{x:0,y:1,hidden:!0,id:"8f3f0e",penId:"645786d"}],children:[],lineHeight:1.5},{id:"1051430",locked:10,parentId:"107ef2a",x:.4218691588785047,y:.307835034157038,rotate:0,background:"#231815",lineWidth:0,globalAlpha:null,fontSize:16,matrix:null,name:"svgPath",pathId:"3ae6546f",width:.1562616822429906,height:.09870962300750608,disableAnchor:!0,children:[],lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"1051430"},{x:1,y:.5,id:"1",penId:"1051430"},{x:.5,y:1,id:"2",penId:"1051430"},{x:0,y:.5,id:"3",penId:"1051430"}]},{id:"54cf7428",locked:10,parentId:"107ef2a",x:.5,y:.0012650754828371425,rotate:0,color:"#231815",lineWidth:.013494138483596188,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.3107868769503247,anchors:[{x:1,y:0,hidden:!0,id:"40d8499d",penId:"54cf7428"},{x:0,y:1,hidden:!0,id:"76314f06",penId:"54cf7428"}],children:[],lineHeight:1.5},{id:"6d80bb9",locked:10,parentId:"107ef2a",x:.14267022696929238,y:.0012650754828371425,rotate:0,color:"#231815",lineWidth:.013494138483596188,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.3107868769503247,anchors:[{x:1,y:0,hidden:!0,id:"41f5bfb1",penId:"6d80bb9"},{x:0,y:1,hidden:!0,id:"463311d1",penId:"6d80bb9"}],children:[],lineHeight:1.5},{id:"db08d80",locked:10,parentId:"107ef2a",x:.36443257676902535,y:.19919035169098423,rotate:0,color:"#231815",lineWidth:.013494138483596188,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.13556742323097465,height:.39718309859154927,anchors:[{x:0,y:0,hidden:!0,id:"af5e575",penId:"db08d80"},{x:1,y:1,hidden:!0,id:"612cb4c5",penId:"db08d80"}],children:[],lineHeight:1.5},{id:"9aadb9a",name:"combine",x:0,y:0,locked:0,width:1.0000000000000018,height:.9999999999999997,children:["74570835","1275566","4a0de302","49f9637b","5eb9b2bb","122626c","2595364","68978eb","ffe92b7"],anchors:[{id:"0",penId:"9aadb9a",x:.5,y:1},{id:"1",penId:"9aadb9a",x:.8573297730307076,y:.0012650754828371425},{id:"2",penId:"9aadb9a",x:.5,y:.0012650754828371425},{id:"3",penId:"9aadb9a",x:.14267022696929238,y:.0012650754828371425},{id:"4",penId:"9aadb9a",x:1,y:.343324618368896}],description:"开关-三位置-3位",parentId:"0eca90c",lineWidth:1,fontSize:12,lineHeight:1.5,rotate:0,globalAlpha:1,tags:[],ex:1.0000000000000018,ey:.9999999999999997},{id:"74570835",locked:10,parentId:"9aadb9a",x:.4218691588785047,y:.5947035506451884,rotate:0,background:"#231815",lineWidth:0,globalAlpha:null,fontSize:16,matrix:null,name:"svgPath",pathId:"3fd48a86",width:.1562616822429906,height:.09870962300750608,disableAnchor:!0,children:[],lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"74570835"},{x:1,y:.5,id:"1",penId:"74570835"},{x:.5,y:1,id:"2",penId:"74570835"},{x:0,y:.5,id:"3",penId:"74570835"}]},{id:"1275566",locked:10,parentId:"9aadb9a",x:.06453938584779706,y:.307835034157038,rotate:0,background:"#231815",lineWidth:0,globalAlpha:null,fontSize:16,matrix:null,name:"svgPath",pathId:"9efe400",width:.15626168224299064,height:.09870962300750608,disableAnchor:!0,children:[],lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"1275566"},{x:1,y:.5,id:"1",penId:"1275566"},{x:.5,y:1,id:"2",penId:"1275566"},{x:0,y:.5,id:"3",penId:"1275566"}]},{id:"4a0de302",locked:10,parentId:"9aadb9a",x:.7791989319092123,y:.307835034157038,rotate:0,background:"#231815",lineWidth:0,globalAlpha:null,fontSize:16,matrix:null,name:"svgPath",pathId:"2208226c",width:.1562616822429906,height:.09870962300750608,disableAnchor:!0,children:[],lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"4a0de302"},{x:1,y:.5,id:"1",penId:"4a0de302"},{x:.5,y:1,id:"2",penId:"4a0de302"},{x:0,y:.5,id:"3",penId:"4a0de302"}]},{id:"49f9637b",locked:10,parentId:"9aadb9a",x:.5,y:.6892131230496753,rotate:0,color:"#231815",lineWidth:.013494138483596188,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.3107868769503247,anchors:[{x:1,y:1,hidden:!0,id:"0fc9b23",penId:"49f9637b"},{x:0,y:0,hidden:!0,id:"44b1230",penId:"49f9637b"}],children:[],lineHeight:1.5},{id:"5eb9b2bb",locked:10,parentId:"9aadb9a",x:.8573297730307076,y:.0012650754828371425,rotate:0,color:"#231815",lineWidth:.013494138483596188,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.3107868769503247,anchors:[{x:1,y:0,hidden:!0,id:"093fb83",penId:"5eb9b2bb"},{x:0,y:1,hidden:!0,id:"177adc9",penId:"5eb9b2bb"}],children:[],lineHeight:1.5},{id:"122626c",locked:10,parentId:"9aadb9a",x:.4218691588785047,y:.307835034157038,rotate:0,background:"#231815",lineWidth:0,globalAlpha:null,fontSize:16,matrix:null,name:"svgPath",pathId:"387b959b",width:.1562616822429906,height:.09870962300750608,disableAnchor:!0,children:[],lineHeight:1.5,anchors:[{x:.5,y:0,id:"0",penId:"122626c"},{x:1,y:.5,id:"1",penId:"122626c"},{x:.5,y:1,id:"2",penId:"122626c"},{x:0,y:.5,id:"3",penId:"122626c"}]},{id:"2595364",locked:10,parentId:"9aadb9a",x:.5,y:.0012650754828371425,rotate:0,color:"#231815",lineWidth:.013494138483596188,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.3107868769503247,anchors:[{x:1,y:0,hidden:!0,id:"db4123e",penId:"2595364"},{x:0,y:1,hidden:!0,id:"778193f",penId:"2595364"}],children:[],lineHeight:1.5},{id:"68978eb",locked:10,parentId:"9aadb9a",x:.14267022696929238,y:.0012650754828371425,rotate:0,color:"#231815",lineWidth:.013494138483596188,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:0,height:.3107868769503247,anchors:[{x:1,y:0,hidden:!0,id:"66888a0",penId:"68978eb"},{x:0,y:1,hidden:!0,id:"e4d3552",penId:"68978eb"}],children:[],lineHeight:1.5},{id:"ffe92b7",locked:10,parentId:"9aadb9a",x:.5,y:.343324618368896,rotate:0,color:"#231815",lineWidth:.013494138483596188,globalAlpha:null,fontSize:16,matrix:null,name:"line",lineName:"line",type:0,width:.5,height:.2555958505524163,anchors:[{x:1,y:0,hidden:!0,id:"5cf32734",penId:"ffe92b7"},{x:0,y:1,hidden:!0,id:"7e3545f",penId:"ffe92b7"}],children:[],lineHeight:1.5}],origin:{x:-1913.574579695493,y:2785.717495189335},center:{x:-933,y:3085},paths:{"818f759":"M180,188.98c0-11.37,9.21-20.58,20.58-20.58s20.58,9.21,20.58,20.58-9.21,20.58-20.58,20.58-20.58-9.21-20.58-20.58h0Z","64c23b2":"M0,268.98c0-11.37,9.21-20.58,20.58-20.58s20.58,9.21,20.58,20.58-9.21,20.58-20.58,20.58S0,280.34,0,268.98h0Z",fb0b262:"M180,188.98c0-11.37,9.21-20.58,20.58-20.58s20.58,9.21,20.58,20.58-9.21,20.58-20.58,20.58-20.58-9.21-20.58-20.58h0Z","607a597":"M44,268.98c0-11.37,9.21-20.58,20.58-20.58s20.58,9.21,20.58,20.58-9.21,20.58-20.58,20.58-20.58-9.21-20.58-20.58h0Z","4c10c83b":"M90.56,189.86c0-11.37,9.21-20.58,20.58-20.58s20.58,9.21,20.58,20.58-9.21,20.58-20.58,20.58-20.58-9.21-20.58-20.58h0Z","6b0139a9":"M90.56,189.86c0-11.37,9.21-20.58,20.58-20.58s20.58,9.21,20.58,20.58-9.21,20.58-20.58,20.58-20.58-9.21-20.58-20.58h0Z","7c4f510":"M187.25,355.07c14.78,0,26.76,11.98,26.76,26.76s-11.98,26.76-26.76,26.76-26.76-11.98-26.76-26.76,11.98-26.76,26.76-26.76M187.25,353.57c-15.59,0-28.26,12.68-28.26,28.26s12.68,28.26,28.26,28.26,28.26-12.68,28.26-28.26-12.68-28.26-28.26-28.26h0Z","86524f3":"M187.25,355.07c14.78,0,26.76,11.98,26.76,26.76s-11.98,26.76-26.76,26.76-26.76-11.98-26.76-26.76,11.98-26.76,26.76-26.76M187.25,353.57c-15.59,0-28.26,12.68-28.26,28.26s12.68,28.26,28.26,28.26,28.26-12.68,28.26-28.26-12.68-28.26-28.26-28.26h0Z","3580bcf4":"M187.25,355.07c14.78,0,26.76,11.98,26.76,26.76s-11.98,26.76-26.76,26.76-26.76-11.98-26.76-26.76,11.98-26.76,26.76-26.76M187.25,353.57c-15.59,0-28.26,12.68-28.26,28.26s12.68,28.26,28.26,28.26,28.26-12.68,28.26-28.26-12.68-28.26-28.26-28.26h0Z","65bdccc":"M187.25,355.07c14.78,0,26.76,11.98,26.76,26.76s-11.98,26.76-26.76,26.76-26.76-11.98-26.76-26.76,11.98-26.76,26.76-26.76M187.25,353.57c-15.59,0-28.26,12.68-28.26,28.26s12.68,28.26,28.26,28.26,28.26-12.68,28.26-28.26-12.68-28.26-28.26-28.26h0Z",c781765:"M53.43,185c14.78,0,26.76,11.98,26.76,26.76s-11.98,26.76-26.76,26.76-26.76-11.98-26.76-26.76,11.98-26.76,26.76-26.76M53.43,183.5c-15.59,0-28.26,12.68-28.26,28.26s12.68,28.26,28.26,28.26,28.26-12.68,28.26-28.26-12.68-28.26-28.26-28.26h0Z",fb19b70:"M321.07,185c14.78,0,26.76,11.98,26.76,26.76s-11.98,26.76-26.76,26.76-26.76-11.98-26.76-26.76,11.98-26.76,26.76-26.76M321.07,183.5c-15.59,0-28.26,12.68-28.26,28.26s12.68,28.26,28.26,28.26,28.26-12.68,28.26-28.26-12.68-28.26-28.26-28.26h0Z",f51068:"M187.25,185c14.78,0,26.76,11.98,26.76,26.76s-11.98,26.76-26.76,26.76-26.76-11.98-26.76-26.76,11.98-26.76,26.76-26.76M187.25,183.5c-15.59,0-28.26,12.68-28.26,28.26s12.68,28.26,28.26,28.26,28.26-12.68,28.26-28.26-12.68-28.26-28.26-28.26h0Z",a0ecd01:"M187.25,355.07c14.78,0,26.76,11.98,26.76,26.76s-11.98,26.76-26.76,26.76-26.76-11.98-26.76-26.76,11.98-26.76,26.76-26.76M187.25,353.57c-15.59,0-28.26,12.68-28.26,28.26s12.68,28.26,28.26,28.26,28.26-12.68,28.26-28.26-12.68-28.26-28.26-28.26h0Z",f5f5e77:"M53.43,185c14.78,0,26.76,11.98,26.76,26.76s-11.98,26.76-26.76,26.76-26.76-11.98-26.76-26.76,11.98-26.76,26.76-26.76M53.43,183.5c-15.59,0-28.26,12.68-28.26,28.26s12.68,28.26,28.26,28.26,28.26-12.68,28.26-28.26-12.68-28.26-28.26-28.26h0Z","5f71e1f6":"M321.07,185c14.78,0,26.76,11.98,26.76,26.76s-11.98,26.76-26.76,26.76-26.76-11.98-26.76-26.76,11.98-26.76,26.76-26.76M321.07,183.5c-15.59,0-28.26,12.68-28.26,28.26s12.68,28.26,28.26,28.26,28.26-12.68,28.26-28.26-12.68-28.26-28.26-28.26h0Z","3ae6546f":"M187.25,185c14.78,0,26.76,11.98,26.76,26.76s-11.98,26.76-26.76,26.76-26.76-11.98-26.76-26.76,11.98-26.76,26.76-26.76M187.25,183.5c-15.59,0-28.26,12.68-28.26,28.26s12.68,28.26,28.26,28.26,28.26-12.68,28.26-28.26-12.68-28.26-28.26-28.26h0Z","3fd48a86":"M187.25,355.07c14.78,0,26.76,11.98,26.76,26.76s-11.98,26.76-26.76,26.76-26.76-11.98-26.76-26.76,11.98-26.76,26.76-26.76M187.25,353.57c-15.59,0-28.26,12.68-28.26,28.26s12.68,28.26,28.26,28.26,28.26-12.68,28.26-28.26-12.68-28.26-28.26-28.26h0Z","9efe400":"M53.43,185c14.78,0,26.76,11.98,26.76,26.76s-11.98,26.76-26.76,26.76-26.76-11.98-26.76-26.76,11.98-26.76,26.76-26.76M53.43,183.5c-15.59,0-28.26,12.68-28.26,28.26s12.68,28.26,28.26,28.26,28.26-12.68,28.26-28.26-12.68-28.26-28.26-28.26h0Z","2208226c":"M321.07,185c14.78,0,26.76,11.98,26.76,26.76s-11.98,26.76-26.76,26.76-26.76-11.98-26.76-26.76,11.98-26.76,26.76-26.76M321.07,183.5c-15.59,0-28.26,12.68-28.26,28.26s12.68,28.26,28.26,28.26,28.26-12.68,28.26-28.26-12.68-28.26-28.26-28.26h0Z","387b959b":"M187.25,185c14.78,0,26.76,11.98,26.76,26.76s-11.98,26.76-26.76,26.76-26.76-11.98-26.76-26.76,11.98-26.76,26.76-26.76M187.25,183.5c-15.59,0-28.26,12.68-28.26,28.26s12.68,28.26,28.26,28.26,28.26-12.68,28.26-28.26-12.68-28.26-28.26-28.26h0Z"},template:"dc171b5",theme:"light",rule:!0,version:"1.0.42",dataPoints:[],locked:0,name:"",msgTypes:[],grid:!0,wsMsgFields:[],wsMsgHandlers:[]},kN={0:0,1:90,2:180,3:270},hve=["Vdc","MultipleContact","Coil","Lamp","Diode","TerminalsXT","CoilOnDelay","R","VProbe","IProbe","CoilOffDelay","CoilOnDelay","DoubleCoil","TransformerNew"],gve=["Btn_SelfReset","Btn_SelfLock","Knob_SelfReset","Knob_SelfLock"];function Ug(t,e,n){let a=kN[n.rotateAngel]||0;if(["Switch","MultipleContact"].includes(n.type)){if(t.width>t.height){const o=t.height;t.height=t.width,t.width=o}a-=90}a&&setTimeout(()=>{meta2d.setValue({id:t.id,rotate:-a})},100);const r=(e==null?void 0:e.元件类型)||n.type;if(hve.includes(r)){t.y-=t.height/2,t.x-=t.width/2;return}else if(gve.includes(r)){a?n.rotateAngel=="1"?(t.y-=t.height/2-10,t.x-=t.width/2):n.rotateAngel=="2"?(t.y-=t.height/2,t.x-=t.width/2-10):n.rotateAngel=="3"&&(t.x-=t.width/2,t.y-=t.height/2+10):(t.x-=t.width/1.5,t.y-=t.height/2);return}switch(r){case"Input":a?a===90?(t.x-=t.width/2,t.y+=5):a===180?t.y-=t.height/2:a===270&&(t.y-=t.height+5,t.x-=t.width/2):(t.x-=t.width,t.y-=t.height/2);break;case"Output":a?a===90?(t.x-=t.width/2,t.y+=5):a===180?t.y-=t.height/2:a===270&&(t.y-=t.height+5,t.x-=t.width/2):(t.y-=t.height/2,t.x-=t.width);break;case"GND":a?a===90?t.y-=t.height/2:a===180?(t.x-=t.width/2,t.y-=t.height):a===270&&(t.y-=t.height/2,t.x-=t.width):t.x-=t.width/2;break;case"ElectromagneticValve":a?(n.rotateAngel=="1"||n.rotateAngel=="2"||n.rotateAngel=="3")&&(t.x-=t.width/2,t.y-=t.height/2):(t.y-=t.height/2,t.x-=t.width/2);break;case"duanluqi_wx":a?n.rotateAngel=="1"?(t.y-=t.height/2+10,t.x-=t.width/2):n.rotateAngel=="2"?(t.x-=t.width/2+10,t.y-=t.height/2):n.rotateAngel=="3"&&(t.y-=t.width-6,t.x-=t.width/2):(t.x-=t.width/4,t.y-=t.height/2);break;case"Switch":n.rotateAngel=="0"?(t.x-=t.width/2,t.y-=t.height/1.5):n.rotateAngel=="1"?(t.x-=t.width,t.y-=t.height/2):n.rotateAngel=="2"?(t.x-=t.width/2,t.y-=t.height/3):n.rotateAngel=="3"&&(t.y-=t.height/2);break;case"Contact":n.rotateAngel=="0"?(t.x-=t.width-3,t.y-=t.height/2):n.rotateAngel=="1"?(t.x-=t.width/2,t.y-=t.height/4+2):n.rotateAngel=="2"?(t.y-=t.height/2,t.x-=2):n.rotateAngel=="3"&&(t.y-=t.height/1.5+2,t.x-=t.width/2);break;case"Contactk":n.rotateAngel=="0"?(t.x-=t.width-3,t.y-=t.height/2):n.rotateAngel=="1"?(t.x-=t.width/2,t.y-=t.height/4+2):n.rotateAngel=="2"?(t.y-=t.height/2,t.x-=2):n.rotateAngel=="3"&&(t.y-=t.height/1.5+2,t.x-=t.width/2);break}}const pve=["Btn_SelfLock","Knob_SelfReset","Switch","Knob_SelfLock","duanluqi_wx","MultipleContact","Btn_SelfReset"];function mve(t){if(t.type=="MultipleContact"){if(t.v10>"3")return 0;if(t.v10=="2")return t.v16=="0"?1:2;if(t.v10=="3")return Number(t.v18)}else{if(t.v10=="off")return 0;if(t.v10=="on")return 1}}function yve(t,e){if(!t||!e)return;const n=[],a=[t];for(;a.length;){const r=a.shift();n.push(r);for(const o of e)o.parentId==r.id&&a.push(o)}return n}function bve(t){const e="-"+Ue(),n=fe(t);return n.forEach(a=>{a.id=a.id+e,a.children&&(a.children=a.children.map(r=>r+e)),a.parentId&&(a.parentId=a.parentId+e),a.anchors&&a.anchors.forEach(r=>{r.penId=r.penId+e})}),n}const wve=t=>{xve(e=>{if(console.log("readJSONFile: ",e,Ga),e!=null&&e.data){if(meta2d.clear(),Ga.paths){const l=meta2d.data().paths||{};Object.assign(l,Ga.paths),Object.assign(meta2d.store.data,{paths:l})}const{Components:n,Paintings:a,Wires:r}=e.data,o=[];n&&n.forEach(l=>{var u;const s=eN.find(f=>{var v,h;return((v=f.元件类型)==null?void 0:v.toLocaleLowerCase())==((h=l.type)==null?void 0:h.toLocaleLowerCase())});if(meta2d.findOne(l.uuid))return;if(pve.includes(l.type)){let f=fe(Ga.pens.find(h=>{var g,p;if(l.type=="MultipleContact"&&l.v10>="3")return((g=h.tags)==null?void 0:g.includes("MultipleContact-3"))&&!h.parentId;if((p=h.tags)!=null&&p.includes(l.type)&&!h.parentId)return!0}));const v=bve(yve(f,Ga.pens));if(v){f=v[0];const h=meta2d.getPenRect(f),g=h.width/Ga.scale,p=h.height/Ga.scale,m=Number((s==null?void 0:s["宽度(X向)"])||g),y=Number((s==null?void 0:s["高度(Y向)"])||p);Object.assign(f,{text:l.name,x:Number(l.posX),y:Number(l.posY),width:m,height:y}),f.tags&&!((u=f.tags)!=null&&u.includes(l.name))&&f.tags.push(l.name),Ug(f,s,l),f.showChild=mve(l),meta2d.addPens(v);return}}const d=tN.find(f=>{var v;return f.data.electricTypeCode==l.type||((v=f.data.tags)==null?void 0:v.includes(l.type))});if(d){const f=Number(s==null?void 0:s["宽度(X向)"]),v=Number(s==null?void 0:s["高度(Y向)"]);ON(d.data.image,d,!1).then(h=>{const g=h.find(p=>p.name=="combine"&&!p.parentId);Object.assign(g,{text:l.name,x:Number(l.posX),y:Number(l.posY),tags:[l.type,l.name],width:f||g.width,height:v||g.height}),console.log("单一 svg: ",d.name,d,g,f,v),Ug(g,s,l),d.data.anchors&&(g.anchors=d.data.anchors),meta2d.addPens(h)})}else{const f={id:l.uuid,name:"rectangle",text:l.name,x:Number(l.posX),y:Number(l.posY),width:Number((s==null?void 0:s["宽度(X向)"])||100),height:Number((s==null?void 0:s["高度(Y向)"])||100),rotate:kN[l.rotateAngel]||0,tags:[l.type,l.name]};Ug(f,s,l),o.push(f)}}),r&&r.forEach(l=>{if(meta2d.findOne(l.uuid))return;const{length:c=0,anchors:d=[]}=Cve(l),u={type:1,id:l.uuid,name:"line",lineName:"curve",text:l.name,x:Number(l.startX),y:Number(l.startY),width:c,height:c,anchors:d,tags:[l.name]};o.push(u)}),a&&a.forEach(l=>{if(meta2d.findOne(l.uuid))return;const c={id:l.uuid,name:"rectangle",text:l.text,x:Number(l.posX),y:Number(l.posY),width:200,height:50,color:l.color,textAutoAdjust:!0,borderWidth:0};o.push(c)}),meta2d.addPens(o)}})};function Cve(t){const{startX:e,startY:n,endX:a,endY:r}=t,o=Math.sqrt(Math.pow(a-e,2)+Math.pow(r-n,2)),l=[{x:0,y:0},{x:1,y:1}];return e===a?l[1].x=0:l[1].y=0,{length:o,anchors:l}}const xve=(t=null)=>{const e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=async()=>{if(!e.files||!e.files.length)return;const n=e.files[0],{name:a,size:r,type:o}=n,l=new FileReader;l.onload=()=>{try{const s=JSON.parse(l.result);t&&t({fileName:a,data:s})}catch(s){console.error(s)}},l.readAsText(n)},e.click()},Sve=(t=null)=>{const e=document.createElement("input");e.type="file",e.accept=".svg",e.onchange=async()=>{if(!e.files||!e.files.length)return;const n=e.files[0],{name:a}=n,r=new FileReader;r.onload=()=>{try{const o=r.result;t&&t({fileName:a,data:o})}catch(o){console.error(o)}},r.readAsText(n)},e.click()};function Ove(t){if(navigator.clipboard&&window.isSecureContext)return navigator.clipboard.writeText(t).then(()=>!0).catch(e=>{console.error("复制失败：",e)});{const e=document.createElement("textarea");e.value=t,document.body.appendChild(e),e.select();const n=document.execCommand("copy");return document.body.removeChild(e),new Promise((a,r)=>{n?a(!0):r(!1)})}}const kve=()=>{!document.fullscreenElement&&!document.mozFullScreenElement&&!document.webkitFullscreenElement&&!document.msFullscreenElement?document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen?document.documentElement.webkitRequestFullscreen():document.documentElement.msRequestFullscreen&&document.documentElement.msRequestFullscreen():document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},Gd=()=>{const t=i.ref([]),e={limit:1024*1,unit:"KB"},n=i.useAttrs(),a={Authorization:n.token};return{uploadValue:t,sizeLimit:e,headers:a,handleFail:l=>{console.log("upload fail: ",l)},uploadFileFn:l=>{if(!n.uploadUrl)return Promise.reject("文件上传地址不存在！");const s=new FormData;return s.append("object",l),fetch(n.uploadUrl,{method:"POST",headers:a,body:s}).then(c=>c.json()).then(c=>c).catch(c=>{console.log(c)})}}};let Kg=null;function Pve(t,e){var s;let n=t.split(","),a=((s=n[0].match(/:(.*\/*?);/))==null?void 0:s[1])||"image/png",r=atob(n[1]),o=r.length,l=new Uint8Array(o);for(;o--;)l[o]=r.charCodeAt(o);return new File([l],e,{type:a})}function _ve(t,e){const n=e?meta2d.toPng():meta2d.activeToPng();if(t!=null&&t.endsWith(".png")||(t+=".png"),n)return Pve(n,t)}function Ive(t){var a;if(console.log("getJsonString: ",t),!t)return;let e;if(t.mode==1)t.pen.name=="combine"?e=[...t.pen.children.map(o=>meta2d.findOne(o)),t.pen]:e=t.pen;else if(t.mode==2){const r=t.pens;meta2d.combine(r);const o=(a=meta2d.store.active)==null?void 0:a[0];e=[...r,o]}let n="";try{const r=fe(e);Array.isArray(r)?r.forEach(o=>{o.calculative=void 0}):r.calculative=void 0,n=JSON.stringify(r)}catch(r){console.log("error: ",r)}return n}const Yg=t=>{const e=i.ref([]),n=i.ref([]),a=i.ref(!1),r=i.ref(""),o=i.ref(!1),l=i.ref(""),s=Rle(),c=i.ref("");let d=null,u="";const f=x=>{o.value=!1,a.value=!0,u=x},{uploadFileFn:v}=Gd(),h=()=>{if(console.log("confirm: ",r.value,d),a.value=!1,!!r.value)if(o.value){let x;u!="paper"?x=Ive(d):x=JSON.stringify(d);const k=_ve(c.value||"image.png",u=="paper"),P=I=>s.saveComponent({nodeId:r.value,data:x,type:u,name:c.value,label:u=="paper"?"paper":"component",cover:I}).then(D=>{(D==null?void 0:D.code)==200&&C(u)});if(console.log("png file: ",k),k){v(k).then(I=>{if(console.log("upload file: ",I),(I==null?void 0:I.code)==200){const D=I.data.fileurl;P(D)}});return}P()}else s.createFolder({dictName:r.value,type:u}).then(x=>{(x==null?void 0:x.code)==200&&C(u)})},g=(x,k)=>{s.saveComponent({nodeId:x.id,data:JSON.stringify(k),type:"component",name:k.fileName,cover:k.image,label:"iamge"}).then(P=>{(P==null?void 0:P.code)==200&&C("component")})},p=()=>{r.value="",c.value=""},m=(x,k)=>{s.deleteComponent(x.id).then(P=>{(P==null?void 0:P.code)==200&&C(k)})},y=x=>{o.value=!0,a.value=!0,d=x,u="component",l.value=u},b=()=>{o.value=!0,a.value=!0,d=meta2d.data(),u="paper",l.value=u},w=(x,k)=>{s.deleteFolder(x.id).then(P=>{(P==null?void 0:P.code)==200&&C(k)})},C=x=>s.getTree(x).then(k=>{Array.isArray(k.data)&&(x=="paper"?e.value=k.data:n.value=k.data)});return t&&Kg?Kg:Kg={blueprintList:e,componentList:n,saveComponentShow:y,showAddFolder:f,deleteMyPen:m,visible:a,folderName:r,confirm:h,close:p,selectMode:o,selectType:l,deleteFolder:w,getTree:C,fileName:c,saveImageComponent:g,saveBlueprintShow:b}},Nve={class:"app-header header__top"},Tve={class:"logo"},Eve={class:"logo"},Ave={class:"logo"},Rve=["href"],Dve={class:"app-header header__bottom"},jve={class:"l-icon","aria-hidden":"true"},Mve=["xlink:href"],Fve=["onClick"],Lve={class:"l-icon","aria-hidden":"true"},$ve=["xlink:href"],Bve={class:"l-icon","aria-hidden":"true"},zve=["xlink:href"],Hve=["onClick"],Wve={class:"l-icon","aria-hidden":"true"},Uve=["xlink:href"],Kve={class:"l-icon","aria-hidden":"true"},Yve=["xlink:href"],qve=["onClick"],Gve={class:"l-icon","aria-hidden":"true"},Xve=["xlink:href"],Jve=i.defineComponent({__name:"Header",emits:["view"],setup(t,{emit:e}){const n=e;qse();const a=i.reactive({home:"https://le5le.com",helps:[{name:"产品介绍",url:"https://doc.le5le.com/document/118756411"},{name:"快速上手",url:"https://doc.le5le.com/document/119363000"},{name:"使用手册",url:"https://doc.le5le.com/document/118764244"},{name:"快捷键",url:"https://doc.le5le.com/document/119620214",divider:!0}]}),r=i.ref(!1),o=(K,z={})=>{z&&z.trigger==="confirm"?(l(),r.value=!1):r.value=K},l=K=>{wve()},s=i.ref(!1),c=i.ref(0);i.onMounted(()=>{const K=setInterval(()=>{meta2d&&(clearInterval(K),d(meta2d.store.data.scale),meta2d.on("scale",d))},200)});const d=K=>{c.value=Math.round(K*100)},u=()=>{s.value?(s.value=!1,meta2d.finishDrawLine(),meta2d.drawLine(),meta2d.store.options.disableAnchor=!0):(s.value=!0,meta2d.drawLine(meta2d.store.options.drawingLineName),meta2d.store.options.disableAnchor=!1)},f=i.reactive([{name:"曲线",icon:"#l-curve2",value:"curve"},{name:"线段",icon:"#l-polyline",value:"polyline"},{name:"直线",icon:"#l-line",value:"line"},{name:"脑图曲线",icon:"#l-mind",value:"mind"}]),v=i.ref("line"),h=K=>{var z;v.value=K,meta2d&&(meta2d.store.options.drawingLineName=K,meta2d.canvas.drawingLineName&&(meta2d.canvas.drawingLineName=K),(z=meta2d.store.active)==null||z.forEach(B=>{meta2d.updateLineType(B,K)}))},g=i.ref(""),p=[{icon:"#l-line",value:""},{icon:"#l-from-triangle",value:"triangle"},{icon:"#l-from-diamond",value:"diamond"},{icon:"#l-from-circle",value:"circle"},{icon:"#l-from-lineDown",value:"lineDown"},{icon:"#l-from-lineUp",value:"lineUp"},{icon:"#l-from-triangleSolid",value:"triangleSolid"},{icon:"#l-from-diamondSolid",value:"diamondSolid"},{icon:"#l-from-circleSolid",value:"circleSolid"},{icon:"#l-from-line",value:"line"}],m=i.ref(""),y=[{icon:"#l-line",value:""},{icon:"#l-to-triangle",value:"triangle"},{icon:"#l-to-diamond",value:"diamond"},{icon:"#l-to-circle",value:"circle"},{icon:"#l-to-lineDown",value:"lineDown"},{icon:"#l-to-lineUp",value:"lineUp"},{icon:"#l-to-triangleSolid",value:"triangleSolid"},{icon:"#l-to-diamondSolid",value:"diamondSolid"},{icon:"#l-to-circleSolid",value:"circleSolid"},{icon:"#l-to-line",value:"line"}],b=K=>{g.value=K,meta2d.store.data.fromArrow=K,meta2d.store.active&&(meta2d.store.active.forEach(z=>{z.type===mt.Line&&(z.fromArrow=K,meta2d.setValue({id:z.id,fromArrow:z.fromArrow},{render:!1}))}),meta2d.render())},w=K=>{m.value=K,meta2d.store.data.toArrow=K,meta2d.store.active&&(meta2d.store.active.forEach(z=>{z.type===mt.Line&&(z.toArrow=K,meta2d.setValue({id:z.id,toArrow:z.toArrow},{render:!1}))}),meta2d.render())},C=()=>{meta2d.open({name:"新建项目",pens:[]})};function x(K){return new Promise((z,B)=>{const q=new FileReader;q.onload=()=>{z(q.result)},q.onerror=B,q.readAsText(K)})}const k=()=>{const K=document.createElement("input");K.type="file",K.onchange=async z=>{const B=z.target;if(B.files&&B.files[0]){const q=await x(B.files[0]);try{meta2d.open(JSON.parse(q)),meta2d.fitView()}catch(Y){console.log(Y)}}},K.click()},P=()=>{const K=meta2d.data();Fde.saveAs(new Blob([JSON.stringify(K)],{type:"text/plain;charset=utf-8"}),`${K.name||"le5le.meta2d"}.json`)},I=()=>{let K=meta2d.store.data.name;K&&(K+=".png"),meta2d.downloadPng(K)},D=()=>{meta2d.undo()},L=()=>{meta2d.redo()},O=()=>{meta2d.cut()},S=()=>{meta2d.copy()},_=()=>{meta2d.paste()},A=()=>{meta2d.activeAll()},E=()=>{meta2d.delete()},{saveBlueprintShow:R}=Yg(!0),N=K=>{if(K=="svg"){Sve(z=>{SN(z.data)});return}if(K=="save"){R();return}meta2d.toggleAnchorMode()},F=(K,z)=>{var q;K.stopPropagation();let B;z==="text"?B={text:"text",width:100,height:20,name:"text"}:z==="line"&&(B={anchors:[{id:"0",x:1,y:0},{id:"1",x:0,y:1}],width:100,height:100,name:"line",lineName:"line",type:1}),K.dataTransfer?(q=K.dataTransfer)==null||q.setData("Meta2d",JSON.stringify(B)):meta2d.canvas.addCaches=fe([B])},M=()=>{meta2d.scale(1),meta2d.centerView()},$=()=>{meta2d.fitView()},W=()=>{meta2d.stopAnimate();const K=meta2d.data();localStorage.setItem("meta2d",JSON.stringify(K)),n("view",K),globalThis.$_meta2d_singleton&&window.open(`/preview?r=${Date.now()}&id=${K._id||""}`,"_blank")},H=K=>{if(K=="none"){meta2d.inactive();return}const B=meta2d.data().pens.filter(Y=>K?Y.type===K:Y.type!=1),q=[];B.forEach(Y=>{meta2d.findOne(Y.id)&&q.push(meta2d.findOne(Y.id))}),meta2d.active(q)};return(K,z)=>{const B=i.resolveComponent("t-dropdown-item"),q=i.resolveComponent("t-dropdown-menu"),Y=i.resolveComponent("t-dropdown"),X=i.resolveComponent("t-tooltip"),T=i.resolveComponent("t-popconfirm"),j=i.resolveComponent("t-icon");return i.openBlock(),i.createElementBlock(i.Fragment,null,[i.createElementVNode("div",Nve,[z[27]||(z[27]=i.createElementVNode("a",{class:"logo",href:"https://doc.le5le.com/document/119359590",target:"_blank"},[i.createElementVNode("img",{src:Kse}),i.createElementVNode("span",null,"Meta2D")],-1)),i.createVNode(Y,{minColumnWidth:200,maxHeight:560,overlayClassName:"header-dropdown"},{default:i.withCtx(()=>[z[12]||(z[12]=i.createElementVNode("a",null," 文件 ",-1)),i.createVNode(q,null,{default:i.withCtx(()=>[i.createVNode(B,{onClick:C},{default:i.withCtx(()=>z[10]||(z[10]=[i.createElementVNode("a",null,"新建文件",-1)])),_:1}),i.createVNode(B,{onClick:k,divider:"true"},{default:i.withCtx(()=>z[11]||(z[11]=[i.createElementVNode("a",null,"打开文件",-1)])),_:1}),i.createVNode(B,{divider:"true"},{default:i.withCtx(()=>[i.createElementVNode("a",{onClick:P},"下载JSON文件")]),_:1}),i.createVNode(B,null,{default:i.withCtx(()=>[i.createElementVNode("a",{onClick:I},"下载为PNG")]),_:1})]),_:1})]),_:1}),i.createVNode(Y,{minColumnWidth:180,maxHeight:500,overlayClassName:"header-dropdown"},{default:i.withCtx(()=>[z[20]||(z[20]=i.createElementVNode("a",null," 编辑 ",-1)),i.createVNode(q,null,{default:i.withCtx(()=>[i.createVNode(B,null,{default:i.withCtx(()=>[i.createElementVNode("a",{onClick:D},z[13]||(z[13]=[i.createElementVNode("div",{class:"flex"},[i.createTextVNode(" 撤销 "),i.createElementVNode("span",{class:"flex-grow"}),i.createTextVNode(" Ctrl + Z ")],-1)]))]),_:1}),i.createVNode(B,{divider:"true"},{default:i.withCtx(()=>[i.createElementVNode("a",{onClick:L},z[14]||(z[14]=[i.createElementVNode("div",{class:"flex"},[i.createTextVNode(" 恢复 "),i.createElementVNode("span",{class:"flex-grow"}),i.createTextVNode(" Ctrl + Y ")],-1)]))]),_:1}),i.createVNode(B,null,{default:i.withCtx(()=>[i.createElementVNode("a",{onClick:O},z[15]||(z[15]=[i.createElementVNode("div",{class:"flex"},[i.createTextVNode(" 剪切 "),i.createElementVNode("span",{class:"flex-grow"}),i.createTextVNode(" Ctrl + X ")],-1)]))]),_:1}),i.createVNode(B,null,{default:i.withCtx(()=>[i.createElementVNode("a",{onClick:S},z[16]||(z[16]=[i.createElementVNode("div",{class:"flex"},[i.createTextVNode(" 复制 "),i.createElementVNode("span",{class:"flex-grow"}),i.createTextVNode(" Ctrl + C ")],-1)]))]),_:1}),i.createVNode(B,{divider:"true"},{default:i.withCtx(()=>[i.createElementVNode("a",{onClick:_},z[17]||(z[17]=[i.createElementVNode("div",{class:"flex"},[i.createTextVNode(" 粘贴 "),i.createElementVNode("span",{class:"flex-grow"}),i.createTextVNode(" Ctrl + V ")],-1)]))]),_:1}),i.createVNode(B,null,{default:i.withCtx(()=>[i.createElementVNode("a",{onClick:A},z[18]||(z[18]=[i.createElementVNode("div",{class:"flex"},[i.createTextVNode(" 全选 "),i.createElementVNode("span",{class:"flex-grow"}),i.createTextVNode(" Ctrl + A ")],-1)]))]),_:1}),i.createVNode(B,null,{default:i.withCtx(()=>[i.createElementVNode("a",{onClick:E},z[19]||(z[19]=[i.createElementVNode("div",{class:"flex"},[i.createTextVNode("删除 "),i.createElementVNode("span",{class:"flex-grow"}),i.createTextVNode(" DELETE")],-1)]))]),_:1})]),_:1})]),_:1}),i.createElementVNode("a",Tve,[i.createElementVNode("span",{onClick:z[0]||(z[0]=U=>N())},"添加/删除锚点")]),i.createVNode(Y,{minColumnWidth:200,maxHeight:560,overlayClassName:"header-dropdown"},{default:i.withCtx(()=>[z[24]||(z[24]=i.createElementVNode("a",null," 批量选择图元 ",-1)),i.createVNode(q,null,{default:i.withCtx(()=>[i.createVNode(B,{onClick:z[1]||(z[1]=U=>H())},{default:i.withCtx(()=>z[21]||(z[21]=[i.createElementVNode("a",null,"节点",-1)])),_:1}),i.createVNode(B,{onClick:z[2]||(z[2]=U=>H(1)),divider:"true"},{default:i.withCtx(()=>z[22]||(z[22]=[i.createElementVNode("a",null,"连线",-1)])),_:1}),i.createVNode(B,{onClick:z[3]||(z[3]=U=>H("none"))},{default:i.withCtx(()=>z[23]||(z[23]=[i.createElementVNode("a",null,"取消",-1)])),_:1})]),_:1})]),_:1}),i.createElementVNode("a",Eve,[i.createVNode(X,{content:"选择 .svg 文件导入，单击画布摆放到鼠标指针位置"},{default:i.withCtx(()=>[i.createElementVNode("span",{onClick:z[4]||(z[4]=U=>N("svg"))},"导入 SVG")]),_:1})]),i.createVNode(T,{visible:r.value,theme:"default",content:"是否导入 ElectricEditor 生成的 JSON 文件?",onVisibleChange:o},{default:i.withCtx(()=>z[25]||(z[25]=[i.createElementVNode("a",{class:"logo"},[i.createElementVNode("span",null,"导入")],-1)])),_:1},8,["visible"]),i.createElementVNode("a",Ave,[i.createElementVNode("span",{onClick:z[5]||(z[5]=U=>N("save"))},"保存图纸")]),i.createVNode(Y,{minColumnWidth:180,maxHeight:500,delay2:[10,150],overlayClassName:"header-dropdown"},{default:i.withCtx(()=>[z[26]||(z[26]=i.createElementVNode("a",null," 帮助 ",-1)),i.createVNode(q,null,{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(a.helps,U=>(i.openBlock(),i.createBlock(B,{divider:U.divider},{default:i.withCtx(()=>[U.url?(i.openBlock(),i.createElementBlock("a",{key:0,href:U.url,target:"_blank"},i.toDisplayString(U.name),9,Rve)):i.createCommentVNode("",!0)]),_:2},1032,["divider"]))),256))]),_:1})]),_:1})]),i.createElementVNode("div",Dve,[i.createVNode(X,{content:"撤销"},{default:i.withCtx(()=>[(i.openBlock(),i.createElementBlock("svg",{class:"l-icon","aria-hidden":"true",onClick:D},z[28]||(z[28]=[i.createElementVNode("use",{"xlink:href":"#l-undo"},null,-1)])))]),_:1}),i.createVNode(X,{content:"重做"},{default:i.withCtx(()=>[(i.openBlock(),i.createElementBlock("svg",{class:"l-icon","aria-hidden":"true",onClick:L},z[29]||(z[29]=[i.createElementVNode("use",{"xlink:href":"#l-redo"},null,-1)])))]),_:1}),i.createVNode(X,{content:"直线"},{default:i.withCtx(()=>[i.createElementVNode("span",{draggable:!0,onDragstart:z[6]||(z[6]=U=>F(U,"line")),onClick:z[7]||(z[7]=U=>F(U,"line"))},[i.createVNode(j,{name:"slash"})],32)]),_:1}),i.createVNode(X,{content:"文字"},{default:i.withCtx(()=>[i.createElementVNode("span",{draggable:!0,onDragstart:z[8]||(z[8]=U=>F(U,"text")),onClick:z[9]||(z[9]=U=>F(U,"text"))},z[30]||(z[30]=[i.createElementVNode("svg",{class:"l-icon","aria-hidden":"true"},[i.createElementVNode("use",{"xlink:href":"#l-text"})],-1)]),32)]),_:1}),i.createVNode(X,{content:"连线"},{default:i.withCtx(()=>[(i.openBlock(),i.createElementBlock("svg",{width:"1em",height:"1em",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",onClick:u,style:i.normalizeStyle({color:s.value?" #1677ff":""})},z[31]||(z[31]=[i.createElementVNode("path",{d:"M192 64a128 128 0 0 1 123.968 96H384a160 160 0 0 1 159.68 149.504L544 320v384a96 96 0 0 0 86.784 95.552L640 800h68.032a128 128 0 1 1 0 64.064L640 864a160 160 0 0 1-159.68-149.504L480 704V320a96 96 0 0 0-86.784-95.552L384 224l-68.032 0.064A128 128 0 1 1 192 64z m640 704a64 64 0 1 0 0 128 64 64 0 0 0 0-128zM192 128a64 64 0 1 0 0 128 64 64 0 0 0 0-128z",fill:"currentColor"},null,-1)]),4))]),_:1}),i.createVNode(Y,{minColumnWidth:160,maxHeight:560,overlayClassName:"header-dropdown"},{default:i.withCtx(()=>{var U;return[i.createElementVNode("a",null,[(i.openBlock(),i.createElementBlock("svg",jve,[i.createElementVNode("use",{"xlink:href":(U=f.find(J=>J.value===v.value))==null?void 0:U.icon},null,8,Mve)]))]),i.createVNode(q,null,{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(f,J=>(i.openBlock(),i.createBlock(B,null,{default:i.withCtx(()=>[i.createElementVNode("div",{class:"flex middle",onClick:Z=>h(J.value)},[i.createTextVNode(i.toDisplayString(J.name)+" ",1),z[32]||(z[32]=i.createElementVNode("span",{class:"flex-grow"},null,-1)),(i.openBlock(),i.createElementBlock("svg",Lve,[i.createElementVNode("use",{"xlink:href":J.icon},null,8,$ve)]))],8,Fve)]),_:2},1024))),256))]),_:1})]}),_:1}),i.createVNode(Y,{minColumnWidth:160,maxHeight:560,delay2:[10,150],overlayClassName:"header-dropdown"},{default:i.withCtx(()=>{var U;return[i.createElementVNode("a",null,[(i.openBlock(),i.createElementBlock("svg",Bve,[i.createElementVNode("use",{"xlink:href":(U=p.find(J=>J.value===g.value))==null?void 0:U.icon},null,8,zve)]))]),i.createVNode(q,null,{default:i.withCtx(()=>[(i.openBlock(),i.createElementBlock(i.Fragment,null,i.renderList(p,J=>i.createVNode(B,null,{default:i.withCtx(()=>[i.createElementVNode("div",{class:"flex middle",style:{height:"30px"},onClick:Z=>b(J.value)},[(i.openBlock(),i.createElementBlock("svg",Wve,[i.createElementVNode("use",{"xlink:href":J.icon},null,8,Uve)]))],8,Hve)]),_:2},1024)),64))]),_:1})]}),_:1}),i.createVNode(Y,{minColumnWidth:160,maxHeight:560,delay2:[10,150],overlayClassName:"header-dropdown"},{default:i.withCtx(()=>{var U;return[i.createElementVNode("a",null,[(i.openBlock(),i.createElementBlock("svg",Kve,[i.createElementVNode("use",{"xlink:href":(U=y.find(J=>J.value===m.value))==null?void 0:U.icon},null,8,Yve)]))]),i.createVNode(q,null,{default:i.withCtx(()=>[(i.openBlock(),i.createElementBlock(i.Fragment,null,i.renderList(y,J=>i.createVNode(B,null,{default:i.withCtx(()=>[i.createElementVNode("div",{class:"flex middle",style:{height:"30px"},onClick:Z=>w(J.value)},[(i.openBlock(),i.createElementBlock("svg",Gve,[i.createElementVNode("use",{"xlink:href":J.icon},null,8,Xve)]))],8,qve)]),_:2},1024)),64))]),_:1})]}),_:1}),z[33]||(z[33]=i.createElementVNode("div",{style:{width:"64px"}},null,-1)),i.withDirectives(i.createElementVNode("div",{style:{"line-height":"40px"}},i.toDisplayString(c.value)+"%",513),[[i.vShow,c.value>0]]),i.createVNode(X,{content:"100%视图",placement:"bottom"},{default:i.withCtx(()=>[i.createElementVNode("a",{onClick:M},[i.createVNode(j,{name:"refresh"})])]),_:1}),i.createVNode(X,{content:"窗口大小",placement:"bottom"},{default:i.withCtx(()=>[i.createElementVNode("a",{onClick:$,style:{"margin-left":"-16px"}},[i.createVNode(j,{name:"fullscreen-exit"})])]),_:1}),z[34]||(z[34]=i.createElementVNode("div",{style:{width:"36px"}},null,-1)),i.createVNode(X,{content:"运行查看"},{default:i.withCtx(()=>[i.createVNode(j,{name:"play-circle-stroke",onClick:W})]),_:1})])],64)}}}),Qn=(t,e)=>{const n=t.__vccOpts||t;for(const[a,r]of e)n[a]=r;return n},Zve=Qn(Jve,[["__scopeId","data-v-72d9ea32"]]);function Qve(t,e){const n=e||new Path2D,{x:a,y:r,width:o,ey:l}=t.calculative.worldRect,s=o/4;if(n.moveTo(a+s,r),n.lineTo(a,r),n.lineTo(a,l),n.lineTo(a+s,l),n instanceof Path2D)return n}function Vve(t){const e=[{x:.25,y:0},{x:.25,y:1},{x:0,y:.5}];t.anchors=e.map(({x:n,y:a},r)=>({id:r+"",x:n,y:a,penId:t.id}))}function ehe(t,e){const n=e||new Path2D,{x:a,y:r,width:o,ex:l,ey:s}=t.calculative.worldRect,c=t.offsetX;let d=o/7;if(c>1?d=c:c>0&&(d=o*c),n.moveTo(a+d,r),n.lineTo(l,r),n.lineTo(a+o-d,s),n.lineTo(a,s),n.closePath(),n instanceof Path2D)return n}function the(t){const e=[{x:.5,y:0},{x:.9285714285714286,y:.5},{x:.5,y:1},{x:.07142857142857142,y:.5}];t.anchors=e.map(({x:n,y:a},r)=>({id:`${r}`,penId:t.id,x:n,y:a}))}function nhe(t,e){const n=e||new Path2D,{x:a,y:r,width:o,height:l,ex:s,ey:c}=t.calculative.worldRect,d=o/8;if(n.moveTo(a+d,r),n.lineTo(s-d,r),n.bezierCurveTo(s+d/3,r,s+d/3,c,s-d,c),n.lineTo(a+d,c),n.lineTo(a,r+l/2),n.closePath(),n instanceof Path2D)return n}function ahe(t,e){const n=e||new Path2D,{x:a,y:r,width:o,height:l,ex:s,center:c}=t.calculative.worldRect,d=c.x,u=r+l*6/7,f=l/6;if(n.moveTo(a,r),n.lineTo(s,r),n.lineTo(s,u),n.bezierCurveTo(s-20,u-f,d+o/5,u-f,d,u),n.bezierCurveTo(d-o/5,u+f,a,u+f,a,u),n.closePath(),n instanceof Path2D)return n}function rhe(t){const e=[{x:.5,y:0},{x:1,y:.5},{x:.5,y:.8571428571428571},{x:0,y:.5}];t.anchors=e.map(({x:n,y:a},r)=>({id:`${r}`,penId:t.id,x:n,y:a}))}function ihe(t,e){const n=e||new Path2D,{x:a,y:r,width:o,ex:l,ey:s}=t.calculative.worldRect,c=o/10;if(n.moveTo(a+c*2,r),n.bezierCurveTo(a-c*2/3,r,a-c*2/3,s,a+c*2,s),n.lineTo(l,s),n.bezierCurveTo(l-c,s,l-c,r,l,r),n.closePath(),n instanceof Path2D)return n}function ohe(t,e){const n=e||new Path2D,{x:a,y:r,width:o,ex:l,ey:s}=t.calculative.worldRect;n.moveTo(a,r),n.lineTo(l,r),n.lineTo(l,s),n.lineTo(a,s),n.closePath();const c=o/7;if(n.moveTo(a,r+c),n.lineTo(l,r+c),n.moveTo(a+c,r),n.lineTo(a+c,s),n instanceof Path2D)return n}function lhe(t,e){const n=e||new Path2D,{x:a,y:r,height:o,ex:l,ey:s}=t.calculative.worldRect,c=o/4;if(n.moveTo(a,r+c),n.lineTo(l,r),n.lineTo(l,s),n.lineTo(a,s),n.closePath(),n instanceof Path2D)return n}function she(t){const e=[{x:.5,y:.125},{x:1,y:.5},{x:.5,y:1},{x:0,y:.5}];t.anchors=e.map(({x:n,y:a},r)=>({id:`${r}`,penId:t.id,x:n,y:a}))}function che(t,e){const n=e||new Path2D,{x:a,y:r,ex:o,ey:l}=t.calculative.worldRect;if(n.moveTo(a,r),n.lineTo(o,r),n.moveTo(a,l),n.lineTo(o,l),n instanceof Path2D)return n}function uhe(t){const e=[{x:.5,y:0},{x:.5,y:1}];t.anchors=e.map(({x:n,y:a},r)=>({id:r+"",x:n,y:a,penId:t.id}))}function dhe(t,e){const n=e||new Path2D,{x:a,y:r,width:o,height:l,ex:s,ey:c}=t.calculative.worldRect;if(n.ellipse(a+o/2,r+l/2,o/2,l/2,0,0,Math.PI*2),n.moveTo(a+o/2,c),n.lineTo(s,c),n.closePath(),n instanceof Path2D)return n}function fhe(t,e){const n=e||new Path2D,{x:a,y:r,width:o,ex:l,ey:s}=t.calculative.worldRect,c=o/7;if(n.moveTo(a,r),n.lineTo(l,r),n.lineTo(l,s),n.lineTo(a,s),n.closePath(),n.moveTo(a+c,r),n.lineTo(a+c,s),n.moveTo(l-c,r),n.lineTo(l-c,s),n instanceof Path2D)return n}function vhe(t,e){const n=e||new Path2D,{x:a,y:r,height:o,ex:l,ey:s}=t.calculative.worldRect,c=o/7;if(n.moveTo(a,r+c),n.bezierCurveTo(a,r-c/2|0,l,r-c/2|0,l,r+c),n.lineTo(l,s-c),n.bezierCurveTo(l,s+c/2|0,a,s+c/2|0,a,s-c),n.closePath(),n.moveTo(a,s-c),n.bezierCurveTo(a,s-c*2|0,l,s-c*2|0,l,s-c),n instanceof Path2D)return n}function hhe(){return{flowComment:Qve,flowData:ehe,flowDb:vhe,flowDisplay:nhe,flowDocument:ahe,flowExternStorage:ihe,flowInternalStorage:ohe,flowManually:lhe,flowParallel:che,flowQueue:dhe,flowSubprocess:fhe}}function ghe(){return{flowDocument:rhe,flowManually:she,flowParallel:uhe,flowComment:Vve,flowData:the}}function phe(t,e){const{x:n,y:a,width:r,height:o}=e.calculative.worldRect;t.beginPath(),t.ellipse(n+r/2,a+o/2,r/2,o/2,0,0,Math.PI*2),t.stroke(),t.beginPath(),t.fillStyle=t.strokeStyle,t.ellipse(n+r/2,a+o/2,r/4,o/4,0,0,Math.PI*2),t.fill()}function mhe(t,e){const n=e||new Path2D,{x:a,y:r,width:o,height:l,ey:s}=t.calculative.worldRect,c=t.calculative.lineLeft||.08;let d=t.calculative.borderRadius||0,u=d;d<1&&(d=o*d,u=l*d);let f=d<u?d:u;if(o<2*f&&(f=o/2),l<2*f&&(f=l/2),n.moveTo(a+f,r),n.arcTo(a+o,r,a+o,r+l,f),n.arcTo(a+o,r+l,a,r+l,f),n.arcTo(a,r+l,a,r,f),n.arcTo(a,r,a+o,r,f),n.closePath(),n.moveTo(a+c*o,r),n.lineTo(a+c*o,s),n instanceof Path2D)return n}function yhe(t,e){const n=e||new Path2D,{x:a,y:r,width:o,height:l,ex:s}=t.calculative.worldRect,c=t.calculative.lineTop||.08;let d=t.calculative.borderRadius||0,u=d;d<1&&(d=o*d,u=l*u);let f=d<u?d:u;if(o<2*f&&(f=o/2),l<2*f&&(f=l/2),n.moveTo(a+f,r),n.arcTo(a+o,r,a+o,r+l,f),n.arcTo(a+o,r+l,a,r+l,f),n.arcTo(a,r+l,a,r,f),n.arcTo(a,r,a+o,r,f),n.closePath(),n.moveTo(a,r+c*l),n.lineTo(s,r+c*l),n instanceof Path2D)return n}function bhe(){return{forkV:Ai,forkH:Ai,swimlaneH:mhe,swimlaneV:yhe}}function whe(){return{activityFinal:phe}}function Che(t,e){t.onDestroy||(t.onDestroy=She,t.onAdd=xhe);const n=e||new Path2D,{x:a,y:r,width:o,height:l,ex:s}=t.calculative.worldRect;let c=t.calculative.borderRadius||0,d=c;c<1&&(c*=o,d*=l);let u=c<d?c:d;o<2*u&&(u=o/2),l<2*u&&(u=l/2),n.moveTo(a+u,r),n.arcTo(a+o,r,a+o,r+l,u),n.arcTo(a+o,r+l,a,r+l,u),n.arcTo(a,r+l,a,r,u),n.arcTo(a,r,a+o,r,u);const f=.2*l;n.moveTo(a,r+f),n.lineTo(s,r+f);const v=r+f+(l-f)/2;if(n.moveTo(a,v),n.lineTo(s,v),n.closePath(),n instanceof Path2D)return n}function xhe(t){const{x:e,y:n,width:a,height:r}=t.calculative.worldRect,o=t.list,l={name:"text",x:e,y:n+.2*r,width:a,height:.4*r,textAlign:"left",textBaseline:"top",textLeft:10,textTop:10},s={name:"text",x:e,y:n+.6*r,width:a,height:.4*r,textAlign:"left",textBaseline:"top",textLeft:10,textTop:10};Object.assign(l,o[0]),Object.assign(s,o[1]),t.calculative.canvas.makePen(l),t.calculative.canvas.makePen(s),t.calculative.canvas.parent.pushChildren(t,[l]),t.calculative.canvas.parent.pushChildren(t,[s])}function She(t){const e=t.calculative.canvas.store;t.children.forEach(n=>{const a=e.data.pens.findIndex(r=>r.id===n);a>-1&&(e.data.pens.splice(a,1),e.pens[n]=void 0)}),t.children=void 0}function Ohe(t,e){t.onDestroy||(t.onDestroy=Phe,t.onAdd=khe);const n=e||new Path2D,{x:a,y:r,width:o,height:l,ex:s}=t.calculative.worldRect;let c=t.calculative.borderRadius||0,d=c;c<1&&(c=o*c,d=l*d);let u=c<d?c:d;o<2*u&&(u=o/2),l<2*u&&(u=l/2),n.moveTo(a+u,r),n.arcTo(a+o,r,a+o,r+l,u),n.lineTo(a+o,r+l-u),n.arcTo(a+o,r+l,a,r+l,u),n.arcTo(a,r+l,a,r,u),n.arcTo(a,r,a+o,r,u);const f=.2*l;if(n.moveTo(a,r+f),n.lineTo(s,r+f),n.closePath(),n instanceof Path2D)return n}function khe(t){const{x:e,y:n,width:a,height:r}=t.calculative.worldRect,o=t.list;let l={name:"text",x:e,y:n+.2*r,width:a,height:.8*r,textAlign:"left",textBaseline:"top",textLeft:10,textTop:10};Object.assign(l,o[0]),t.calculative.canvas.makePen(l),t.calculative.canvas.parent.pushChildren(t,[l])}function Phe(t){const e=t.calculative.canvas.store;t.children.forEach(n=>{const a=e.data.pens.findIndex(r=>r.id===n);a>-1&&(e.data.pens.splice(a,1),e.pens[n]=void 0)}),t.children=[]}function _he(){return{interfaceClass:Che,simpleClass:Ohe}}function Ihe(t,e){const n=e||new Path2D,{x:a,y:r,width:o,height:l}=t.calculative.worldRect;if(n.rect(a,r,o,l),n.closePath(),n instanceof Path2D)return n}function Nhe(t,e){const n=e.headHeight??50,{x:a,y:r,width:o,height:l,ey:s}=e.calculative.worldRect;let c=e.calculative.borderRadius||0,d=c;e.calculative.borderRadius<1&&(c*=o,d*=l);let u=c<d?c:d;o<2*u&&(u=o/2),n<2*u&&(u=n/2),t.beginPath(),t.moveTo(a+u,r),t.arcTo(a+o,r,a+o,r+n,u),t.arcTo(a+o,r+n,a,r+n,u),t.arcTo(a,r+n,a,r,u),t.arcTo(a,r,a+o,r,u),t.closePath(),t.stroke(),t.save(),t.beginPath(),t.lineWidth=1,t.setLineDash([7,7]);const f=a+o/2;t.moveTo(f,r+n+1),t.lineTo(f,s),t.stroke(),t.restore()}function The(){return{sequenceFocus:Ihe}}function Ehe(){return{lifeline:Nhe}}let qg=["fontSize","nameGap","margin","width","symbolSize","itemWidth","itemHeight","fontWeight","top","left","right","bottom","zoom","edgeSymbolSize","nodeWidth","nodeGap","distance","length","length2","offsetCenter","size","symbolOffset","padding","barWidth","symbolOffset","shadowOffsetY","shadowOffsetX"];function Ahe(t){var r,o;let e=globalThis.echarts;if(!t.echarts||!e)return;if(typeof t.echarts=="string")try{t.echarts=JSON.parse(t.echarts)}catch{}qg=((r=t.calculative.canvas.store.options.diagramOptions.chart)==null?void 0:r.keyWords)||qg,t.onDestroy||(t.onDestroy=Dhe,t.onMove=Gg,t.onResize=jhe,t.onRotate=Gg,t.onValue=Mhe,t.onBeforeValue=Fhe,t.onBinds=Lhe,t.onMouseEnter=Gg,t.onRenderPenRaw=Xg),t.calculative.singleton||(t.calculative.singleton={});const n=new Path2D,a=t.calculative.worldRect;if(!t.calculative.singleton.div){const l=document.createElement("div");l.style.position="absolute",l.style.outline="none",l.style.left="-9999px",l.style.top="-9999px",l.style.width=a.width+"px",l.style.height=a.height+"px",document.body.appendChild(l),(o=t.calculative.canvas.externalElements)==null||o.parentElement.appendChild(l),sn(t,l),t.calculative.singleton.div=l,t.calculative.singleton.echart=e.init(l,t.echarts.theme),Rhe(t),t.calculative.singleton.echartsReady=!0,t.echarts.geoName&&!e.getMap(t.echarts.geoName)&&(t.echarts.geoJson?e.registerMap(t.echarts.geoName,t.echarts.geoJson):t.echarts.geoUrl&&(t.calculative.singleton.echartsReady=!1,fetch(t.echarts.geoUrl).then(s=>{s.text().then(c=>{if(typeof c=="string")try{c=JSON.parse(c)}catch{}if(c.constructor!==Object&&c.constructor!==Array){console.warn("Invalid data:",c);return}e.registerMap(t.echarts.geoName,c),t.calculative.singleton.echartsReady=!0,t.calculative.singleton.echart.setOption(Xd(t.echarts.option,t.calculative.canvas.store.data.scale),!0),t.calculative.singleton.echart.resize(),setTimeout(()=>{Xg(t)},300)})}))),t.calculative.singleton.echartsReady&&setTimeout(()=>{t.calculative.singleton.echart.setOption(Xd(t.echarts.option,t.calculative.canvas.store.data.scale),!0),setTimeout(()=>Xg(t),300)})}return n}function Rhe(t){var a;const e=t.calculative.singleton.echart,n=["click","dblclick","mousedown","mousemove","mouseup","mouseover","mouseout","globalout","contextmenu"];n.forEach(r=>{e.off(r)}),(a=t.events)==null||a.forEach(r=>{r.actions&&r.actions.length&&n.includes(r.name)&&e.on(r.name,o=>{let l=!1;r.conditions&&r.conditions.length?r.conditionType==="and"?l=r.conditions.every(s=>t.calculative.canvas.parent.judgeCondition(t,s.key,s)):r.conditionType==="or"&&(l=r.conditions.some(s=>t.calculative.canvas.parent.judgeCondition(t,s.key,s))):l=!0,l&&r.actions.forEach(s=>{if(s.timeout){let c=setTimeout(()=>{t.calculative.canvas.parent.events[s.action]&&(t.calculative.canvas.parent.events[s.action](t,s,o),clearTimeout(c),c=null)},s.timeout)}else t.calculative.canvas.parent.events[s.action]&&t.calculative.canvas.parent.events[s.action](t,s,o)})})})}function Dhe(t){if(t.calculative.singleton&&t.calculative.singleton.div){t.calculative.singleton.div.remove();let e=globalThis.echarts;e&&e.dispose(t.calculative.singleton.echart),delete t.calculative.singleton.div,delete t.calculative.singleton.echart}}function Gg(t){t.calculative.singleton.div&&sn(t,t.calculative.singleton.div)}function jhe(t){if(!t.calculative.singleton.echart)return;let e=globalThis.echarts;sn(t,t.calculative.singleton.div),!(t.echarts.geoName&&!e.getMap(t.echarts.geoName))&&(t.calculative.singleton.echart.setOption(Xd(t.echarts.option,t.calculative.canvas.store.data.scale),!0),t.calculative.singleton.echart.resize())}function Mhe(t){if(t.calculative.singleton.echart&&(sn(t,t.calculative.singleton.div),t.calculative.singleton.echartsReady))if(t.calculative.partialOption){const e=t.calculative.partialOption.echarts.option;t.calculative.singleton.echart.setOption(fe(e))}else t.calculative.singleton.echart.setOption(Xd(t.echarts.option,t.calculative.canvas.store.data.scale),!0)}function Fhe(t,e){if(t.calculative.partialOption=null,e.echarts){let g=globalThis.echarts;return e.echarts.geoName&&!g.getMap(e.echarts.geoName)&&(e.echarts.geoJson?g.registerMap(e.echarts.geoName,e.echarts.geoJson):e.echarts.geoUrl&&(t.calculative.singleton.echartsReady=!1,fetch(e.echarts.geoUrl).then(p=>{p.text().then(m=>{if(typeof m=="string")try{m=JSON.parse(m)}catch{}if(m.constructor!==Object&&m.constructor!==Array){console.warn("Invalid data:",m);return}return g.registerMap(e.echarts.geoName,m),t.calculative.singleton.echartsReady=!0,t.onValue(t),!1})}))),e}if(t.realTimes&&t.realTimes.length){let g=Object.keys(e);const{xAxis:p,yAxis:m}=t.echarts.option,{max:y,replaceMode:b,timeFormat:w}=t.echarts;let C=[],x=!1;for(let k in e)if(k.includes("echarts.option")){x=!0;let P=gl(t,k);if(Array.isArray(P)&&b===0&&(P.push(e[k]),y&&P.splice(0,P.length-y),e[k]=P,!g.includes("echarts.option.xAxis.data"))){let I="echarts.option.xAxis.data";Array.isArray(p)&&p.length&&(I="echarts.option.xAxis.0.data");let D=gl(t,I),L=mce(w||"`${hours}:${minutes}:${seconds}`");D.push(L),y&&D.splice(0,D.length-y),e[I]=D}if(k.includes(".data.")){let I=k.substring(0,k.indexOf(".data.")+5);C.includes(I)||C.push(I)}}if(x){const k=fe(e);t.calculative.partialOption=$he(k),C.forEach(P=>{let I=gl(t,P);pg(t.calculative.partialOption,P,I)})}return e}if(!e.dataX&&!e.dataY)return e;const n=t.echarts,{max:a,replaceMode:r}=n;let o=e.dataX,l=e.dataY,s=[];l&&s.push("echarts.option.series");const c=n.option.series,d=c.length,{xAxis:u,yAxis:f}=n.option;Array.isArray(u)&&u.length>1&&console.warn("echarts 只支持单 x 轴，多 x 轴将被忽略");const v=Array.isArray(u)?u[0]:u,h=Array.isArray(f)?f[0]:f;if(r)if(r===1){if(!v&&!h)l&&(d===1?(!Array.isArray(l)&&(l=[l]),l.forEach((g,p)=>{const m=c[0].data.find(y=>y.name===g.name);m&&(m.value=g.value)})):c.forEach((g,p)=>{Array.isArray(l[p])||(l[p]=[l[p]]),l[p].forEach((m,y)=>{const b=g.data.find(w=>w.name===m.name);b&&(b.value=m.value)})}));else if((v.type==="category"||h.type==="category")&&o&&l){const g=v.type==="category"?v.data:h.data;!Array.isArray(o)&&(o=[o]),!Array.isArray(l)&&(l=[l]),v.type==="category"?s.push("echarts.option.xAxis"):s.push("echarts.option.yAxis"),d===1?l.forEach((p,m)=>{const y=g.indexOf(o[m]);c[0].data[y]=p}):c.forEach((p,m)=>{l[m].forEach((y,b)=>{const w=g.indexOf(o[b]);p.data[w]=y})})}}else r===2&&(o&&(v.data=o,v.data.splice(0,v.data.length-a),s.push("echarts.option.xAxis")),l&&(d===1?(c[0].data=l,c[0].data.splice(0,c[0].data.length-a)):c.forEach((g,p)=>{g.data=l[p],g.data.splice(0,g.data.length-a)})));else{if(o){!Array.isArray(o)&&(o=[o]);const g=v.data;g.push(...o),g.splice(0,g.length-a),s.push("echarts.option.xAxis")}if(l)if(d===1){!Array.isArray(l)&&(l=[l]);const g=c[0].data;g.push(...l),g.splice(0,g.length-a)}else c.forEach((g,p)=>{Array.isArray(l[p])||(l[p]=[l[p]]);const m=g.data;m.push(...l[p]),m.splice(0,m.length-a)})}return t.calculative.partialOption={},s.forEach(g=>{let p=gl(t,g);pg(t.calculative.partialOption,g,p)}),delete e.dataX,delete e.dataY,Object.assign(e,{echarts:n})}function Lhe(t,e,n){if(n.key!=="dataY")return;const a=t.echarts,{xAxis:r,yAxis:o}=a.option;Array.isArray(r)&&r.length>1&&console.warn("echarts 只支持单 x 轴，多 x 轴将被忽略");const l=Array.isArray(r)?r[0]:r,s=Array.isArray(o)?o[0]:o,c=a.option.series;if(!l&&!s){const d=[];if(Array.isArray(c)&&c.length===1)return c[0].data.forEach(u=>{const{dataId:f}=n.dataIds.find(v=>v.name===u.name);if(f){const v=e.find(h=>h.dataId===f);v&&d.push({name:u.name,value:v.value})}}),{id:t.id,dataY:d}}else if(l.type==="category"||s.type==="category"){const d=[],u=[],f=l.type==="category"?l.data:s.data;return f==null||f.forEach(v=>{const{dataId:h}=n.dataIds.find(g=>g.name===v);if(h){const g=e.find(p=>p.dataId===h);g&&(u.push(v),d.push(g.value))}}),{id:t.id,dataY:d,dataX:u}}else if(l.type==="time"){const d=[],u=+new Date;let f=!1;if(c.forEach((v,h)=>{const g=[],{dataId:p}=n.dataIds.find(m=>m.name===v.name);if(p){const m=e.find(y=>y.dataId===p);m&&(g.push([u,m.value]),f=!0)}d[h]=g}),f)d.forEach((v,h)=>{if(!v||v.length===0){const g=c[h].data[c[h].data.length-1];d[h]=[[u,g[1]]]}});else return;return{id:t.id,dataY:d.length===1?d[0]:d}}}function Xg(t){var n,a;const e=new Image;e.src=(a=(n=t.calculative.singleton)==null?void 0:n.echart)==null?void 0:a.getDataURL({pixelRatio:2}),t.calculative.img=e}function Xd(t,e){const n=fe(t);if(n.dataZoom){let a=["right","top","width","height","left","bottom"];for(let r=0;r<a.length;r++)n.dataZoom.forEach(o=>{isNaN(o[a[r]])||(o[a[r]]*=e)})}return fg(n,qg,e),n}function $he(t){const e={};return Object.keys(t).forEach(n=>{const a=n.split(".");let r=e;a.forEach((o,l)=>{const s=!isNaN(parseInt(o));if(l===a.length-1)s?(Array.isArray(r)||(r=[]),r[parseInt(o)]=t[n]):r[o]=t[n];else if(s){const c=parseInt(o);if(Array.isArray(r)||r[a[l-1]],r[c]||(r[c]={}),Array.isArray(r))for(let d=0;d<parseInt(o);d++)r[d]||(r[d]={});r=r[c]}else r[o]||(o==="series"?r[o]=[]:r[o]={}),r=r[o]})}),e}function Bhe(t){Di({echarts:Ahe})}var Jg=(t=>(t[t.Add=0]="Add",t[t.Replace=1]="Replace",t[t.ReplaceAll=2]="ReplaceAll",t))(Jg||{});function PN(t,e){const n=e.calculative.worldRect.height*14/16,r=(t.match(/[\u4e00-\u9fa5]/g)||"").length;return(t.length-r)*n*.6+r*n}function _N(t){if(t.direction=="horizontal"){const e=[];let n=0;const a=t.height;t.checkboxHeight=a,t.options.forEach((o,l)=>{e.push(l*(40+a)+n),n+=PN(o.text,t)}),t.optionPos=e;const r=e.length*(40+a)+n;t.checkboxWidth=r,t.width=r,t.calculative.width=r,t.calculative.worldRect={x:t.x,y:t.y,height:t.height,width:t.width,center:{x:t.x+t.width/2,y:t.y+t.height/2}},Mt(t.calculative.worldRect)}else if(t.direction=="vertical"){t.optionInterval==null&&(t.optionInterval=20),t.optionHeight||(t.optionHeight=20);const e=[];t.options.forEach((a,r)=>{e.push(r*(t.optionInterval+t.optionHeight))}),t.optionPos=e;const n=e[e.length-1]+t.optionHeight;t.checkboxHeight=n,t.width||(t.height=n,t.calculative.height=n,t.calculative.worldRect={x:t.x,y:t.y,height:t.height,width:t.width,center:{x:t.x+t.width/2,y:t.y+t.height/2}},Mt(t.calculative.worldRect))}}function IN(t,e){e.onAdd||(e.onAdd=NN,(!e.rowPos||!e.colPos||!e.calculative.maxOffsetY)&&e.onAdd(e),e.onMouseMove=qhe,e.onMouseLeave=Ghe,e.onMouseDown=Xhe,e.onShowInput=Khe,e.onInput=Yhe,e.onValue=Qhe,e.onBeforeValue=Vhe,e.onMouseEnter=rge,e.onWheel=ege,e.onDestroy=nge),e.data.length!==e.rowPos.length&&(e.initWorldRect=null,e.calculative.isUpdateData=!0,e.onValue(e)),e.data[0].length!==e.colPos.length&&(e.initWorldRect=null,e.calculative.isUpdateData=!0,e.onValue(e));const n=e.calculative.canvas.store.data,a=e.calculative.canvas.store.options;if(e.color=e.color||n.color||a.color,e.textColor=e.textColor||e.color||n.textColor||a.textColor,e.activeColor=e.activeColor||a.activeColor,e.hoverColor=e.hoverColor||a.hoverColor,e.activeBackground=e.activeBackground||a.activeBackground,e.hoverBackground=e.hoverBackground||a.hoverBackground,!e.hasHeader){t.save(),t.beginPath();const{x:r,y:o,width:l,height:s}=e.calculative.worldRect;t.fillStyle="#fff0",t.rect(r-1,o-1,l+2,s+2),t.fill(),t.clip()}Whe(t,e),Uhe(t,e),zhe(t,e),t.restore(),e.isFirstTime=!1}function zhe(t,e){if(!e.calculative.hover||!e.calculative.hoverCell||e.calculative.isInput||!e.calculative.isHover)return;let n=e.calculative.worldRect,a=e.calculative.canvas.mousePos;if(!(a.x>n.x&&a.x<n.x+n.width&&a.y>n.y&&a.y<n.y+n.height)){e.calculative.hover=!1,e.calculative.isHover=!1,e.calculative.hoverCell=void 0;return}const{row:r,col:o}=e.calculative.hoverCell,{x:l,y:s}=e.calculative.canvas.mousePos;if(!e.data[r])return;let c=e.data[r][o];if(typeof c=="object"||!c)return;t.save(),t.beginPath(),t.textAlign="start",t.textBaseline="middle",t.font=t.font=(e.calculative.fontStyle||"")+" normal "+(e.calculative.fontWeight||"")+" "+(e.calculative.fontSize||12)+"px "+e.calculative.fontFamily;const d=t.measureText(c).width;t.beginPath(),t.fillStyle="#fff",t.strokeStyle="#000",t.moveTo(l,s),t.rect(l-10,s,d+20,20),t.fill(),t.stroke(),t.beginPath(),t.fillStyle="#000",t.fillText(c,l,s+10),t.restore()}function Hhe(t){const e=[],n=[],a={};t.rowHeight||(t.rowHeight=40),t.colWidth||(t.colWidth=150);let r=0;const o=t.styles&&t.styles.filter(h=>h.col!==void 0&&h.row===void 0&&h.width);let l={};o&&o.forEach(h=>{l[h.col]=h.width});for(let h=0;h<t.data[0].length;h++){r+=(l[h]||t.colWidth)*t.calculative.canvas.store.data.scale,e.push(r);let g=t.styles&&t.styles.filter(p=>p.col===h&&p.row===void 0);g&&(a[h]=g[0])}let s=0;const c=t.styles&&t.styles.filter(h=>h.col===void 0&&h.row!==void 0&&h.height);let d={};c&&c.forEach(h=>{d[h.row]=h.height});let u=s;for(let h=0;h<t.data.length;h++)s+=(d[h]||t.rowHeight)*t.calculative.canvas.store.data.scale,n.push(s),h<t.maxNum&&(u=s);if(t.calculative.maxOffsetY=(s-u)/t.calculative.canvas.store.data.scale,t.initWorldRect)return;t.colPos=e,t.rowPos=n,t.colStyle=a,t.initScale=t.calculative.canvas.store.data.scale,t.tableWidth=r,t.tableHeight=u||s,t.calculative.width=r,t.calculative.height=u||s,t.calculative.width=r,t.calculative.height=u||s,t.height||(t.height=t.calculative.height),t.width||(t.width=t.calculative.width);let f=t.x,v=t.y;if(t.parentId){let h=t.calculative.canvas.store.pens[t.parentId];f=h.calculative.worldRect.x+h.calculative.worldRect.width*t.x,v=h.calculative.worldRect.y+h.calculative.worldRect.height*t.y}t.calculative.worldRect={x:f,y:v,height:t.calculative.height,width:t.calculative.width,center:{x:t.x+t.calculative.width/2,y:t.y+t.calculative.height/2}},t.width=t.calculative.width,t.height=t.calculative.height,t.initWorldRect||(t.initWorldRect={width:t.calculative.worldRect.width,height:t.calculative.worldRect.height}),Mt(t.calculative.worldRect)}function Whe(t,e){if(!e.colPos)return;const{x:n,y:a,width:r,height:o,ex:l,ey:s}=e.calculative.worldRect;t.save(),t.beginPath(),t.strokeStyle=e.color;let c=e.calculative.borderRadius||0,d=c;c<1&&(c=r*c,d=o*d);let u=c<d?c:d;if(r<2*u&&(u=r/2),o<2*u&&(u=o/2),t.moveTo(n+u,a),t.arcTo(l,a,l,s,u),t.arcTo(l,s,n,s,u),t.arcTo(n,s,n,a,u),t.arcTo(n,a,l,a,u),e.background&&(t.fillStyle=e.background,t.fill()),e.bordered!==!1&&(t.strokeStyle=e.borderColor||"#424B61",t.stroke()),e.hLine!==!1){let f=e.rowPos[e.rowPos.length-1];e.hasHeader&&(t.beginPath(),t.moveTo(e.calculative.worldRect.x,e.calculative.worldRect.y+e.rowPos[0]*e.calculative.worldRect.height/e.tableHeight),t.lineTo(e.calculative.worldRect.ex,e.calculative.worldRect.y+e.rowPos[0]*e.calculative.worldRect.height/e.tableHeight),t.strokeStyle=e.borderColor||"#424B61",t.stroke());for(const v of e.rowPos){if(v===f)continue;const h=v*e.calculative.worldRect.height/e.tableHeight-e.offsetY*e.calculative.canvas.store.data.scale;if(e.hasHeader){if(h<0+e.rowPos[0]||h>e.calculative.worldRect.height)continue}else if(h<0||h>e.calculative.worldRect.height)continue;t.beginPath(),t.moveTo(e.calculative.worldRect.x,e.calculative.worldRect.y+h),t.lineTo(e.calculative.worldRect.ex,e.calculative.worldRect.y+h),t.strokeStyle=e.borderColor||"#424B61",t.stroke()}}if(e.vLine!==!1){let f=e.colPos[e.colPos.length-1];e.colPos.forEach((v,h)=>{if(v===f)return;const g=v*e.calculative.worldRect.width/e.tableWidth;t.beginPath(),t.moveTo(e.calculative.worldRect.x+g,e.calculative.worldRect.y),t.lineTo(e.calculative.worldRect.x+g,e.calculative.worldRect.ey),t.strokeStyle=e.borderColor||"#424B61",t.stroke()})}t.restore()}function Uhe(t,e){var a,r,o,l,s;if(!e.colPos)return;e.calculative.texts||(e.calculative.texts=[]);const n=1;for(let c=0;c<e.rowPos.length;c++){if(e.hasHeader&&c===1){t.save(),t.beginPath();const{x:u,y:f,width:v,height:h}=e.calculative.worldRect;t.fillStyle="#fff0",t.rect(u-1,f+e.rowPos[0]*e.calculative.worldRect.height/e.tableHeight-1,v+2,h-e.rowPos[0]*e.calculative.worldRect.height/e.tableHeight+2),t.fill(),t.clip()}let{style:d}=Jhe(e,c);for(let u=0;u<e.colPos.length;u++){let{value:f,style:v}=EN(e,c,u),h=!0;if(Array.isArray(v)&&v.length>0){let I=0;v.forEach((D,L)=>{D.wheres&&D.wheres.every(S=>new Function("attr",`return attr ${S.comparison} ${S.value}`)(f))&&(I=L)}),v=v[I]}else v.wheres&&Array.isArray(v.wheres)&&(h=!1,h=v.wheres.every(function(I){return new Function("attr",`return attr ${I.comparison} ${I.value}`)(f)}));let g=e.color,p=e.textColor||e.color,m=null,y=null,b=null,w=null;h&&(g=v.color||d.color||e.color,p=v.textColor||d.textColor||e.textColor,m=v.background||d.background,y=(v.fontSize||d.fontSize||0)*e.calculative.canvas.store.data.scale,b=v.fontWeight||d.fontWeight,w=v.fontStyle||d.fontStyle);let C;e.stripe&&(e.hasHeader!==!1?c%2===1&&(m=m||e.stripeColor||"#407FFF1F"):c%2===0&&(m=m||e.stripeColor||"#407FFF1F")),e.calculative.active&&((a=e.calculative.activeCell)==null?void 0:a.row)===c&&((r=e.calculative.activeCell)==null?void 0:r.col)===u&&(g=e.activeColor,m=e.activeBackground,C=g,p=e.activeTextColor||e.activeColor),e.calculative.hover&&((o=e.calculative.hoverCell)==null?void 0:o.row)===c&&((l=e.calculative.hoverCell)==null?void 0:l.col)===u&&(g=e.hoverColor,m=e.hoverBackground,p=e.hoverTextColor||e.hoverColor,C=g);const x=RN(e,c,u);if(x.y+x.height<e.calculative.worldRect.y||x.y>e.calculative.worldRect.height+e.calculative.worldRect.y)continue;m&&(t.save(),t.beginPath(),t.fillStyle=m,t.fillRect(x.x,x.y,x.width+.25*e.calculative.canvas.store.data.scale,x.height),t.restore()),C&&(t.save(),t.beginPath(),t.strokeStyle=C,t.strokeRect(x.x,x.y,x.width,x.height),t.restore()),e.calculative.worldTextRect=x;let k=e.calculative.texts[c];if(e.calculative.texts[c]||(k=[],e.calculative.texts.push(k)),k[u]==null){if(typeof f=="object"){const I=e.styles&&e.styles.filter(D=>D.col===u&&D.row===void 0&&D.pens);if(I.length>0){if(k[u]="",e.isFirstTime){e.maxNum&&e.hasHeader&&c>=e.maxNum&&(f.visible=!1);let D=JSON.parse(JSON.stringify(I[0].pens));D.forEach(L=>{Object.assign(L,{row:c,col:u},f),L.activeBackground=L.background,L.hoverBackground=L.background,L.activeColor=L.color,L.hoverColor=L.color,L.activeTextColor=L.textColor,L.hoverTextColor=L.textColor,L.height*=e.calculative.canvas.store.data.scale,L.width*=e.calculative.canvas.store.data.scale}),Zhe(e,x,D),e.calculative.canvas.parent.pushChildren(e,D)}continue}}else f===void 0?k[u]="":k[u]=f.text||f+"";if(!k[u])continue;k[u]=Ls(e,k[u])}if(!k[u])continue;t.save(),t.beginPath(),t.fillStyle=p,t.textAlign="center",t.textBaseline="middle",t.font=(w||e.calculative.fontStyle||"")+" normal "+(b||e.calculative.fontWeight||"")+" "+(y||e.calculative.fontSize||12)*n+"px "+e.calculative.fontFamily;let P=e.colStyle&&((s=e.colStyle[u])==null?void 0:s.textAlign);if(P&&(t.textAlign=P),k[u].length===1)P==="left"?t.fillText(k[u][0],x.x,x.y+x.height/2):P==="right"?t.fillText(k[u][0],x.x+x.width,x.y+x.height/2):t.fillText(k[u][0],x.x+x.width/2,x.y+x.height/2);else{const D=(y||e.calculative.fontSize)*e.calculative.lineHeight*n,L=k[u].length*D;let O=(x.height-L)/2;P==="left"?k[u].forEach((S,_)=>{t.fillText(S,x.x,x.y+O+(_+.55)*D)}):P==="right"?k[u].forEach((S,_)=>{t.fillText(S,x.x+x.width,x.y+O+(_+.55)*D)}):k[u].forEach((S,_)=>{t.fillText(S,x.x+x.width/2,x.y+O+(_+.55)*D)})}t.restore()}}}function NN(t){var e;Vg(t),(e=t.children)!=null&&e.length||(t.isFirstTime=!0),t.offsetY||(t.offsetY=0),Hhe(t)}function Khe(t,e){if(!t.calculative.hoverCell)return;const{value:n}=EN(t,t.calculative.hoverCell.row,t.calculative.hoverCell.col);if(typeof n=="object")return;t.calculative.isHover=!1,t.calculative.isInput=!0,t.calculative.canvas.render(),t.calculative.inputCell=t.calculative.hoverCell;const a=RN(t,t.calculative.hoverCell.row,t.calculative.hoverCell.col);t.calculative.tempText=n.text||n+"",t.calculative.canvas.showInput(t,a,"#ffffff")}function Yhe(t,e){t.calculative.inputCell&&(AN(t,t.calculative.inputCell.row,t.calculative.inputCell.col,e),t.calculative.isInput=!1,t.calculative.isHover=!0,t.calculative.canvas.render())}function qhe(t,e){t.timer&&(t.calculative.isHover=!1,clearTimeout(t.timer)),t.timer=setTimeout(()=>{t.calculative.isHover=!0,t.calculative.canvas.render()},500),t.calculative.hoverCell=TN(t,e),t.calculative.canvas.render()}function Ghe(t,e){Vg(t),t.calculative.hoverCell=void 0,t.calculative.canvas.render()}function Xhe(t,e){t.calculative.activeCell=TN(t,e),t.calculative.canvas.render()}function TN(t,e){const n=t.calculative.worldRect.width/t.tableWidth,a=t.calculative.worldRect.height/t.tableHeight,r={row:0,col:0};for(let o=0;o<t.colPos.length;o++)e.x>t.calculative.worldRect.x+t.colPos[o]*n&&(r.col=o+1);for(let o=0;o<t.rowPos.length;o++)e.y>t.calculative.worldRect.y+t.rowPos[o]*a-t.offsetY*t.calculative.canvas.store.data.scale&&(r.row=o+1);return r}function EN(t,e,n){if(!t.data||!Array.isArray(t.data))return;const a=t.data[e],r=t.styles&&t.styles.filter(o=>o.row===e&&o.col===n);if(Array.isArray(a))return{value:a[n],style:(r==null?void 0:r.length)>0?r.length>1?r:r[0]:{}};if(!a.data||!Array.isArray(a.data))return}function Jhe(t,e){if(!t.data||!Array.isArray(t.data))return;const n=t.data[e],a=t.styles&&t.styles.filter(r=>r.row===e&&r.col===void 0);if(Array.isArray(n))return{value:n,style:(a==null?void 0:a.length)>0?a[0]:{}};if(!n.data||!Array.isArray(n.data))return}function AN(t,e,n,a){if(!t.data||!Array.isArray(t.data))return;t.isFirstTime=!1,t.calculative.texts=void 0;let r=t.data[e];r&&(r[n]instanceof Object||(r[n]=a),t.calculative.canvas.store.emitter.emit("valueUpdate",t))}function RN(t,e,n){const a=t.calculative.worldRect.width/t.tableWidth,r=t.calculative.worldRect.height/t.tableHeight;let o=0,l=t.colPos[n]*a;n>0&&(o=t.colPos[n-1]*a);let s=0,c=t.rowPos[e]*r;e>0&&(s=t.rowPos[e-1]*r);let d=t.offsetY*t.calculative.canvas.store.data.scale;return e===0&&t.hasHeader&&(d=0),{x:t.calculative.worldRect.x+o,y:t.calculative.worldRect.y+s-d,ex:t.calculative.worldRect.x+l,ey:t.calculative.worldRect.y+c-d,width:l-o,height:c-s}}function Zhe(t,e,n){if(!(n&&n.length))return;const a=t.calculative.worldRect.width/t.tableWidth,r=t.calculative.worldRect.height/t.tableHeight;let o=1,l=1;t.initWorldRect&&(t.calculative.worldRect.width!==t.initWorldRect.width&&(o=t.calculative.worldRect.width/t.initWorldRect.width),t.calculative.worldRect.height!==t.initWorldRect.height&&(l=t.calculative.worldRect.height/t.initWorldRect.height));let s=0,c=0,d=0;const u=t.calculative.canvas.store.data.scale;if(n.length>1){for(const f of n)c+f.width*a+20*u*a<e.width?(f.x=e.x+c+10*u*a,f.y=e.y+d+10*u*r,c+=(f.width+10*u)*a,s=Math.max(s,d+(f.height+10*u)*r)):(c=0,d=s,f.x=e.x+c+10*u*a,f.y=e.y+d+10*u*r,s+=(f.height+10*u)*r);if(s+20*u*r<e.height){const f=(e.height-s-10*u*r)/2;for(const v of n)v.y+=f}}else n[0].x=e.x+(e.width-n[0].width)/2,n[0].y=e.y+(e.height-n[0].height)/2;n.forEach(f=>{f.width=f.width*o,f.height=f.height*l})}function Qhe(t){if(t.calculative.isUpdateData){delete t.calculative.isUpdateData;let e=fe(t.children);t.children=[],NN(t),e&&e.forEach(n=>{t.calculative.canvas.delForce(t.calculative.canvas.findOne(n))}),t.calculative.texts=void 0}}function Vhe(t,e){if(t.calculative.isUpdateData=!1,t.swiper!==void 0&&(t.swiper?Vg(t):Qg(t)),e.styles&&(t.initWorldRect=void 0),e.table||e.col==null&&e.row==null){if(e.dataY){const a=t.replaceMode;let r=[];return a?a===Jg.Replace?(r=t.data,e.dataX&&e.dataX.forEach((o,l)=>{r[o]=e.dataY[l]})):a===Jg.ReplaceAll&&(e.dataX?r[0]=e.dataX:r[0]=t.data[0],r=r.concat(e.dataY)):r=t.data.concat(e.dataY),delete e.dataX,delete e.dataY,t.calculative.isUpdateData=!0,Object.assign(e,{data:r})}(e.data||e.styles||e.maxNum||e.rowHeight||e.colWidth)&&(t.calculative.isUpdateData=!0,t.initWorldRect=null);for(let a of Object.keys(e))a.includes("data.")&&(t.calculative.isUpdateData=!0);return e}let n=t.data[e.row];return n&&(n[e.col]instanceof Object||(n[e.col]=e.value),AN(t,e.row,e.col,e.value),t.calculative.canvas.render(),delete e.col,delete e.row),e}function ege(t,e){if(!t.locked&&!t.calculative.canvas.store.data.locked||!t.maxNum)return;let n=0;e.deltaY>0?n=4:n=-4,Zg(t,n)}function Zg(t,e){var n;t.offsetY||(t.offsetY=0),t.offsetY+=e,t.offsetY>t.calculative.maxOffsetY&&(t.offsetY=t.calculative.maxOffsetY),t.offsetY<0&&(t.offsetY=0),(n=t.children)==null||n.forEach(a=>{const r=t.calculative.canvas.store.pens[a];tge(t,r)}),t.calculative.canvas.render()}function tge(t,e){if(!e)return;e.oldY||(e.oldY=e.y),e.calculative.worldRect,t.calculative.worldRect;const n=t.calculative.canvas.store.data.scale;t.calculative.worldRect.height/t.tableHeight;const a=t.rowHeight;e.y=e.oldY-t.offsetY*n/t.calculative.worldRect.height;const r=a*(t.initScale||1)/t.tableHeight*t.maxNum;if(t.calculative.canvas.updatePenRect(e),t.hasHeader)if(e.y<t.rowPos[0]/t.tableHeight){if(e.calculative.visible=!1,e.visible=!1,e.y<t.rowPos[0]/t.tableHeight/2){e.oldY+=r;let o=e.row+t.maxNum;if(!t.data[o])return;let l=fe(t.data[o][e.col]);l.background&&(l.activeBackground=l.background,l.hoverBackground=l.background),l.color&&(l.hoverColor=l.color,l.activeColor=l.color),l.textColor&&(l.activeTextColor=l.textColor,l.hoverTextColor=l.textColor),Object.assign(e,l,{row:o}),Object.assign(e.calculative,l,{row:o})}}else if(e.y+e.height>1){if(e.calculative.visible=!1,e.visible=!1,e.y+e.height/2>1){e.oldY-=r;let o=e.row-t.maxNum;if(!t.data[o])return;let l=fe(t.data[o][e.col]);l.background&&(l.activeBackground=l.background,l.hoverBackground=l.background),l.color&&(l.hoverColor=l.color,l.activeColor=l.color),l.textColor&&(l.activeTextColor=l.textColor,l.hoverTextColor=l.textColor),Object.assign(e,l,{row:o}),Object.assign(e.calculative,l,{row:o})}}else e.visible=!0,e.calculative.visible=!0;else if(e.y<0){if(e.calculative.visible=!1,e.visible=!1,e.y<-a/t.tableHeight/2){e.oldY+=r;let o=e.row+t.maxNum;if(!t.data[o])return;let l=fe(t.data[o][e.col]);l.background&&(l.activeBackground=l.background,l.hoverBackground=l.background),l.color&&(l.hoverColor=l.color,l.activeColor=l.color),l.textColor&&(l.activeTextColor=l.textColor,l.hoverTextColor=l.textColor),Object.assign(e,l,{row:o}),Object.assign(e.calculative,l,{row:o})}}else if(e.y+e.height>1){if(e.calculative.visible=!1,e.visible=!1,e.y+e.height/2>1){e.oldY-=r;let o=e.row-t.maxNum;if(!t.data[o])return;let l=fe(t.data[o][e.col]);l.background&&(l.activeBackground=l.background,l.hoverBackground=l.background),l.color&&(l.hoverColor=l.color,l.activeColor=l.color),l.textColor&&(l.activeTextColor=l.textColor,l.hoverTextColor=l.textColor),Object.assign(e,l,{row:o}),Object.assign(e.calculative,l,{row:o})}}else e.calculative.visible=!0,e.visible=!0}function nge(t){Qg(t)}function Qg(t){t.interval&&(globalThis.clearInterval(t.interval),t.interval=null)}function Vg(t){if(t.maxNum&&t.swiper){if(t.interval)return;t.interval=globalThis.setInterval(()=>{t.offsetY>=t.calculative.maxOffsetY?(t.offsetY=0,age(t)):t.offsetY%t.rowHeight?Zg(t,1):(t.calculative.stap||(t.calculative.stap=0),t.calculative.stap+=1,t.calculative.stap==12&&(t.calculative.stap=0,Zg(t,1)))},50)}}function age(t){var e;(e=t.children)==null||e.forEach(n=>{const a=t.rowHeight,r=t.calculative.canvas.store.pens[n];if(!r)return;const o=a*(t.initScale||1)/t.tableHeight*t.maxNum;r.oldY-=o;const l=r.row-t.maxNum;if(!t.data[l])return;let s=fe(t.data[l][r.col]);s.background&&(s.activeBackground=s.background,s.hoverBackground=s.background),s.color&&(s.hoverColor=s.color,s.activeColor=s.color),s.textColor&&(s.activeTextColor=s.textColor,s.hoverTextColor=s.textColor),r.calculative.visible=!0,r.visible=!0,Object.assign(r,s,{row:l}),Object.assign(r.calculative,s,{row:l})}),t.calculative.canvas.render()}function rge(t){Qg(t)}function ige(t,e){e.onClick||(e.onClick=oge);let n=e.calculative.worldRect.x,a=e.calculative.worldRect.y,r=e.calculative.worldRect.width,o=e.calculative.worldRect.height;r<o*1.5&&(r=1.5*o),t.beginPath(),t.arc(n+o/2,a+o/2,o/2,Math.PI/2,Math.PI*3/2),t.lineTo(n+r-o/2,a),t.arc(n+r-o/2,a+o/2,o/2,-Math.PI/2,Math.PI/2),t.lineTo(n+o/2,a+o),e.checked?(t.fillStyle=e.onColor,(e.disabled||e.disable)&&(t.fillStyle=e.disableOnColor||ln(.6,e.onColor)),e.lineWidth&&(t.strokeStyle=e.onStrokeColor,t.stroke()),t.fill(),t.closePath(),t.beginPath(),t.fillStyle="#ffffff",t.moveTo(n+o*2,a+o/2),t.arc(n+r-o/2,a+o/2,o/2>2?o/2-2:1,0,Math.PI*2),t.fill()):(t.fillStyle=e.offColor,(e.disabled||e.disable)&&(t.fillStyle=e.disableOffColor||ln(.6,e.offColor)),e.lineWidth&&(t.strokeStyle=e.offStrokeColor,t.stroke()),t.fill(),t.closePath(),t.beginPath(),t.fillStyle="#ffffff",t.moveTo(n+o,a+o/2),t.arc(n+o/2,a+o/2,o/2>2?o/2-2:1,0,Math.PI*2),t.fill()),t.closePath()}function oge(t){t.disabled||t.disable||(t.checked=!t.checked,t.calculative.canvas.store.emitter.emit("valueUpdate",t),t.calculative.canvas.render())}function lge(t,e){e.onAdd||(e.onAdd=qs,e.onResize=qs,e.onMove=qs,e.onMouseMove=sge,e.onMouseDown=DN,e.onValue=cge,e.onBeforeValue=uge),e.calculative.barRect||qs(e),e.calculative.canvas.store.data;const n=e.calculative.canvas.store.options;let a=e.background;e.disabled&&(a=e.disabledBackground||ln(.6,a)),t.fillStyle=a,t.beginPath();let r=e.calculative.worldRect.x+e.calculative.barRect.x,o=e.calculative.worldRect.y+e.calculative.barRect.y,l=e.calculative.barRect.width,s=e.calculative.barRect.height,c=s/2;t.moveTo(r+c,o),t.arcTo(r+l,o,r+l,o+s,c),t.arcTo(r+l,o+s,r,o+s,c),t.arcTo(r,o+s,e.x,e.y,c),t.arcTo(r,o,r+l,o,c),t.fill();let d=e.activeColor||n.activeColor;e.disabled&&(d=e.disabledColor||ln(.6,d)),t.fillStyle=d,t.beginPath(),l=e.calculative.ballRect.x,t.moveTo(r+c,o),t.arcTo(r+l,o,r+l,o+s,c),t.arcTo(r+l,o+s,r,o+s,c),t.arcTo(r,o+s,e.x,e.y,c),t.arcTo(r,o,r+l,o,c),t.fill(),t.fillStyle=e.btnBackground||"#fff",t.strokeStyle=d,t.lineWidth=2,t.beginPath(),r=e.calculative.worldRect.x+e.calculative.ballRect.x,o=e.calculative.worldRect.y+e.calculative.ballRect.y+e.calculative.ballRect.height/2,t.lineWidth=e.calculative.ballRect.width/10,t.arc(r,o,e.calculative.ballRect.width/2,0,Math.PI*2),t.fill(),t.stroke()}function qs(t){if(t._textWidth||(t._textWidth=t.textWidth||50,t._fontSize=t.fontSize||12),t.textWidth=t.calculative.worldRect.width,t.calculative.textWidth=t.textWidth,t.unit||(t.unit="%"),t.sliderWidth||(t.sliderWidth=t.width),t.sliderHeight||(t.sliderHeight=t.height),!t.calculative.worldRect)return;const e=t.calculative.worldRect.width/t.sliderWidth,n=t.calculative.worldRect.height/t.sliderHeight,a=Math.min(e,n);t.fontSize=t._fontSize*a;const r=t.calculative.worldRect.width-t._textWidth*a;t.textLeft=r+10*a,t.calculative.textLeft=t.textLeft,t.calculative.barRect={x:0,y:(t.calculative.worldRect.height-t.barHeight*n)/2,width:r,height:t.barHeight*n},Mt(t.calculative.barRect),ep(t)}function ep(t){const e=t.calculative.barRect.height*3.5,n=t.calculative.barRect.width*t.value/100;t.calculative.ballRect={x:n,y:(t.calculative.worldRect.height-e)/2,width:e,height:e},Mt(t.calculative.ballRect),t.calculative.text=t.value+t.unit,Ua(t)}function DN(t,e){if(t.disabled)return;const n=e.x-t.calculative.worldRect.x;if(n>t.calculative.barRect.width)return;let a=Math.round(n/t.calculative.barRect.width*100);a<t.min||a>t.max||a<0||a>100||(t.value=a,ep(t),t.calculative.text=t.value+t.unit,Ua(t),t.calculative.canvas.store.emitter.emit("valueUpdate",t),t.calculative.canvas.render())}function sge(t,e){t.calculative.canvas.mouseDown&&DN(t,e)}function cge(t){t.calculative.isUpdateData&&(delete t.calculative.isUpdateData,qs(t)),ep(t)}function uge(t,e){return t.calculative.isUpdateData=!1,(e.textWidth||e.barHeight)&&(e.textWidth&&(t._textWidth=0),t.calculative.isUpdateData=!0),e}function dge(t,e){e.onMouseDown||(e.onMouseDown=fge),e.options||(e.options=e.data);let n=e.calculative.worldRect.x,a=e.calculative.worldRect.y,r=e.calculative.worldRect.height;e.calculative.worldRect.width;const{fontStyle:o,fontWeight:l,fontSize:s,fontFamily:c,lineHeight:d}=e.calculative;let u=2;t.beginPath(),t.moveTo(n,a),t.arcTo(n+r,a,n+r,a+r,u),t.arcTo(n+r,a+r,n,a+r,u),t.arcTo(n,a+r,n,a,u),t.arcTo(n,a,n+r,a,u),t.strokeStyle="#d9d9d9",t.fillStyle="#ffffff00",e.checked&&(t.fillStyle=e.background||"#1890ff",t.strokeStyle=e.background||"#1890ff"),(e.isForbidden||e.disabled)&&(t.fillStyle=e.disabledBackground||ln(.6,e.background)||"#ebebeb",t.strokeStyle=e.disabledColor||ln(.6,e.color)||"#d9d9d9"),t.closePath(),t.fill(),t.stroke(),t.save(),e.checked&&(t.beginPath(),t.lineWidth=r/10,t.strokeStyle="#ffffff",t.moveTo(n+102/506*r,a+r/2),t.lineTo(n+220/506*r,a+346/460*r),t.lineTo(n+404/506*r,a+142/460*r),t.stroke()),t.restore(),t.save(),t.fillStyle=e.disabled||e.isForbidden?e.disabledTextColor||ln(.6,e.textColor||e.color)||"#00000040":Ur(e,e.calculative.canvas.parent.store)||"#000000d9",t.textAlign="start",t.textBaseline="middle",t.font=Jn({fontStyle:o,fontWeight:l,fontFamily:c||e.calculative.canvas.parent.store.options.fontFamily,fontSize:s,lineHeight:d}),t.fillText(e.value+"",n+r+10,a+r/2),t.restore()}function fge(t,e){t.isForbidden||(t.checked=!t.checked,t.calculative.canvas.store.emitter.emit("valueUpdate",t),t.calculative.canvas.render())}function vge(t,e){e.options||(e.options=e.data),e.onAdd||(e.onAdd=hge,e.optionPos||(e.onAdd(e),e.calculative.canvas.parent.active([e])),e.onMouseDown=gge,e.onValue=pge);let n=e.calculative.worldRect.x,a=e.calculative.worldRect.y,r=e.calculative.worldRect.height,o=e.calculative.worldRect.width;if(!e.optionPos)return;const{fontStyle:l,fontWeight:s,fontSize:c,fontFamily:d,lineHeight:u}=e.calculative;if(e.direction=="horizontal")for(let f=0;f<e.optionPos.length;f++){const v=e.optionPos[f]*o/e.checkboxWidth,h=e.options[f].isForbidden||e.disabled;t.beginPath(),t.arc(n+v+r/2,a+r/2,r/2,0,Math.PI*2),t.strokeStyle="#d9d9d9",t.fillStyle="#ffffff00",e.options[f].text===e.checked&&(t.strokeStyle=e.options[f].background||e.background||"#1890ff"),h&&(t.fillStyle=e.disabledBackground||ln(.6,e.background)||"#ebebeb",t.strokeStyle=e.disabledColor||ln(.6,e.color)||"#d9d9d9",e.options[f].text===e.checked&&(t.fillStyle="#ffffff00")),t.closePath(),t.fill(),t.stroke(),t.save(),e.options[f].text===e.checked&&(t.beginPath(),t.strokeStyle=e.options[f].background?e.options[f].background+"20":e.background||"#1890ff20",h&&(t.strokeStyle=e.disabledBackground||ln(.6,e.background)||"#ebebeb"),t.arc(n+r/2+v,a+r/2,r/2+1.5,0,Math.PI*2),t.stroke(),t.closePath(),t.beginPath(),t.fillStyle=e.options[f].background||e.background||"#1890ff",h&&(t.fillStyle=e.disabledBackground||ln(.6,e.background)||"#ebebeb"),t.arc(n+r/2+v,a+r/2,r/4,0,Math.PI*2),t.fill(),t.closePath()),t.restore(),t.save(),t.fillStyle=h?e.disabledTextColor||"#00000040":Ur(e,e.calculative.canvas.parent.store)||"#000000d9";const g=e.calculative.worldRect.height*14/16;t.textAlign="start",t.textBaseline="middle",t.font=Jn({fontStyle:l,fontWeight:s,fontFamily:d||e.calculative.canvas.parent.store.options.fontFamily,fontSize:g,lineHeight:u}),t.fillText(e.options[f].text,n+r+v+10/e.checkboxWidth*o,a+r/2),t.restore()}else if(e.direction=="vertical"){const f=e.optionHeight*r/e.checkboxHeight;for(let v=0;v<e.optionPos.length;v++){const h=e.optionPos[v]*r/e.checkboxHeight,g=e.options[v].isForbidden;t.beginPath(),t.arc(n+f/2,a+f/2+h,f/2,0,Math.PI*2),t.strokeStyle="#d9d9d9",t.fillStyle="#ffffff00",e.options[v].text===e.checked&&(t.strokeStyle=e.options[v].background||"#1890ff"),g&&(t.fillStyle="#ebebeb",t.strokeStyle="#d9d9d9"),t.closePath(),t.fill(),t.stroke(),t.save(),!g&&e.options[v].text===e.checked&&(t.beginPath(),t.strokeStyle=e.options[v].background?e.options[v].background+"20":"#1890ff20",t.arc(n+f/2,a+f/2+h,f/2+1.5,0,Math.PI*2),t.stroke(),t.closePath(),t.beginPath(),t.fillStyle=e.options[v].background||"#1890ff",t.arc(n+f/2,a+f/2+h,f/4,0,Math.PI*2),t.fill(),t.closePath()),t.restore(),t.save(),t.fillStyle=g?"#00000040":Ur(e,e.calculative.canvas.parent.store)||"#000000d9";const p=14*e.calculative.worldRect.height/e.checkboxHeight;t.textAlign="start",t.textBaseline="middle",t.font=Jn({fontStyle:l,fontWeight:s,fontFamily:d||e.calculative.canvas.parent.store.options.fontFamily,fontSize:p,lineHeight:u}),t.fillText(e.options[v].text,n+f+10,a+f/2+h),t.restore()}}}function hge(t){_N(t)}function gge(t,e){if(t.direction=="horizontal")for(let n=0;n<t.optionPos.length;n++)!t.options[n].isForbidden&&e.x>t.calculative.worldRect.x+t.optionPos[n]*t.calculative.worldRect.width/t.checkboxWidth&&e.x<t.calculative.worldRect.x+(t.optionPos[n]+t.height)/t.checkboxWidth*t.calculative.worldRect.width+PN(t.options[n].text,t)+10/t.checkboxWidth*t.calculative.worldRect.width&&(t.checked=t.options[n].text,t.calculative.canvas.store.emitter.emit("valueUpdate",t));else if(t.direction=="vertical"){const n=t.calculative.worldRect.height/t.checkboxHeight;for(let a=0;a<t.optionPos.length;a++)!t.options[a].isForbidden&&e.y>t.calculative.worldRect.y+t.optionPos[a]*n&&e.y<t.calculative.worldRect.y+(t.optionPos[a]+t.optionHeight)*n&&(t.checked=t.options[a].text,t.calculative.canvas.store.emitter.emit("valueUpdate",t))}t.calculative.canvas.render()}function pge(t){_N(t)}function mge(){return{radio:vge,switch:ige,slider:lge,checkbox:dge,table:IN,table2:IN}}const yge=15;function Ui(t,e=yge){let n=""+t;return n.indexOf(".")>=0&&(n=Number.parseFloat(n).toFixed(e)),Number.parseFloat(n)}function tp(t){return typeof t=="number"&&Number.isFinite(t)}function bge(t){t={max:null,min:null,splitNumber:4,symmetrical:!1,deviation:!1,preferZero:!1,...t};const e=[10,15,20,25,30,40,50,60,70,80,90,100,150];let{max:n,min:a,splitNumber:r,symmetrical:o,deviation:l,preferZero:s}=t;if(!tp(n)||!tp(a)||n<a)return{splitNumber:r};if(n===a&&n===0)return{max:Ui(e[0]*r),min:a,interval:e[0],splitNumber:r};n===a&&(s=!0),(!tp(r)||r<=0)&&(r=4),s&&n*a>0&&(n<0?n=0:a=0);const c=(n-a)/r;let d=Math.floor(Math.log10(c)-1);d=Math.pow(10,d);const u=c/d;let f=e[0]*d,v=-1,h;for(h=0;h<e.length;h++)if(e[h]>u){f=e[h]*d;break}let g=n,p=a;function m(b){if(g=parseInt(""+(n/b+1))*b,p=parseInt(""+(a/b-1))*b,n===0&&(g=0),a===0&&(p=0),o&&g*p<0){const w=Math.max(Math.abs(g),Math.abs(p));g=w,p=-w}}if(m(f),l)return{max:Ui(g),min:Ui(p),interval:Ui(f),splitNumber:Math.round((g-p)/f)};if(!o||g*p>0){let b;e:do{if(b=Math.round((g-p)/f),(h-v)*(b-r)<0){for(;b<r;)if(p-a<=g-n&&p!==0||g===0?p-=f:g+=f,b++,b===r)break e}if(h>=e.length-1||h<=0||b===r)break;v=h,b>r?f=e[++h]*d:f=e[--h]*d,m(f)}while(b!==r)}g=Ui(g),p=Ui(p);const y=Ui((g-p)/r);return{max:g,min:p,interval:y,splitNumber:r}}function jN(t,e){var m,y,b,w,C,x,k,P,I,D,L,O,S,_,A,E,R,N,F,M,$,W,H,K,z,B,q,Y;const n=e.calculative.worldRect.x,a=e.calculative.worldRect.y,r=e.calculative.worldRect.width,o=e.calculative.worldRect.height;let l=e.calculative.canvas.store.data.scale,s=[];if(e.echarts)for(let X=0;X<e.echarts.option.series.length;X++)s.push(e.echarts.option.series[X].data);else s=e.data;let c=[];for(let X=0;X<s.length;X++)c=c.concat(s[X]);let d={max:Math.max.apply(null,c),min:Math.min.apply(null,c),splitNumber:5},u=bge(d),f=e.echarts?e.echarts.option.xAxis.data.length:e.xAxisData.length;t.beginPath(),t.strokeStyle="#BFBFBF",t.lineWidth=6*l,t.lineCap="butt";let v=(r-1*(f+1))/f;t.setLineDash([1,v]),t.moveTo(n,a+o+3*l),t.lineTo(n+r,a+o+3*l),t.stroke(),t.closePath(),t.beginPath(),t.lineWidth=1*l,t.setLineDash([]),t.moveTo(n,a+o),t.lineTo(n+r,a+o),t.stroke(),t.closePath(),t.beginPath(),t.fillStyle="#BFBFBF",t.strokeStyle="#E9E9E9",t.setLineDash([2,2]);let h={fontStyle:((y=(m=e.yAxis)==null?void 0:m.axisLabel)==null?void 0:y.fontStyle)||e.fontStyle,textDecoration:(w=(b=e.yAxis)==null?void 0:b.axisLabel)==null?void 0:w.textDecoration,fontWeight:((x=(C=e.yAxis)==null?void 0:C.axisLabel)==null?void 0:x.fontWeight)||e.fontWeight,fontFamily:((P=(k=e.yAxis)==null?void 0:k.axisLabel)==null?void 0:P.fontFamily)||e.fontFamily,fontSize:((D=(I=e.yAxis)==null?void 0:I.axisLabel)==null?void 0:D.fontSize)||e.fontSize,lineHeight:((O=(L=e.yAxis)==null?void 0:L.axisLabel)==null?void 0:O.lineHeight)||e.lineHeight};t.fillStyle=((_=(S=e.yAxis)==null?void 0:S.axisLabel)==null?void 0:_.fontColor)||e.color;for(let X=0;X<u.splitNumber+1;X++){let T=X*o/u.splitNumber;t.textAlign="right",t.textBaseline="middle",t.font=Jn(h),t.fillText(u.max-X*u.interval+"",n-10*l,a+T),t.fill(),X<u.splitNumber&&(t.beginPath(),t.moveTo(n,a+T),t.lineTo(n+r,a+T),t.stroke())}t.closePath(),t.beginPath(),t.strokeStyle="#BFBFBF";let g=e.echarts?e.echarts.option.xAxis.data:e.xAxisData,p=0;for(let X=0;X<g.length;X++){p=n+(1+v/2)+(v+1)*X,t.textAlign="center",t.textBaseline="top";let T={fontStyle:((E=(A=e.xAxis)==null?void 0:A.axisLabel)==null?void 0:E.fontStyle)||e.calculative.fontStyle,textDecoration:(N=(R=e.xAxis)==null?void 0:R.axisLabel)==null?void 0:N.textDecoration,fontWeight:((M=(F=e.xAxis)==null?void 0:F.axisLabel)==null?void 0:M.fontWeight)||e.calculative.fontWeight,fontFamily:((W=($=e.xAxis)==null?void 0:$.axisLabel)==null?void 0:W.fontFamily)||e.calculative.fontFamily,fontSize:((K=(H=e.xAxis)==null?void 0:H.axisLabel)==null?void 0:K.fontSize)||e.calculative.fontSize,lineHeight:((B=(z=e.xAxis)==null?void 0:z.axisLabel)==null?void 0:B.lineHeight)||e.calculative.lineHeight};t.font=Jn(T),t.fillStyle=((Y=(q=e.xAxis)==null?void 0:q.axisLabel)==null?void 0:Y.fontColor)||e.calculative.color,t.fillText(g[X],p,a+o+10*l),t.fill()}return t.closePath(),t.setLineDash([]),{dash:v,normalizedOption:u}}function wge(t,e){if(!isNaN(t))return Math.round(Number(t)*1e3)/1e3}var Gs=(t=>(t[t.Add=0]="Add",t[t.Replace=1]="Replace",t[t.ReplaceAll=2]="ReplaceAll",t))(Gs||{});function Cge(t,e){e.onBeforeValue||(e.onBeforeValue=MN);const n=e.calculative.worldRect.x,a=e.calculative.worldRect.y;e.calculative.worldRect.width;const r=e.calculative.worldRect.height;let o=e.calculative.canvas.store.data.scale,l=[];e.echarts&&!e.echarts.option.color&&(e.echarts.option.color=["#1890ff","#2FC25B","#FACC14","#c23531","#2f4554","#61a0a8","#d48265"]);let s=jN(t,e),c=s.dash,d=s.normalizedOption;const u=!!(e.echarts?e.echarts.option.series[0].smooth:e.smooth);let f=[];if(e.echarts)for(let v=0;v<e.echarts.option.series.length;v++)l.push(e.echarts.option.series[v].data);else l=e.data;for(let v=0;v<l.length;v++){t.beginPath();let h=l[v];t.strokeStyle=e.echarts?e.echarts.option.color[v]:e.chartsColor[v],t.fillStyle=e.echarts?e.echarts.option.color[v]:e.chartsColor[v];let g=n+(1+c/2),p=a+r-(h[0]-d.min)/(d.max-d.min)*r;if(t.moveTo(g,p),f.push({x:g,y:p}),u)if(h.length<=2)for(let m=1;m<h.length;m++)g=n+(1+c/2)+(c+1)*m,p=a+r-(h[m]-d.min)/(d.max-d.min)*r,t.lineTo(g,p),f.push({x:g,y:p});else{let m,y,b,w;h.forEach((C,x)=>{g=n+(1+c/2)+(c+1)*x,p=a+r-(h[x]-d.min)/(d.max-d.min)*r;let k=n+(1+c/2)+(c+1)*(x+1),P=a+r-(h[x+1]-d.min)/(d.max-d.min)*r,I=n+(1+c/2)+(c+1)*(x-1),D=a+r-(h[x-1]-d.min)/(d.max-d.min)*r,L=n+(1+c/2)+(c+1)*(x+2),O=a+r-(h[x+2]-d.min)/(d.max-d.min)*r;x===0?(I=n+(1+c/2)+(c+1)*x,D=a+r-(h[x]-d.min)/(d.max-d.min)*r):x===h.length-2&&(L=n+(1+c/2)+(c+1)*(x+1),O=a+r-(h[x+1]-d.min)/(d.max-d.min)*r),f.push({x:g,y:p}),m=g+(k-I)/4,y=p+(P-D)/4,b=k-(L-g)/4,w=P-(O-p)/4,t.bezierCurveTo(m,y,b,w,k,P)})}else for(let m=1;m<h.length;m++)g=n+(1+c/2)+(c+1)*m,p=a+r-(h[m]-d.min)/(d.max-d.min)*r,t.lineTo(g,p),f.push({x:g,y:p});t.stroke(),t.closePath(),t.save(),f.forEach((m,y)=>{t.beginPath(),t.strokeStyle="#fff",t.lineWidth=2*o,t.arc(m.x,m.y,4*o,0,Math.PI*2),t.stroke(),t.fill(),t.closePath()}),t.restore(),f=[]}}function MN(t,e){if(e.xAxisData||e.data||!e.dataX&&!e.dataY)return e;const n=t.xAxisData,a=t.data,r=t.replaceMode;let o=[],l=[];return r?r===Gs.Replace?(e.dataX.forEach((s,c)=>{let d=n.indexOf(s);a.forEach((u,f)=>{u[d]=e.dataY[f][c]})}),o=n,l=a):r===Gs.ReplaceAll&&(o=e.dataX,l=e.dataY):(o=[...n,...e.dataX],a.forEach((s,c)=>{let d=[...s,...e.dataY[c]];l.push(d)})),delete e.dataX,delete e.dataY,Object.assign(e,{xAxisData:o,data:l})}function xge(t,e){var u,f;e.onBeforeValue||(e.onBeforeValue=Sge);let n=e.calculative.canvas.store.data.scale;const a=e.calculative.worldRect.x,r=e.calculative.worldRect.y,o=e.calculative.worldRect.width,l=e.calculative.worldRect.height,s=!!e.echarts;e.echarts?(e.echarts.option.color||(e.echarts.option.color=["#1890ff","#2FC25B","#FACC14","#c23531","#2f4554","#61a0a8","#d48265"]),e.chartsColor=e.echarts.option.color):e.chartsColor||(e.chartsColor=["#1890ff","#2FC25B","#FACC14","#c23531","#2f4554","#61a0a8","#d48265"]);const c=s?e.echarts.option.series:e.data;let d=0;for(let v=0;v<c.length;v++){let h=c[v],g=o/2;l<o&&(g=l/2);const p=a+o/2,m=r+l/2;let y=0;s?y=h.data.reduce((P,I)=>P+I.value,0):y=h.reduce((P,I)=>P+I.value,0);const b=g*parseFloat(s?h.radius[0]:e.chartsRadius[v][0])/100,w=g*parseFloat(s?h.radius[1]:e.chartsRadius[v][1])/100;if(b>w)return;let C=0,x=0;t.strokeStyle=s&&((u=h.itemStyle)==null?void 0:u.borderColor)||"#fff",t.lineWidth=(s&&((f=h.itemStyle)==null?void 0:f.borderWidth)||2)*n;const k=s?h.data:h;k.forEach((P,I)=>{var E,R,N,F,M,$,W,H,K,z;x+=Math.PI*2*P.value/y,t.beginPath();let D=d+I;D>=e.chartsColor.length&&(D=D%e.chartsColor.length),t.fillStyle=s?e.echarts.option.color[D]:e.chartsColor[D],t.moveTo(p+b*Math.sin(x),m-b*Math.cos(x)),t.arc(p,m,b,-Math.PI/2+x,-Math.PI/2+C,!0),t.lineTo(p+w*Math.sin(C),m-w*Math.cos(C)),t.arc(p,m,w,-Math.PI/2+C,-Math.PI/2+x),t.lineTo(p+b*Math.sin(x),m-b*Math.cos(x)),t.stroke(),t.fill(),t.closePath();let L=(C+x)/2,O=p+(w+10*n)*Math.sin(L),S=m-(w+10*n)*Math.cos(L),_=t.fillStyle;h.label||(h.label={position:"outside",show:!0}),s&&["inner","inside"].includes(h.label.position)?(t.fillStyle="#ffffff",O=p+(w-b)/2*Math.sin(L),S=m-(w-b)/2*Math.cos(L)):s&&h.label.position=="outside",h.labelLine||(h.labelLine={show:!0}),(s&&h.labelLine.show!==!1||!s)&&(t.beginPath(),t.strokeStyle=s?e.echarts.option.color[d+I]:e.chartsColor[d+I],t.moveTo(p+w*Math.sin(L),m-w*Math.cos(L)),t.lineTo(O,S));let A={fontStyle:((E=e.tickLabel)==null?void 0:E.fontStyle)||e.calculative.fontStyle,fontWeight:((R=e.tickLabel)==null?void 0:R.fontWeight)||e.calculative.fontWeight,fontFamily:((N=e.tickLabel)==null?void 0:N.fontFamily)||e.calculative.fontFamily,lineHeight:((F=e.tickLabel)==null?void 0:F.lineHeight)||e.calculative.lineHeight,fontSize:(((M=e.tickLabel)==null?void 0:M.fontSize)||e.calculative.fontSize)*n};t.font=Jn(A),t.textBaseline="middle",t.textAlign="center",L>Math.PI?((s&&h.label.position==="outside"||!s)&&(t.textAlign="end"),(s&&h.labelLine.show!==!1||!s&&(((W=($=e.tickLabel)==null?void 0:$.labelLine)==null?void 0:W.show)??!0))&&t.lineTo(O-5*n,S),(s&&h.label.show!==!1||!s&&(((H=e.tickLabel)==null?void 0:H.show)??!0))&&t.fillText(P.name,O-5*n,S)):((s&&h.label.position==="outside"||!s)&&(t.textAlign="start"),(s&&h.labelLine.show!==!1||!s)&&t.lineTo(O+5*n,S),(s&&h.label.show!==!1||!s&&(((K=e.tickLabel)==null?void 0:K.show)??!0))&&t.fillText(P.name,O+5*n,S)),t.stroke(),t.closePath(),t.fillStyle=_,t.strokeStyle=s&&((z=h.itemStyle)==null?void 0:z.borderColor)||"#fff",C=x}),d+=k.length}}function Sge(t,e){if(e.data||!e.dataX&&!e.dataY)return e;const n=t.data,a=t.replaceMode;let r=[];return a?a===Gs.Replace?(e.dataY.forEach((o,l)=>{o.forEach((s,c)=>{let d=n[l].filter(u=>u.name===s.name);d.length>0&&(d[0].value=s.value)})}),r=n):a===Gs.ReplaceAll&&(r=e.dataY):n.forEach((o,l)=>{let s=[...o,...e.dataY[l]];r.push(s)}),delete e.dataX,delete e.dataY,Object.assign(e,{data:r})}function Oge(t,e){e.onBeforeValue||(e.onBeforeValue=MN);let n=e.calculative.canvas.store.data.scale;const a=e.calculative.worldRect.x,r=e.calculative.worldRect.y;e.calculative.worldRect.width;const o=e.calculative.worldRect.height;let l=[];if(e.echarts&&!e.echarts.option.color&&(e.echarts.option.color=["#1890ff","#2FC25B","#FACC14","#c23531","#2f4554","#61a0a8","#d48265"]),e.echarts)for(let f=0;f<e.echarts.option.series.length;f++)l.push(e.echarts.option.series[f].data);else l=e.data;let s=jN(t,e),c=s.dash,d=s.normalizedOption,u=c*4/5/l.length;for(let f=0;f<l.length;f++){t.beginPath();let v=l[f];t.fillStyle=e.echarts?e.echarts.option.color[f]:e.chartsColor[f],t.strokeStyle="#ffffff",t.lineWidth=1*n;let h=0,g=0,p=0;for(let m=0;m<v.length;m++)h=a+(1+.1*c)+(c+1)*m+u*f,p=(v[m]-d.min)/(d.max-d.min)*o,g=r+o-p,t.rect(h,g,u-1,p-1),t.stroke(),t.fill();t.closePath()}}function kge(t,e){var F,M,$,W,H,K,z,B,q,Y,X,T,j,U;e.onAdd||(e.onAdd=Pge,e.onDestroy=_ge,e.onClick=Ige,e.clockInterval&&(e.onDestroy(e),e.onAdd(e)));const n=e.calculative.worldRect.x,a=e.calculative.worldRect.y,r=e.calculative.worldRect.width,o=e.calculative.worldRect.height;let l=e.calculative.canvas.store.data.scale,s={startAngle:225,endAngle:-45,min:0,max:100,splitNumber:10};if(e.echarts&&e.echarts.option){let J=e.echarts.option.series[0];e.startAngle=J.startAngle||s.startAngle,e.endAngle=J.endAngle||s.endAngle,e.min=J.min||s.min,e.max=J.max||s.max,e.axisLine=J.axisLine.lineStyle.color,e.unit=J.detail.formatter.replace("{value}",""),e.value=J.data[0].value,e.splitNumber=J.splitNumber||s.splitNumber}e={...s,...e};let c=r>o?o/2*9/10:r/2*9/10,d=n+r/2,u=a+o/2,f=e.echarts?e.echarts.option.series[0].data[0].value:e.value,v,h=e.startAngle-e.endAngle,g=e.background||"#E6EBF8";t.strokeStyle=g;let p=c/10;t.lineWidth=p,t.beginPath(),t.lineCap="round",t.arc(d,u,c,-e.startAngle/180*Math.PI,-e.endAngle/180*Math.PI),t.stroke(),t.closePath();let m=0;if(e.axisLine&&!e.isClock)for(let J=e.axisLine.length-1;J>=0;J--)e.axisLine[J][0]*(e.max-e.min)<f?m=e.axisLine[J][0]:(m=(f-e.min)/(e.max-e.min),v=e.axisLine[J][1]),t.beginPath(),t.strokeStyle=e.axisLine[J][1],t.arc(d,u,c,-e.startAngle/180*Math.PI,(-e.startAngle+m*h)/180*Math.PI),t.stroke(),t.closePath();t.lineCap="butt";let y=2*l,b=c-p;b<0&&(b=0);let w=h/180*Math.PI*b,C=(w-y*e.splitNumber)/e.splitNumber,x=h/180*Math.PI*y/2/w;t.beginPath(),t.strokeStyle=e.color||"#999999",t.lineWidth=c/20,t.setLineDash([y,C]),t.arc(d,u,b,-e.startAngle/180*Math.PI-x,-e.endAngle/180*Math.PI+x),t.stroke(),t.closePath();let k=1*l,P=c-p;P<0&&(P=0);let I=h/180*Math.PI*P,D=(I-k*5*e.splitNumber)/5/e.splitNumber,L=h/180*Math.PI*k/2/I;t.beginPath(),t.strokeStyle=e.color||"#999999",t.lineWidth=c/40,t.setLineDash([k,D]),t.arc(d,u,P,-e.startAngle/180*Math.PI-L,-e.endAngle/180*Math.PI+L),t.stroke(),t.closePath(),t.beginPath();let O=e.max-e.min,S=O/e.splitNumber,_={fontStyle:((F=e.tickLabel)==null?void 0:F.fontStyle)||e.calculative.fontStyle,textDecoration:((M=e.tickLabel)==null?void 0:M.textDecoration)||e.textDecoration,fontWeight:(($=e.tickLabel)==null?void 0:$.fontWeight)||e.calculative.fontWeight,fontFamily:((W=e.tickLabel)==null?void 0:W.fontFamily)||e.calculative.fontFamily,fontSize:(((H=e.tickLabel)==null?void 0:H.fontSize)||e.calculative.fontSize)*l,lineHeight:((K=e.tickLabel)==null?void 0:K.lineHeight)||e.calculative.lineHeight};t.font=Jn(_);let A=c-p-c/20;for(let J=0;J<=e.splitNumber;J++){if(Math.abs(e.startAngle)+Math.abs(e.endAngle)===360&&J==0)continue;let Z=e.startAngle-S*J/O*h,Q=Math.cos(Z/180*Math.PI),ee=Math.sin(Z/180*Math.PI);t.fillStyle=((z=e.tickLabel)==null?void 0:z.color)||"#999999",Q>.02?t.textAlign="end":Q<-.02?t.textAlign="start":t.textAlign="center",ee>.02?t.textBaseline="top":ee<-.02?t.textBaseline="bottom":t.textBaseline="middle",t.fillText(wge(S*J+e.min),d+A*Q,u-A*ee),t.fill()}t.closePath();let E=1,R=["value"];if(e.isClock&&(E=3,R=["hourvalue","minutevalue","secondvalue"]),e.isClock)for(let J=0;J<E;J++){let Z=(e.startAngle-(e[R[J]]-e.min)/(e.max-e.min)*h)/180*Math.PI;J>0&&(Z=(e.startAngle-(e[R[J]]-e.min)/(e.max*5-e.min)*h)/180*Math.PI);let Q=4/5*c;R[J]==="hourvalue"&&(Q=3/5*c),R[J]==="minutevalue"&&(Q=3.5/5*c);let ee=c*1/40;t.beginPath(),t.setLineDash([]),t.lineWidth=c/(J+1)/20,t.strokeStyle=e.color||"#999999",t.moveTo(d-ee*3*Math.cos(Z),u+ee*3*Math.sin(Z)),t.lineTo(d+Q*Math.cos(Z),u-Q*Math.sin(Z)),t.stroke()}else{let J=(e.startAngle-(f-e.min)/(e.max-e.min)*h)/180*Math.PI,Z=4/5*c,Q=c*1/40;t.beginPath(),t.setLineDash([]),t.lineWidth=2,t.fillStyle=v,t.moveTo(d-Q*3*Math.cos(J),u+Q*3*Math.sin(J)),t.lineTo(d+Q*Math.cos(J-Math.PI/2),u-Q*Math.sin(J-Math.PI/2)),t.lineTo(d+Z*Math.cos(J),u-Z*Math.sin(J)),t.lineTo(d+Q*Math.cos(J+Math.PI/2),u-Q*Math.sin(J+Math.PI/2)),t.lineTo(d-Q*3*Math.cos(J),u+Q*3*Math.sin(J)),t.fill()}t.beginPath(),t.textAlign="center",t.textBaseline="middle";let N={fontStyle:((B=e.titleLabel)==null?void 0:B.fontStyle)||e.calculative.fontStyle,textDecoration:((q=e.titleLabel)==null?void 0:q.textDecoration)||e.textDecoration,fontWeight:((Y=e.titleLabel)==null?void 0:Y.fontWeight)||e.calculative.fontWeight,fontFamily:((X=e.titleLabel)==null?void 0:X.fontFamily)||e.calculative.fontFamily,fontSize:(((T=e.titleLabel)==null?void 0:T.fontSize)||e.calculative.fontSize)*l,lineHeight:((j=e.titleLabel)==null?void 0:j.lineHeight)||e.calculative.lineHeight};t.font=Jn(N),t.fillStyle=((U=e.titleLabel)==null?void 0:U.color)||v,e.isClock?t.fillText(("0"+parseInt(e.hourvalue)).slice(-2)+":"+("0"+parseInt(e.minutevalue)).slice(-2)+":"+("0"+parseInt(e.secondvalue)).slice(-2),d,u+c/2):t.fillText(f+" "+(e.unit||""),d,u+c/2),t.fill(),e.isClock&&(t.beginPath(),t.fillStyle=e.color||"#999999",t.strokeStyle="#ffffff",t.arc(d,u,c/20,0,Math.PI*2),t.stroke(),t.fill(),t.closePath())}function Pge(t){if(t.isClock)t.clockInterval=setInterval(()=>{let e=new Date,n=e.getSeconds(),a=e.getMinutes()+n/60,r=e.getHours()%12+a/60;t.calculative.canvas.parent.setValue({id:t.id,hourvalue:r,minutevalue:a,secondvalue:n},{render:!0,doEvent:!1})},1e3);else{const e=t.value;t.value=0,t.frames=[{duration:2e3,value:e}],t.calculative.canvas.parent.startAnimate(t.id),setTimeout(()=>{t.value=e},1e3)}}function _ge(t){t.clockInterval&&(clearInterval(t.clockInterval),t.clockInterval=void 0)}function Ige(t){t.isClock&&(t.onDestroy(t),t.onAdd(t))}function Nge(){return{lineChart:Cge,histogram:Oge,pieChart:xge,gauge:kge}}function Tge(t,e){const n=e||new Path2D,{x:a,y:r,width:o,height:l}=t.calculative.worldRect,s=l/6,c=o/4;if(n.moveTo(a+c*2,r+0),n.lineTo(a+c*2,r+s),n.moveTo(a,r+s+c*2),n.arc(a+c*2,r+s+c*2,c*2,Math.PI*1,Math.PI*2,!1),n.lineTo(a+c*4,r+s*5),n.lineTo(a,r+s*5),n.lineTo(a,r+s+c*2),n.moveTo(a+c,r+s*5),n.lineTo(a+c,r+s*6),n.moveTo(a+c*2,r+s*5),n.lineTo(a+c*2,r+s*6),n.moveTo(a+c*3,r+s*5),n.lineTo(a+c*3,r+s*6),n.closePath(),n instanceof Path2D)return n}function FN(t){const e=[{x:.5,y:0},{x:.25,y:1},{x:.5,y:1},{x:.75,y:1}];t.anchors=e.map(({x:n,y:a},r)=>({id:`${r}`,penId:t.id,x:n,y:a}))}function Ege(t,e){const n=e||new Path2D,{x:a,y:r,width:o,height:l}=t.calculative.worldRect,s=l-o,c=.5*o;if(n.moveTo(a+o/2,r),n.lineTo(a+o/2,r+s),n.moveTo(a+o,r+c+s),n.arc(a+o/2,r+c+s,c,0,Math.PI*2,!1),n.closePath(),n instanceof Path2D)return n}function LN(t){const e=[{x:.5,y:0},{x:.5,y:1}];t.anchors=e.map(({x:n,y:a},r)=>({id:`${r}`,penId:t.id,x:n,y:a}))}function Age(t,e){const n=e||new Path2D,{x:a,y:r,width:o,height:l}=t.calculative.worldRect,s=l/2,c=o/5;if(n.moveTo(a,r+s),n.lineTo(a+c,r+s),n.moveTo(a+c*5,r+s),n.ellipse(a+c*3,r+s,2*c,s,0,0,Math.PI*2),n.closePath(),n instanceof Path2D)return n}function Rge(t){const e=[{x:.6,y:0},{x:1,y:.5},{x:.6,y:1},{x:0,y:.5}];t.anchors=e.map(({x:n,y:a},r)=>({id:`${r}`,penId:t.id,x:n,y:a}))}function Dge(t,e){const n=e||new Path2D,{x:a,y:r,width:o,height:l}=t.calculative.worldRect,s=l/4,c=.5*o;if(n.moveTo(a+c,r),n.lineTo(a+c,r+s),n.moveTo(a,r+s),n.rect(a,r+s,c*2,s*2),n.moveTo(a+c,r+3*s),n.lineTo(a+c,r+4*s),n.closePath(),n instanceof Path2D)return n}function jge(t,e){const n=e||new Path2D,{x:a,y:r,width:o,height:l}=t.calculative.worldRect,s=l/8,c=.25*o;if(n.moveTo(a+c*2,r),n.lineTo(a+c*2,r+s*2),n.lineTo(a+c*3,r+s*3),n.lineTo(a+c*3,r+s*5),n.lineTo(a+c*2,r+s*6),n.lineTo(a+c*1,r+s*5),n.lineTo(a+c*1,r+s*3),n.lineTo(a+c*2,r+s*2),n.moveTo(a+c*3,r+s*4),n.lineTo(a+c*4,r+s*4),n.moveTo(a+c*2,r+s*6),n.lineTo(a+c*2,r+s*8),n.closePath(),n instanceof Path2D)return n}function Mge(t){const e=[{x:.5,y:0},{x:1,y:.5},{x:.5,y:1}];t.anchors=e.map(({x:n,y:a},r)=>({id:`${r}`,penId:t.id,x:n,y:a}))}function Fge(t,e){const n=e||new Path2D,{x:a,y:r,width:o,height:l}=t.calculative.worldRect,s=o/2,c=l/10;if(n.moveTo(a+s,r),n.lineTo(a+s,r+c),n.moveTo(a+s,r+c),n.quadraticCurveTo(a+s*2,r+c,a+s*2,r+c*9),n.moveTo(a+s,r+c),n.quadraticCurveTo(a,r+c,a,r+c*9),n.quadraticCurveTo(a+s,r+c*6,a+s*2,r+c*9),n.moveTo(a+s,r+l*3/4),n.lineTo(a+s,r+l),n.moveTo(a+s*2/5,r+l*201/250),n.lineTo(a+s*2/5,r+l),n.moveTo(a+s*8/5,r+l*201/250),n.lineTo(a+s*8/5,r+l),n.closePath(),n instanceof Path2D)return n}function $N(t){const e=[{x:.5,y:0},{x:.2,y:1},{x:.5,y:1},{x:.8,y:1}];t.anchors=e.map(({x:n,y:a},r)=>({id:`${r}`,penId:t.id,x:n,y:a}))}function Lge(t,e){const n=e||new Path2D,{x:a,y:r,width:o,height:l}=t.calculative.worldRect,s=l/6,c=o/4;if(n.moveTo(a+c*2,r+0),n.lineTo(a+c*2,r+s),n.moveTo(a,r+s+c*2),n.arc(a+c*2,r+s+c*2,c*2,Math.PI*1,Math.PI*2,!1),n.lineTo(a+c*4,r+s*5),n.lineTo(a,r+s*5),n.lineTo(a,r+s+c*2),n.moveTo(a,r+s*5-s/3),n.lineTo(a+c*4,r+s*5-s/3),n.moveTo(a+c,r+s*5),n.lineTo(a+c,r+s*6),n.moveTo(a+c*2,r+s*5),n.lineTo(a+c*2,r+s*6),n.moveTo(a+c*3,r+s*5),n.lineTo(a+c*3,r+s*6),n.closePath(),n instanceof Path2D)return n}function $ge(t,e){const n=e||new Path2D,{x:a,y:r,width:o,height:l}=t.calculative.worldRect,s=l/4,c=.5*o;if(n.moveTo(a+c,r),n.lineTo(a+c,r+s),n.lineTo(a+c*2,r+s*2),n.lineTo(a+c*2,r+s*4),n.lineTo(a,r+s*4),n.lineTo(a,r+s*2),n.lineTo(a+c,r+s),n.closePath(),n instanceof Path2D)return n}function Bge(t,e){const n=e||new Path2D,{x:a,y:r,width:o,height:l}=t.calculative.worldRect,s=l/4,c=o/2;if(n.moveTo(a+c,r),n.lineTo(a+c,r+s),n.lineTo(a+c*2,r+s*4),n.lineTo(a,r+s*4),n.lineTo(a+c,r+s),n.closePath(),n instanceof Path2D)return n}function zge(t,e){const n=e||new Path2D,{x:a,y:r,width:o,height:l}=t.calculative.worldRect,s=l/3,c=.5*o;if(n.moveTo(a+c,r),n.lineTo(a+c,r+s),n.lineTo(a+o,r+2*s),n.lineTo(a+c,r+l),n.lineTo(a,r+2*s),n.lineTo(a+c,r+s),n.closePath(),n instanceof Path2D)return n}function Hge(t){const e=[{x:.5,y:0},{x:1,y:.6666666666666666},{x:.5,y:1},{x:0,y:.6666666666666666}];t.anchors=e.map(({x:n,y:a},r)=>({id:`${r}`,penId:t.id,x:n,y:a}))}function Wge(t,e){const n=e||new Path2D,{x:a,y:r,width:o,height:l}=t.calculative.worldRect;let s=o/2,c=l/10;if(n.moveTo(a+s,r),n.lineTo(a+s,r+c),n.moveTo(a+s,r+c),n.quadraticCurveTo(a+s*2,r+c,a+s*2,r+c*9),n.moveTo(a+s,r+c),n.quadraticCurveTo(a,r+c,a,r+c*9),n.quadraticCurveTo(a+s,r+c*6,a+s*2,r+c*9),n.moveTo(a,r+c*10),n.quadraticCurveTo(a+s,r+c*7,a+s*2,r+c*10),n.moveTo(a+s*2/5,r+l*201/250+c),n.lineTo(a+s*2/5,r+l),n.moveTo(a+s*8/5,r+l*201/250+c),n.lineTo(a+s*8/5,r+l),n.closePath(),n instanceof Path2D)return n}function Uge(t){const e=[{x:.5,y:0},{x:.2,y:1},{x:.8,y:1}];t.anchors=e.map(({x:n,y:a},r)=>({id:`${r}`,penId:t.id,x:n,y:a}))}function Kge(t,e){const{x:n,y:a,width:r,height:o}=e.calculative.worldRect,l=r/2,s=o/10;t.beginPath(),t.moveTo(n+l,a),t.lineTo(n+l,a+s),t.moveTo(n+l,a+s),t.quadraticCurveTo(n+l*2,a+s,n+l*2,a+s*9),t.moveTo(n+l,a+s),t.quadraticCurveTo(n,a+s,n,a+s*9),t.quadraticCurveTo(n+l,a+s*6,n+l*2,a+s*9),t.moveTo(n+l,a+o*3/4),t.lineTo(n+l,a+o*9/10),t.moveTo(n+l*2/5,a+o*201/250),t.lineTo(n+l*2/5,a+o*9/10),t.moveTo(n+l*8/5,a+o*201/250),t.lineTo(n+l*8/5,a+o*9/10),t.stroke(),t.closePath(),t.beginPath();const c=l*2>s*10?s:l/5;t.fillStyle="#333333",t.font=c+"px Arial",t.textBaseline="bottom",t.textAlign="center",t.fillText("o",n+l,a+o),t.fillText("m",n+l*2/5,a+o),t.fillText("o",n+l*8/5,a+o),t.closePath()}function Yge(){return{andGate:Tge,basicEvent:Ege,conditionalEvent:Age,event:Dge,forbiddenGate:jge,orGate:Fge,priorityAndGate:Lge,switchEvent:$ge,transferSymbol:Bge,unexpandedEvent:zge,xorGate:Wge}}function qge(){return{votingGate:Kge}}function Gge(){return{andGate:FN,orGate:$N,priorityAndGate:FN,votingGate:$N,xorGate:Uge,forbiddenGate:Mge,basicEvent:LN,unexpandedEvent:Hge,conditionalEvent:Rge,transferSymbol:LN}}var Ki=(t=>(t[t.File=0]="File",t[t.Pen=1]="Pen",t[t.Pens=2]="Pens",t))(Ki||{});const Yi=i.reactive({mode:0,pen:void 0}),Xs=()=>({selections:Yi,select:e=>{if(!e||e.length<1){Yi.mode=0,Yi.pen=void 0;return}if(console.log("select pens: ",e),e.length===1){Yi.mode=1,Yi.pen=e[0];return}Yi.mode=2,Yi.pens=[...e]}}),Xge=Qn(i.defineComponent({__name:"ContextMenu",props:{x:{type:Number,default:0},y:{type:Number,default:0},visible:{type:Boolean,default:!1}},emits:["hide"],setup(t,{emit:e}){const n=t,a=i.computed(()=>({left:n.x+"px",top:n.y+"px"})),r=e,{selections:o}=Xs(),{saveComponentShow:l}=Yg(!0),s=[{label:"锁定",icon:"lock",action:()=>{if(console.log("lock",o),o.pen){const c={id:o.pen.id,locked:2};meta2d.setValue(c,{render:!0})}else o.pens&&o.pens.forEach(c=>{const d={id:c.id,locked:2};meta2d.setValue(d,{render:!0})});r("hide",!1)},show:()=>{if(o.pen)return!o.pen.locked;if(o.pens)return!o.pens.some(c=>c.locked>0)}},{label:"解锁",icon:"lock",action:()=>{if(console.log("unlock",o),o.pen){const c={id:o.pen.id,locked:0};meta2d.setValue(c,{render:!0})}else o.pens&&o.pens.forEach(c=>{const d={id:c.id,locked:0};meta2d.setValue(d,{render:!0})});r("hide",!1)},show:()=>{if(o.pen)return o.pen.locked;if(o.pens)return o.pens.some(c=>c.locked>0)}},{label:"删除",icon:"delete",action:()=>{o.pen?meta2d.delete([o.pen]):o.pens&&meta2d.delete(o.pens),r("hide",!1)}},{label:"组合为状态",icon:"group",action:()=>{console.log("group",o),o.pens&&meta2d.combine(o.pens,0),r("hide",!1)},show:()=>o.mode==2},{label:"取消组合",icon:"group",action:()=>{console.log("ungroup",o),meta2d.uncombine(o.pen),r("hide",!1)},show:()=>{var c;return o.mode==1&&((c=o.pen)==null?void 0:c.name)=="combine"}},{label:"保存为组件",icon:"save",action:()=>{l(o),r("hide",!1)}}];return(c,d)=>{const u=i.resolveComponent("t-button"),f=i.resolveComponent("t-list-item"),v=i.resolveComponent("t-list"),h=i.resolveComponent("t-card");return i.withDirectives((i.openBlock(),i.createBlock(h,{bordered:"",hoverShadow:"",class:"context-menu",style:i.normalizeStyle(a.value)},{default:i.withCtx(()=>[i.createVNode(v,null,{default:i.withCtx(()=>[(i.openBlock(),i.createElementBlock(i.Fragment,null,i.renderList(s,g=>i.withDirectives(i.createVNode(f,null,{default:i.withCtx(()=>[i.createVNode(u,{theme:"default",block:"",variant:"outline",onClick:p=>g.action()},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(g.label),1)]),_:2},1032,["onClick"])]),_:2},1536),[[i.vShow,g.show?g.show():!0]])),64))]),_:1})]),_:1},8,["style"])),[[i.vShow,t.visible]])}}}),[["__scopeId","data-v-7b70639e"]]);var Zr=(t=>(t[t.MSG_FAMILY_SUBSCRIBE=1]="MSG_FAMILY_SUBSCRIBE",t[t.MSG_FAMILY_UNSUBSCRIBE=2]="MSG_FAMILY_UNSUBSCRIBE",t[t.MSG_FAMILY_TRANSMIT=3]="MSG_FAMILY_TRANSMIT",t[t.MSG_FAMILY_HEARTBEAT=4]="MSG_FAMILY_HEARTBEAT",t[t.MSG_FAMILY_HEARTBEAT_FEEDBACK=5]="MSG_FAMILY_HEARTBEAT_FEEDBACK",t[t.MSG_FAMILY_REGISTER=6]="MSG_FAMILY_REGISTER",t))(Zr||{});function BN(t,e,n){return{interMsgType:t,data:{busName:e,msgTypes:n}}}const Gi=class Gi{constructor(e,n={}){te(this,"ws",null);te(this,"url");te(this,"messageHandlers",new Map);te(this,"cache",new Map);te(this,"heartbeatInterval");te(this,"heartbeatTimer",null);te(this,"enableHeartbeat",!1);te(this,"reconnectTimer",null);te(this,"isConnected",!1);te(this,"maxReconnectTimes",30);te(this,"reconnectInterval",3e3);te(this,"wsOptions",null);te(this,"enableLog",!0);te(this,"_subscribeTasks",[]);const{heartbeatInterval:a=3e4}=n;this.url=e,this.heartbeatInterval=a,this.maxReconnectTimes=n.maxReconnectTimes||30,this.reconnectInterval=n.reconnectInterval||3e3,this.wsOptions=n,this.enableLog=n.enableLog,this.enableHeartbeat=n.enableHeartbeat}static getInstance(e,n){!e.startsWith("ws://")&&!e.startsWith("wss://")&&(e="ws://"+e),console.log("getInstance: ",e,n);let a=Gi.InstanceMap.get(e);return a?console.log("Using existing WebSocketClient instance."):(a=new Gi(e,n),Gi.InstanceMap.set(e,a)),a.connect(),a}connect(){if(!this.url){console.error("ws url is required");return}if(this.isConnected){this.wsOptions.onReady&&this.wsOptions.onReady();return}this.ws?this.ws.readyState===WebSocket.OPEN?this.wsOptions.onReady&&this.wsOptions.onReady():(console.error("连接已断开：",this.url),this.ws=new WebSocket(this.url),this.ws.onopen=()=>{this.isConnected=!0,this.register(),this.startHeartbeat(),this.subscribe(this.wsOptions.busName,this.wsOptions.msgTypes),console.log("========= WebSocket connection established. ========="),this._subscribeTasks.forEach(e=>{e()}),this._subscribeTasks=[],this.wsOptions.onReady&&this.wsOptions.onReady()},this.ws.onmessage=e=>{this.handleMessage(e.data)},this.ws.onclose=()=>{this.isConnected=!1,this.stopHeartbeat(),this.reconnect(),console.log("WebSocket connection closed.")},this.ws.onerror=e=>{console.error("WebSocket error:",e),this.isConnected=!1,this.stopHeartbeat(),this.reconnect()}):(this.ws=new WebSocket(this.url),this.ws.onopen=()=>{this.isConnected=!0,this.register(),this.startHeartbeat(),this.subscribe(this.wsOptions.busName,this.wsOptions.msgTypes),console.log("========= WebSocket connection established. ========="),this._subscribeTasks.forEach(e=>{e()}),this._subscribeTasks=[],this.wsOptions.onReady&&this.wsOptions.onReady()},this.ws.onmessage=e=>{this.handleMessage(e.data)},this.ws.onclose=()=>{this.isConnected=!1,this.stopHeartbeat(),this.reconnect(),console.log("WebSocket connection closed.")},this.ws.onerror=e=>{console.error("WebSocket error:",e),this.isConnected=!1,this.stopHeartbeat(),this.reconnect()})}register(e){const n={interMsgType:Zr.MSG_FAMILY_REGISTER,data:{name:e||this.wsOptions.appName||"WebSocket Client"}};this.ws.send(JSON.stringify(n))}unRegister(e){}handleMessage(e){const n=JSON.parse(e);this.enableLog&&console.log("Received message:",n);const{interMsgType:a,data:r}=n;if(a===Zr.MSG_FAMILY_HEARTBEAT){const s={interMsgType:Zr.MSG_FAMILY_HEARTBEAT_FEEDBACK,data:r};this.ws.send(JSON.stringify(s));return}const o=r==null?void 0:r.busName;o&&this.cache.set(o,r),(this.messageHandlers.get(o)||[]).forEach(s=>s&&s(r))}subscribe(e,n,a){var s;const r=e||this.wsOptions.busName,o=n||this.wsOptions.msgTypes;r||console.error("订阅消息需要指定 [busName] 参数！");const l=BN(Zr.MSG_FAMILY_SUBSCRIBE,r,o);if(((s=this.ws)==null?void 0:s.readyState)!==WebSocket.OPEN?(console.log("WebSocket 连接尚未建立，订阅任务加入队列"),this._subscribeTasks.push(()=>{this.ws.send(JSON.stringify(l))})):this.ws.send(JSON.stringify(l)),this.cache.has(r)&&a&&a(this.cache.get(r)),!a){console.error(`请使用 subscribe() 方法订阅消息： ${r} `);return}this.messageHandlers.has(r)||this.messageHandlers.set(r,[]),this.messageHandlers.get(r).push(a)}unSubscribe(e,n,a){const r=e||this.wsOptions.busName,o=n||this.wsOptions.msgTypes,l=BN(Zr.MSG_FAMILY_UNSUBSCRIBE,r,o);this.ws.send(JSON.stringify(l));const s=this.messageHandlers.get(r);s&&this.messageHandlers.set(r,s.filter(c=>c!==a))}sendMessage(e,n,a){var l,s;const r=e||this.wsOptions.busName,o={interMsgType:Zr.MSG_FAMILY_TRANSMIT,data:{busName:r,msgType:n,msg:a}};((l=this.ws)==null?void 0:l.readyState)!==WebSocket.OPEN?(console.warn("WebSocket 连接尚未建立，sendMessage 任务加入队列"),this._subscribeTasks.push(()=>{this.ws.send(JSON.stringify(o))})):(s=this.ws)==null||s.send(JSON.stringify(o))}startHeartbeat(){this.enableHeartbeat&&(this.heartbeatTimer||(this.heartbeatTimer=setInterval(()=>{this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify({interMsgType:Zr.MSG_FAMILY_HEARTBEAT,data:{version:"1.0",ackId:Date.now()}}))},this.heartbeatInterval)))}stopHeartbeat(){this.heartbeatTimer&&(clearInterval(this.heartbeatTimer),this.heartbeatTimer=null)}reconnect(){if(!this.reconnectTimer){if(this.maxReconnectTimes<=0){console.log("Max reconnect times reached.");return}this.reconnectTimer=setTimeout(()=>{console.log("Reconnecting...",this.maxReconnectTimes),this.maxReconnectTimes--,this.connect(),this.reconnectTimer=null},this.reconnectInterval)}}clearCache(e){e?this.cache.delete(e):this.cache.clear()}close(){var e;this.stopHeartbeat(),(e=this.ws)==null||e.close(),this.ws=null,Gi.InstanceMap.delete(this.url),this.isConnected=!1,console.log("WebSocketClient instance closed and cleared.")}};te(Gi,"InstanceMap",new Map);let Jd=Gi;var Ut=(t=>(t[t.Link=0]="Link",t[t.SetProps=1]="SetProps",t[t.StartAnimate=2]="StartAnimate",t[t.PauseAnimate=3]="PauseAnimate",t[t.StopAnimate=4]="StopAnimate",t[t.JS=5]="JS",t[t.GlobalFn=6]="GlobalFn",t[t.Emit=7]="Emit",t[t.StartVideo=8]="StartVideo",t[t.PauseVideo=9]="PauseVideo",t[t.StopVideo=10]="StopVideo",t[t.SendPropData=11]="SendPropData",t[t.SendVarData=12]="SendVarData",t))(Ut||{});function Jge(t,e){if(!t)return!0;const{key:n,value:a,comparison:r}=t;if(!n||!r)return!0;const o=a;switch(r){case"==":return e[n]==a;case"!=":return e[n]!=a;case">":return e[n]>o;case"<":return e[n]<o;case">=":return e[n]>=o;case"<=":return e[n]<=o;default:return!0}}function np(t,e,n){const a={0:"startAnimate",1:"pauseAnimate",2:"stopAnimate"},r=[];e!=null&&e.length?e.forEach(l=>{r.push(meta2d.findOne(l))}):n!=null&&n.length&&n.forEach(l=>{r.push(...meta2d.find(l))});const o=a[t];o&&meta2d[o](r)}const zN=t=>({resolver:n=>{if(n!=null&&n.msg){const a=t.wsMsgHandlers||[],r=n.msg;a.forEach(o=>{const{action:l,params:s,value:c,where:d}=o;if(!Jge(d,r))return;const{tags:u,ids:f}=s;switch(l){case Ut.SetProps:f!=null&&f.length?(f.forEach(v=>{meta2d.setValue({id:v,...c},{render:!1})}),meta2d.render()):u!=null&&u.length&&(u.forEach(v=>{meta2d.setValue({tag:v,...c},{render:!1})}),meta2d.render());break;case Ut.StartAnimate:np("0",f,u);break;case Ut.PauseAnimate:np("1",f,u);break;case Ut.StopAnimate:np("2",f,u);break}})}}}),HN=Qn(i.defineComponent({__name:"View",props:{preview:{type:Boolean,default:!1},data:{type:Object}},emits:["ready"],setup(t,{emit:e}){const n=t,{select:a,selections:r}=Xs(),o={rule:!1,drawingLineName:"line",rotateCursor:"rotate.cur"},l=i.reactive({x:0,y:0,visible:!1}),s=v=>{n.preview||r.mode!==0&&(l.x=v.e.clientX,l.y=v.e.clientY,l.visible=!0)},c=()=>{l.visible=!1},d=e;i.onMounted(()=>{new jde("meta2d",o),Di(hhe()),ug(ghe()),Di(bhe()),fl(whe()),Di(_he()),Di(The()),fl(Ehe()),Bhe(),fl(mge()),fl(Nge()),Di(Yge()),fl(qge()),ug(Gge()),d("ready",meta2d);let v=localStorage.getItem("meta2d");if(n.data||v){v=n.data||JSON.parse(v);const{resolver:h}=zN(v);if(location.pathname==="/preview"||n.preview){v.locked=1;const g=(v.msgTypes||[]).map(m=>Number(m)).filter(m=>!isNaN(m)),p=v.onMessageJsCode;if(v.wsUrl){const m=Jd.getInstance(v.wsUrl,{busName:v.busName,msgTypes:g,enableLog:!1,onReady:()=>{console.log("%c连接成功！","color: green; font-weight: bold;"),m.subscribe("",[1],y=>{console.log("%c收到消息: ","color: green; font-weight: bold;",v);try{p?new Function("data",p)(y):h(y)}catch(b){console.log("error: ",b)}})}});m.connect()}}else v.locked=0;meta2d.open(v)}meta2d.on("active",u),meta2d.on("inactive",f),meta2d.on("contextmenu",s),meta2d.on("click",c)});const u=v=>{a(v)},f=()=>{a()};return i.onUnmounted(()=>{meta2d.destroy()}),(v,h)=>(i.openBlock(),i.createElementBlock(i.Fragment,null,[i.createElementVNode("div",{id:"meta2d",class:i.normalizeClass({"is--preview":t.preview})},null,2),i.createVNode(Xge,i.mergeProps(l,{onHide:c}),null,16)],64))}}),[["__scopeId","data-v-1ceb342c"]]);let qi=1;const Zge=2,WN=1e-6;let $t=[],Js=!1,UN=!1;const ap=["line","polyline"];function Qge(t){window.meta2d.on("mouseup",ip),window.meta2d.on("mousedown",rp),window.meta2d.on("add",qN),window.meta2d.on("active",YN),UN=t,window.meta2d.on("opened",KN)}function Vge(t){rp(),ip(t)}function KN(){UN&&Vge(void 0)}function YN(){Js=!0}function qN(){Js=!0}function rp(){Js=!0}function epe(t){let e=[],n=[];const r=(t?window.meta2d.store.active:window.meta2d.store.data.pens).filter(o=>o);for(let o=0;o<r.length;o++){const l=r[o];if(l.type===1&&ap.indexOf(l.lineName)!==-1)n.push(l);else if(l.connectedLines&&l.connectedLines.length>0)for(let c=0;c<l.connectedLines.length;c++){const d=l.connectedLines[c];n.push(window.meta2d.find(d.lineId)[0])}const s=window.meta2d.store.data.pens.filter(c=>c.intersectLines&&c.intersectLines.findIndex(d=>d.id===l.id)!==-1);n.push(...s)}n=n.filter(o=>o);for(let o=0;o<n.length;o++){const l=n[o];if(l.intersectLines=[],n[o]&&n[o].calculative&&(e=n[o].calculative.worldAnchors,e.length>2)){for(let s=0;s<e.length;s++){const c=e[s];(c.next||c.prev)&&(e.splice(s,1),s--)}window.meta2d.canvas.initLineRect(l)}}}function ip(t){Js&&(Js=!1,setTimeout(()=>{const n=(t?window.meta2d.store.active:window.meta2d.store.data.pens).filter(l=>l).reverse();let a=[],r=[];for(let l=0;l<n.length;l++){const s=n[l];if(s.type===1&&ap.indexOf(s.lineName)!==-1){if(s.connectedLines)for(let c=0;c<s.connectedLines.length;c++){const d=s.connectedLines[c];let u=s.anchors.find(f=>f.id===d.anchor);if(u&&u.penId){let f=window.meta2d.findOne(d.lineId);if(!f)continue;if(f.connectedLines&&f.connectedLines.length>0){let v=f.connectedLines.findIndex(h=>h.anchor===d.lineAnchor);f.connectedLines.splice(v,1)}s.connectedLines.splice(c,1),c--}}a.push(s)}else if(s.type!==1&&s.connectedLines&&s.connectedLines.length>0)for(let c=0;c<s.connectedLines.length;c++){const d=s.connectedLines[c];a.push(window.meta2d.find(d.lineId)[0])}r=window.meta2d.store.data.pens.filter(c=>c.intersectLines&&c.intersectLines.findIndex(d=>d.id===s.id)!==-1),a.unshift(...r)}const o=window.meta2d.store.data.pens.filter(l=>l.type===1&&ap.indexOf(l.lineName)!==-1);epe(t),a=a.filter(l=>l);for(let l=0;l<a.length;l++){const s=a[l].calculative.worldAnchors.filter(c=>!c.next&&!c.prev);$t=[];for(let c=0;c<s.length;c++)if(c!==s.length-1){const d=s[c],u=s[c+1];for(let f=0;f<o.length;f++){qi=3,qi+=o[f].lineWidth/a[l].lineWidth*a[l].lineWidth,qi*=window.meta2d.store.data.scale;const v=o[f].calculative.worldAnchors.filter(h=>!h.next&&!h.prev);for(let h=0;h<v.length;h++)if(h!==v.length-1){const g=v[h],p=v[h+1],{onLine1:m,onLine2:y,x:b,y:w}=ipe(d.x,d.y,u.x,u.y,g.x,g.y,p.x,p.y);if(m&&y){if(o[f].intersectLines&&o[f].intersectLines.findIndex(D=>D.id===a[l].id&&D.fromAnchorIndex===h&&D.toAnchorIndex===c)!==-1)continue;a[l].intersectLines?a[l].intersectLines.findIndex(D=>D.id===o[f].id&&D.fromAnchorIndex===c&&D.toAnchorIndex===h)===-1&&a[l].intersectLines.push({fromAnchorIndex:c,toAnchorIndex:h,id:o[f].id}):(a[l].intersectLines=[],a[l].intersectLines.push({fromAnchorIndex:c,toAnchorIndex:h,id:o[f].id}));const{a:C,b:x,c:k}=rpe(d,u),P=ape({radius:qi,x:b,y:w},{p1:d,p2:u});if(P.length===2){let I=1;C!==0?I=x/C:I=w;const D=Math.sqrt(qi*qi/(I*I+1)),L=I*D;let O={x:0,y:0},S={x:0,y:0};-I<0?(O.x=P[0].x-D,O.y=P[0].y-L,S.x=P[1].x-D,S.y=P[1].y-L):(O.x=P[0].x+D,O.y=P[0].y+L,S.x=P[1].x+D,S.y=P[1].y+L);let _={x:0,y:0,id:""};for(let R=0;R<s.length;R++)if(R!==s.length-1){const N=s[R],F=s[R+1];if(npe(N,F,{x:b,y:w},Zge)){_.x=N.x,_.y=N.y,_.id=N.id;break}}const A={id:Ue(),penId:a[l].id,x:P[0].x,y:P[0].y,intersect:!0,hidden:!0,locked:2,lastAnchorIndex:_.id,brotherId:"",next:{penId:a[l].id,x:O.x,y:O.y},prev:{penId:a[l].id,x:P[0].x,y:P[0].y},prevNextType:1},E={id:Ue(),penId:a[l].id,x:P[1].x,y:P[1].y,intersect:!0,hidden:!0,locked:2,brotherId:"",lastAnchorIndex:_.id,next:{penId:a[l].id,x:P[1].x,y:P[1].y},prev:{penId:a[l].id,x:S.x,y:S.y},prevNextType:1};A.brotherId=E.id,E.brotherId=A.id,$t.push(A,E)}}}}}if($t.length>0){$t.sort((g,p)=>{if(g.lastAnchorIndex===p.lastAnchorIndex){const m=s.find(y=>y.id===g.lastAnchorIndex);return m?Zs(g.x,g.y,m.x,m.y)-Zs(p.x,p.y,m.x,m.y):-1}else return-1});let c=[],d=[],u=-1;for(let g=0,p=$t.length;g<p;g++){const m=$t[g];if(c.indexOf(m.id)!==-1)continue;const y=$t.find(b=>b.id===m.brotherId);c.push(m.id,y.id);for(let b=g+1;b<p;b++){const w=$t[b],C=$t.find(x=>x.id===w.brotherId);if(c.push(w.id,C.id),m.brotherId!==w.id)if(Zs(m.x,m.y,w.x,w.y)<qi*2&&Zs(m.x,m.y,w.x,w.y)>WN){u=1,d.indexOf(m.id)===-1&&d.push(m.id,y.id);const x=$t.find(k=>k.id===w.brotherId);d.indexOf(w.id)===-1&&d.push(w.id,x.id)}else{if(u===1){u=-1;const x=c.findIndex(P=>P===w.id);c.splice(x,1);const k=c.findIndex(P=>P===w.brotherId);c.splice(k,1);break}break}}}for(let g=0;g<$t.length;g++){const p=$t[g];d.indexOf(p.id)!==-1&&($t.splice(g,1),g--)}for(let g=0,p=$t.length;g<p;g++){const m=$t[g];for(let y=g+1;y<p;y++){const b=$t[y];if(Zs(m.x,m.y,b.x,b.y)<=WN){$t.splice(y,1);let w=$t.findIndex(C=>C.id===b.brotherId);w!==-1&&$t.splice(w,1),y--,p=$t.length}}}let f=-1,v=-1,h=0;for(let g=0;g<$t.length;g++){const p=$t[g];f===-1||f!==-1&&f!==p.lastAnchorIndex?(v=a[l].calculative.worldAnchors.findIndex(y=>y.id===p.lastAnchorIndex),h=0):f===p.lastAnchorIndex&&h++,a[l].calculative.worldAnchors.findIndex(y=>y.x===p.x&&y.y===p.y&&y.penId===p.penId)===-1&&(a[l].calculative.worldAnchors.splice(v+h+1,0,p),f=p.lastAnchorIndex)}window.meta2d.canvas.updateLines(a[l]),window.meta2d.canvas.initLineRect(a[l])}}window.meta2d.render()},0))}function tpe(){window.meta2d.off("mouseup",ip),window.meta2d.off("mousedown",rp),window.meta2d.off("add",qN),window.meta2d.off("active",YN),window.meta2d.off("opened",KN),$t=[]}function npe(t,e,n,a){const r=(e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y);if(r==0)return!1;const o=((n.x-t.x)*(e.x-t.x)+(n.y-t.y)*(e.y-t.y))/r;if(o<0)return Math.sqrt((t.x-n.x)*(t.x-n.x)+(t.y-n.y)*(t.y-n.y))<=a;if(0<=o&&o<=1){const l=((t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y))/r;return Math.abs(l)*Math.sqrt(r)<=a}else return Math.sqrt((e.x-n.x)*(e.x-n.x)+(e.y-n.y)*(e.y-n.y))<=a}function ape(t,e){let n,a,r,o,l,s,c,d,u,f;return u={},f={},u.x=e.p2.x-e.p1.x,u.y=e.p2.y-e.p1.y,f.x=e.p1.x-t.x,f.y=e.p1.y-t.y,n=u.x*f.x+u.y*f.y,a=2*(u.x*u.x+u.y*u.y),n*=-2,r=Math.sqrt(n*n-2*a*(f.x*f.x+f.y*f.y-t.radius*t.radius)),isNaN(r)?[]:(o=(n-r)/a,l=(n+r)/a,c={},d={},s=[],o<=1&&o>=0&&(c.x=e.p1.x+u.x*o,c.y=e.p1.y+u.y*o,s[0]=c),l<=1&&l>=0&&(d.x=e.p1.x+u.x*l,d.y=e.p1.y+u.y*l,s[s.length]=d),s)}function rpe(t,e){const n=e.y-t.y,a=t.x-e.x,r=n*t.x+a*t.y;return{a:n,b:a,c:r}}function Zs(t,e,n,a){let r=n-t,o=a-e;return Math.sqrt(o*o+r*r)}function ipe(t,e,n,a,r,o,l,s){let c,d,u,f,v,h={x:null,y:null,onLine1:!1,onLine2:!1};return c=(s-o)*(n-t)-(l-r)*(a-e),c==0||(d=e-o,u=t-r,f=(l-r)*d-(s-o)*u,v=(n-t)*d-(a-e)*u,d=f/c,u=v/c,h.x=t+d*(n-t),h.y=e+d*(a-e),d>0&&d<1&&(h.onLine1=!0),u>0&&u<1&&(h.onLine2=!0)),h}const Zd=i.defineComponent({__name:"PropsTab",props:{tabs:{type:Array,default:()=>[]},defaultValue:{type:Number,default:1}},emits:["change"],setup(t,{emit:e}){const n=t,a=i.ref(n.defaultValue),r=e,o=l=>{r("change",l)};return(l,s)=>{const c=i.resolveComponent("t-tab-panel"),d=i.resolveComponent("t-tabs");return i.openBlock(),i.createBlock(d,{value:a.value,"onUpdate:value":s[0]||(s[0]=u=>a.value=u),onChange:o},{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(t.tabs,(u,f)=>(i.openBlock(),i.createBlock(c,{key:f,value:u.value,label:u.label},{default:i.withCtx(()=>[i.renderSlot(l.$slots,u.slot)]),_:2},1032,["value","label"]))),128))]),_:3},8,["value"])}}}),ope=Qn(i.defineComponent({__name:"CodeEditor",props:{},emits:["confirm"],setup(t,{expose:e,emit:n}){const a=n,r=i.ref(!1),o=h=>{r.value=!1,a("confirm",u.value)},l=h=>{console.log("关闭弹窗，点击关闭按钮、按下ESC、点击蒙层等触发",h)},s=h=>{console.log("点击了取消按钮",h)};e({open:h=>{r.value=!0,u.value=h}});const d={automaticLayout:!0,formatOnType:!0,formatOnPaste:!0},u=i.ref("// some code..."),f=i.shallowRef(),v=h=>f.value=h;return(h,g)=>{const p=i.resolveComponent("t-space"),m=i.resolveComponent("t-dialog");return i.openBlock(),i.createBlock(m,{visible:r.value,"onUpdate:visible":g[1]||(g[1]=y=>r.value=y),header:"JavaScript",width:"50%","on-cancel":s,"on-close":l,"on-confirm":o},{default:i.withCtx(()=>[i.createVNode(p,{direction:"vertical",style:{width:"100%"}},{default:i.withCtx(()=>[g[2]||(g[2]=i.createElementVNode("code",null,"function(data: any) { // data 为 MessageBus 消息里的 data 对象",-1)),i.createVNode(i.unref(Rse),{value:u.value,"onUpdate:value":g[0]||(g[0]=y=>u.value=y),theme:"vs-dark",options:d,style:{height:"50vh"},onMount:v},null,8,["value"]),g[3]||(g[3]=i.createElementVNode("code",null,"}",-1))]),_:1})]),_:1},8,["visible"])}}}),[["__scopeId","data-v-ff6d5876"]]),lpe=i.defineComponent({__name:"MessageHandlers",props:{wsMsgFields:{type:Array,default:()=>[]},wsMsgHandlers:{type:Array,default:()=>[]}},emits:["change"],setup(t,{emit:e}){const n=t,a=i.ref(n.wsMsgHandlers),r=()=>{a.value.push({id:vce(),action:Ut.SetProps,params:{tags:[],ids:[]},value:{},where:{key:"",value:"",comparison:""}})},o=S=>{a.value.splice(a.value.indexOf(S),1),s()},l=e,s=()=>{l("change",a.value)},c=[{label:"更改属性",value:Ut.SetProps},{label:"执行动画",value:Ut.StartAnimate},{label:"暂停动画",value:Ut.PauseAnimate},{label:"停止动画",value:Ut.StopAnimate}],d=[{label:"背景颜色",value:"background"},{label:"颜色",value:"color"},{label:"文字",value:"text"},{label:"进度",value:"progress"},{label:"显示",value:"visible"},{label:"状态",value:"showChild"}],u=i.ref([]),f=()=>{if(u.value.length>=6){ci.warning("最多只能添加6个属性");return}u.value.push({prop:"",value:""})},v=(S,_)=>{const A=u.value.indexOf(S);u.value.splice(A,1),h(_)},h=S=>{const _={};u.value.forEach(A=>{_[A.prop]=A.value}),S.value=_,l("change",a.value),console.log("prop change: ",S,a.value)},g=S=>{const _=a.value[Number(S)];_.value&&typeof _.value=="object"&&(u.value=Object.keys(_.value).map(A=>({prop:A,value:_.value[A]})))},p=[{label:"大于",value:">"},{label:"大于等于",value:">="},{label:"小于",value:"<"},{label:"小于等于",value:"<="},{label:"等于",value:"="},{label:"不等于",value:"!="}],m=i.ref(!1),y=S=>{w([S]),m.value=!0},b=i.shallowReactive({tags:[],ids:[],id:""}),w=S=>{if(!S.length)return;const _=JSON.parse(JSON.stringify(a.value[S[0]]));_&&(b.tags=_.params.tags,b.ids=x(_.params.ids),b.id=_.id,g(S),D())},C=eN.map(S=>({label:S.释义,value:S.元件类型}));function x(S){return S.filter(_=>!!meta2d.findOne(_))}const k=()=>{m.value=!1;const S=a.value.find(_=>_.id===b.id);S&&(S.params.tags=b.tags,S.params.ids=x(b.ids),s())},P=i.shallowReactive({value:[]}),I=[{title:"ID",colKey:"id",type:"multiple"},{title:"图元名称",colKey:"name"},{title:"标签",colKey:"tags"},{title:"文字",colKey:"text"},{title:"描述",colKey:"description"}],D=()=>{const S=meta2d.data();if(b){if(b._tag){P.value=meta2d.find(b._tag);return}else if(b.tags.length){const _=[];b.tags.forEach(E=>{const R=meta2d.find(E);_.push(...R)});const A=[...new Set(_)];setTimeout(()=>{P.value=A},1e3);return}}setTimeout(()=>{P.value=S.pens},1e3)},L=(S,_)=>{b.ids=S},O=()=>{if(b.ids.length){const S=b.ids.map(_=>meta2d.findOne(_)).filter(_=>!!_);meta2d.active(S)}else meta2d.active(P.value)};return(S,_)=>{const A=i.resolveComponent("t-button"),E=i.resolveComponent("t-select"),R=i.resolveComponent("t-form-item"),N=i.resolveComponent("t-col"),F=i.resolveComponent("t-icon"),M=i.resolveComponent("t-row"),$=i.resolveComponent("t-input"),W=i.resolveComponent("t-form"),H=i.resolveComponent("t-collapse-panel"),K=i.resolveComponent("t-collapse"),z=i.resolveComponent("t-tooltip"),B=i.resolveComponent("t-table"),q=i.resolveComponent("t-drawer");return i.openBlock(),i.createElementBlock(i.Fragment,null,[i.createVNode(A,{block:"",theme:"primary",onClick:r},{default:i.withCtx(()=>_[3]||(_[3]=[i.createTextVNode("添加处理器")])),_:1}),i.createVNode(K,{class:"meta-collapse","expand-mutex":"",onChange:w},{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(a.value,(Y,X)=>(i.openBlock(),i.createBlock(H,{key:X,header:"处理器"},{headerRightContent:i.withCtx(()=>[i.createVNode(A,{size:"small",variant:"outline",theme:"danger",style:{marginLeft:"8px"},onClick:T=>o(Y)},{default:i.withCtx(()=>[i.createVNode(F,{name:"delete"})]),_:2},1032,["onClick"])]),default:i.withCtx(()=>[i.createVNode(W,{labelAlign:"left"},{default:i.withCtx(()=>[i.createVNode(R,{label:"行为"},{default:i.withCtx(()=>[i.createVNode(E,{modelValue:Y.action,"onUpdate:modelValue":T=>Y.action=T,options:c,onChange:s},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),i.createVNode(R,{label:"目标"},{default:i.withCtx(()=>[i.createVNode(A,{variant:"text",theme:"primary",onClick:T=>y(X)},{default:i.withCtx(()=>_[4]||(_[4]=[i.createTextVNode("选择目标图元")])),_:2},1032,["onClick"])]),_:2},1024),Y.action===i.unref(Ut).SetProps?(i.openBlock(),i.createElementBlock(i.Fragment,{key:0},[i.createVNode(M,{justify:"start"},{default:i.withCtx(()=>[i.createVNode(N,{span:5},{default:i.withCtx(()=>_[5]||(_[5]=[i.createElementVNode("div",null,"属性",-1)])),_:1}),i.createVNode(N,{span:5},{default:i.withCtx(()=>_[6]||(_[6]=[i.createElementVNode("div",null,"值",-1)])),_:1}),i.createVNode(N,{span:2},{default:i.withCtx(()=>[i.createVNode(A,{variant:"text",onClick:f},{default:i.withCtx(()=>[i.createVNode(F,{name:"add"})]),_:1})]),_:1})]),_:1}),(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(u.value,(T,j)=>(i.openBlock(),i.createBlock(M,{key:j,justify:"start",gutter:4,style:{"margin-bottom":"4px"}},{default:i.withCtx(()=>[i.createVNode(N,{span:5},{default:i.withCtx(()=>[i.createVNode(E,{modelValue:T.prop,"onUpdate:modelValue":U=>T.prop=U,options:d,onChange:U=>h(Y)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024),i.createVNode(N,{span:5},{default:i.withCtx(()=>[i.createVNode($,{modelValue:T.value,"onUpdate:modelValue":U=>T.value=U,onChange:U=>h(Y)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024),i.createVNode(N,{span:2},{default:i.withCtx(()=>[i.createVNode(A,{variant:"text",onClick:U=>v(T,Y)},{default:i.withCtx(()=>[i.createVNode(F,{name:"delete"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))],64)):i.createCommentVNode("",!0),i.createVNode(R,{label:"字段名"},{default:i.withCtx(()=>[i.createVNode(E,{modelValue:Y.where.key,"onUpdate:modelValue":T=>Y.where.key=T,options:t.wsMsgFields,onChange:s},null,8,["modelValue","onUpdate:modelValue","options"])]),_:2},1024),i.createVNode(R,{label:"条件"},{default:i.withCtx(()=>[i.createVNode(E,{modelValue:Y.where.comparison,"onUpdate:modelValue":T=>Y.where.comparison=T,options:p,onChange:s},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),i.createVNode(R,{label:"值"},{default:i.withCtx(()=>[i.createVNode($,{modelValue:Y.where.value,"onUpdate:modelValue":T=>Y.where.value=T,onChange:s},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1}),i.createVNode(q,{visible:m.value,"onUpdate:visible":_[2]||(_[2]=Y=>m.value=Y),header:"选择图元",size:"40%","on-confirm":k,"close-btn":!0},{default:i.withCtx(()=>[i.unref(b)?(i.openBlock(),i.createBlock(M,{key:0,gutter:10,style:{height:"100%"}},{default:i.withCtx(()=>[i.createVNode(N,{span:4,style:{height:"100%"}},{default:i.withCtx(()=>[i.createVNode(W,{"label-align":"top"},{default:i.withCtx(()=>[i.createVNode(R,{label:"电路元件",name:"name"},{default:i.withCtx(()=>[i.createVNode(E,{modelValue:i.unref(b).tags,"onUpdate:modelValue":_[0]||(_[0]=Y=>i.unref(b).tags=Y),options:i.unref(C),placeholder:"按标签选择",multiple:"",minCollapsedNum:10,clearable:""},null,8,["modelValue","options"])]),_:1}),i.createVNode(R,{label:"图元标签",name:"tag"},{default:i.withCtx(()=>[i.createVNode($,{modelValue:i.unref(b)._tag,"onUpdate:modelValue":_[1]||(_[1]=Y=>i.unref(b)._tag=Y),placeholder:"输入自定义的标签进行查询，不做保存",clearable:""},null,8,["modelValue"])]),_:1}),i.createVNode(R,null,{default:i.withCtx(()=>[i.createVNode(A,{block:"",onClick:D},{default:i.withCtx(()=>_[7]||(_[7]=[i.createTextVNode("查询")])),_:1})]),_:1}),i.createVNode(R,null,{default:i.withCtx(()=>[i.createVNode(z,{content:"符合条件的图元数量大时，会出现卡顿"},{default:i.withCtx(()=>[i.createVNode(A,{block:"",theme:"warning",onClick:O},{default:i.withCtx(()=>_[8]||(_[8]=[i.createTextVNode("选中图元")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),i.createVNode(N,{span:7,style:{height:"100%"}},{default:i.withCtx(()=>[i.unref(b)?(i.openBlock(),i.createBlock(B,{key:0,class:"meta-table","row-key":"id",columns:I,data:i.unref(P).value,"selected-row-keys":i.unref(b).ids,scroll:{type:"virtual",rowHeight:48,bufferSize:30},style:{height:"100%"},onSelectChange:L},null,8,["data","selected-row-keys"])):i.createCommentVNode("",!0)]),_:1})]),_:1})):i.createCommentVNode("",!0)]),_:1},8,["visible"])],64)}}}),spe={class:"props-panel"},cpe={class:"props-panel"},upe=Qn(i.defineComponent({__name:"FileProps",setup(t){const e=i.reactive({name:"",background:void 0,color:void 0,lineCross:!1,wsUrl:"",busName:"",msgTypes:[],backgroundImage:"",grid:!1,gridSize:10,gridRotate:void 0,gridColor:void 0,rule:!0,ruleColor:void 0,wsMsgFields:[],wsMsgHandlers:[]}),n=i.reactive({grid:!1,gridSize:10,gridRotate:void 0,gridColor:void 0,rule:!0}),a=[{label:"图纸",value:1,slot:"pen-props"},{label:"结构",value:2,slot:"struct-props"},{label:"通信",value:3,slot:"comm-props"}];i.onMounted(()=>{const x=meta2d.data();e.name=x.name||"",e.background=x.background,e.color=x.color,e.lineCross=x.lineCross,e.backgroundImage=x.backgroundImage,e.grid=x.grid,e.gridSize=x.gridSize,e.gridRotate=x.gridRotate,e.gridColor=x.gridColor,e.rule=x.rule,e.ruleColor=x.ruleColor,e.bkImage=x.bkImage,e.wsUrl=x.wsUrl,e.busName=x.busName,e.msgTypes=x.msgTypes||[],e.onMessageJsCode=x.onMessageJsCode,e.wsMsgFields=x.wsMsgFields||[],e.wsMsgHandlers=x.wsMsgHandlers||[],Object.assign(n,meta2d.getOptions())});const r=x=>{e.lineCross?Qge(!0):tpe(),Object.assign(meta2d.store.data,e),meta2d.store.patchFlagsBackground=!0,meta2d.setGrid({grid:e.grid,gridSize:e.gridSize,gridRotate:e.gridRotate,gridColor:e.gridColor}),meta2d.setRule({rule:e.rule,ruleColor:e.ruleColor}),x=="bkImage"&&meta2d.setBackgroundImage(e.bkImage),meta2d.render()},o=i.ref(),{uploadValue:l,sizeLimit:s,headers:c}=Gd(),d=x=>{var k;console.log("upload success: ",x),x.response&&(e.bkImage=x.response.url||((k=x.response.data)==null?void 0:k.fileurl),r("bkImage"))},u=x=>{console.log("upload fail: ",x)},f=x=>{const k=e[x];if(x=="wsUrl"&&!(k!=null&&k.startsWith("ws://"))){e[x]="";return}Object.assign(meta2d.store.data,e)},{resolver:v}=zN(e),h=()=>{const x=e.msgTypes.map(I=>Number(I)).filter(I=>!isNaN(I)),k=Jd.getInstance(e.wsUrl,{busName:e.busName,msgTypes:x,enableLog:!1,onReady:()=>{console.log("%c连接成功！","color: green; font-weight: bold;"),Ns.success({title:"连接成功！"})}});k.connect();const P=e.onMessageJsCode;k.subscribe(e.busName,x,I=>{try{P?new Function("data",P)(I):v(I)}catch(D){console.log("error: ",D)}})},g=i.ref(),p=()=>{g.value&&g.value.open(e.onMessageJsCode)},m=x=>{e.onMessageJsCode=x,f("onMessageJsCode")},y=()=>{e.wsMsgFields.push({label:"",value:""})},b=x=>{e.wsMsgFields.splice(x,1)},w=()=>{f("wsMsgFields")},C=x=>{console.log("handlers: ",x),e.wsMsgHandlers=x,f("wsMsgHandlers")};return(x,k)=>{const P=i.resolveComponent("t-input"),I=i.resolveComponent("t-form-item"),D=i.resolveComponent("t-divider"),L=i.resolveComponent("t-switch"),O=i.resolveComponent("t-input-number"),S=i.resolveComponent("t-color-picker"),_=i.resolveComponent("t-upload"),A=i.resolveComponent("t-tooltip"),E=i.resolveComponent("t-form"),R=i.resolveComponent("t-tag-input"),N=i.resolveComponent("t-button"),F=i.resolveComponent("t-space"),M=i.resolveComponent("t-collapse-panel"),$=i.resolveComponent("t-icon"),W=i.resolveComponent("t-col"),H=i.resolveComponent("t-row"),K=i.resolveComponent("t-collapse");return i.openBlock(),i.createElementBlock("div",null,[i.createVNode(Zd,{tabs:a},{"pen-props":i.withCtx(()=>[i.createElementVNode("div",spe,[i.createVNode(E,{"label-align":"left"},{default:i.withCtx(()=>[i.createVNode(I,{label:"名称",name:"name"},{default:i.withCtx(()=>[i.createVNode(P,{modelValue:e.name,"onUpdate:modelValue":k[0]||(k[0]=z=>e.name=z),onChange:r},null,8,["modelValue"])]),_:1}),i.createVNode(D),i.createVNode(I,{label:"网格",name:"grid"},{default:i.withCtx(()=>[i.createVNode(L,{modelValue:e.grid,"onUpdate:modelValue":k[1]||(k[1]=z=>e.grid=z),onChange:r},null,8,["modelValue"])]),_:1}),i.createVNode(I,{label:"网格大小",name:"gridSize"},{default:i.withCtx(()=>[i.createVNode(O,{modelValue:e.gridSize,"onUpdate:modelValue":k[2]||(k[2]=z=>e.gridSize=z),min:0,onChange:r},null,8,["modelValue"])]),_:1}),i.createVNode(I,{label:"网格角度",name:"gridRotate"},{default:i.withCtx(()=>[i.createVNode(O,{modelValue:e.gridRotate,"onUpdate:modelValue":k[3]||(k[3]=z=>e.gridRotate=z),modelModifiers:{number:!0},onChange:r},null,8,["modelValue"])]),_:1}),i.createVNode(I,{label:"网格颜色",name:"gridColor"},{default:i.withCtx(()=>[i.createVNode(S,{class:"w-full",modelValue:e.gridColor,"onUpdate:modelValue":k[4]||(k[4]=z=>e.gridColor=z),"show-primary-color-preview":!1,format:"CSS","color-modes":["monochrome"],clearable:"",onChange:r},null,8,["modelValue"])]),_:1}),i.createVNode(D),i.createVNode(I,{label:"标尺",name:"rule"},{default:i.withCtx(()=>[i.createVNode(L,{modelValue:e.rule,"onUpdate:modelValue":k[5]||(k[5]=z=>e.rule=z),onChange:r},null,8,["modelValue"])]),_:1}),i.createVNode(I,{label:"标尺颜色",name:"ruleColor"},{default:i.withCtx(()=>[i.createVNode(S,{class:"w-full",modelValue:e.ruleColor,"onUpdate:modelValue":k[6]||(k[6]=z=>e.ruleColor=z),"show-primary-color-preview":!1,format:"CSS","color-modes":["monochrome"],clearable:"",onChange:r},null,8,["modelValue"])]),_:1}),i.createVNode(D),i.createVNode(I,{label:"背景颜色",name:"background"},{default:i.withCtx(()=>[i.createVNode(S,{class:"w-full",modelValue:e.background,"onUpdate:modelValue":k[7]||(k[7]=z=>e.background=z),"show-primary-color-preview":!1,format:"CSS","color-modes":["monochrome"],clearable:"",onChange:r},null,8,["modelValue"])]),_:1}),i.createVNode(I,{label:"图元默认颜色",name:"color"},{default:i.withCtx(()=>[i.createVNode(S,{class:"w-full",modelValue:e.color,"onUpdate:modelValue":k[8]||(k[8]=z=>e.color=z),"show-primary-color-preview":!1,format:"CSS",clearable:"","color-modes":["monochrome"],onChange:r},null,8,["modelValue"])]),_:1}),i.createVNode(I,{label:"背景图片"},{default:i.withCtx(()=>[i.createVNode(_,{ref_key:"uploadRef",ref:o,modelValue:i.unref(l),"onUpdate:modelValue":k[9]||(k[9]=z=>i.isRef(l)?l.value=z:null),action:x.$attrs.uploadUrl||"https://service-bv448zsw-1257786608.gz.apigw.tencentcs.com/api/upload-demo",headers:i.unref(c),name:"object",sizeLimit:i.unref(s),theme:"image",tips:"请选择单张小于1MB的图片上传",accept:"image/*",onFail:u,onSuccess:d},null,8,["modelValue","action","headers","sizeLimit"])]),_:1}),i.createVNode(I,{label:"背景图片地址",name:"bkImage"},{default:i.withCtx(()=>[i.createVNode(P,{modelValue:e.bkImage,"onUpdate:modelValue":k[10]||(k[10]=z=>e.bkImage=z),clearable:"",onChange:k[11]||(k[11]=z=>r("bkImage"))},null,8,["modelValue"])]),_:1}),i.createVNode(I,{label:"连线相交弯曲",name:"lineCross"},{default:i.withCtx(()=>[i.createVNode(A,{content:"当直线或折线两两相交时，其中相交的交点会自动弯曲显示"},{default:i.withCtx(()=>[i.createVNode(L,{modelValue:e.lineCross,"onUpdate:modelValue":k[12]||(k[12]=z=>e.lineCross=z),onChange:r},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})])]),"struct-props":i.withCtx(()=>[i.renderSlot(x.$slots,"struct",{},void 0,!0)]),"comm-props":i.withCtx(()=>[i.createElementVNode("div",cpe,[i.createVNode(K,{defaultExpandAll:"",class:"meta-collapse"},{default:i.withCtx(()=>[i.createVNode(M,{value:"0",header:"WebSocket"},{default:i.withCtx(()=>[i.createVNode(E,{data:e,"label-align":"left",size:"small",labelWidth:"80px"},{default:i.withCtx(()=>[i.createVNode(I,{label:"地址",name:"wsUrl"},{default:i.withCtx(()=>[i.createVNode(P,{modelValue:e.wsUrl,"onUpdate:modelValue":k[13]||(k[13]=z=>e.wsUrl=z),clearable:"",placeholder:"ws:// 开头，不符合则不保存",onBlur:k[14]||(k[14]=z=>f("wsUrl"))},null,8,["modelValue"])]),_:1}),i.createVNode(I,{label:"消息名称",name:"busName"},{default:i.withCtx(()=>[i.createVNode(P,{modelValue:e.busName,"onUpdate:modelValue":k[15]||(k[15]=z=>e.busName=z),clearable:"",onChange:k[16]||(k[16]=z=>f("busName"))},null,8,["modelValue"])]),_:1}),i.createVNode(I,{label:"消息类型",name:"msgTypes"},{default:i.withCtx(()=>[i.createVNode(R,{modelValue:e.msgTypes,"onUpdate:modelValue":k[17]||(k[17]=z=>e.msgTypes=z),clearable:"",placeholder:"消息类型, 数字, 回车添加",onChange:k[18]||(k[18]=z=>f("msgTypes"))},null,8,["modelValue"])]),_:1}),i.createVNode(D),i.createVNode(F,null,{default:i.withCtx(()=>[i.createVNode(N,{onClick:h},{default:i.withCtx(()=>k[19]||(k[19]=[i.createTextVNode("测试连接")])),_:1})]),_:1})]),_:1},8,["data"])]),_:1}),i.createVNode(M,{header:"消息处理代码"},{default:i.withCtx(()=>[i.createVNode(N,{block:"",onClick:p},{default:i.withCtx(()=>k[20]||(k[20]=[i.createTextVNode("编辑代码")])),_:1})]),_:1}),i.createVNode(M,{header:"消息状态字段"},{headerRightContent:i.withCtx(()=>[i.createVNode(A,{content:"用于消息处理器的触发条件",placement:"top-right"},{default:i.withCtx(()=>[i.createVNode(N,{variant:"text"},{default:i.withCtx(()=>[i.createVNode($,{name:"help"})]),_:1})]),_:1})]),default:i.withCtx(()=>[i.createVNode(N,{block:"",onClick:y},{default:i.withCtx(()=>k[21]||(k[21]=[i.createTextVNode("新增")])),_:1}),k[22]||(k[22]=i.createElementVNode("br",null,null,-1)),(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(e.wsMsgFields,(z,B)=>(i.openBlock(),i.createBlock(H,{key:B,justify:"start",style:{"margin-bottom":"4px"}},{default:i.withCtx(()=>[i.createVNode(W,{span:10},{default:i.withCtx(()=>[i.createVNode(P,{modelValue:z.value,"onUpdate:modelValue":q=>z.value=q,onChange:w},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),i.createVNode(W,{span:2},{default:i.withCtx(()=>[i.createVNode(N,{variant:"text",onClick:q=>b(B)},{default:i.withCtx(()=>[i.createVNode($,{name:"delete"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1}),i.createVNode(M,{header:"消息处理队列"},{headerRightContent:i.withCtx(()=>[i.createVNode(A,{content:"【消息处理代码】存在时，此处的设置无效",placement:"top-right"},{default:i.withCtx(()=>[i.createVNode(N,{variant:"text"},{default:i.withCtx(()=>[i.createVNode($,{name:"help"})]),_:1})]),_:1})]),default:i.withCtx(()=>[i.createVNode(lpe,{wsMsgFields:e.wsMsgFields,wsMsgHandlers:e.wsMsgHandlers,onChange:C},null,8,["wsMsgFields","wsMsgHandlers"])]),_:1})]),_:1})])]),_:3}),i.createVNode(ope,{ref_key:"codeEditor",ref:g,onConfirm:m},null,512)])}}}),[["__scopeId","data-v-8604542d"]]),dpe=[{x:-10,duration:100},{x:10,duration:80},{x:-10,duration:50},{x:10,duration:30},{x:0,duration:300}],fpe=[{y:-10,duration:100},{y:10,duration:80},{y:-10,duration:50},{y:10,duration:30},{y:0,duration:300}],vpe=[{duration:100,rotate:-10},{duration:100,rotate:10},{duration:100,rotate:0}],hpe=[{duration:100,scale:.8},{duration:400,scale:1},{duration:100,scale:1.2}],gpe=[{duration:1e3,rotate:360}],ppe=[{duration:1e3,rotate:-360}],mpe=[{duration:2e3,progress:1}],ype=[{duration:1e3,color:"green"},{duration:2e3,color:"red"}],GN=[{label:"上下跳动",value:"moveYFrames"},{label:"左右跳动",value:"moveXFrames"},{label:"心跳",value:"scaleFrames"},{label:"摇摆",value:"rotateXFrames"},{label:"旋转",value:"rotateFrames"},{label:"反向旋转",value:"rotateFrames2"},{label:"进度",value:"processFrames"},{label:"自定义",value:"x-custom"}],XN=[{label:"水流",value:0},{label:"水珠滚动",value:1},{label:"圆点",value:2},{label:"箭头",value:3},{label:"水滴",value:4}],JN={moveXFrames:dpe,moveYFrames:fpe,rotateXFrames:vpe,scaleFrames:hpe,processFrames:mpe,colorFrames:ype,rotateFrames:gpe,rotateFrames2:ppe},bpe={class:"props-panel__editor"},wpe={class:"ml-16",style:{width:"50px","line-height":"30px"}},ZN=Qn(i.defineComponent({__name:"PropEditor",props:{data:{type:Object,default:()=>({})},statusList:{type:Array,default:()=>[]}},emits:["propChange"],setup(t,{emit:e}){const n=e,a=o=>{n("propChange",o)},r=o=>{n("propChange",o)};return(o,l)=>{const s=i.resolveComponent("t-input-number"),c=i.resolveComponent("t-form-item"),d=i.resolveComponent("t-color-picker"),u=i.resolveComponent("t-option"),f=i.resolveComponent("t-select"),v=i.resolveComponent("t-slider"),h=i.resolveComponent("t-divider"),g=i.resolveComponent("t-switch"),p=i.resolveComponent("t-input"),m=i.resolveComponent("t-form");return i.openBlock(),i.createElementBlock("div",bpe,[i.createVNode(m,{"label-align":"left"},{default:i.withCtx(()=>[i.createVNode(c,{label:"时长(ms)",name:"duration"},{default:i.withCtx(()=>[i.createVNode(s,{modelValue:t.data.duration,"onUpdate:modelValue":l[0]||(l[0]=y=>t.data.duration=y),min:0,onChange:l[1]||(l[1]=y=>a("duration"))},null,8,["modelValue"])]),_:1}),i.createVNode(c,{label:"颜色",name:"color"},{default:i.withCtx(()=>[i.createVNode(d,{class:"w-full",modelValue:t.data.color,"onUpdate:modelValue":l[2]||(l[2]=y=>t.data.color=y),"show-primary-color-preview":!1,format:"CSS","color-modes":["monochrome"],clearable:"",onChange:l[3]||(l[3]=y=>a("color"))},null,8,["modelValue"])]),_:1}),i.createVNode(c,{label:"浮动颜色",name:"hoverColor"},{default:i.withCtx(()=>[i.createVNode(d,{class:"w-full",modelValue:t.data.hoverColor,"onUpdate:modelValue":l[4]||(l[4]=y=>t.data.hoverColor=y),"show-primary-color-preview":!1,format:"CSS","color-modes":["monochrome"],clearable:"",onChange:l[5]||(l[5]=y=>a("hoverColor"))},null,8,["modelValue"])]),_:1}),i.createVNode(c,{label:"选中颜色",name:"activeColor"},{default:i.withCtx(()=>[i.createVNode(d,{class:"w-full",modelValue:t.data.activeColor,"onUpdate:modelValue":l[6]||(l[6]=y=>t.data.activeColor=y),"show-primary-color-preview":!1,format:"CSS","color-modes":["monochrome"],clearable:"",onChange:l[7]||(l[7]=y=>a("activeColor"))},null,8,["modelValue"])]),_:1}),i.createVNode(c,{label:"背景",name:"background"},{default:i.withCtx(()=>[i.createVNode(d,{class:"w-full",modelValue:t.data.background,"onUpdate:modelValue":l[8]||(l[8]=y=>t.data.background=y),"show-primary-color-preview":!1,format:"CSS","color-modes":["monochrome"],clearable:"",onChange:l[9]||(l[9]=y=>a("background"))},null,8,["modelValue"])]),_:1}),i.createVNode(c,{label:"线条",name:"dash"},{default:i.withCtx(()=>[i.createVNode(f,{modelValue:t.data.dash,"onUpdate:modelValue":l[10]||(l[10]=y=>t.data.dash=y),onChange:l[11]||(l[11]=y=>a("dash"))},{default:i.withCtx(()=>[(i.openBlock(),i.createBlock(u,{key:0,value:0,label:"实线"})),(i.openBlock(),i.createBlock(u,{key:1,value:1,label:"虚线"}))]),_:1},8,["modelValue"])]),_:1}),i.createVNode(c,{label:"线条宽度",name:"lineWidth"},{default:i.withCtx(()=>[i.createVNode(s,{modelValue:t.data.lineWidth,"onUpdate:modelValue":l[12]||(l[12]=y=>t.data.lineWidth=y),onChange:l[13]||(l[13]=y=>a("lineWidth"))},null,8,["modelValue"])]),_:1}),i.createVNode(c,{label:"圆角",name:"borderRadius"},{default:i.withCtx(()=>[i.createVNode(s,{min:0,max:1,step:.01,modelValue:t.data.borderRadius,"onUpdate:modelValue":l[14]||(l[14]=y=>t.data.borderRadius=y),onChange:l[15]||(l[15]=y=>a("borderRadius"))},null,8,["modelValue"])]),_:1}),i.createVNode(c,{label:"不透明度",name:"globalAlpha"},{default:i.withCtx(()=>[i.createVNode(v,{modelValue:t.data.globalAlpha,"onUpdate:modelValue":l[16]||(l[16]=y=>t.data.globalAlpha=y),min:0,max:1,step:.01,onChange:l[17]||(l[17]=y=>a("globalAlpha"))},null,8,["modelValue"]),i.createElementVNode("span",wpe,i.toDisplayString(t.data.globalAlpha),1)]),_:1}),i.createVNode(c,{label:"阴影颜色",name:"shadowColor"},{default:i.withCtx(()=>[i.createVNode(d,{class:"w-full",modelValue:t.data.shadowColor,"onUpdate:modelValue":l[18]||(l[18]=y=>t.data.shadowColor=y),"show-primary-color-preview":!1,format:"CSS","color-modes":["monochrome"],clearable:"",onChange:l[19]||(l[19]=y=>a("shadowColor"))},null,8,["modelValue"])]),_:1}),i.createVNode(c,{label:"阴影模糊",name:"shadowBlur"},{default:i.withCtx(()=>[i.createVNode(s,{modelValue:t.data.shadowBlur,"onUpdate:modelValue":l[20]||(l[20]=y=>t.data.shadowBlur=y),min:0,onChange:l[21]||(l[21]=y=>a("shadowBlur"))},null,8,["modelValue"])]),_:1}),i.createVNode(c,{label:"阴影X偏移",name:"shadowOffsetX"},{default:i.withCtx(()=>[i.createVNode(s,{modelValue:t.data.shadowOffsetX,"onUpdate:modelValue":l[22]||(l[22]=y=>t.data.shadowOffsetX=y),onChange:l[23]||(l[23]=y=>a("shadowOffsetX"))},null,8,["modelValue"])]),_:1}),i.createVNode(c,{label:"阴影Y偏移",name:"shadowOffsetY"},{default:i.withCtx(()=>[i.createVNode(s,{modelValue:t.data.shadowOffsetY,"onUpdate:modelValue":l[24]||(l[24]=y=>t.data.shadowOffsetY=y),onChange:l[25]||(l[25]=y=>a("shadowOffsetY"))},null,8,["modelValue"])]),_:1}),i.createVNode(h),i.createVNode(c,{label:"文字阴影",name:"textHasShadow"},{default:i.withCtx(()=>[i.createVNode(g,{modelValue:t.data.textHasShadow,"onUpdate:modelValue":l[26]||(l[26]=y=>t.data.textHasShadow=y),onChange:l[27]||(l[27]=y=>a("textHasShadow"))},null,8,["modelValue"])]),_:1}),i.createVNode(c,{label:"文本",name:"text"},{default:i.withCtx(()=>[i.createVNode(p,{modelValue:t.data.text,"onUpdate:modelValue":l[28]||(l[28]=y=>t.data.text=y),clearable:"",onChange:l[29]||(l[29]=y=>a("text"))},null,8,["modelValue"])]),_:1}),i.createVNode(c,{label:"字体",name:"fontSize"},{default:i.withCtx(()=>[i.createVNode(s,{modelValue:t.data.fontSize,"onUpdate:modelValue":l[30]||(l[30]=y=>t.data.fontSize=y),onChange:l[31]||(l[31]=y=>a("fontSize"))},null,8,["modelValue"])]),_:1}),i.createVNode(c,{label:"文字颜色类型",name:"textType"},{default:i.withCtx(()=>[i.createVNode(f,{modelValue:t.data.textType,"onUpdate:modelValue":l[32]||(l[32]=y=>t.data.textType=y),onChange:l[33]||(l[33]=y=>a("textType"))},{default:i.withCtx(()=>[i.createVNode(u,{key:"hex",value:0,label:"纯色"}),i.createVNode(u,{key:"rgb",value:1,label:"线性渐变"}),i.createVNode(u,{key:"rgba",value:2,label:"径向渐变"})]),_:1},8,["modelValue"])]),_:1}),[1,2].includes(t.data.textType)?(i.openBlock(),i.createBlock(c,{key:0,label:"文字渐变",name:"textGradientColors"},{default:i.withCtx(()=>[i.createVNode(d,{class:"w-full",modelValue:t.data.textGradientColors,"onUpdate:modelValue":l[34]||(l[34]=y=>t.data.textGradientColors=y),"show-primary-color-preview":!1,format:"CSS","color-modes":["linear-gradient"],clearable:"",onChange:l[35]||(l[35]=y=>a("textGradientColors"))},null,8,["modelValue"])]),_:1})):(i.openBlock(),i.createBlock(c,{key:1,label:"文字颜色",name:"textColor"},{default:i.withCtx(()=>[i.createVNode(d,{class:"w-full",modelValue:t.data.textColor,"onUpdate:modelValue":l[36]||(l[36]=y=>t.data.textColor=y),"show-primary-color-preview":!1,format:"CSS","color-modes":["monochrome"],clearable:"",onChange:l[37]||(l[37]=y=>a("textColor"))},null,8,["modelValue"])]),_:1})),i.createVNode(c,{label:"文本风格",name:"fontStyle"},{default:i.withCtx(()=>[i.createVNode(f,{modelValue:t.data.fontStyle,"onUpdate:modelValue":l[38]||(l[38]=y=>t.data.fontStyle=y),onChange:l[39]||(l[39]=y=>a("fontStyle"))},{default:i.withCtx(()=>[i.createVNode(u,{key:"normal",value:"normal",label:"常规"}),i.createVNode(u,{key:"italic",value:"italic",label:"斜体"})]),_:1},8,["modelValue"])]),_:1}),i.createVNode(c,{label:"文本粗细",name:"fontWeight"},{default:i.withCtx(()=>[i.createVNode(f,{modelValue:t.data.fontWeight,"onUpdate:modelValue":l[40]||(l[40]=y=>t.data.fontWeight=y),onChange:l[41]||(l[41]=y=>a("fontWeight"))},{default:i.withCtx(()=>[i.createVNode(u,{key:"normal",value:"normal",label:"常规"}),i.createVNode(u,{key:"bold",value:"bold",label:"加粗"}),i.createVNode(u,{key:"lighter",value:"lighter",label:"更细"})]),_:1},8,["modelValue"])]),_:1}),i.createVNode(c,{label:"换行",name:"whiteSpace"},{default:i.withCtx(()=>[i.createVNode(f,{modelValue:t.data.whiteSpace,"onUpdate:modelValue":l[42]||(l[42]=y=>t.data.whiteSpace=y),onChange:l[43]||(l[43]=y=>a("whiteSpace"))},{default:i.withCtx(()=>[i.createVNode(u,{key:"normal",value:"normal",label:"常规"}),i.createVNode(u,{key:"nowrap",value:"nowrap",label:"不换行"}),i.createVNode(u,{key:"pre-line",value:"pre-line",label:"换行符换行"}),i.createVNode(u,{key:"break-all",value:"break-all",label:"永远换行"})]),_:1},8,["modelValue"])]),_:1}),i.createVNode(c,{label:"超出省略",name:"ellipsis"},{default:i.withCtx(()=>[i.createVNode(g,{modelValue:t.data.ellipsis,"onUpdate:modelValue":l[44]||(l[44]=y=>t.data.ellipsis=y),onChange:l[45]||(l[45]=y=>a("ellipsis"))},null,8,["modelValue"])]),_:1}),i.createVNode(c,{label:"下划线",name:"textDecoration"},{default:i.withCtx(()=>[i.createVNode(g,{modelValue:t.data.textDecoration,"onUpdate:modelValue":l[46]||(l[46]=y=>t.data.textDecoration=y),onChange:l[47]||(l[47]=y=>a("textDecoration"))},null,8,["modelValue"])]),_:1}),i.createVNode(c,{label:"下划线颜色",name:"textDecorationColor"},{default:i.withCtx(()=>[i.createVNode(d,{class:"w-full",modelValue:t.data.textDecorationColor,"onUpdate:modelValue":l[48]||(l[48]=y=>t.data.textDecorationColor=y),"show-primary-color-preview":!1,format:"CSS","color-modes":["monochrome"],clearable:"",onChange:l[49]||(l[49]=y=>a("textDecorationColor"))},null,8,["modelValue"])]),_:1}),i.createVNode(c,{label:"删除线",name:"textStrickout"},{default:i.withCtx(()=>[i.createVNode(g,{modelValue:t.data.textStrickout,"onUpdate:modelValue":l[50]||(l[50]=y=>t.data.textStrickout=y),onChange:l[51]||(l[51]=y=>a("textStrickout"))},null,8,["modelValue"])]),_:1}),i.createVNode(c,{label:"删除线颜色",name:"textStrickoutColor"},{default:i.withCtx(()=>[i.createVNode(d,{class:"w-full",modelValue:t.data.textStrickoutColor,"onUpdate:modelValue":l[52]||(l[52]=y=>t.data.textStrickoutColor=y),"show-primary-color-preview":!1,format:"CSS","color-modes":["monochrome"],clearable:"",onChange:l[53]||(l[53]=y=>a("textStrickoutColor"))},null,8,["modelValue"])]),_:1}),i.createVNode(c,{label:"文字水平对齐",name:"textAlign"},{default:i.withCtx(()=>[i.createVNode(f,{modelValue:t.data.textAlign,"onUpdate:modelValue":l[54]||(l[54]=y=>t.data.textAlign=y),onChange:l[55]||(l[55]=y=>a("textAlign"))},{default:i.withCtx(()=>[i.createVNode(u,{key:"left",value:"left",label:"左对齐"}),i.createVNode(u,{key:"center",value:"center",label:"居中"}),i.createVNode(u,{key:"right",value:"right",label:"右对齐"})]),_:1},8,["modelValue"])]),_:1}),i.createVNode(c,{label:"文字垂直对齐",name:"textBaseline"},{default:i.withCtx(()=>[i.createVNode(f,{modelValue:t.data.textBaseline,"onUpdate:modelValue":l[56]||(l[56]=y=>t.data.textBaseline=y),onChange:l[57]||(l[57]=y=>a("textBaseline"))},{default:i.withCtx(()=>[i.createVNode(u,{key:"top",value:"top",label:"顶部对齐"}),i.createVNode(u,{key:"middle",value:"middle",label:"居中"}),i.createVNode(u,{key:"bottom",value:"bottom",label:"底部对齐"})]),_:1},8,["modelValue"])]),_:1}),i.createVNode(h),i.createVNode(c,{label:"宽",name:"width"},{default:i.withCtx(()=>[i.createVNode(s,{modelValue:t.data.width,"onUpdate:modelValue":l[58]||(l[58]=y=>t.data.width=y),onChange:l[59]||(l[59]=y=>r("width"))},null,8,["modelValue"])]),_:1}),i.createVNode(c,{label:"高",name:"height"},{default:i.withCtx(()=>[i.createVNode(s,{modelValue:t.data.height,"onUpdate:modelValue":l[60]||(l[60]=y=>t.data.height=y),onChange:l[61]||(l[61]=y=>r("height"))},null,8,["modelValue"])]),_:1}),i.createVNode(c,{label:"旋转角度",name:"rotate"},{default:i.withCtx(()=>[i.createVNode(s,{modelValue:t.data.rotate,"onUpdate:modelValue":l[62]||(l[62]=y=>t.data.rotate=y),onChange:l[63]||(l[63]=y=>a("rotate"))},null,8,["modelValue"])]),_:1}),i.createVNode(h),i.createVNode(c,{label:"进度",name:"progress"},{default:i.withCtx(()=>[i.createVNode(s,{modelValue:t.data.progress,"onUpdate:modelValue":l[64]||(l[64]=y=>t.data.progress=y),step:.1,min:0,max:1,onChange:l[65]||(l[65]=y=>a("progress"))},null,8,["modelValue"])]),_:1}),i.createVNode(c,{label:"进度颜色",name:"progressColor"},{default:i.withCtx(()=>[i.createVNode(d,{class:"w-full",modelValue:t.data.progressColor,"onUpdate:modelValue":l[66]||(l[66]=y=>t.data.progressColor=y),"show-primary-color-preview":!1,format:"CSS","color-modes":["monochrome"],clearable:"",onChange:l[67]||(l[67]=y=>a("progressColor"))},null,8,["modelValue"])]),_:1}),i.createVNode(c,{label:"渐变颜色",name:"progressGradientColors"},{default:i.withCtx(()=>[i.createVNode(d,{class:"w-full",modelValue:t.data.progressGradientColors,"onUpdate:modelValue":l[68]||(l[68]=y=>t.data.progressGradientColors=y),"show-primary-color-preview":!1,clearable:"",format:"CSS","color-modes":["linear-gradient"],onChange:l[69]||(l[69]=y=>a("progressGradientColors"))},null,8,["modelValue"])]),_:1}),i.createVNode(c,{label:"垂直进度",name:"verticalProgress"},{default:i.withCtx(()=>[i.createVNode(g,{modelValue:t.data.verticalProgress,"onUpdate:modelValue":l[70]||(l[70]=y=>t.data.verticalProgress=y),onChange:l[71]||(l[71]=y=>a("verticalProgress"))},null,8,["modelValue"])]),_:1}),i.createVNode(c,{label:"反向进度",name:"reverseProgress"},{default:i.withCtx(()=>[i.createVNode(g,{modelValue:t.data.reverseProgress,"onUpdate:modelValue":l[72]||(l[72]=y=>t.data.reverseProgress=y),onChange:l[73]||(l[73]=y=>a("reverseProgress"))},null,8,["modelValue"])]),_:1}),i.createVNode(c,{label:"水平翻转",name:"flipX"},{default:i.withCtx(()=>[i.createVNode(g,{modelValue:t.data.flipX,"onUpdate:modelValue":l[74]||(l[74]=y=>t.data.flipX=y),onChange:l[75]||(l[75]=y=>a("flipX"))},null,8,["modelValue"])]),_:1}),i.createVNode(c,{label:"垂直翻转",name:"flipY"},{default:i.withCtx(()=>[i.createVNode(g,{modelValue:t.data.flipY,"onUpdate:modelValue":l[76]||(l[76]=y=>t.data.flipY=y),onChange:l[77]||(l[77]=y=>a("flipY"))},null,8,["modelValue"])]),_:1}),i.createVNode(h),t.data.penName=="combine"?(i.openBlock(),i.createBlock(c,{key:2,label:"状态",name:"status"},{default:i.withCtx(()=>[i.createVNode(f,{modelValue:t.data.showChild,"onUpdate:modelValue":l[78]||(l[78]=y=>t.data.showChild=y),onChange:l[79]||(l[79]=y=>a("showChild"))},{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(t.statusList,(y,b)=>(i.openBlock(),i.createBlock(u,{key:y.value,value:b,label:y.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1})):i.createCommentVNode("",!0)]),_:1})])}}}),[["__scopeId","data-v-af6e329a"]]),Cpe=i.defineComponent({__name:"EventEditor",props:{defaultEventsValue:{type:Array,default:()=>[]}},emits:["change"],setup(t,{emit:e}){const n=t,a=i.ref(n.defaultEventsValue),r=[{label:"单击",value:"click"},{label:"双击",value:"dblclick"},{label:"鼠标按下",value:"mousedown"},{label:"鼠标抬起",value:"mouseup"},{label:"鼠标进入",value:"enter"},{label:"鼠标离开",value:"leave"}],o=[{label:"打开链接",value:Ut.Link},{label:"更改属性",value:Ut.SetProps},{label:"执行动画",value:Ut.StartAnimate},{label:"暂停动画",value:Ut.PauseAnimate},{label:"停止动画",value:Ut.StopAnimate}],l=()=>{a.value.push({name:"",action:0,value:"",params:"",where:{}})},s=m=>{a.value=a.value.filter(y=>y!==m),d()},c=e,d=()=>{c("change",a.value)},u=[{label:"背景颜色",value:"background"},{label:"颜色",value:"color"},{label:"文字",value:"text"},{label:"进度",value:"progress"},{label:"显示",value:"visible"},{label:"状态",value:"showChild"}],f=i.ref([]),v=()=>{if(f.value.length>=6){ci.warning("最多只能添加6个属性");return}f.value.push({prop:"",value:""})},h=m=>{const y=f.value.indexOf(m);f.value.splice(y,1)},g=m=>{const y={};f.value.forEach(b=>{y[b.prop]=b.value}),m.value=y,c("change",a.value)},p=m=>{const y=a.value[Number(m)];y.value&&typeof y.value=="object"&&(f.value=Object.keys(y.value).map(b=>({prop:b,value:y.value[b]})))};return(m,y)=>{const b=i.resolveComponent("t-button"),w=i.resolveComponent("t-select"),C=i.resolveComponent("t-form-item"),x=i.resolveComponent("t-input"),k=i.resolveComponent("t-col"),P=i.resolveComponent("t-icon"),I=i.resolveComponent("t-row"),D=i.resolveComponent("t-form"),L=i.resolveComponent("t-collapse-panel"),O=i.resolveComponent("t-collapse");return i.openBlock(),i.createElementBlock(i.Fragment,null,[y[3]||(y[3]=i.createElementVNode("br",null,null,-1)),i.createVNode(b,{block:"",theme:"primary",onClick:l},{default:i.withCtx(()=>y[0]||(y[0]=[i.createTextVNode("添加事件")])),_:1}),i.createVNode(O,{class:"meta-collapse","expand-mutex":"",onChange:p},{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(a.value,S=>(i.openBlock(),i.createBlock(L,{header:"事件"},{headerRightContent:i.withCtx(()=>[i.createVNode(b,{size:"small",variant:"outline",theme:"danger",style:{marginLeft:"8px"},onClick:_=>s(S)},{default:i.withCtx(()=>[i.createVNode(P,{name:"delete"})]),_:2},1032,["onClick"])]),default:i.withCtx(()=>[i.createVNode(D,{labelAlign:"left"},{default:i.withCtx(()=>[i.createVNode(C,{label:"事件类型"},{default:i.withCtx(()=>[i.createVNode(w,{modelValue:S.name,"onUpdate:modelValue":_=>S.name=_,options:r,onChange:d},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),i.createVNode(C,{label:"事件行为"},{default:i.withCtx(()=>[i.createVNode(w,{modelValue:S.action,"onUpdate:modelValue":_=>S.action=_,options:o,onChange:d},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),S.action===i.unref(Ut).Link?(i.openBlock(),i.createBlock(C,{key:0,label:"链接地址"},{default:i.withCtx(()=>[i.createVNode(x,{modelValue:S.value,"onUpdate:modelValue":_=>S.value=_,clearable:"",onChange:d},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)):i.createCommentVNode("",!0),S.action===i.unref(Ut).SetProps?(i.openBlock(),i.createElementBlock(i.Fragment,{key:1},[i.createVNode(C,{label:"目标"},{default:i.withCtx(()=>[i.createVNode(x,{modelValue:S.params,"onUpdate:modelValue":_=>S.params=_,placeholder:"可输入目标图元的ID/Tag",clearable:"",onChange:d},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),i.createVNode(I,{justify:"start"},{default:i.withCtx(()=>[i.createVNode(k,{span:5},{default:i.withCtx(()=>y[1]||(y[1]=[i.createElementVNode("div",null,"属性",-1)])),_:1}),i.createVNode(k,{span:5},{default:i.withCtx(()=>y[2]||(y[2]=[i.createElementVNode("div",null,"值",-1)])),_:1}),i.createVNode(k,{span:2},{default:i.withCtx(()=>[i.createVNode(b,{variant:"text",onClick:v},{default:i.withCtx(()=>[i.createVNode(P,{name:"add"})]),_:1})]),_:1})]),_:1}),(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(f.value,(_,A)=>(i.openBlock(),i.createBlock(I,{key:A,justify:"start",gutter:4,style:{"margin-bottom":"4px"}},{default:i.withCtx(()=>[i.createVNode(k,{span:5},{default:i.withCtx(()=>[i.createVNode(w,{modelValue:_.prop,"onUpdate:modelValue":E=>_.prop=E,options:u,onChange:E=>g(S)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024),i.createVNode(k,{span:5},{default:i.withCtx(()=>[i.createVNode(x,{modelValue:_.value,"onUpdate:modelValue":E=>_.value=E,onChange:E=>g(S)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024),i.createVNode(k,{span:2},{default:i.withCtx(()=>[i.createVNode(b,{variant:"text",onClick:E=>h(_)},{default:i.withCtx(()=>[i.createVNode(P,{name:"delete"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))],64)):i.createCommentVNode("",!0),[i.unref(Ut).PauseAnimate,i.unref(Ut).StopAnimate,i.unref(Ut).StartAnimate].includes(S.action)?(i.openBlock(),i.createBlock(C,{key:2,label:"目标"},{default:i.withCtx(()=>[i.createVNode(x,{modelValue:S.value,"onUpdate:modelValue":_=>S.value=_,placeholder:"可输入目标图元的ID/Tag",clearable:"",onChange:d},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)):i.createCommentVNode("",!0)]),_:2},1024)]),_:2},1024))),256))]),_:1})],64)}}}),xpe={class:""},Spe={class:"props-panel"},Ope={class:"ml-16",style:{width:"50px","line-height":"30px"}},kpe={class:"props-panel"},Ppe={class:"props-panel"},_pe={class:"props-panel"},Ipe=Qn(i.defineComponent({__name:"PenProps",setup(t){const e=i.computed(()=>[{label:"图元",value:1,slot:"pen"},{label:"图片",value:2,slot:"image"},{label:"动效",value:3,slot:"animate"},{label:"结构",value:4,slot:"struct"},{label:"数据",value:5,slot:"data"},{label:"事件",value:6,slot:"event"}].filter(R=>R.slot=="image"?a.value.name==R.slot:!0)),{selections:n}=Xs(),a=i.ref(),r=i.ref(),o=i.ref(1),l=i.computed(()=>{var R;return((R=a.value)==null?void 0:R.name)=="line"});i.onMounted(()=>{o.value=1,s()});const s=()=>{a.value=n.pen||{},a.value.globalAlpha==null&&(a.value.globalAlpha=1),a.value.tags||(a.value.tags=[]),r.value=meta2d.getPenRect(a.value),o.value==2&&(["image"].includes(a.value.name)||(o.value=1))},c=i.computed(()=>{var R;return((R=a.value)==null?void 0:R.name)!="combine"?[]:a.value.children.map((N,F)=>({label:`状态${F+1}`,value:N}))}),d=(R=!1)=>{R?meta2d.startAnimate(a.value.id):meta2d.stopAnimate(a.value.id)},u=i.ref(!1),f=i.ref([]),v=()=>{f.value=fe(a.value.frames||[]),u.value=!0},h=()=>{console.log("custom frames: ",f.value),a.value.frames=fe(f.value),u.value=!1,i.nextTick(()=>{f.value=[]})},g=()=>{f.value.push({duration:100,globalAlpha:1,penName:a.value.name})},p=R=>{const N=f.value.indexOf(R);N>-1&&f.value.splice(N,1)},m=i.watch(()=>{var R;return(R=n.pen)==null?void 0:R.id},s),y=[void 0,[5,5]],b=R=>{const N={id:a.value.id};if(N[R]=a.value[R],R==="dash"&&(N.lineDash=y[N[R]]),R=="animateType"){console.log("animate type: ",N);const F=N.animateType,M=JN[F];N.frames=M}meta2d.setValue(N,{render:!0})},w=R=>{const N={id:a.value.id};N[R]=r.value[R],meta2d.setValue(N,{render:!0})},C=()=>{meta2d.top(),meta2d.render()},x=()=>{meta2d.bottom(),meta2d.render()},k=()=>{meta2d.up(),meta2d.render()},P=()=>{meta2d.down(),meta2d.render()};i.onUnmounted(()=>{m()});const I=i.ref(),{uploadValue:D,sizeLimit:L,headers:O}=Gd(),S=R=>{var N;console.log("upload success: ",R),R.response&&(a.value.image=R.response.url||((N=R.response.data)==null?void 0:N.fileurl),b("image"))},_=R=>{console.log("upload fail: ",R)},A=()=>{Ove(a.value.id).then(R=>{console.log("copy id: ",R),ci.success({content:"复制成功"})})},E=R=>{a.value.events=R};return(R,N)=>{const F=i.resolveComponent("t-color-picker"),M=i.resolveComponent("t-form-item"),$=i.resolveComponent("t-option"),W=i.resolveComponent("t-select"),H=i.resolveComponent("t-input-number"),K=i.resolveComponent("t-slider"),z=i.resolveComponent("t-divider"),B=i.resolveComponent("t-switch"),q=i.resolveComponent("t-input"),Y=i.resolveComponent("t-button"),X=i.resolveComponent("t-space"),T=i.resolveComponent("t-form"),j=i.resolveComponent("t-upload"),U=i.resolveComponent("t-tag"),J=i.resolveComponent("t-icon"),Z=i.resolveComponent("t-tag-input"),Q=i.resolveComponent("t-collapse-panel"),ee=i.resolveComponent("t-collapse"),ne=i.resolveComponent("t-drawer");return i.openBlock(),i.createElementBlock("div",xpe,[a.value?(i.openBlock(),i.createBlock(Zd,{key:0,tabs:e.value,defaultValue:o.value},i.createSlots({pen:i.withCtx(()=>[i.createElementVNode("div",Spe,[i.createVNode(T,{"label-align":"left"},{default:i.withCtx(()=>[i.createVNode(M,{label:"颜色",name:"color"},{default:i.withCtx(()=>[i.createVNode(F,{class:"w-full",modelValue:a.value.color,"onUpdate:modelValue":N[0]||(N[0]=V=>a.value.color=V),"show-primary-color-preview":!1,format:"CSS","color-modes":["monochrome"],clearable:"",onChange:N[1]||(N[1]=V=>b("color"))},null,8,["modelValue"])]),_:1}),i.createVNode(M,{label:"浮动颜色",name:"hoverColor"},{default:i.withCtx(()=>[i.createVNode(F,{class:"w-full",modelValue:a.value.hoverColor,"onUpdate:modelValue":N[2]||(N[2]=V=>a.value.hoverColor=V),"show-primary-color-preview":!1,format:"CSS","color-modes":["monochrome"],clearable:"",onChange:N[3]||(N[3]=V=>b("hoverColor"))},null,8,["modelValue"])]),_:1}),i.createVNode(M,{label:"选中颜色",name:"activeColor"},{default:i.withCtx(()=>[i.createVNode(F,{class:"w-full",modelValue:a.value.activeColor,"onUpdate:modelValue":N[4]||(N[4]=V=>a.value.activeColor=V),"show-primary-color-preview":!1,format:"CSS","color-modes":["monochrome"],clearable:"",onChange:N[5]||(N[5]=V=>b("activeColor"))},null,8,["modelValue"])]),_:1}),i.createVNode(M,{label:"背景",name:"background"},{default:i.withCtx(()=>[i.createVNode(F,{class:"w-full",modelValue:a.value.background,"onUpdate:modelValue":N[6]||(N[6]=V=>a.value.background=V),"show-primary-color-preview":!1,format:"CSS","color-modes":["monochrome"],clearable:"",onChange:N[7]||(N[7]=V=>b("background"))},null,8,["modelValue"])]),_:1}),i.createVNode(M,{label:"线条",name:"dash"},{default:i.withCtx(()=>[i.createVNode(W,{modelValue:a.value.dash,"onUpdate:modelValue":N[8]||(N[8]=V=>a.value.dash=V),onChange:N[9]||(N[9]=V=>b("dash"))},{default:i.withCtx(()=>[(i.openBlock(),i.createBlock($,{key:0,value:0,label:"实线"})),(i.openBlock(),i.createBlock($,{key:1,value:1,label:"虚线"}))]),_:1},8,["modelValue"])]),_:1}),i.createVNode(M,{label:"线条宽度",name:"lineWidth"},{default:i.withCtx(()=>[i.createVNode(H,{modelValue:a.value.lineWidth,"onUpdate:modelValue":N[10]||(N[10]=V=>a.value.lineWidth=V),onChange:N[11]||(N[11]=V=>b("lineWidth"))},null,8,["modelValue"])]),_:1}),i.createVNode(M,{label:"圆角",name:"borderRadius"},{default:i.withCtx(()=>[i.createVNode(H,{min:0,max:1,step:.01,modelValue:a.value.borderRadius,"onUpdate:modelValue":N[12]||(N[12]=V=>a.value.borderRadius=V),onChange:N[13]||(N[13]=V=>b("borderRadius"))},null,8,["modelValue"])]),_:1}),i.createVNode(M,{label:"不透明度",name:"globalAlpha"},{default:i.withCtx(()=>[i.createVNode(K,{modelValue:a.value.globalAlpha,"onUpdate:modelValue":N[14]||(N[14]=V=>a.value.globalAlpha=V),min:0,max:1,step:.01,onChange:N[15]||(N[15]=V=>b("globalAlpha"))},null,8,["modelValue"]),i.createElementVNode("span",Ope,i.toDisplayString(a.value.globalAlpha),1)]),_:1}),i.createVNode(M,{label:"阴影颜色",name:"shadowColor"},{default:i.withCtx(()=>[i.createVNode(F,{class:"w-full",modelValue:a.value.shadowColor,"onUpdate:modelValue":N[16]||(N[16]=V=>a.value.shadowColor=V),"show-primary-color-preview":!1,format:"CSS","color-modes":["monochrome"],clearable:"",onChange:N[17]||(N[17]=V=>b("shadowColor"))},null,8,["modelValue"])]),_:1}),i.createVNode(M,{label:"阴影模糊",name:"shadowBlur"},{default:i.withCtx(()=>[i.createVNode(H,{modelValue:a.value.shadowBlur,"onUpdate:modelValue":N[18]||(N[18]=V=>a.value.shadowBlur=V),min:0,onChange:N[19]||(N[19]=V=>b("shadowBlur"))},null,8,["modelValue"])]),_:1}),i.createVNode(M,{label:"阴影X偏移",name:"shadowOffsetX"},{default:i.withCtx(()=>[i.createVNode(H,{modelValue:a.value.shadowOffsetX,"onUpdate:modelValue":N[20]||(N[20]=V=>a.value.shadowOffsetX=V),onChange:N[21]||(N[21]=V=>b("shadowOffsetX"))},null,8,["modelValue"])]),_:1}),i.createVNode(M,{label:"阴影Y偏移",name:"shadowOffsetY"},{default:i.withCtx(()=>[i.createVNode(H,{modelValue:a.value.shadowOffsetY,"onUpdate:modelValue":N[22]||(N[22]=V=>a.value.shadowOffsetY=V),onChange:N[23]||(N[23]=V=>b("shadowOffsetY"))},null,8,["modelValue"])]),_:1}),i.createVNode(z),i.createVNode(M,{label:"文字阴影",name:"textHasShadow"},{default:i.withCtx(()=>[i.createVNode(B,{modelValue:a.value.textHasShadow,"onUpdate:modelValue":N[24]||(N[24]=V=>a.value.textHasShadow=V),onChange:N[25]||(N[25]=V=>b("textHasShadow"))},null,8,["modelValue"])]),_:1}),i.createVNode(M,{label:"文本",name:"text"},{default:i.withCtx(()=>[i.createVNode(q,{modelValue:a.value.text,"onUpdate:modelValue":N[26]||(N[26]=V=>a.value.text=V),clearable:"",onChange:N[27]||(N[27]=V=>b("text"))},null,8,["modelValue"])]),_:1}),i.createVNode(M,{label:"字体",name:"fontSize"},{default:i.withCtx(()=>[i.createVNode(H,{modelValue:a.value.fontSize,"onUpdate:modelValue":N[28]||(N[28]=V=>a.value.fontSize=V),onChange:N[29]||(N[29]=V=>b("fontSize"))},null,8,["modelValue"])]),_:1}),i.createVNode(M,{label:"文字颜色类型",name:"textType"},{default:i.withCtx(()=>[i.createVNode(W,{modelValue:a.value.textType,"onUpdate:modelValue":N[30]||(N[30]=V=>a.value.textType=V),onChange:N[31]||(N[31]=V=>b("textType"))},{default:i.withCtx(()=>[i.createVNode($,{key:"hex",value:0,label:"纯色"}),i.createVNode($,{key:"rgb",value:1,label:"线性渐变"}),i.createVNode($,{key:"rgba",value:2,label:"径向渐变"})]),_:1},8,["modelValue"])]),_:1}),[1,2].includes(a.value.textType)?(i.openBlock(),i.createBlock(M,{key:0,label:"文字渐变",name:"textGradientColors"},{default:i.withCtx(()=>[i.createVNode(F,{class:"w-full",modelValue:a.value.textGradientColors,"onUpdate:modelValue":N[32]||(N[32]=V=>a.value.textGradientColors=V),"show-primary-color-preview":!1,format:"CSS","color-modes":["linear-gradient"],clearable:"",onChange:N[33]||(N[33]=V=>b("textGradientColors"))},null,8,["modelValue"])]),_:1})):(i.openBlock(),i.createBlock(M,{key:1,label:"文字颜色",name:"textColor"},{default:i.withCtx(()=>[i.createVNode(F,{class:"w-full",modelValue:a.value.textColor,"onUpdate:modelValue":N[34]||(N[34]=V=>a.value.textColor=V),"show-primary-color-preview":!1,format:"CSS","color-modes":["monochrome"],clearable:"",onChange:N[35]||(N[35]=V=>b("textColor"))},null,8,["modelValue"])]),_:1})),i.createVNode(M,{label:"文本风格",name:"fontStyle"},{default:i.withCtx(()=>[i.createVNode(W,{modelValue:a.value.fontStyle,"onUpdate:modelValue":N[36]||(N[36]=V=>a.value.fontStyle=V),onChange:N[37]||(N[37]=V=>b("fontStyle"))},{default:i.withCtx(()=>[i.createVNode($,{key:"normal",value:"normal",label:"常规"}),i.createVNode($,{key:"italic",value:"italic",label:"斜体"})]),_:1},8,["modelValue"])]),_:1}),i.createVNode(M,{label:"文本粗细",name:"fontWeight"},{default:i.withCtx(()=>[i.createVNode(W,{modelValue:a.value.fontWeight,"onUpdate:modelValue":N[38]||(N[38]=V=>a.value.fontWeight=V),onChange:N[39]||(N[39]=V=>b("fontWeight"))},{default:i.withCtx(()=>[i.createVNode($,{key:"normal",value:"normal",label:"常规"}),i.createVNode($,{key:"bold",value:"bold",label:"加粗"}),i.createVNode($,{key:"lighter",value:"lighter",label:"更细"})]),_:1},8,["modelValue"])]),_:1}),i.createVNode(M,{label:"换行",name:"whiteSpace"},{default:i.withCtx(()=>[i.createVNode(W,{modelValue:a.value.whiteSpace,"onUpdate:modelValue":N[40]||(N[40]=V=>a.value.whiteSpace=V),onChange:N[41]||(N[41]=V=>b("whiteSpace"))},{default:i.withCtx(()=>[i.createVNode($,{key:"normal",value:"normal",label:"常规"}),i.createVNode($,{key:"nowrap",value:"nowrap",label:"不换行"}),i.createVNode($,{key:"pre-line",value:"pre-line",label:"换行符换行"}),i.createVNode($,{key:"break-all",value:"break-all",label:"永远换行"})]),_:1},8,["modelValue"])]),_:1}),i.createVNode(M,{label:"超出省略",name:"ellipsis"},{default:i.withCtx(()=>[i.createVNode(B,{modelValue:a.value.ellipsis,"onUpdate:modelValue":N[42]||(N[42]=V=>a.value.ellipsis=V),onChange:N[43]||(N[43]=V=>b("ellipsis"))},null,8,["modelValue"])]),_:1}),i.createVNode(M,{label:"下划线",name:"textDecoration"},{default:i.withCtx(()=>[i.createVNode(B,{modelValue:a.value.textDecoration,"onUpdate:modelValue":N[44]||(N[44]=V=>a.value.textDecoration=V),onChange:N[45]||(N[45]=V=>b("textDecoration"))},null,8,["modelValue"])]),_:1}),i.createVNode(M,{label:"下划线颜色",name:"textDecorationColor"},{default:i.withCtx(()=>[i.createVNode(F,{class:"w-full",modelValue:a.value.textDecorationColor,"onUpdate:modelValue":N[46]||(N[46]=V=>a.value.textDecorationColor=V),"show-primary-color-preview":!1,format:"CSS","color-modes":["monochrome"],clearable:"",onChange:N[47]||(N[47]=V=>b("textDecorationColor"))},null,8,["modelValue"])]),_:1}),i.createVNode(M,{label:"删除线",name:"textStrickout"},{default:i.withCtx(()=>[i.createVNode(B,{modelValue:a.value.textStrickout,"onUpdate:modelValue":N[48]||(N[48]=V=>a.value.textStrickout=V),onChange:N[49]||(N[49]=V=>b("textStrickout"))},null,8,["modelValue"])]),_:1}),i.createVNode(M,{label:"删除线颜色",name:"textStrickoutColor"},{default:i.withCtx(()=>[i.createVNode(F,{class:"w-full",modelValue:a.value.textStrickoutColor,"onUpdate:modelValue":N[50]||(N[50]=V=>a.value.textStrickoutColor=V),"show-primary-color-preview":!1,format:"CSS","color-modes":["monochrome"],clearable:"",onChange:N[51]||(N[51]=V=>b("textStrickoutColor"))},null,8,["modelValue"])]),_:1}),i.createVNode(M,{label:"文字水平对齐",name:"textAlign"},{default:i.withCtx(()=>[i.createVNode(W,{modelValue:a.value.textAlign,"onUpdate:modelValue":N[52]||(N[52]=V=>a.value.textAlign=V),onChange:N[53]||(N[53]=V=>b("textAlign"))},{default:i.withCtx(()=>[i.createVNode($,{key:"left",value:"left",label:"左对齐"}),i.createVNode($,{key:"center",value:"center",label:"居中"}),i.createVNode($,{key:"right",value:"right",label:"右对齐"})]),_:1},8,["modelValue"])]),_:1}),i.createVNode(M,{label:"文字垂直对齐",name:"textBaseline"},{default:i.withCtx(()=>[i.createVNode(W,{modelValue:a.value.textBaseline,"onUpdate:modelValue":N[54]||(N[54]=V=>a.value.textBaseline=V),onChange:N[55]||(N[55]=V=>b("textBaseline"))},{default:i.withCtx(()=>[i.createVNode($,{key:"top",value:"top",label:"顶部对齐"}),i.createVNode($,{key:"middle",value:"middle",label:"居中"}),i.createVNode($,{key:"bottom",value:"bottom",label:"底部对齐"})]),_:1},8,["modelValue"])]),_:1}),i.createVNode(z),i.createVNode(M,{label:"X",name:"x"},{default:i.withCtx(()=>[i.createVNode(H,{modelValue:r.value.x,"onUpdate:modelValue":N[56]||(N[56]=V=>r.value.x=V),onChange:N[57]||(N[57]=V=>w("x"))},null,8,["modelValue"])]),_:1}),i.createVNode(M,{label:"Y",name:"y"},{default:i.withCtx(()=>[i.createVNode(H,{modelValue:r.value.y,"onUpdate:modelValue":N[58]||(N[58]=V=>r.value.y=V),onChange:N[59]||(N[59]=V=>w("y"))},null,8,["modelValue"])]),_:1}),i.createVNode(M,{label:"宽",name:"width"},{default:i.withCtx(()=>[i.createVNode(H,{modelValue:r.value.width,"onUpdate:modelValue":N[60]||(N[60]=V=>r.value.width=V),onChange:N[61]||(N[61]=V=>w("width"))},null,8,["modelValue"])]),_:1}),i.createVNode(M,{label:"高",name:"height"},{default:i.withCtx(()=>[i.createVNode(H,{modelValue:r.value.height,"onUpdate:modelValue":N[62]||(N[62]=V=>r.value.height=V),onChange:N[63]||(N[63]=V=>w("height"))},null,8,["modelValue"])]),_:1}),i.createVNode(M,{label:"锁定宽高比",name:"ratio"},{default:i.withCtx(()=>[i.createVNode(B,{modelValue:a.value.ratio,"onUpdate:modelValue":N[64]||(N[64]=V=>a.value.ratio=V),onChange:N[65]||(N[65]=V=>b("ratio"))},null,8,["modelValue"])]),_:1}),i.createVNode(M,{label:"旋转角度",name:"rotate"},{default:i.withCtx(()=>[i.createVNode(H,{modelValue:a.value.rotate,"onUpdate:modelValue":N[66]||(N[66]=V=>a.value.rotate=V),onChange:N[67]||(N[67]=V=>b("rotate"))},null,8,["modelValue"])]),_:1}),i.createVNode(z),i.createVNode(M,{label:"进度",name:"progress"},{default:i.withCtx(()=>[i.createVNode(H,{modelValue:a.value.progress,"onUpdate:modelValue":N[68]||(N[68]=V=>a.value.progress=V),step:.1,min:0,max:1,onChange:N[69]||(N[69]=V=>b("progress"))},null,8,["modelValue"])]),_:1}),i.createVNode(M,{label:"进度颜色",name:"progressColor"},{default:i.withCtx(()=>[i.createVNode(F,{class:"w-full",modelValue:a.value.progressColor,"onUpdate:modelValue":N[70]||(N[70]=V=>a.value.progressColor=V),"show-primary-color-preview":!1,format:"CSS","color-modes":["monochrome"],clearable:"",onChange:N[71]||(N[71]=V=>b("progressColor"))},null,8,["modelValue"])]),_:1}),i.createVNode(M,{label:"渐变颜色",name:"progressGradientColors"},{default:i.withCtx(()=>[i.createVNode(F,{class:"w-full",modelValue:a.value.progressGradientColors,"onUpdate:modelValue":N[72]||(N[72]=V=>a.value.progressGradientColors=V),"show-primary-color-preview":!1,clearable:"",format:"CSS","color-modes":["linear-gradient"],onChange:N[73]||(N[73]=V=>b("progressGradientColors"))},null,8,["modelValue"])]),_:1}),i.createVNode(M,{label:"垂直进度",name:"verticalProgress"},{default:i.withCtx(()=>[i.createVNode(B,{modelValue:a.value.verticalProgress,"onUpdate:modelValue":N[74]||(N[74]=V=>a.value.verticalProgress=V),onChange:N[75]||(N[75]=V=>b("verticalProgress"))},null,8,["modelValue"])]),_:1}),i.createVNode(M,{label:"反向进度",name:"reverseProgress"},{default:i.withCtx(()=>[i.createVNode(B,{modelValue:a.value.reverseProgress,"onUpdate:modelValue":N[76]||(N[76]=V=>a.value.reverseProgress=V),onChange:N[77]||(N[77]=V=>b("reverseProgress"))},null,8,["modelValue"])]),_:1}),i.createVNode(M,{label:"水平翻转",name:"flipX"},{default:i.withCtx(()=>[i.createVNode(B,{modelValue:a.value.flipX,"onUpdate:modelValue":N[78]||(N[78]=V=>a.value.flipX=V),onChange:N[79]||(N[79]=V=>b("flipX"))},null,8,["modelValue"])]),_:1}),i.createVNode(M,{label:"垂直翻转",name:"flipY"},{default:i.withCtx(()=>[i.createVNode(B,{modelValue:a.value.flipY,"onUpdate:modelValue":N[80]||(N[80]=V=>a.value.flipY=V),onChange:N[81]||(N[81]=V=>b("flipY"))},null,8,["modelValue"])]),_:1}),i.createVNode(z),a.value.name=="combine"&&a.value.showChild!=null?(i.openBlock(),i.createElementBlock(i.Fragment,{key:2},[i.createVNode(M,{label:"状态",name:"status"},{default:i.withCtx(()=>[i.createVNode(W,{modelValue:a.value.showChild,"onUpdate:modelValue":N[82]||(N[82]=V=>a.value.showChild=V),onChange:N[83]||(N[83]=V=>b("showChild"))},{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(c.value,(V,re)=>(i.openBlock(),i.createBlock($,{key:V.value,value:re,label:V.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),i.createVNode(z)],64)):i.createCommentVNode("",!0),i.createVNode(X,{size:"4px"},{default:i.withCtx(()=>[i.createVNode(Y,{onClick:C},{default:i.withCtx(()=>N[114]||(N[114]=[i.createTextVNode("置顶")])),_:1}),i.createVNode(Y,{onClick:x},{default:i.withCtx(()=>N[115]||(N[115]=[i.createTextVNode("置底")])),_:1}),i.createVNode(Y,{onClick:k},{default:i.withCtx(()=>N[116]||(N[116]=[i.createTextVNode("上一层")])),_:1}),i.createVNode(Y,{onClick:P},{default:i.withCtx(()=>N[117]||(N[117]=[i.createTextVNode("下一层")])),_:1})]),_:1})]),_:1})])]),animate:i.withCtx(()=>[i.createElementVNode("div",Ppe,[i.createVNode(T,{"label-align":"left"},{default:i.withCtx(()=>[l.value?(i.openBlock(),i.createElementBlock(i.Fragment,{key:0},[i.createVNode(M,{label:"动画效果",name:"lineAnimateType"},{default:i.withCtx(()=>[i.createVNode(W,{modelValue:a.value.lineAnimateType,"onUpdate:modelValue":N[89]||(N[89]=V=>a.value.lineAnimateType=V),clearable:"",onChange:N[90]||(N[90]=V=>b("lineAnimateType"))},{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(i.unref(XN),V=>(i.openBlock(),i.createBlock($,{key:V.value,value:V.value,label:V.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),i.createVNode(M,{label:"反向流动",name:"reverse"},{default:i.withCtx(()=>[i.createVNode(B,{modelValue:a.value.animateReverse,"onUpdate:modelValue":N[91]||(N[91]=V=>a.value.animateReverse=V),onChange:N[92]||(N[92]=V=>b("animateReverse"))},null,8,["modelValue"])]),_:1}),i.createVNode(M,{label:"线宽",name:"animateLineWidth"},{default:i.withCtx(()=>[i.createVNode(H,{modelValue:a.value.animateLineWidth,"onUpdate:modelValue":N[93]||(N[93]=V=>a.value.animateLineWidth=V),onChange:N[94]||(N[94]=V=>b("animateLineWidth"))},null,8,["modelValue"])]),_:1}),i.createVNode(M,{label:"速度",name:"animateSpan"},{default:i.withCtx(()=>[i.createVNode(H,{modelValue:a.value.animateSpan,"onUpdate:modelValue":N[95]||(N[95]=V=>a.value.animateSpan=V),min:1,max:5,onChange:N[96]||(N[96]=V=>b("animateSpan"))},null,8,["modelValue"])]),_:1}),i.createVNode(M,{label:"颜色",name:"color"},{default:i.withCtx(()=>[i.createVNode(F,{class:"w-full",modelValue:a.value.animateColor,"onUpdate:modelValue":N[97]||(N[97]=V=>a.value.animateColor=V),"show-primary-color-preview":!1,format:"CSS","color-modes":["monochrome"],onChange:N[98]||(N[98]=V=>b("animateColor"))},null,8,["modelValue"])]),_:1}),i.createVNode(M,{label:"动画发光",name:"animateShadow"},{default:i.withCtx(()=>[i.createVNode(B,{modelValue:a.value.animateShadow,"onUpdate:modelValue":N[99]||(N[99]=V=>a.value.animateShadow=V),onChange:N[100]||(N[100]=V=>b("animateShadow"))},null,8,["modelValue"])]),_:1}),i.createVNode(M,{label:"发光颜色",name:"animateShadowColor"},{default:i.withCtx(()=>[i.createVNode(F,{class:"w-full",modelValue:a.value.animateShadowColor,"onUpdate:modelValue":N[101]||(N[101]=V=>a.value.animateShadowColor=V),"show-primary-color-preview":!1,format:"CSS","color-modes":["monochrome"],onChange:N[102]||(N[102]=V=>b("animateShadowColor"))},null,8,["modelValue"])]),_:1})],64)):(i.openBlock(),i.createElementBlock(i.Fragment,{key:1},[i.createVNode(M,{label:"动画效果",name:"animateType"},{default:i.withCtx(()=>[i.createVNode(W,{modelValue:a.value.animateType,"onUpdate:modelValue":N[103]||(N[103]=V=>a.value.animateType=V),clearable:"",onChange:N[104]||(N[104]=V=>b("animateType"))},{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(i.unref(GN),V=>(i.openBlock(),i.createBlock($,{key:V.value,value:V.value,label:V.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),a.value.animateType=="x-custom"?(i.openBlock(),i.createBlock(M,{key:0,label:"自定义动画帧"},{default:i.withCtx(()=>[i.createVNode(Y,{variant:"text",theme:"primary",onClick:v},{default:i.withCtx(()=>N[118]||(N[118]=[i.createTextVNode("编辑 ")])),_:1})]),_:1})):i.createCommentVNode("",!0)],64)),i.createVNode(M,{label:"自动播放",name:"autoPlay"},{default:i.withCtx(()=>[i.createVNode(B,{modelValue:a.value.autoPlay,"onUpdate:modelValue":N[105]||(N[105]=V=>a.value.autoPlay=V),onChange:N[106]||(N[106]=V=>b("autoPlay"))},null,8,["modelValue"])]),_:1}),i.createVNode(z),i.createVNode(X,null,{default:i.withCtx(()=>[i.createVNode(Y,{onClick:N[107]||(N[107]=V=>d(!0))},{default:i.withCtx(()=>N[119]||(N[119]=[i.createTextVNode("播放")])),_:1}),i.createVNode(Y,{onClick:N[108]||(N[108]=V=>d())},{default:i.withCtx(()=>N[120]||(N[120]=[i.createTextVNode("停止")])),_:1})]),_:1})]),_:1})])]),struct:i.withCtx(()=>[i.renderSlot(R.$slots,"struct",{pen:a.value},void 0,!0)]),data:i.withCtx(()=>[i.createElementVNode("div",_pe,[i.createVNode(T,{"label-align":"left"},{default:i.withCtx(()=>[i.createVNode(M,{label:"ID",name:"data"},{default:i.withCtx(()=>[i.createVNode(U,{maxWidth:"100%",style:{flex:"1",width:"0"}},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(a.value.id),1)]),_:1}),i.createVNode(Y,{theme:"primary",variant:"text",style:{"margin-left":"10px"},onClick:A},{default:i.withCtx(()=>[i.createVNode(J,{name:"copy"})]),_:1})]),_:1}),i.createVNode(M,{label:"描述",name:"description"},{default:i.withCtx(()=>[i.createVNode(q,{modelValue:a.value.description,"onUpdate:modelValue":N[109]||(N[109]=V=>a.value.description=V),maxlength:"50",clearable:"",onChange:N[110]||(N[110]=V=>b("description"))},null,8,["modelValue"])]),_:1}),i.createVNode(M,{label:"标签",name:"tags"},{default:i.withCtx(()=>[i.createVNode(Z,{modelValue:a.value.tags,"onUpdate:modelValue":N[111]||(N[111]=V=>a.value.tags=V),clearable:"",placeholder:"按回车添加标签，最多10个",max:10,onChange:N[112]||(N[112]=V=>b("tags"))},null,8,["modelValue"])]),_:1})]),_:1})])]),event:i.withCtx(()=>[i.createVNode(Cpe,{defaultEventsValue:a.value.events,onChange:E},null,8,["defaultEventsValue"])]),_:2},[["image"].includes(a.value.name)?{name:"image",fn:i.withCtx(()=>[i.createElementVNode("div",kpe,[i.createVNode(T,{"label-align":"left"},{default:i.withCtx(()=>[i.createVNode(M,{label:"图片上传",name:"image"},{default:i.withCtx(()=>[i.createVNode(j,{ref_key:"uploadRef",ref:I,modelValue:i.unref(D),"onUpdate:modelValue":N[84]||(N[84]=V=>i.isRef(D)?D.value=V:null),action:R.$attrs.uploadUrl||"https://service-bv448zsw-1257786608.gz.apigw.tencentcs.com/api/upload-demo",headers:i.unref(O),name:"object",sizeLimit:i.unref(L),theme:"image",tips:"请选择单张小于1MB的图片上传",accept:"image/*",onFail:_,onSuccess:S},null,8,["modelValue","action","headers","sizeLimit"])]),_:1}),i.createVNode(M,{label:"图片地址",name:"image"},{default:i.withCtx(()=>[i.createVNode(q,{modelValue:a.value.image,"onUpdate:modelValue":N[85]||(N[85]=V=>a.value.image=V),clearable:"",onChange:N[86]||(N[86]=V=>b("image"))},null,8,["modelValue"])]),_:1}),i.createVNode(M,{label:"保持比例",name:"imageRatio"},{default:i.withCtx(()=>[i.createVNode(B,{modelValue:a.value.imageRatio,"onUpdate:modelValue":N[87]||(N[87]=V=>a.value.imageRatio=V),onChange:N[88]||(N[88]=V=>b("imageRatio"))},null,8,["modelValue"])]),_:1})]),_:1})])]),key:"0"}:void 0]),1032,["tabs","defaultValue"])):i.createCommentVNode("",!0),i.createVNode(ne,{visible:u.value,"onUpdate:visible":N[113]||(N[113]=V=>u.value=V),header:"自定义动画帧",size:"20%",onConfirm:h},{default:i.withCtx(()=>[i.createVNode(Y,{block:"",theme:"primary",onClick:g},{default:i.withCtx(()=>N[121]||(N[121]=[i.createTextVNode("新增动画帧")])),_:1}),i.createVNode(ee,{class:"meta-collapse","expand-mutex":""},{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(f.value,V=>(i.openBlock(),i.createBlock(Q,{header:"动画帧"},{headerRightContent:i.withCtx(()=>[i.createVNode(Y,{size:"small",variant:"outline",theme:"danger",style:{marginLeft:"8px"},onClick:re=>p(V)},{default:i.withCtx(()=>[i.createVNode(J,{name:"delete"})]),_:2},1032,["onClick"])]),default:i.withCtx(()=>[i.createVNode(ZN,{data:V,statusList:c.value},null,8,["data","statusList"])]),_:2},1024))),256))]),_:1})]),_:1},8,["visible"])])}}}),[["__scopeId","data-v-300b090d"]]),Npe={class:"props-panel"},Tpe={class:"ml-16",style:{width:"50px","line-height":"30px"}},Epe={class:"props-panel"},Ape=Qn(i.defineComponent({__name:"PensProps",setup(t){const e=[{label:"图元组",value:1,slot:"pen-props"},{label:"结构",value:2,slot:"struct-props"},{label:"动效",value:3,slot:"animation-props"}],{selections:n}=Xs(),a=i.ref({globalAlpha:1}),r=i.ref();i.onMounted(()=>{o()});const o=()=>{r.value=meta2d.getPenRect(a.value)},l=i.computed(()=>{var k;return(k=n.pens)==null?void 0:k.every(P=>P.type===1)}),s=i.computed(()=>{var k;return(k=n.pens)==null?void 0:k.every(P=>!P.type)}),c=i.computed(()=>{var k;return((k=n.pens)==null?void 0:k.length)||0}),d=i.watch(()=>n.pens,o),u=[void 0,[5,5]],f=k=>{var P;if((P=n.pens)!=null&&P.length){const I=a.value[k];n.pens.forEach(D=>{const L={id:D.id};if(L[k]=I,k==="dash")L.lineDash=u[L[k]];else if(k=="animateType"){const O=L.animateType,S=JN[O];L.frames=S}meta2d.setValue(L,{render:!1})}),meta2d.render()}},v=(k=!1)=>{var P;(P=n.pens)==null||P.forEach(I=>{k?meta2d.startAnimate(I.id):meta2d.stopAnimate(I.id)})},h=[{label:"左对齐",value:"left",icon:"format-vertical-align-left"},{label:"右对齐",value:"right",icon:"format-vertical-align-right"},{label:"顶部对齐",value:"top",icon:"format-horizontal-align-top"},{label:"底部对齐",value:"bottom",icon:"format-horizontal-align-bottom"},{label:"垂直居中",value:"center",icon:"format-vertical-align-center"},{label:"水平居中",value:"middle",icon:"format-horizontal-align-center"}],g=k=>{const P=n.pens;P!=null&&P.length&&meta2d.alignNodes(k.value,P)};i.onUnmounted(()=>{d()});const p=i.ref(!1),m=i.ref([]),y=()=>{m.value=fe(a.value.frames||[]),p.value=!0},b=()=>{a.value.frames=fe(m.value),f("frames"),p.value=!1,i.nextTick(()=>{m.value=[]})},w=()=>{m.value.push({duration:100,globalAlpha:1})},C=k=>{const P=m.value.indexOf(k);P>-1&&m.value.splice(P,1)},x=()=>{meta2d.inactive()};return(k,P)=>{const I=i.resolveComponent("t-input"),D=i.resolveComponent("t-form-item"),L=i.resolveComponent("t-color-picker"),O=i.resolveComponent("t-option"),S=i.resolveComponent("t-select"),_=i.resolveComponent("t-input-number"),A=i.resolveComponent("t-slider"),E=i.resolveComponent("t-divider"),R=i.resolveComponent("t-icon"),N=i.resolveComponent("t-button"),F=i.resolveComponent("t-collapse-panel"),M=i.resolveComponent("t-collapse"),$=i.resolveComponent("t-tooltip"),W=i.resolveComponent("t-space"),H=i.resolveComponent("t-form"),K=i.resolveComponent("t-alert"),z=i.resolveComponent("t-switch"),B=i.resolveComponent("t-statistic"),q=i.resolveComponent("t-drawer");return i.openBlock(),i.createBlock(Zd,{tabs:e},{"pen-props":i.withCtx(()=>[i.createElementVNode("div",Npe,[a.value?(i.openBlock(),i.createBlock(H,{key:0,"label-align":"left"},{default:i.withCtx(()=>[i.createVNode(D,{label:"文本",name:"text"},{default:i.withCtx(()=>[i.createVNode(I,{modelValue:a.value.text,"onUpdate:modelValue":P[0]||(P[0]=Y=>a.value.text=Y),onChange:P[1]||(P[1]=Y=>f("text"))},null,8,["modelValue"])]),_:1}),i.createVNode(D,{label:"颜色",name:"color"},{default:i.withCtx(()=>[i.createVNode(L,{class:"w-full",modelValue:a.value.color,"onUpdate:modelValue":P[2]||(P[2]=Y=>a.value.color=Y),"show-primary-color-preview":!1,format:"CSS","color-modes":["monochrome"],onChange:P[3]||(P[3]=Y=>f("color"))},null,8,["modelValue"])]),_:1}),i.createVNode(D,{label:"背景",name:"background"},{default:i.withCtx(()=>[i.createVNode(L,{class:"w-full",modelValue:a.value.background,"onUpdate:modelValue":P[4]||(P[4]=Y=>a.value.background=Y),"show-primary-color-preview":!1,format:"CSS","color-modes":["monochrome"],onChange:P[5]||(P[5]=Y=>f("background"))},null,8,["modelValue"])]),_:1}),i.createVNode(D,{label:"线条",name:"dash"},{default:i.withCtx(()=>[i.createVNode(S,{modelValue:a.value.dash,"onUpdate:modelValue":P[6]||(P[6]=Y=>a.value.dash=Y),onChange:P[7]||(P[7]=Y=>f("dash"))},{default:i.withCtx(()=>[(i.openBlock(),i.createBlock(O,{key:0,value:0,label:"实线"})),(i.openBlock(),i.createBlock(O,{key:1,value:1,label:"虚线"}))]),_:1},8,["modelValue"])]),_:1}),i.createVNode(D,{label:"线条宽度",name:"lineWidth"},{default:i.withCtx(()=>[i.createVNode(_,{modelValue:a.value.lineWidth,"onUpdate:modelValue":P[8]||(P[8]=Y=>a.value.lineWidth=Y),onChange:P[9]||(P[9]=Y=>f("lineWidth"))},null,8,["modelValue"])]),_:1}),i.createVNode(D,{label:"圆角",name:"borderRadius"},{default:i.withCtx(()=>[i.createVNode(_,{min:0,max:1,step:.01,modelValue:a.value.borderRadius,"onUpdate:modelValue":P[10]||(P[10]=Y=>a.value.borderRadius=Y),onChange:P[11]||(P[11]=Y=>f("borderRadius"))},null,8,["modelValue"])]),_:1}),i.createVNode(D,{label:"不透明度",name:"globalAlpha"},{default:i.withCtx(()=>[i.createVNode(A,{modelValue:a.value.globalAlpha,"onUpdate:modelValue":P[12]||(P[12]=Y=>a.value.globalAlpha=Y),min:0,max:1,step:.01,onChange:P[13]||(P[13]=Y=>f("globalAlpha"))},null,8,["modelValue"]),i.createElementVNode("span",Tpe,i.toDisplayString(a.value.globalAlpha),1)]),_:1}),i.createVNode(E),i.createVNode(D,{label:"文字水平对齐",name:"textAlign"},{default:i.withCtx(()=>[i.createVNode(S,{modelValue:a.value.textAlign,"onUpdate:modelValue":P[14]||(P[14]=Y=>a.value.textAlign=Y),onChange:P[15]||(P[15]=Y=>f("textAlign"))},{default:i.withCtx(()=>[i.createVNode(O,{key:"left",value:"left",label:"左对齐"}),i.createVNode(O,{key:"center",value:"center",label:"居中"}),i.createVNode(O,{key:"right",value:"right",label:"右对齐"})]),_:1},8,["modelValue"])]),_:1}),i.createVNode(D,{label:"文字垂直对齐",name:"textBaseline"},{default:i.withCtx(()=>[i.createVNode(S,{modelValue:a.value.textBaseline,"onUpdate:modelValue":P[16]||(P[16]=Y=>a.value.textBaseline=Y),onChange:P[17]||(P[17]=Y=>f("textBaseline"))},{default:i.withCtx(()=>[i.createVNode(O,{key:"top",value:"top",label:"顶部对齐"}),i.createVNode(O,{key:"middle",value:"middle",label:"居中"}),i.createVNode(O,{key:"bottom",value:"bottom",label:"底部对齐"})]),_:1},8,["modelValue"])]),_:1}),i.createVNode(E),i.createVNode(M,{"expand-icon":"",borderless:"",defaultExpandAll:""},{default:i.withCtx(()=>[i.createVNode(F,{value:"0",header:"对齐"},{default:i.withCtx(()=>[(i.openBlock(),i.createElementBlock(i.Fragment,null,i.renderList(h,(Y,X)=>i.createVNode(N,{key:X,shape:"square",variant:"outline",style:{"margin-right":"4px"},onClick:T=>g(Y)},{default:i.withCtx(()=>[i.createVNode(R,{name:Y.icon},null,8,["name"])]),_:2},1032,["onClick"])),64))]),_:1})]),_:1}),i.createVNode(E),i.createVNode(W,null,{default:i.withCtx(()=>[i.createVNode($,{content:"清空高亮图元"},{default:i.withCtx(()=>[i.createVNode(N,{onClick:x},{default:i.withCtx(()=>P[39]||(P[39]=[i.createTextVNode("取消选中")])),_:1})]),_:1})]),_:1})]),_:1})):i.createCommentVNode("",!0)])]),"struct-props":i.withCtx(()=>[i.renderSlot(k.$slots,"struct",{pen:a.value},void 0,!0)]),"animation-props":i.withCtx(()=>[i.createElementVNode("div",Epe,[l.value||s.value?(i.openBlock(),i.createBlock(H,{key:0,"label-width":"80px","label-align":"left"},{default:i.withCtx(()=>[i.createVNode(W,{style:{width:"100%"}},{default:i.withCtx(()=>[i.createVNode(K,{theme:"warning",title:"批量修改所有图元的动画",message:"执行了操作后才会修改"})]),_:1}),i.createVNode(E),s.value?(i.openBlock(),i.createElementBlock(i.Fragment,{key:0},[i.createVNode(D,{label:"动画效果",name:"animateType"},{default:i.withCtx(()=>[i.createVNode(S,{modelValue:a.value.animateType,"onUpdate:modelValue":P[18]||(P[18]=Y=>a.value.animateType=Y),clearable:"",onChange:P[19]||(P[19]=Y=>f("animateType"))},{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(i.unref(GN),Y=>(i.openBlock(),i.createBlock(O,{key:Y.value,value:Y.value,label:Y.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),a.value.animateType=="x-custom"?(i.openBlock(),i.createBlock(D,{key:0,label:"自定义动画帧"},{default:i.withCtx(()=>[i.createVNode(N,{variant:"text",theme:"primary",onClick:y},{default:i.withCtx(()=>P[40]||(P[40]=[i.createTextVNode("编辑 ")])),_:1})]),_:1})):i.createCommentVNode("",!0)],64)):l.value?(i.openBlock(),i.createElementBlock(i.Fragment,{key:1},[i.createVNode(D,{label:"动画效果",name:"lineAnimateType"},{default:i.withCtx(()=>[i.createVNode(S,{modelValue:a.value.lineAnimateType,"onUpdate:modelValue":P[20]||(P[20]=Y=>a.value.lineAnimateType=Y),clearable:"",onChange:P[21]||(P[21]=Y=>f("lineAnimateType"))},{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(i.unref(XN),Y=>(i.openBlock(),i.createBlock(O,{key:Y.value,value:Y.value,label:Y.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),i.createVNode(D,{label:"反向流动",name:"reverse"},{default:i.withCtx(()=>[i.createVNode(z,{modelValue:a.value.animateReverse,"onUpdate:modelValue":P[22]||(P[22]=Y=>a.value.animateReverse=Y),onChange:P[23]||(P[23]=Y=>f("animateReverse"))},null,8,["modelValue"])]),_:1}),i.createVNode(D,{label:"线宽",name:"animateLineWidth"},{default:i.withCtx(()=>[i.createVNode(_,{modelValue:a.value.animateLineWidth,"onUpdate:modelValue":P[24]||(P[24]=Y=>a.value.animateLineWidth=Y),onChange:P[25]||(P[25]=Y=>f("animateLineWidth"))},null,8,["modelValue"])]),_:1}),i.createVNode(D,{label:"速度",name:"animateSpan"},{default:i.withCtx(()=>[i.createVNode(_,{modelValue:a.value.animateSpan,"onUpdate:modelValue":P[26]||(P[26]=Y=>a.value.animateSpan=Y),min:1,max:5,onChange:P[27]||(P[27]=Y=>f("animateSpan"))},null,8,["modelValue"])]),_:1}),i.createVNode(D,{label:"颜色",name:"color"},{default:i.withCtx(()=>[i.createVNode(L,{class:"w-full",modelValue:a.value.animateColor,"onUpdate:modelValue":P[28]||(P[28]=Y=>a.value.animateColor=Y),"show-primary-color-preview":!1,format:"CSS","color-modes":["monochrome"],onChange:P[29]||(P[29]=Y=>f("animateColor"))},null,8,["modelValue"])]),_:1}),i.createVNode(D,{label:"动画发光",name:"animateShadow"},{default:i.withCtx(()=>[i.createVNode(z,{modelValue:a.value.animateShadow,"onUpdate:modelValue":P[30]||(P[30]=Y=>a.value.animateShadow=Y),onChange:P[31]||(P[31]=Y=>f("animateShadow"))},null,8,["modelValue"])]),_:1}),i.createVNode(D,{label:"发光颜色",name:"animateShadowColor"},{default:i.withCtx(()=>[i.createVNode(L,{class:"w-full",modelValue:a.value.animateShadowColor,"onUpdate:modelValue":P[32]||(P[32]=Y=>a.value.animateShadowColor=Y),"show-primary-color-preview":!1,format:"CSS","color-modes":["monochrome"],onChange:P[33]||(P[33]=Y=>f("animateShadowColor"))},null,8,["modelValue"])]),_:1})],64)):i.createCommentVNode("",!0),i.createVNode(D,{label:"自动播放",name:"autoPlay"},{default:i.withCtx(()=>[i.createVNode(z,{modelValue:a.value.autoPlay,"onUpdate:modelValue":P[34]||(P[34]=Y=>a.value.autoPlay=Y),onChange:P[35]||(P[35]=Y=>f("autoPlay"))},null,8,["modelValue"])]),_:1}),i.createVNode(E),i.createElementVNode("div",null,[i.createVNode(B,{title:"图元总数",value:c.value,trend:"increase",color:"orange"},null,8,["value"])]),i.createVNode(W,null,{default:i.withCtx(()=>[i.createVNode($,{content:"对大量图元执行动画时存在性能问题，请谨慎操作"},{default:i.withCtx(()=>[i.createVNode(N,{onClick:P[36]||(P[36]=Y=>v(!0))},{default:i.withCtx(()=>P[41]||(P[41]=[i.createTextVNode("播放")])),_:1})]),_:1}),i.createVNode($,{content:""},{default:i.withCtx(()=>[i.createVNode(N,{onClick:P[37]||(P[37]=Y=>v())},{default:i.withCtx(()=>P[42]||(P[42]=[i.createTextVNode("停止")])),_:1})]),_:1})]),_:1})]),_:1})):(i.openBlock(),i.createBlock(K,{key:1,theme:"error"},{default:i.withCtx(()=>P[43]||(P[43]=[i.createTextVNode(" 只能对同一类型的图元批量设置动画 ")])),_:1})),i.createVNode(q,{visible:p.value,"onUpdate:visible":P[38]||(P[38]=Y=>p.value=Y),header:"自定义动画帧",size:"20%",onConfirm:b},{default:i.withCtx(()=>[i.createVNode(N,{block:"",theme:"primary",onClick:w},{default:i.withCtx(()=>P[44]||(P[44]=[i.createTextVNode("新增动画帧")])),_:1}),i.createVNode(M,{class:"meta-collapse","expand-mutex":""},{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(m.value,Y=>(i.openBlock(),i.createBlock(F,{header:"动画帧"},{headerRightContent:i.withCtx(()=>[i.createVNode(N,{size:"small",variant:"outline",theme:"danger",style:{marginLeft:"8px"},onClick:X=>C(Y)},{default:i.withCtx(()=>[i.createVNode(R,{name:"delete"})]),_:2},1032,["onClick"])]),default:i.withCtx(()=>[i.createVNode(ZN,{data:Y},null,8,["data"])]),_:2},1024))),256))]),_:1})]),_:1},8,["visible"])])]),_:3})}}}),[["__scopeId","data-v-86a3cc64"]]),Rpe=["onClick"],Dpe={class:"tdesign-demo-block-row"},op=i.defineComponent({__name:"Structure",props:{},setup(t){let e=i.ref(meta2d.data());const n=i.computed(()=>{const s=e.value.pens;return s.filter(c=>{if(!c.parentId){if(c.children){const d=[];c.children.forEach(u=>{const f=s.find(v=>v.id===u);f&&d.push(f)}),c.list=d}return!0}})}),a=()=>{e.value=meta2d.data()};i.onMounted(()=>{meta2d.on("add",a),meta2d.on("delete",a),meta2d.on("clear",a)}),i.onUnmounted(()=>{meta2d.off("add",a),meta2d.off("delete",a)});const r=(s,c)=>{const d={1:"git-commit",combine:"folder",image:"image"},u=d[c.data.type]||d[c.data.name]||"rectangle";return s(Uf,{name:u})},o=s=>{s.data.visible=s.data.visible===!1,s.setData(s.data),meta2d.setValue({id:s.data.id,visible:s.data.visible})},l=s=>{const c=meta2d.findOne(s.data.id);c&&(meta2d.active([c]),meta2d.render(),meta2d.gotoView(c))};return(s,c)=>{const d=i.resolveComponent("t-icon"),u=i.resolveComponent("t-tree");return i.openBlock(),i.createBlock(u,{hover:"",line:"","expand-all":"",data:n.value,keys:{label:"name",value:"id",children:"list"},icon:r,scroll:{rowHeight:34,bufferSize:30,threshold:50,type:"virtual"},style:{padding:"10px",height:"100%"}},{label:i.withCtx(({node:f})=>[i.createElementVNode("span",{onClick:v=>l(f)},i.toDisplayString(f.label)+" - "+i.toDisplayString(f.data.text||f.data.description||f.value),9,Rpe)]),operations:i.withCtx(({node:f})=>[i.createElementVNode("div",Dpe,[i.createVNode(d,{name:f.data.visible!==!1?"browse":"browse-off",onClick:v=>o(f)},null,8,["name","onClick"])])]),_:1},8,["data"])}}}),jpe={key:0,class:"app-props"},Mpe=Qn(i.defineComponent({__name:"Props",setup(t){const{selections:e}=Xs(),n=i.computed(()=>[Ki.File,Ki.Pen,Ki.Pens].includes(e.mode));return(a,r)=>n.value?(i.openBlock(),i.createElementBlock("div",jpe,[i.withDirectives(i.createVNode(upe,i.mergeProps({key:"file",class:"props__file"},a.$attrs),{struct:i.withCtx(()=>[i.createVNode(op,i.normalizeProps(i.guardReactiveProps(a.$attrs)),null,16)]),_:1},16),[[i.vShow,i.unref(e).mode===i.unref(Ki).File]]),i.withDirectives(i.createVNode(Ipe,i.mergeProps({key:"pen",class:"props__pen"},a.$attrs),{struct:i.withCtx(()=>[i.createVNode(op,i.normalizeProps(i.guardReactiveProps(a.$attrs)),null,16)]),_:1},16),[[i.vShow,i.unref(e).mode===i.unref(Ki).Pen]]),i.withDirectives(i.createVNode(Ape,i.mergeProps({key:"pens",class:"props__pens"},a.$attrs),{struct:i.withCtx(()=>[i.createVNode(op,i.normalizeProps(i.guardReactiveProps(a.$attrs)),null,16)]),_:1},16),[[i.vShow,i.unref(e).mode===i.unref(Ki).Pens]])])):i.createCommentVNode("",!0)}}),[["__scopeId","data-v-5839971c"]]),Fpe=[{name:"基本形状",show:!0,list:[{name:"正方形",icon:"l-rect",id:1,data:{width:100,height:100,name:"square"}},{name:"矩形",icon:"l-rectangle",id:2,data:{width:200,height:50,borderRadius:.1,name:"rectangle"}},{name:"圆",icon:"l-circle",id:3,data:{width:100,height:100,name:"circle"}},{name:"三角形",icon:"l-triangle",id:4,data:{width:100,height:100,name:"triangle"}},{name:"菱形",icon:"l-diamond",id:5,data:{width:100,height:100,name:"diamond"}},{name:"五边形",icon:"l-pentagon",id:6,data:{width:100,height:100,name:"pentagon"}},{name:"六边形",icon:"l-hexagon",id:7,data:{width:100,height:100,name:"hexagon"}},{name:"五角星",icon:"l-pentagram",id:8,data:{width:100,height:100,name:"pentagram"}},{name:"左箭头",icon:"l-arrow-left",id:9,data:{width:120,height:60,name:"leftArrow"}},{name:"右箭头",icon:"l-arrow-right",id:10,data:{width:120,height:60,name:"rightArrow"}},{name:"双向箭头",icon:"l-twoway-arrow",id:11,data:{width:150,height:60,name:"twowayArrow"}},{name:"云",icon:"l-cloud",id:13,data:{width:100,height:100,name:"cloud"}},{name:"消息框",icon:"l-msg",id:14,data:{textTop:-.1,width:100,height:100,name:"message"}},{name:"文件",icon:"l-file",id:15,data:{width:80,height:100,name:"file"}},{name:"立方体",icon:"l-cube",id:18,data:{width:60,height:100,name:"cube",z:.25,props:{custom:[{key:"z",label:"Z",type:"number",min:0,placeholder:"<= 1 即宽度的比例"},{key:"backgroundFront",label:"前背景色",type:"color"},{key:"backgroundUp",label:"顶背景色",type:"color"},{key:"backgroundRight",label:"右背景色",type:"color"}]}}},{name:"人",icon:"l-people",id:19,data:{width:70,height:100,name:"people"}},{name:"图片",icon:"l-picture",id:20,data:{width:100,height:100,name:"image",image:"/favicon.ico"}}]},{name:"流程图",show:!1,list:[{name:"开始/结束",icon:"l-flow-start",id:21,data:{text:"开始/结束",width:120,height:40,borderRadius:.5,name:"rectangle"}},{name:"流程",icon:"l-rectangle",id:22,data:{text:"流程",width:120,height:40,name:"rectangle"}},{name:"判定",icon:"l-diamond",id:23,data:{text:"判定",width:120,height:60,name:"diamond"}},{name:"数据",icon:"l-flow-data",id:24,data:{text:"数据",width:120,height:50,name:"flowData",offsetX:.14}},{name:"准备",icon:"l-flow-ready",id:25,data:{text:"准备",width:120,height:50,name:"hexagon"}},{name:"子流程",icon:"l-flow-subprocess",id:26,data:{text:"子流程",width:120,height:50,name:"flowSubprocess"}},{name:"数据库",icon:"l-db",id:27,data:{text:"数据库",width:80,height:120,name:"flowDb"}},{name:"文档",icon:"l-flow-document",id:28,data:{text:"文档",width:120,height:100,name:"flowDocument"}},{name:"内部存储",icon:"l-internal-storage",id:29,data:{text:"内部存储",width:120,height:80,name:"flowInternalStorage"}},{name:"外部存储",icon:"l-extern-storage",id:30,data:{text:"外部存储",width:120,height:80,name:"flowExternStorage"}},{name:"队列",icon:"l-flow-queue",id:31,data:{text:"队列",width:100,height:100,name:"flowQueue"}},{name:"手动输入",icon:"l-flow-manually",id:32,data:{text:"手动输入",width:120,height:80,name:"flowManually"}},{name:"展示",icon:"l-flow-display",id:33,data:{text:"展示",width:120,height:80,name:"flowDisplay"}},{name:"并行模式",icon:"l-flow-parallel",id:34,data:{text:"并行模式",width:120,height:50,name:"flowParallel"}},{name:"注释",icon:"l-flow-comment",id:35,data:{text:"注释",width:100,height:100,name:"flowComment"}}]},{name:"活动图",show:!1,list:[{name:"开始",icon:"l-inital",id:36,data:{text:"",width:30,height:30,name:"circle",background:"#555",lineWidth:0}},{name:"结束",icon:"l-final",id:37,data:{width:30,height:30,name:"activityFinal"}},{name:"活动",icon:"l-action",id:38,data:{text:"活动",width:120,height:50,borderRadius:.25,name:"rectangle"}},{name:"决策/合并",icon:"l-diamond",id:39,data:{text:"决策/合并",width:120,height:50,name:"diamond"}},{name:"垂直泳道",icon:"l-swimlane-v",id:40,data:{text:"垂直泳道",width:200,height:500,name:"swimlaneV",textBaseline:"top",textTop:20,lineTop:.08}},{name:"水平泳道",icon:"l-swimlane-h",id:41,data:{text:"水平泳道",width:500,height:200,name:"swimlaneH",textWidth:.01,textLeft:.04,textAlign:"left",lineLeft:.08}},{name:"垂直分岔/汇合",icon:"l-fork-v",id:42,data:{text:"垂直分岔/汇合",width:10,height:150,name:"forkV",fillStyle:"#555",strokeStyle:"transparent"}},{name:"水平分岔/汇合",icon:"l-fork",id:43,data:{text:"水平分岔/汇合",width:150,height:10,name:"forkH",fillStyle:"#555",strokeStyle:"transparent"}}]},{name:"时序图和类图",show:!1,list:[{name:"生命线",icon:"l-lifeline",id:44,data:{text:"生命线",width:150,height:400,textHeight:50,name:"lifeline"}},{name:"激活",icon:"l-focus",id:45,data:{text:"激活",width:12,height:200,name:"sequenceFocus"}},{name:"简单类",icon:"l-simple-class",id:46,data:{text:"Topolgoy",width:270,height:200,textHeight:200,name:"simpleClass",textAlign:"center",textBaseline:"top",textTop:10,list:[{text:`- name: string
+ setName(name: string): void`}]}},{name:"类",icon:"l-class",id:47,data:{text:"Topolgoy",width:270,height:200,textHeight:200,name:"interfaceClass",textAlign:"center",textBaseline:"top",textTop:10,list:[{text:"- name: string"},{text:"+ setName(name: string): void"}]}}]},{name:"故障树",show:!1,list:[{name:"与门",icon:"l-ANDmen",data:{name:"andGate",width:100,height:150}},{name:"基本事件",icon:"l-jibenshijian",data:{name:"basicEvent",width:100,height:150}},{name:"未展开事件",icon:"l-weizhankaishijian",data:{name:"unexpandedEvent",width:100,height:150}},{name:"优先AND门",icon:"l-youxianANDmen",data:{name:"priorityAndGate",width:100,height:150}},{name:"禁止门",icon:"l-jinzhimen",data:{name:"forbiddenGate",width:100,height:150}},{name:"事件",icon:"l-shijian",data:{name:"event",width:100,height:150}},{name:"开关事件",icon:"l-kaiguanshijian",data:{name:"switchEvent",width:100,height:150}},{name:"条件事件",icon:"l-tiaojianshijian",data:{name:"conditionalEvent",width:150,height:100}},{name:"转移符号",icon:"l-zhuanyifuhao",data:{name:"transferSymbol",width:100,height:150}},{name:"或门",icon:"l-ORmen",data:{name:"orGate",width:100,height:150}},{name:"异或门",icon:"l-yihuomen",data:{name:"xorGate",width:100,height:150}},{name:"表决门",icon:"l-biaojuemen",data:{name:"votingGate",width:100,height:150}}]},{name:"脑图",show:!0,list:[{name:"主题",icon:"l-zhuti",data:{text:"主题",width:200,height:50,name:"mindNode",borderRadius:.5}},{name:"子主题",icon:"l-zizhuti",data:{text:"子主题",width:160,height:40,name:"mindLine"}}]}],Lpe={class:"graphics"},$pe=["onDragstart"],Bpe=["src"],zpe={key:1,class:"l-icon","aria-hidden":"true"},Hpe=["xlink:href"],Wpe=["onDragstart"],Upe=["src"],Kpe={key:1,class:"l-icon","aria-hidden":"true"},Ype=["xlink:href"],qpe=Qn(i.defineComponent({__name:"Graphics",setup(t){const e=i.computed(()=>{const o=[];return tN.forEach(l=>{const s=l.name.split("-");let c="其他";s.length>1&&(c=s[0]);const d=o.find(u=>u.name==c);d?d.children.push(l):o.push({name:c,children:[l]})}),o}),n=[...Fpe,{name:"电路元件分组",show:!0,style:"group",list:e.value},{name:"电路元件组合(包含状态)",show:!0,style:"group",list:Lde}];function a(o,l){if(!o||!l)return;const s=[],c=[o];for(;c.length;){const d=c.shift();s.push(d);for(const u of l)u.parentId==d.id&&c.push(u)}return s}const r=(o,l)=>{var s;if(l){if(o.stopPropagation(),l.icon.endsWith("svg"))if(l.type=="combine-json"){console.log("load json: ",l,Ga);const c=Ga.pens.find(u=>{if(u.description==l.name&&!u.parentId)return!0}),d=a(c,Ga.pens);console.log("combine pens: ",c,d),d&&(l.data=fe(d))}else{ON(l.icon,l);return}console.log("elem: ",l),o instanceof DragEvent?(s=o.dataTransfer)==null||s.setData("Meta2d",JSON.stringify(l.data)):meta2d.canvas.addCaches=[l.data]}};return(o,l)=>{const s=i.resolveComponent("t-tag"),c=i.resolveComponent("t-tooltip"),d=i.resolveComponent("t-collapse-panel"),u=i.resolveComponent("t-collapse");return i.openBlock(),i.createElementBlock("div",Lpe,[i.createVNode(u,{defaultValue:[0,6]},{default:i.withCtx(()=>[(i.openBlock(),i.createElementBlock(i.Fragment,null,i.renderList(n,f=>i.createVNode(d,{header:f.name,key:f.name,class:i.normalizeClass({"has--group":f.style=="group"})},{default:i.withCtx(()=>[f.style==="group"?(i.openBlock(),i.createBlock(u,{key:0,header:f.name},{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(f.list,v=>(i.openBlock(),i.createBlock(d,{class:"is--subpanel",header:v.name},{headerRightContent:i.withCtx(()=>[i.createVNode(s,{theme:"success"},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(v.children.length),1)]),_:2},1024)]),default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(v.children,h=>(i.openBlock(),i.createElementBlock("div",{key:h.name,class:"graphic",draggable:!0,onDragstart:g=>r(g,h)},[i.createVNode(c,{content:h.name},{default:i.withCtx(()=>{var g;return[(g=h.icon)!=null&&g.endsWith("svg")?(i.openBlock(),i.createElementBlock("img",{key:0,src:h.icon,style:{width:"100%",height:"48px"}},null,8,Bpe)):(i.openBlock(),i.createElementBlock("svg",zpe,[i.createElementVNode("use",{"xlink:href":"#"+h.icon},null,8,Hpe)]))]}),_:2},1032,["content"])],40,$pe))),128))]),_:2},1032,["header"]))),256))]),_:2},1032,["header"])):(i.openBlock(!0),i.createElementBlock(i.Fragment,{key:1},i.renderList(f.list,v=>(i.openBlock(),i.createElementBlock("div",{key:v.name,class:"graphic",draggable:!0,onDragstart:h=>r(h,v)},[i.createVNode(c,{content:v.name},{default:i.withCtx(()=>{var h;return[(h=v.icon)!=null&&h.endsWith("svg")?(i.openBlock(),i.createElementBlock("img",{key:0,class:"icon__image",src:v.icon,alt:"",srcset:""},null,8,Upe)):(i.openBlock(),i.createElementBlock("svg",Kpe,[i.createElementVNode("use",{"xlink:href":"#"+v.icon},null,8,Ype)])),i.createElementVNode("p",null,i.toDisplayString(v.name),1)]}),_:2},1032,["content"])],40,Wpe))),128))]),_:2},1032,["header","class"])),64))]),_:1})])}}}),[["__scopeId","data-v-4ad49cf5"]]),Gpe={class:"panel__wrapper"},Xpe={class:"panel__wrapper"},Jpe=Qn(i.defineComponent({__name:"GraphicsManager",props:{},setup(t){const e=[{label:"图纸",value:1,slot:"diagrams",code:"paper"},{label:"内置组件",value:2,slot:"graphics"},{label:"我的组件",value:3,slot:"my-pens",code:"component"}],n=i.ref(2),{blueprintList:a,componentList:r,visible:o,folderName:l,showAddFolder:s,deleteMyPen:c,confirm:d,close:u,selectMode:f,selectType:v,deleteFolder:h,getTree:g,fileName:p,saveImageComponent:m}=Yg(),y=_=>{const A=e.find(E=>E.value===_);if(A&&A.code){const E=A.code;g(E)}},b=i.computed(()=>{let _=[];return v.value=="paper"?_=a.value:_=r.value,_.map(A=>({label:A.dictName,value:A.id}))}),{uploadValue:w,headers:C,sizeLimit:x,handleFail:k}=Gd();let P=null;const I=_=>{console.log("set folder: ",_),P=_},D=_=>{var A,E,R;if(_.response){const F={name:"image",image:_.response.url||((A=_.response.data)==null?void 0:A.fileurl),relativePath:(E=_.response.data)==null?void 0:E.relativePath,fileName:(R=_.response.data)==null?void 0:R.fileName,width:100,height:100,x:100,y:100};m(P,F)}},L=async(_,A)=>{var R;if(!A||!A.data)return;_.stopPropagation();let E;try{typeof A.data=="string"?E=JSON.parse(A.data):typeof A.data=="object"&&(E=A.data)}catch(N){console.log("dragStart error: ",N)}E&&(_ instanceof DragEvent?(R=_.dataTransfer)==null||R.setData("Meta2d",JSON.stringify(E)):meta2d.canvas.addCaches=[E])},O=_=>{console.log("addDiagram: ",_),_.children||(_.children=[]),meta2d.clear(),meta2d.emit("clear")},S=_=>{const A=Ns("warning",{content:"系统可能不会保存您所做的更改，是否继续？",title:"提示",placement:"top-right",duration:0,closeBtn:!0,footer(E){return E("div",{style:"text-align: right"},[E(vt,{onClick:()=>{let R;try{R=JSON.parse(_.data)}catch(N){console.log("open diagram error: ",N)}meta2d.open(R),meta2d.emit("clear"),meta2d.fitView(),A.then(N=>{N.close(),meta2d.render(!0)})}},"确定")])}})};return(_,A)=>{const E=i.resolveComponent("t-icon"),R=i.resolveComponent("t-button"),N=i.resolveComponent("t-tooltip"),F=i.resolveComponent("t-popconfirm"),M=i.resolveComponent("t-image"),$=i.resolveComponent("t-col"),W=i.resolveComponent("t-row"),H=i.resolveComponent("t-empty"),K=i.resolveComponent("t-collapse-panel"),z=i.resolveComponent("t-collapse"),B=i.resolveComponent("t-upload"),q=i.resolveComponent("t-input"),Y=i.resolveComponent("t-select"),X=i.resolveComponent("t-dialog");return i.openBlock(),i.createElementBlock(i.Fragment,null,[i.createVNode(Zd,{modelValue:n.value,"onUpdate:modelValue":A[3]||(A[3]=T=>n.value=T),tabs:e,onChange:y},{graphics:i.withCtx(()=>[i.createVNode(qpe)]),diagrams:i.withCtx(()=>[i.createElementVNode("div",Gpe,[i.createVNode(R,{block:"",variant:"outline",onClick:A[0]||(A[0]=T=>i.unref(s)("paper"))},{default:i.withCtx(()=>[i.createVNode(E,{name:"add",slot:"icon"}),A[8]||(A[8]=i.createTextVNode(" 新建目录 "))]),_:1}),A[9]||(A[9]=i.createElementVNode("br",null,null,-1)),i.unref(a).length?(i.openBlock(),i.createBlock(z,{key:0,defaultExpandAll:""},{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(i.unref(a),T=>(i.openBlock(),i.createBlock(K,{value:T.id,header:T.dictName},{headerRightContent:i.withCtx(()=>[i.createVNode(N,{content:"新建图纸，将清空画布"},{default:i.withCtx(()=>[i.createVNode(R,{size:"small",variant:"outline",style:{marginLeft:"8px"},onClick:j=>O(T)},{default:i.withCtx(()=>[i.createVNode(E,{name:"chart-add"})]),_:2},1032,["onClick"])]),_:2},1024),i.createVNode(N,{content:"删除目录"},{default:i.withCtx(()=>[i.createVNode(F,{theme:"danger",content:"操作后无法恢复, 确定要删除吗?",onConfirm:j=>i.unref(h)(T,"paper")},{default:i.withCtx(()=>[i.createVNode(R,{size:"small",variant:"outline",theme:"danger",style:{marginLeft:"8px"}},{default:i.withCtx(()=>[i.createVNode(E,{name:"delete"})]),_:1})]),_:2},1032,["onConfirm"])]),_:2},1024)]),default:i.withCtx(()=>[T.data.length?(i.openBlock(),i.createBlock(W,{key:0,gutter:[10,10]},{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(T.data,(j,U)=>(i.openBlock(),i.createBlock($,{key:U,span:6,onClick:J=>S(j)},{default:i.withCtx(()=>[i.createVNode(N,{content:"单击打开图纸"},{default:i.withCtx(()=>[i.createVNode(M,{overlayTrigger:"hover",src:j.cover,fit:"contain",style:{width:"100px",height:"100px"}},{overlayContent:i.withCtx(()=>[i.createVNode(F,{theme:"danger",content:"操作后无法恢复, 确定要删除吗?",onConfirm:J=>i.unref(c)(j,"paper")},{default:i.withCtx(()=>[i.createVNode(R,{size:"small",variant:"outline",theme:"danger",style:{float:"right"},onClick:i.withModifiers(()=>null,["stop"])},{default:i.withCtx(()=>[i.createVNode(E,{name:"delete"})]),_:1})]),_:2},1032,["onConfirm"])]),_:2},1032,["src"])]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:2},1024)):(i.openBlock(),i.createBlock(H,{key:1,description:""}))]),_:2},1032,["value","header"]))),256))]),_:1})):(i.openBlock(),i.createBlock(H,{key:1,description:""}))])]),"my-pens":i.withCtx(()=>[i.createElementVNode("div",Xpe,[i.createVNode(R,{block:"",variant:"outline",onClick:A[1]||(A[1]=T=>i.unref(s)("component"))},{default:i.withCtx(()=>[i.createVNode(E,{name:"add",slot:"icon"}),A[10]||(A[10]=i.createTextVNode(" 新建目录 "))]),_:1}),A[11]||(A[11]=i.createElementVNode("br",null,null,-1)),i.unref(r).length?(i.openBlock(),i.createBlock(z,{key:0,defaultExpandAll:""},{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(i.unref(r),T=>(i.openBlock(),i.createBlock(K,{value:T.id,header:T.dictName},{headerRightContent:i.withCtx(()=>[i.createVNode(B,{ref_for:!0,ref:"uploadRef",modelValue:i.unref(w),"onUpdate:modelValue":A[2]||(A[2]=j=>i.isRef(w)?w.value=j:null),action:_.$attrs.uploadUrl||"https://service-bv448zsw-1257786608.gz.apigw.tencentcs.com/api/upload-demo",headers:i.unref(C),sizeLimit:i.unref(x),name:"object",theme:"custom",accept:"image/*",style:{display:"inline-flex"},onFail:i.unref(k),onSuccess:D},{default:i.withCtx(()=>[i.createVNode(N,{content:"请选择单张小于1MB的图片上传"},{default:i.withCtx(()=>[i.createVNode(R,{size:"small",variant:"outline",style:{marginLeft:"8px"},onClick:j=>I(T)},{default:i.withCtx(()=>[i.createVNode(E,{name:"upload"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["modelValue","action","headers","sizeLimit","onFail"]),i.createVNode(N,{content:"删除目录"},{default:i.withCtx(()=>[i.createVNode(F,{theme:"danger",content:"操作后无法恢复, 确定要删除吗?",onConfirm:j=>i.unref(h)(T,"component")},{default:i.withCtx(()=>[i.createVNode(R,{size:"small",variant:"outline",theme:"danger",style:{marginLeft:"8px"}},{default:i.withCtx(()=>[i.createVNode(E,{name:"delete"})]),_:1})]),_:2},1032,["onConfirm"])]),_:2},1024)]),default:i.withCtx(()=>[T.data.length?(i.openBlock(),i.createBlock(W,{key:0,gutter:[10,10]},{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(T.data,(j,U)=>(i.openBlock(),i.createBlock($,{key:U,span:6,draggable:!0,onDragstart:J=>L(J,j)},{default:i.withCtx(()=>[i.createVNode(N,{content:j.name},{default:i.withCtx(()=>[i.createVNode(M,{src:j.cover,overlayTrigger:"hover",fit:"contain",style:{width:"100px",height:"100px"}},{overlayContent:i.withCtx(()=>[i.createVNode(F,{theme:"danger",content:"操作后无法恢复, 确定要删除吗?",onConfirm:J=>i.unref(c)(j,"component")},{default:i.withCtx(()=>[i.createVNode(R,{size:"small",variant:"outline",theme:"danger",style:{float:"right"},onClick:i.withModifiers(()=>null,["stop"])},{default:i.withCtx(()=>[i.createVNode(E,{name:"delete"})]),_:1})]),_:2},1032,["onConfirm"])]),_:2},1032,["src"])]),_:2},1032,["content"])]),_:2},1032,["onDragstart"]))),128))]),_:2},1024)):(i.openBlock(),i.createBlock(H,{key:1}))]),_:2},1032,["value","header"]))),256))]),_:1})):(i.openBlock(),i.createBlock(H,{key:1,description:""}))])]),_:1},8,["modelValue"]),i.createVNode(X,{visible:i.unref(o),"onUpdate:visible":A[7]||(A[7]=T=>i.isRef(o)?o.value=T:null),header:i.unref(f)?"选择目录":"新建目录",onConfirm:i.unref(d),onClosed:i.unref(u)},{default:i.withCtx(()=>[i.unref(f)?(i.openBlock(),i.createElementBlock(i.Fragment,{key:1},[i.createVNode(Y,{modelValue:i.unref(l),"onUpdate:modelValue":A[5]||(A[5]=T=>i.isRef(l)?l.value=T:null),options:b.value},null,8,["modelValue","options"]),A[12]||(A[12]=i.createElementVNode("br",null,null,-1)),i.createVNode(q,{modelValue:i.unref(p),"onUpdate:modelValue":A[6]||(A[6]=T=>i.isRef(p)?p.value=T:null),placeholder:"请输入图纸/组件名称"},null,8,["modelValue"])],64)):(i.openBlock(),i.createBlock(q,{key:0,modelValue:i.unref(l),"onUpdate:modelValue":A[4]||(A[4]=T=>i.isRef(l)?l.value=T:null),placeholder:"请输入目录名称",maxlength:"20",clearable:""},null,8,["modelValue"]))]),_:1},8,["visible","header","onConfirm","onClosed"])],64)}}}),[["__scopeId","data-v-46eee7b7"]]),Zpe={class:"app-page"},Qpe={class:"designer"},Vpe=Object.freeze(Object.defineProperty({__proto__:null,default:Qn(i.defineComponent({__name:"Index",emits:["view","ready"],setup(t,{emit:e}){let n;function a(){n&&clearTimeout(n),n=setTimeout(()=>{const c=meta2d.data();localStorage.setItem("meta2d",JSON.stringify(c)),n=void 0},100)}const r=e,o=c=>{r("view",c)},l=i.ref(!1),s=c=>{r("ready",c),l.value=!0};return i.onMounted(()=>{meta2d.on("scale",a),meta2d.on("add",a),meta2d.on("opened",a),meta2d.on("undo",a),meta2d.on("redo",a),meta2d.on("add",a),meta2d.on("delete",a),meta2d.on("rotatePens",a),meta2d.on("translatePens",a)}),(c,d)=>(i.openBlock(),i.createElementBlock("div",Zpe,[l.value?(i.openBlock(),i.createBlock(Zve,i.mergeProps({key:0},c.$attrs,{onView:o}),null,16)):i.createCommentVNode("",!0),i.createElementVNode("div",Qpe,[i.createVNode(Jpe,i.normalizeProps(i.guardReactiveProps(c.$attrs)),null,16),i.createVNode(HN,i.mergeProps(c.$attrs,{onReady:s}),null,16),l.value?(i.openBlock(),i.createBlock(Mpe,i.normalizeProps(i.mergeProps({key:0},c.$attrs)),null,16)):i.createCommentVNode("",!0)])]))}}),[["__scopeId","data-v-7081acbb"]])},Symbol.toStringTag,{value:"Module"}));function QN(t,e){if(e!=1){const{Name:n,Type:a,Value:r,State:o}=t;if(a==28)return{tag:n,showChild:o||0}}}const eme=()=>{const t=i.ref([]),e=i.ref(0),n=i.computed(()=>t.value[e.value]),a=u=>{if(typeof u=="string"){const f=t.value.findIndex(v=>v.name===u);~f?e.value=f:console.warn("没有这个步骤: ",u)}else if(typeof u=="number"){const f=t.value.length-1;if(f==-1){e.value=0;return}const v=parseInt(u);v>f?(e.value=f,console.warn("指定序号超出上限")):v<0?e.value=0:e.value=u}};return{playList:t,currentStep:e,changePage:a,play:()=>{if(console.log("play: ",n.value),n.value){const{stateList:u,currentStateList:f,privatePropList:v}=n.value;u!=null&&u.length&&u.forEach(h=>{const g=QN(h,0);if(g){if(!g.tag&&!g.id){console.warn("更新参数必须要有标签名或ID：",g);return}meta2d.setValue(g)}}),f!=null&&f.length&&f.forEach(h=>{const g=QN(h,1);if(g){if(!g.tag&&!g.id){console.warn("更新参数必须要有标签名或ID：",g);return}meta2d.setValue(g)}}),v!=null&&v.length&&v.forEach(h=>{if(h){if(!h.id&&!h.tag)return;meta2d.setValue(h)}})}},pause:()=>{},stop:()=>{},replay:()=>{},prev:()=>{a(e.value-1)},next:()=>{a(e.value+1)},currentStepData:n}},tme={class:"app-page is--preview"},nme={key:0,class:"left__panel"},ame={key:0,class:"right__panel"},rme=Object.freeze(Object.defineProperty({__proto__:null,default:Qn(i.defineComponent({__name:"Preview",props:{data:{type:Object},projectTreeData:{type:Array},showStickyTool:{type:Boolean,default:!0},showRightPanel:{type:Boolean,default:!0}},emits:["ready"],setup(t,{emit:e}){const n=e,a=t,r=i.ref(!0),o=i.reactive([{label:"fullscreen",icon:"fullscreen",popup:"全屏",show:()=>r.value},{label:"fit",icon:"rectangle",popup:"适应窗口",show:()=>r.value},{label:"expand",icon:"menu-fold",popup:"展开侧边栏",show:()=>r.value},{label:"collapse",icon:"menu-unfold",popup:"收起侧边栏",show:()=>!r.value}]),l=i.computed(()=>{var C;if(a.projectTreeData)return a.projectTreeData;if((C=globalThis.__meta2d_env__)!=null&&C.projectTreeData)return globalThis.__meta2d_env__.projectTreeData;let w=localStorage.getItem("meta2d");return w?[{label:"默认",value:"",children:[{label:`meta2d.${JSON.parse(w).template}`,value:""}]}]:[]}),s=w=>()=>i.h(Uf,{name:w}),c=w=>{w=="fit"?meta2d.fitView(!0,20):w=="fullscreen"&&kve()},d=({e:w,item:C})=>{C.label=="expand"?r.value=!1:C.label=="collapse"?r.value=!0:c(C.label)},u=({e:w,node:C})=>{console.log("change node: ",C),C.value&&fetch(C.value).then(x=>x.json()).then(x=>{x&&(x.locked=1,meta2d.open(x),meta2d.emit("clear"),meta2d.fitView())}).catch(x=>{console.log("err: ",x)})},f=()=>{meta2d==null||meta2d.resize()},v=()=>{meta2d==null||meta2d.resize()},{playList:h,currentStepData:g,prev:p,next:m,play:y}=eme();h.value=[{name:"page1",description:"text1",privatePropList:[{tag:"Switch",showChild:1},{tag:"L32",lineWidth:2}]},{name:"page2",description:"text2",privatePropList:[{tag:"Switch",showChild:1},{tag:"L32",lineWidth:3}]},{name:"page3",description:"text3",privatePropList:[{tag:"Switch",showChild:1},{tag:"L32",lineWidth:1}]}];const b=w=>{switch(w){case 0:p();break;case 1:m();break;case 2:y();break}};return(w,C)=>{const x=i.resolveComponent("t-icon"),k=i.resolveComponent("t-col"),P=i.resolveComponent("t-row"),I=i.resolveComponent("t-divider"),D=i.resolveComponent("t-tree"),L=i.resolveComponent("t-list-item-meta"),O=i.resolveComponent("t-list-item"),S=i.resolveComponent("t-list"),_=i.resolveComponent("t-empty"),A=i.resolveComponent("t-button"),E=i.resolveComponent("t-space"),R=i.resolveComponent("t-sticky-item"),N=i.resolveComponent("t-sticky-tool");return i.openBlock(),i.createElementBlock("div",tme,[i.createVNode(i.Transition,{name:"sidebar-transition",onAfterLeave:v,onAfterEnter:f},{default:i.withCtx(()=>[r.value?i.createCommentVNode("",!0):(i.openBlock(),i.createElementBlock("div",nme,[i.createVNode(P,{justify:"end"},{default:i.withCtx(()=>[i.createVNode(k,{span:2},{default:i.withCtx(()=>[i.createVNode(x,{name:"fullscreen",size:"large",onClick:C[0]||(C[0]=F=>c("fullscreen"))})]),_:1}),i.createVNode(k,{span:2},{default:i.withCtx(()=>[i.createVNode(x,{name:"rectangle",size:"large",onClick:C[1]||(C[1]=F=>c("fit"))})]),_:1})]),_:1}),i.createVNode(I),i.createVNode(D,{data:l.value,expandAll:"",activable:"",onClick:u},null,8,["data"])]))]),_:1}),i.createVNode(HN,i.mergeProps(w.$attrs,{preview:"",data:t.data,onReady:C[2]||(C[2]=F=>n("ready",F))}),null,16,["data"]),t.showRightPanel?(i.openBlock(),i.createElementBlock("div",ame,[i.renderSlot(w.$slots,"right-panel",{},()=>[i.unref(h).length?(i.openBlock(),i.createBlock(S,{key:0,split:!0},{default:i.withCtx(()=>[i.createVNode(O,null,{default:i.withCtx(()=>{var F;return[i.createVNode(L,{title:"内容",description:(F=i.unref(g))==null?void 0:F.description},null,8,["description"])]}),_:1})]),_:1})):(i.openBlock(),i.createBlock(_,{key:1})),i.createVNode(I),i.createVNode(E,{direction:"vertical",align:"center"},{default:i.withCtx(()=>[i.createVNode(A,{block:"",theme:"primary",variant:"base",onClick:C[3]||(C[3]=F=>b(0))},{default:i.withCtx(()=>C[9]||(C[9]=[i.createTextVNode("上一页")])),_:1}),i.createVNode(A,{block:"",variant:"outline",onClick:C[4]||(C[4]=F=>b(1))},{default:i.withCtx(()=>C[10]||(C[10]=[i.createTextVNode("下一页")])),_:1}),i.createVNode(A,{block:"",variant:"dashed",onClick:C[5]||(C[5]=F=>b(2))},{default:i.withCtx(()=>C[11]||(C[11]=[i.createTextVNode("播放")])),_:1}),i.createVNode(A,{block:"",variant:"text",onClick:C[6]||(C[6]=F=>b(3))},{default:i.withCtx(()=>C[12]||(C[12]=[i.createTextVNode("暂停")])),_:1}),i.createVNode(A,{block:"",variant:"text",onClick:C[7]||(C[7]=F=>b(4))},{default:i.withCtx(()=>C[13]||(C[13]=[i.createTextVNode("停止")])),_:1}),i.createVNode(A,{block:"",variant:"dashed",onClick:C[8]||(C[8]=F=>b(5))},{default:i.withCtx(()=>C[14]||(C[14]=[i.createTextVNode("重播")])),_:1})]),_:1})],!0)])):i.createCommentVNode("",!0),t.showStickyTool?(i.openBlock(),i.createBlock(N,{key:1,type:"compact",placement:"left-bottom",style:{"z-index":"999"},onClick:d},{default:i.withCtx(()=>[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(o,F=>(i.openBlock(),i.createElementBlock(i.Fragment,{key:F.label},[F.show()?(i.openBlock(),i.createBlock(R,{key:0,label:F.label,icon:s(F.icon),popup:F.popup},null,8,["label","icon","popup"])):i.createCommentVNode("",!0)],64))),128))]),_:1})):i.createCommentVNode("",!0)])}}}),[["__scopeId","data-v-2347e0de"]])},Symbol.toStringTag,{value:"Module"}));cn.Meta2DEditorLoader=Hse,cn.Meta2DPreviewLoader=Wse,cn.TDesign=g_,cn.default=Use,Object.defineProperties(cn,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
//# sourceMappingURL=diagram-editor-vue3.umd.js.map
